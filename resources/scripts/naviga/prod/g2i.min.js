/* eslint-disable */
ï»¿/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 195);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Utils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);

var Utils = (function () {
    function Utils() {
    }
    Utils.getStoredLogLevel = function () {
        console.log("getStoredLogLevel");
    };
    Utils.objectArrayToObject = function (arr, keyName, valName) {
        var result = arr.reduce(function (obj, item) {
            obj[item[keyName]] = item[valName];
            return obj;
        }, {});
        return result;
    };
    Utils.objectToArrayDict = function (obj) {
        var result = [];
        if (obj) {
            var entries = this.entries(obj);
            entries.map(function (arr) {
                result.push({ "Key": arr[0], "Value": arr[1] });
            });
        }
        return result;
    };
    Utils.getNestedValueByString = function (str, obj) {
        var _this = this;
        return str.replace(/\[([^\]]+)]/g, ".$1").split(".").reduce(function (o, p) {
            _this.Logger.trace("[getNestedValueByString]", str, obj, o, p);
            return o[p];
        }, obj);
    };
    Utils.ArrayToDictionaryRecursive = function (arr, result, keyArg) {
        var entries = this.entries(arr);
        entries.map(function (arr) {
            if (typeof arr[1] === "object") {
                Utils.ArrayToDictionaryRecursive(arr[1], result, arr[0]);
            }
            else {
                var key = (keyArg) ? keyArg + arr[0] : arr[0];
                result.push({ "Key": key, "Value": arr[1] });
            }
        });
        return result;
    };
    Utils.entries = function (obj) {
        if (!obj)
            return [];
        var ownProps = Object.keys(obj), i = ownProps.length, resArray = new Array(i);
        while (i--)
            resArray[i] = [ownProps[i], obj[ownProps[i]]];
        return resArray;
    };
    Utils.addEventListener = function (queryType, qualifier, event, func) {
        var nodes = document[queryType](qualifier);
        nodes.forEach(function (el) {
            el.addEventListener(event, function (event) {
                func(event);
            });
        });
    };
    Utils.StripHtmlTags = function (htmlString) {
        var result = htmlString.replace(/<\/?[^>]+(>|$)/g, "");
        return result;
    };
    Utils.parseJson = function (json) {
        var retObj = { success: false };
        try {
            if (json != null) {
                retObj.data = JSON.parse(json);
                retObj.success = true;
            }
            return retObj;
        }
        catch (e) {
            this.Logger.warn("Not a valid JSON object.");
            return retObj;
        }
    };
    Utils.stringToBool = function (val) {
        try {
            if (val.toLowerCase() === "true") {
                return true;
            }
            else {
                return false;
            }
        }
        catch (error) {
            console.exception("stringToBool", error);
            return false;
        }
    };
    Utils.toTitleCase = function (str) {
        if (!str) {
            return "";
        }
        return str.toLowerCase().split(" ").map(function (word) {
            return (word.charAt(0).toUpperCase() + word.slice(1));
        }).join(" ");
    };
    Utils.createGUID = function () {
        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {
            var r = parseFloat("0." + Math.random().toString().replace("0.", "") + new Date().getTime()) * 16 | 0, v = c === "x" ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    };
    Utils.getConnextVersion = function () {
        return (window["connextVersion"]) ? window["connextVersion"] : "Unknown";
    };
    Utils.IsGoogleAnalyticsAvail = function () {
        if (window["ga"] && window["ga"]["create"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.IsGTMAvail = function () {
        if (window["google_tag_manager"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.IsAppInsightsAvail = function () {
        if (window["appInsights"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.IsConnextAvail = function () {
        if (window["Connext"]) {
            return true;
        }
        else {
            return false;
        }
    };
    Utils.getVersion = function () {
        return ("1.16.23" || "local");
    };
    ;
    Utils.getVersionBuildInfo = function () {
        return ("V.1.16.23-20210811.1" || "local");
    };
    ;
    Utils.getPageLeaveEventTrigger = function () {
        var originalEventName = "unload";
        if ("onpagehide" in window) {
            originalEventName = "pagehide";
        }
        return originalEventName;
    };
    Utils.getUserPosition = function () {
        return new Promise(function (resolve, reject) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    resolve({
                        Lat: position.coords.latitude,
                        Long: position.coords.longitude
                    });
                }, function () {
                    reject();
                });
            }
            else {
                reject();
            }
        });
    };
    Utils.isEmpty = function (obj) {
        return Object.keys(obj).length === 0;
    };
    Utils.isset = function (value) {
        return !(typeof value === "undefined" || value == null);
    };
    Utils.objectToBigQueryString = function (obj) {
        var str = [];
        if (typeof (obj) === "object" && (obj.join === undefined)) {
            for (var prop in obj) {
                var value = Utils.isset(obj[prop]) ? obj[prop].toString() : "";
                str.push(prop + "=" + value);
            }
            ;
        }
        return str.join(";");
    };
    Utils.getLoaderVersionInfo = function () {
        if (window.MG2Loader) {
            return window.MG2Loader.GetVersionInfo();
        }
        else {
            return "MG2Loader is not defined";
        }
    };
    Utils.getFingerprintVersionInfo = function () {
        if (window.Fingerprint) {
            return window.Fingerprint.GetVersionInfo();
        }
        else {
            return "Fingerprint is not defined";
        }
    };
    Utils.getDemoMode = function () {
        if (window.RecommendationDemo) {
            return window.RecommendationDemo.getActiveRegeneration() === "false";
        }
        else {
            return false;
        }
    };
    Utils.getRandomIntegerInRange = function (min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    Utils.addCustomEventListener = function (element, eventName, callback, options) {
        if (options === void 0) { options = false; }
        var listener = function (e) {
            if (e.type !== eventName) {
                return;
            }
            callback.call(element, e);
        };
        element.addEventListener(eventName, listener, options);
        return listener;
    };
    ;
    Utils.getUrlParamValue = function (paramName, url) {
        if (url === void 0) { url = window.location.href; }
        return new URL(url).searchParams.get(paramName) || "";
    };
    Utils.getEncryptedEmail = function () {
        var paramName = "g2i_eui";
        return Utils.getUrlParamValue(paramName);
    };
    Utils.getRecommendationId = function (url) {
        var paramName = "g2i_rcm";
        return Utils.getUrlParamValue(paramName, url);
    };
    Utils.flatObject = function (src, delimiter) {
        if (delimiter === void 0) { delimiter = ""; }
        var flatObject = {};
        var path = [];
        function dig(src) {
            if (src !== Object(src))
                return flatObject[path.join(delimiter)] = src;
            for (var key in src) {
                path.push(key);
                dig(src[key]);
                path.pop();
            }
        }
        dig(src);
        return flatObject;
    };
    Utils.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Utils");
    Utils.getAttributeOfDomOrParents = function (dom, name) {
        if (dom.hasAttribute(name)) {
            return dom.getAttribute(name);
        }
        else if (dom.parentElement) {
            return this.getAttributeOfDomOrParents(dom.parentElement, name);
        }
        else
            return null;
    };
    Utils.findParentByValueOfAttrbibute = function (dom, name, value) {
        if (dom.hasAttribute(name)) {
            if (dom.getAttribute(name).split(" ").indexOf(value) >= 0) {
                return dom;
            }
            else {
                return this.findParentByValueOfAttrbibute(dom.parentElement, name, value);
            }
        }
        else if (dom.parentElement) {
            return this.findParentByValueOfAttrbibute(dom.parentElement, name, value);
        }
        else
            return null;
    };
    Utils.getParentDomByTagName = function (el, tagName) {
        var fnName = "getParentDomByTagName";
        tagName = tagName.toLowerCase();
        var tagType = el.tagName.toLowerCase();
        if (tagType !== tagName && el.parentElement) {
            return this.getParentDomByTagName(el.parentElement, tagName);
        }
        else if (tagType === tagName) {
            return el;
        }
        else {
            return false;
        }
    };
    Utils.checkForNewsletterSignUpClick = function (clickTarget) {
        if (!clickTarget.hasAttribute("class") || !(clickTarget.getAttribute("class").indexOf("submit") > 0))
            return false;
        var templateElem = this.findParentByValueOfAttrbibute(clickTarget, "class", "Mg2-connext");
        if (templateElem && templateElem.children) {
            var elementChildren = templateElem.children;
            for (var i = 0; i < elementChildren.length; i++) {
                if (elementChildren[i].hasAttribute("data-tmpl-action-name") && elementChildren[i].getAttribute("data-tmpl-action-name") === "Newsletter")
                    return true;
            }
        }
        return false;
    };
    return Utils;
}());



/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__ = __webpack_require__(88);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["c"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_0__LoggerOptions__["d"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__LoggerService__ = __webpack_require__(8);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_1__LoggerService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Logger__ = __webpack_require__(38);
/* unused harmony reexport Logger */





/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConfigModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConfigModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__options_models_OptionsModel__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Config_CommonConfigData__ = __webpack_require__(54);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_services_MetaDataService__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__ = __webpack_require__(13);




var ConfigModuleClass = (function () {
    function ConfigModuleClass() {
        this.metaDataService = __WEBPACK_IMPORTED_MODULE_2__Data_services_MetaDataService__["a" /* MetaDataService */].Instance;
    }
    ConfigModuleClass.prototype.setInitOptions = function (options) {
        this.initOptions = options;
        var clientInitOptions = new __WEBPACK_IMPORTED_MODULE_0__options_models_OptionsModel__["a" /* OptionsModel */](this.initOptions);
        this.initClientDimensions = clientInitOptions.dimensions;
        var customInitOptions = this.findConfiguration(clientInitOptions.layoutCode);
        this.configuration = clientInitOptions.extendModel(customInitOptions);
        document.dispatchEvent(new CustomEvent(__WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].G2IAfterSetInitOptions, { detail: {} }));
    };
    ConfigModuleClass.prototype.getInitConfiguration = function () {
        return this.configuration;
    };
    ConfigModuleClass.prototype.getInitOptions = function () {
        return this.initOptions;
    };
    ConfigModuleClass.prototype.getInitDimensions = function () {
        if (this.initClientDimensions) {
            return this.getEvalDimensionsFrom(this.initClientDimensions);
        }
        else {
            return null;
        }
    };
    ConfigModuleClass.prototype.findConfiguration = function (layoutCode) {
        if (window.g2ExtendInits && window.g2ExtendInits["default"]) {
            if (window.g2ExtendInits["default"] && window.g2ExtendInits[layoutCode]) {
                return Object.assign(window.g2ExtendInits["default"], window.g2ExtendInits[layoutCode]);
            }
            else {
                return window.g2ExtendInits["default"];
            }
        }
        return null;
    };
    ConfigModuleClass.prototype.isAddBotInformation = function () {
        return this.configuration ? this.configuration.detectBot : true;
    };
    ConfigModuleClass.prototype.getCdpApiUrl = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Config_CommonConfigData__["a" /* CommonConfigData */].apiUrl;
    };
    ConfigModuleClass.prototype.getCdpEventsUrl = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Config_CommonConfigData__["a" /* CommonConfigData */].eventsUrl;
    };
    ConfigModuleClass.prototype.getBotMode = function () {
        return this.configuration.detectBot ? this.configuration.detectBot : null;
    };
    ConfigModuleClass.prototype.getCustomDimensions = function () {
        var customClientConfiguration = this.findConfiguration(this.configuration.layoutCode);
        if (customClientConfiguration && customClientConfiguration.dimensions) {
            return this.getEvalDimensionsFrom(customClientConfiguration.dimensions);
        }
        else {
            return null;
        }
    };
    ConfigModuleClass.prototype.getEvalDimensionsFrom = function (dimensions) {
        var clientModel = {};
        for (var property in dimensions) {
            clientModel[property] = this.getValueByPropertyName(dimensions, property);
        }
        return clientModel;
    };
    ConfigModuleClass.prototype.setLayoutCode = function (layoutCode) {
        this.configuration.setLayoutCode(layoutCode);
    };
    ConfigModuleClass.prototype.getClientConfiguration = function () {
        return this.findConfiguration(this.configuration.layoutCode);
    };
    ConfigModuleClass.prototype.getValueByPropertyName = function (dimensions, property) {
        try {
            if (dimensions && dimensions[property]) {
                var cdim = dimensions[property];
                if (typeof cdim === "function") {
                    return cdim.call();
                }
                if (typeof cdim === "string") {
                    var sFunction = eval("(" + cdim + ")");
                    return sFunction.call();
                }
            }
            return null;
        }
        catch (error) {
            console.log(error);
        }
    };
    ConfigModuleClass.prototype.getSiteEnvironment = function () {
        var environment = (this.configuration && this.configuration.environment) ? this.configuration.environment : "Unknown";
        return environment.toUpperCase();
    };
    ConfigModuleClass.prototype.getSiteCode = function () {
        var siteCode = (this.configuration && this.configuration.siteCode) ? this.configuration.siteCode : "Unknown";
        return siteCode.toUpperCase();
    };
    ConfigModuleClass.prototype.getClientCode = function () {
        var clientCode = (this.configuration && this.configuration.clientCode) ? this.configuration.clientCode : "Unknown";
        return clientCode.toUpperCase();
    };
    ConfigModuleClass.prototype.getClientCodeEncode = function () {
        return encodeURIComponent(this.getClientCode());
    };
    ConfigModuleClass.prototype.getSiteCodeEncode = function () {
        return encodeURIComponent(this.getSiteCode());
    };
    return ConfigModuleClass;
}());

var ConfigModule = new ConfigModuleClass();


/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Constants; });
var Constants = (function () {
    function Constants() {
    }
    Constants.preface = "G2I_";
    Constants.cookies = {
        LogLevel: Constants.preface + "logLevel",
        LogEnabled: Constants.preface + "logEnabled",
        FingerPrint: Constants.preface + "fingerPrintId",
        BrowserSessionId: Constants.preface + "browserSessionId"
    };
    Constants.NoErInformation = -1;
    Constants.EventsSources = {
        "G2Insights": "g2i",
        "Connext": "nxt",
        "Panel": "pnl",
        "Widget": "wid"
    };
    return Constants;
}());



/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MetaDataService__ = __webpack_require__(18);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_0__MetaDataService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AzureService__ = __webpack_require__(48);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__AzureService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__UserService__ = __webpack_require__(29);
/* unused harmony reexport UserService */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__TagManagerService__ = __webpack_require__(49);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_3__TagManagerService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__EventService__ = __webpack_require__(34);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return __WEBPACK_IMPORTED_MODULE_4__EventService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__SessionService__ = __webpack_require__(5);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_5__SessionService__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__AppInsightsService__ = __webpack_require__(70);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_6__AppInsightsService__["a"]; });









/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_storages_session_SessionStorage__ = __webpack_require__(69);




var SessionService = (function () {
    function SessionService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("SessionService", "#dfa870");
        this.savedCdpModel = null;
        this.Logger.trace("CTOR");
        this.PageSessionId = __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].createGUID();
        this.sessionStorage = new __WEBPACK_IMPORTED_MODULE_3__Core_storages_session_SessionStorage__["a" /* SessionStorage */]();
        var storedBrowserSessionId = this.sessionStorage.get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.BrowserSessionId);
        this.Logger.trace("CTOR", "storedBrowserSessionId", storedBrowserSessionId);
        if (!storedBrowserSessionId) {
            this.deviceBrowserSessionId = __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].createGUID();
            this.Logger.trace("CTOR", "NO storedBrowserSessionId... New deviceBrowserSessionId", this.deviceBrowserSessionId);
            this.sessionStorage.set(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.BrowserSessionId, this.deviceBrowserSessionId);
        }
        else {
            this.deviceBrowserSessionId = storedBrowserSessionId;
        }
        this.startPageSession = Math.floor(Date.now() / 1000);
    }
    Object.defineProperty(SessionService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new SessionService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    SessionService.prototype.getStartPageSession = function () {
        return this.startPageSession;
    };
    SessionService.prototype.setStartPageSession = function (startPageSession) {
        this.startPageSession = startPageSession;
    };
    SessionService.prototype.saveRequiredData = function (data) {
        if (Array.isArray(data)) {
            this.savedCdpModel = data[0];
        }
        else {
            this.savedCdpModel = data;
        }
    };
    SessionService.prototype.getRequiredData = function () {
        return this.savedCdpModel;
    };
    SessionService.prototype.init = function () {
        this.Logger.debug("Init");
    };
    SessionService.prototype.getDeviceSessionId = function () {
        return this.deviceBrowserSessionId;
    };
    return SessionService;
}());



/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BugTrackUtil; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_botDetection_BotDetector__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Data_services_SessionService__ = __webpack_require__(5);




var BugTrackUtil = (function () {
    function BugTrackUtil() {
    }
    BugTrackUtil.addBotInfoHeader = function (options, header) {
        if (options === void 0) { options = {}; }
        if (header === void 0) { header = "botinfo"; }
        var botDetector = new __WEBPACK_IMPORTED_MODULE_0__Modules_botDetection_BotDetector__["a" /* BotDetector */]();
        var detectBot = botDetector.getDetectBot();
        options.headers = options.headers || {};
        if (detectBot) {
            options.headers[header] = JSON.stringify(detectBot);
        }
        return options;
    };
    BugTrackUtil.addInitSettingsHeader = function (options, header) {
        if (options === void 0) { options = {}; }
        if (header === void 0) { header = "initsettings"; }
        options.headers = options.headers || {};
        if (__WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode().toLowerCase() === "unknown") {
            var config = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitConfiguration();
            var dimensions = Object.keys(config.dimensions);
            options.headers[header] = JSON.stringify({
                loaderInfo: __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].getLoaderVersionInfo(),
                initOptions: JSON.stringify(__WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitOptions()).substring(0, 1000),
                configuration: JSON.stringify(Object.assign({}, config, { dimensions: dimensions })).substring(0, 1000)
            });
        }
        return options;
    };
    BugTrackUtil.getBeaconRequestUrlParam = function (model) {
        var log = this.getUserReqLog();
        log += this.getHttpNotJson();
        log += this.getStorageProlongation();
        log += this.getG2iUnlinking();
        log += this.getResendRegeneration();
        log += this.getRegenerationQueue();
        log += this.getApiDlStatus(false);
        log = encodeURIComponent(log.substring(0, 2000));
        return "g2i-reqid=" + log;
    };
    BugTrackUtil.addFetchEventsLogHeader = function (options, header) {
        if (options === void 0) { options = {}; }
        if (header === void 0) { header = "g2i-reqid"; }
        options.headers = options.headers || {};
        var log = this.getUserReqLog();
        log += this.getHttpNotJson();
        log += this.getStorageProlongation();
        log += this.getG2iUnlinking();
        log += this.getResendRegeneration();
        log += this.getRegenerationQueue();
        log += this.getApiDlStatus(false);
        options.headers[header] = log;
        return options;
    };
    BugTrackUtil.addFetchLogHeader = function (headers, fetchURL, g2iReqIdHeader) {
        if (g2iReqIdHeader === void 0) { g2iReqIdHeader = "g2i-reqid"; }
        if (!headers.has(g2iReqIdHeader)) {
            var guid = __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].createGUID();
            var psid = __WEBPACK_IMPORTED_MODULE_3__Data_services_SessionService__["a" /* SessionService */].Instance.PageSessionId;
            var log = "id=" + guid + ",time=" + Date.now() + ",psid:" + psid;
            headers.append(g2iReqIdHeader, log);
            var status_1 = "bef-fet:path=" + fetchURL.pathname + "+id=" + guid;
            BugTrackUtil.addApiDlStatus(status_1);
        }
    };
    BugTrackUtil.logEventFire = function (eventModel, isValid, firedEvents) {
        this.eventsFired++;
        if (this.isNeedCollect || !isValid || firedEvents.length) {
            this.isNeedCollect = true;
            this.eventsLog += "***FIRED***iv:" + isValid + ",fel:" + firedEvents.length + ",data:" + this.getEventModelData([eventModel]);
        }
    };
    BugTrackUtil.logSendEvent = function (eventModels, options) {
        this.eventsLog += "***REP:" + ((options === null || options === void 0 ? void 0 : options.IsResend) || false) + ",PSID:" + __WEBPACK_IMPORTED_MODULE_3__Data_services_SessionService__["a" /* SessionService */].Instance.PageSessionId + "***";
        this.eventsSended++;
        if (this.isNeedCollect || eventModels.length > 1 || this.eventsFired !== this.eventsSended) {
            this.isNeedCollect = true;
            this.eventsLog += "***SEND***ef/es:" + this.eventsFired + "/" + this.eventsSended + ",data:" + this.getEventModelData(eventModels);
        }
    };
    BugTrackUtil.logPreventDuplicate = function (eventId) {
        this.eventsLog += "***STOP_DUPL:" + eventId + "***";
    };
    BugTrackUtil.getEventModelData = function (eventModels) {
        var result = "";
        eventModels.forEach(function (model) {
            var data = {
                Id: model.Id,
                ET: model.EventType,
                DId: model.DeviceId
            };
            result += JSON.stringify(data);
        });
        return result;
    };
    BugTrackUtil.getEvetnLog = function () {
        var log = this.logCount++ + "|" + __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].createGUID() + "|" + __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].createGUID() + "|" + new Date().valueOf();
        if (this.eventsLog.length) {
            log += "|" + this.eventsLog.substring(0, 1000);
        }
        return log;
    };
    BugTrackUtil.addEventsCall = function (data, status) {
        if (!data)
            return;
        var key = this.logPrefix + data.Id;
        try {
            var existValue = localStorage.getItem(key);
            if (existValue) {
                status = existValue + " " + status;
            }
            localStorage.setItem(key, status);
        }
        catch (e) { }
    };
    BugTrackUtil.getEventsCall = function () {
        return this.failedEventsLog;
    };
    BugTrackUtil.createEventsCall = function () {
        var _this = this;
        var log = "";
        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix); })
            .forEach(function (key) {
            try {
                var value = localStorage.getItem(key);
                if (value.indexOf("RESOLVE_SUCCESS") === -1) {
                    log += "key:" + key + ",value:" + value;
                }
            }
            catch (e) { }
        });
        if (log) {
            log = "|***FAILED_EVENTS***" + log.substring(0, 1000);
        }
        this.cleanEventsCall();
        this.failedEventsLog = log;
    };
    BugTrackUtil.createEventCall = function (eventId) {
        var _this = this;
        var log = "***BEACON***";
        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix) && key.indexOf(eventId) !== -1; })
            .forEach(function (key) {
            try {
                log += localStorage.getItem(key) + "|";
            }
            catch (e) { }
        });
        return log;
    };
    BugTrackUtil.cleanEventsCall = function () {
        var _this = this;
        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix); })
            .forEach(function (key) {
            try {
                localStorage.removeItem(key);
            }
            catch (e) { }
        });
    };
    BugTrackUtil.addExistingGuidLog = function (existingGuid) {
        this.guidLog += existingGuid + "|";
    };
    BugTrackUtil.getGuidLog = function () {
        var log = "";
        if (this.guidLog.length) {
            log += "***GUID_LOG***|" + this.guidLog.substr(-180);
        }
        return log;
    };
    BugTrackUtil.addRepeatDelay = function (delay) {
        this.guidLog += "*DELAY:" + delay + "*";
    };
    BugTrackUtil.addUserReqAllowedSend = function () {
        this.userReqAllowedSend = true;
    };
    BugTrackUtil.addUserReqReasons = function (reason) {
        var result = reason;
        if (this.userReqReasons) {
            this.userReqReasons += ",";
        }
        this.userReqReasons += result;
    };
    BugTrackUtil.addUserErReqid = function (reqId) {
        if (!reqId) {
            reqId = "empty";
        }
        if (this.userErReqids) {
            this.userErReqids += ",";
        }
        this.userErReqids += reqId;
    };
    BugTrackUtil.addUserReqErExpireDate = function (er_expire_date) {
        var result = er_expire_date ? er_expire_date + "" : "empty";
        if (this.userReqErExpireDates) {
            this.userReqErExpireDates += ",";
        }
        this.userReqErExpireDates += result;
    };
    BugTrackUtil.getUserReqLog = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (!this.userReqAllowedSend) {
            return result;
        }
        if (this.userReqReasons) {
            result = "USER_REQ:rs-" + this.userReqReasons + "*dt-" + this.userReqErExpireDates + "*id-" + this.userErReqids + "|";
        }
        if (clear) {
            this.userReqReasons = "";
            this.userReqErExpireDates = "";
            this.userErReqids = "";
            this.userReqAllowedSend = false;
        }
        return result;
    };
    BugTrackUtil.addHttpNotJson = function (text) {
        this.httpRespNotJson = text;
    };
    BugTrackUtil.getHttpNotJson = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (this.httpRespNotJson) {
            result = "HTTP_NOT_JSON:" + this.httpRespNotJson.substring(0, 180) + "|";
        }
        if (clear) {
            this.httpRespNotJson = "";
        }
        return result;
    };
    BugTrackUtil.addStorageProlongation = function (currentTimestamp, updatedTimestamp, regenerateJson) {
        this.storageProlongation = "old_time-" + currentTimestamp + "*new_time-" + updatedTimestamp + "*json-" + JSON.stringify(regenerateJson);
    };
    BugTrackUtil.getStorageProlongation = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (this.storageProlongation) {
            result = "STORE_PROLONG:" + this.storageProlongation + "|";
        }
        if (clear) {
            this.storageProlongation = "";
        }
        return result;
    };
    BugTrackUtil.addG2iUnlinking = function (currentG2i, updatedG2i, deviceId, data) {
        var obj = "";
        if (updatedG2i && updatedG2i !== "undefined") {
            obj = "valid";
        }
        else {
            try {
                obj = (data ? JSON.stringify(data) : String(data)).substring(0, 200);
            }
            catch (ex) {
                obj = "parse_error";
            }
        }
        this.g2iUnlinking = "g2i-old-" + currentG2i + "*g2i-new-" + updatedG2i + "*did-" + deviceId + "*obj-" + obj;
    };
    BugTrackUtil.getG2iUnlinking = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (this.g2iUnlinking) {
            result = "G2I_UNLINK:" + this.g2iUnlinking + "|";
        }
        if (clear) {
            this.g2iUnlinking = "";
        }
        return result;
    };
    BugTrackUtil.addResendRegenerationStatus = function (status, regeneration) {
        this.resendRegeneration = "status-" + status + "*data-" + JSON.stringify(regeneration);
    };
    BugTrackUtil.getResendRegeneration = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (this.resendRegeneration) {
            result = "RGNRT_RESEND:" + this.resendRegeneration + "|";
        }
        if (clear) {
            this.resendRegeneration = "";
        }
        return result;
    };
    BugTrackUtil.addRegenerationQueue = function (queue) {
        this.regenerationQueue = "queue-" + JSON.stringify(queue);
    };
    BugTrackUtil.getRegenerationQueue = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (this.regenerationQueue) {
            result = "RGNRT_RESEND:" + this.regenerationQueue + "|";
        }
        if (clear) {
            this.regenerationQueue = "";
        }
        return result;
    };
    BugTrackUtil.addErStatus = function (status) {
        if (this.er_status[this.er_status.length - 1] !== status) {
            this.er_status.push(status);
            this.addApiDlStatus(status);
        }
    };
    BugTrackUtil.addG2iStatus = function (status) {
        if (this.g2i_status[this.g2i_status.length - 1] !== status) {
            this.g2i_status.push(status);
            this.addApiDlStatus(status);
        }
    };
    BugTrackUtil.addApiDlStatus = function (status) {
        this.apidl_status_history.push(status);
    };
    BugTrackUtil.getApiDlStatus = function (clear) {
        if (clear === void 0) { clear = true; }
        var result = "";
        if (this.apidl_status_history) {
            result = "APIDL_STATUS:" + this.apidl_status_history.join(",") + "|";
        }
        if (clear) {
            this.apidl_status_history = [];
        }
        return result;
    };
    BugTrackUtil.eventsLog = "";
    BugTrackUtil.eventsFired = 0;
    BugTrackUtil.eventsSended = 0;
    BugTrackUtil.isNeedCollect = false;
    BugTrackUtil.logPrefix = "FailedEventLog_";
    BugTrackUtil.guidLog = "";
    BugTrackUtil.logCount = 0;
    BugTrackUtil.userReqReasons = "";
    BugTrackUtil.userReqErExpireDates = "";
    BugTrackUtil.userErReqids = "";
    BugTrackUtil.userReqAllowedSend = false;
    BugTrackUtil.httpRespNotJson = "";
    BugTrackUtil.storageProlongation = "";
    BugTrackUtil.g2iUnlinking = "";
    BugTrackUtil.resendRegeneration = "";
    BugTrackUtil.regenerationQueue = "";
    BugTrackUtil.er_status = [];
    BugTrackUtil.g2i_status = [];
    BugTrackUtil.apidl_status_history = [];
    return BugTrackUtil;
}());



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CdpModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ErInterpretation__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__UserInterests__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Recomendations__ = __webpack_require__(74);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Core_storages_http_Http__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Utils_BugTrackUtil__ = __webpack_require__(6);









var CdpModuleClass = (function () {
    function CdpModuleClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("CdpModule");
    }
    CdpModuleClass.prototype.setDlInformation = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
            _this.Logger.debug("DeviceId", deviceId);
            return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].setInformation(deviceId);
        });
    };
    CdpModuleClass.prototype.setDlCollectedInformation = function (apiDlData) {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
            _this.Logger.debug("DeviceId", deviceId);
            return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].handleCdpDlResponce(apiDlData, deviceId);
        });
    };
    CdpModuleClass.prototype.getDlInformation = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (deviceId) {
            _this.Logger.debug("DeviceId", deviceId);
            return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getCdpDl(deviceId);
        });
    };
    CdpModuleClass.prototype.updateDeviceIdInCdpDlStorage = function (deviceId) {
        __WEBPACK_IMPORTED_MODULE_8__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_update_ls=" + deviceId);
        __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].updateDeviceIdInCdpDlStorage(deviceId);
    };
    CdpModuleClass.prototype.getErCode = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getEr();
    };
    CdpModuleClass.prototype.getErpCode = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getErp();
    };
    CdpModuleClass.prototype.getCrCode = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getCr();
    };
    CdpModuleClass.prototype.getCrpCode = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getCrp();
    };
    CdpModuleClass.prototype.getDeviceIdFromStorage = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getDeviceIdFromStorage();
    };
    CdpModuleClass.prototype.getErInterpretation = function () {
        return __WEBPACK_IMPORTED_MODULE_2__ErInterpretation__["a" /* ErInterpretation */].setInformation();
    };
    CdpModuleClass.prototype.getUserInterestsStats = function () {
        return __WEBPACK_IMPORTED_MODULE_3__UserInterests__["a" /* UserInterests */].getDebugData();
    };
    CdpModuleClass.prototype.getApiVersion = function () {
        var sendUrl = __WEBPACK_IMPORTED_MODULE_5__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpApiUrl() + "version";
        var request = new __WEBPACK_IMPORTED_MODULE_7__Core_storages_http_Http__["a" /* Http */]();
        return request.get(sendUrl);
    };
    CdpModuleClass.prototype.getRecommendations = function () {
        return __WEBPACK_IMPORTED_MODULE_6__Recomendations__["a" /* Recommendations */].getListArticles();
    };
    CdpModuleClass.prototype.getRecommendationsStats = function () {
        return __WEBPACK_IMPORTED_MODULE_6__Recomendations__["a" /* Recommendations */].getArticlesWithCategories();
    };
    CdpModuleClass.prototype.getG2iDeviceId = function () {
        return __WEBPACK_IMPORTED_MODULE_0__CdpDataLayer__["a" /* CdpDataLayer */].getG2iDeviceId();
    };
    return CdpModuleClass;
}());

var CdpModule = new CdpModuleClass();


/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export LoggerServiceSingleton */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoggerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Logger__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__ = __webpack_require__(33);




var LoggerServiceSingleton = (function () {
    function LoggerServiceSingleton() {
        this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug;
        this._logEnabled = false;
    }
    Object.defineProperty(LoggerServiceSingleton, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new LoggerServiceSingleton();
                this.instance._loggers = new Map();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    LoggerServiceSingleton.prototype.createLogger = function (name, style) {
        if (__WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogLevel)) {
            this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["c" /* LogLevels */].FromString(__WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogLevel));
        }
        ;
        var logEnabled = __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].get(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogEnabled);
        if (typeof logEnabled === "string") {
            if (logEnabled.toLowerCase() === "true") {
                this._logEnabled = true;
            }
            else {
                this._logEnabled = false;
            }
        }
        ;
        var logger = new __WEBPACK_IMPORTED_MODULE_1__Logger__["a" /* Logger */](name, this._logEnabled, this._logLevel, style);
        this._loggers.set(name, logger);
        return logger;
    };
    LoggerServiceSingleton.prototype.setEnabled = function (val) {
        console.log("LOGGER SERVICE.setEnabled", val);
        this._logEnabled = val;
        __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogEnabled, val.toString());
        this._loggers.forEach(function (logger, key, map) {
            logger.setEnabled(val);
        });
    };
    LoggerServiceSingleton.prototype.setLevel = function (strLogLevel) {
        try {
            console.log("LOGGER SERVICE.setLevel", strLogLevel);
            __WEBPACK_IMPORTED_MODULE_3__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(__WEBPACK_IMPORTED_MODULE_2__core_constants_Constants__["a" /* Constants */].cookies.LogLevel, strLogLevel);
            this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["c" /* LogLevels */].FromString(strLogLevel);
            this._loggers.forEach(function (value, key, map) {
                value.setLogLevel(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["c" /* LogLevels */].FromString(strLogLevel));
            });
        }
        catch (e) {
            console.error(e.message);
        }
    };
    return LoggerServiceSingleton;
}());

var LoggerService = LoggerServiceSingleton.Instance;


/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var SpEvent = (function (_super) {
    __extends(SpEvent, _super);
    function SpEvent() {
        var _this = _super.call(this) || this;
        _this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        return _this;
    }
    SpEvent.prototype.listen = function () {
        var _this = this;
        this.Logger.trace("Registering SP EventListener", "event");
        try {
            if (this.originalEventNames && this.originalEventNames.length > 0) {
                this.originalEventNames.forEach(function (eventName, key) {
                    _this.listenEvent(eventName);
                });
            }
            else {
                if (this.originalEventName) {
                    this.listenEvent(this.originalEventName);
                }
                else {
                    this.Logger.error("No event Name in Object");
                }
            }
        }
        catch (e) {
            this.Logger.error("addSPCollectorEventListener.Error", e);
        }
    };
    SpEvent.prototype.listenEvent = function (eventName) {
        var _this = this;
        this.Logger.trace("Registering SP EventListener", "event", eventName);
        try {
            ko.postbox.subscribe(eventName, function (data) {
                _this.processEventData(eventName, data);
            });
        }
        catch (e) {
            this.Logger.error("addSPCollectorEventListener.Error", e);
        }
    };
    SpEvent.prototype.processEventData = function (eventName, data) {
        this.Logger.debug("Firing", eventName, "data", data);
        this.clearPreviousData();
        this.originalEventData = data;
        this.currentEventName = eventName;
        __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(this);
    };
    SpEvent.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__["a" /* Constants */].EventsSources.Panel;
        this.addPanelVersionInfo();
        return new __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__["a" /* CdpEventModel */](this.eventModel);
    };
    SpEvent.prototype.addPanelVersionInfo = function () {
        var panelConfig = window.config;
        var panelVersion = panelConfig && panelConfig.BuildInfo ? panelConfig.BuildInfo.Version : 'Unknown';
        this.eventModel.EventData.push({ Key: "SourceVersion", Value: panelVersion });
    };
    return SpEvent;
}(__WEBPACK_IMPORTED_MODULE_1__CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextGtmTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GtmTagEvent__ = __webpack_require__(62);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ConnextGtmTagEvent = (function (_super) {
    __extends(ConnextGtmTagEvent, _super);
    function ConnextGtmTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.filterFunction = function () { return true; };
        return _this;
    }
    ConnextGtmTagEvent.prototype.listen = function () {
        var _this = this;
        try {
            if (this.originalEventName) {
                __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, this.originalEventName, function (e) {
                    var needContinue = _this.filterFunction.call(_this, e);
                    if (!needContinue)
                        return;
                    _this.setOriginalEventData(e.detail);
                    _this.sendTagToAnalitcs();
                });
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return ConnextGtmTagEvent;
}(__WEBPACK_IMPORTED_MODULE_1__GtmTagEvent__["a" /* GtmTagEvent */]));



/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HttpService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__core_storages_http_Http__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_deviceModule_DeviceModule__ = __webpack_require__(26);



var HttpServiceClass = (function () {
    function HttpServiceClass() {
        this.http = new __WEBPACK_IMPORTED_MODULE_0__core_storages_http_Http__["a" /* Http */]();
    }
    HttpServiceClass.prototype.get = function (url, payload, options, apiPath) {
        var _this = this;
        if (payload === void 0) { payload = {}; }
        if (options === void 0) { options = {}; }
        return __WEBPACK_IMPORTED_MODULE_2__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].getDeviceIdToApi().then(function (deviceId) {
            payload["deviceid"] = deviceId;
            return _this.call("get", url, payload, options, apiPath);
        });
    };
    HttpServiceClass.prototype.post = function (url, payload, options, apiPath) {
        if (options === void 0) { options = {}; }
        return this.call("post", url, payload, options, apiPath);
    };
    HttpServiceClass.prototype.call = function (method, url, payload, options, apiPath) {
        if (options === void 0) { options = {}; }
        this.API_PATH = apiPath || __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpApiUrl();
        options.headers = options.headers || {};
        options.headers["Site-Code"] = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        options.headers["Client-Code"] = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        return this.http[method](this.API_PATH + url, payload, options);
    };
    return HttpServiceClass;
}());
var HttpService = new HttpServiceClass();


/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DeviceDetectorClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceDetector; });
var UserAgentRules = [
    ["Aol", /AOLShield\/([0-9\._]+)/],
    ["Edge", /Edge\/([0-9\._]+)/],
    ["Yandexbrowser", /YaBrowser\/([0-9\._]+)/],
    ["Vivaldi", /Vivaldi\/([0-9\.]+)/],
    ["Kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
    ["Samsung", /SamsungBrowser\/([0-9\.]+)/],
    ["Silk", /\bSilk\/([0-9._-]+)\b/],
    ["Miui", /MiuiBrowser\/([0-9\.]+)$/],
    ["Beaker", /BeakerBrowser\/([0-9\.]+)/],
    ["Edge-chromium", /Edg\/([0-9\.]+)/],
    ["Chromium-webview", /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["Chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ["Phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ["Crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
    ["Firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
    ["Fxios", /FxiOS\/([0-9\.]+)/],
    ["Opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
    ["Opera", /Opera\/([0-9\.]+)(?:\s|$)/],
    ["Opera", /OPR\/([0-9\.]+)(:?\s|$)/],
    ["IE", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ["IE", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ["IE", /MSIE\s(7\.0)/],
    ["Bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ["UCBrowser", /(?:UCWEB|UCBrowser\/)([\d\.]+)/],
    ["Android", /Android\s([0-9\.]+)/],
    ["Ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ["Safari", /Version\/([0-9\._]+).*Safari/],
    ["Facebook", /FBAV\/([0-9\.]+)/],
    ["Instagram", /Instagram\s([0-9\.]+)/],
    ["Ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
    ["Ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/]
];
var OperatingSystemRules = [
    ["iOS", /iP(hone|od|ad)/],
    ["Android OS", /Android/],
    ["BlackBerry OS", /BlackBerry|BB10/],
    ["Windows Mobile", /IEMobile/],
    ["Amazon OS", /Kindle/],
    ["Windows 3.11", /Win16/],
    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
    ["Windows 98", /(Windows 98)|(Win98)/],
    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
    ["Windows Server 2003", /(Windows NT 5.2)/],
    ["Windows Vista", /(Windows NT 6.0)/],
    ["Windows 7", /(Windows NT 6.1)/],
    ["Windows 8", /(Windows NT 6.2)/],
    ["Windows 8.1", /(Windows NT 6.3)/],
    ["Windows 10", /(Windows NT 10.0)/],
    ["Windows ME", /Windows ME/],
    ["Open BSD", /OpenBSD/],
    ["Sun OS", /SunOS/],
    ["Chrome OS", /CrOS/],
    ["Linux", /(Linux)|(X11)/],
    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
    ["QNX", /QNX/],
    ["BeOS", /BeOS/],
    ["OS/2", /OS\/2/]
];
var DeviceDetectorClass = (function () {
    function DeviceDetectorClass() {
        this.calculateDeviceId = null;
        this.initPromise = null;
        this.userAgent = navigator.userAgent;
    }
    DeviceDetectorClass.prototype.setUserAgent = function (userAgent) {
        this.userAgent = userAgent;
    };
    DeviceDetectorClass.prototype.isHasLeavePageProblems = function () {
        if (window.DeviceDetector) {
            var browserName = this.getBrowser() ? window.DeviceDetector.Device.browser.name.toLowerCase() : "";
            var chromeProblem = browserName === "chrome" && parseInt(this.getBrowserVersion()) >= 80;
            var operaProblem = browserName === "opera" && parseInt(this.getBrowserVersion()) >= 67;
            return chromeProblem || operaProblem;
        }
        else {
            return false;
        }
    };
    DeviceDetectorClass.prototype.getBrowserVersion = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.browser) {
            return window.DeviceDetector.Device.browser.version;
        }
        return null;
    };
    DeviceDetectorClass.prototype.getBrowser = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.browser) {
            return window.DeviceDetector.Device.browser.name;
        }
        for (var browserIndex = 0; browserIndex < UserAgentRules.length; browserIndex++) {
            if (new RegExp(UserAgentRules[browserIndex][1]).test(this.userAgent)) {
                return UserAgentRules[browserIndex][0];
            }
        }
        return null;
    };
    DeviceDetectorClass.prototype.getOs = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.os) {
            return window.DeviceDetector.Device.os.name + " " + (window.DeviceDetector.Device.os.version || "");
        }
        for (var osIndex = 0; osIndex < OperatingSystemRules.length; osIndex++) {
            if (new RegExp(OperatingSystemRules[osIndex][1]).test(this.userAgent)) {
                return OperatingSystemRules[osIndex][0];
            }
        }
        return null;
    };
    DeviceDetectorClass.prototype.isMobile = function () {
        var mobileRE = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;
        return mobileRE.test(this.userAgent);
    };
    DeviceDetectorClass.prototype.getDeviceType = function () {
        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.platform) {
            return window.DeviceDetector.Device.platform.type;
        }
        if (this.isMobile()) {
            return "Mobile";
        }
        else {
            var tabletRE = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;
            if (tabletRE.test(this.userAgent)) {
                return "Tablet";
            }
        }
        return "Desktop";
    };
    DeviceDetectorClass.prototype.getMetaData = function () {
        return {
            Browser: this.getBrowser(),
            OS: this.getOs(),
            DeviceType: this.getDeviceType(),
            URL: window.location.href
        };
    };
    DeviceDetectorClass.prototype.initDeviceId = function (mockOldIfNeed) {
        var _this = this;
        if (!this.initPromise) {
            this.initPromise = this.getDeviceIdFromFP()
                .then(function (deviceId) {
                _this._setCalculatedDeviceId(deviceId);
                return deviceId;
            }).catch(function () {
                return Promise.resolve(null);
            }).then(function (deviceId) {
                return mockOldIfNeed(deviceId);
            }).then(function (maybeMockedValue) {
                _this._setCalculatedDeviceId(maybeMockedValue);
                return maybeMockedValue;
            });
        }
        return this.initPromise;
    };
    DeviceDetectorClass.prototype.getDeviceId = function () {
        var _this = this;
        return this.initPromise.then(function () { return _this.calculateDeviceId; });
    };
    DeviceDetectorClass.prototype.getDeviceIdFromFP = function () {
        var fingerPrint = window.Fingerprint;
        if (fingerPrint && typeof fingerPrint.getDeviceID === "function") {
            return window.Fingerprint.getDeviceID();
        }
        else {
            return this.getDeviceIdFromOldVersionFP();
        }
    };
    DeviceDetectorClass.prototype.getDeviceIdFromOldVersionFP = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.calculateDeviceId) {
                resolve(_this.calculateDeviceId);
                return;
            }
            var fpInterval = setInterval(function () {
                var fingerPrint = _this.getFingerPrintAccess();
                if (fingerPrint) {
                    var deviceId = fingerPrint.getDeviceId();
                    if (deviceId) {
                        _this.calculateDeviceId = deviceId;
                        clearInterval(fpInterval);
                        resolve(deviceId);
                        return;
                    }
                }
            }, 100);
            setTimeout(function () {
                if (!_this.calculateDeviceId) {
                    clearInterval(fpInterval);
                    console.warn("FP is not available or can not calculate deviceId");
                    reject();
                }
            }, 3500);
        });
    };
    DeviceDetectorClass.prototype.getFingerPrintAccess = function () {
        if (window.Fprinting) {
            return window.Fprinting();
        }
        if (window.Fingerprint) {
            return window.Fingerprint;
        }
    };
    DeviceDetectorClass.prototype.getCalculatedDeviceId = function () {
        return this.calculateDeviceId;
    };
    DeviceDetectorClass.prototype._setCalculatedDeviceId = function (calculateDeviceId) {
        this.calculateDeviceId = calculateDeviceId;
    };
    DeviceDetectorClass.prototype.setCalculatedDeviceId = function (calculateDeviceId) {
        this._setCalculatedDeviceId(calculateDeviceId);
    };
    return DeviceDetectorClass;
}());

var DeviceDetector = new DeviceDetectorClass();


/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PluginInnerEvents; });
var PluginInnerEvents = {
    DlCdpGetSuccess: "g2iDlFinished",
    DlCdpGetFail: "g2iDlError",
    GetInterestsStats: "g2iDInterestsStatsFinished",
    GetInterestsStatsError: "g2iDInterestsStatsError",
    GetErInterpretation: "onG2ISetErInterpretation",
    GetErInterpretationError: "onG2IErrorSetErInterpretation",
    DlRecommendationsFinished: "g2iDlRecommendationsFinished",
    DlRecommendationsError: "g2iDlRecommendationsError",
    DlRecommendationsStatsFinished: "g2iDlRecommendationsStatsFinished",
    DlRecommendationsStatsError: "g2iDlRecommendationsStatsError",
    InnerClick: "onInnerClick",
    RegenererationResendSuccess: "g2iRegenererationResendSuccess",
    G2IAfterSetInitOptions: "g2iAfterSetInitOptions"
};


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CdpEventsManagerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpEventsManager; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Data_services_FailedEventService__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__ = __webpack_require__(2);







var CdpEventsManagerClass = (function () {
    function CdpEventsManagerClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("CdpModule");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        this.CollectMetaTags = false;
        this.firedEvents = [];
        this.sendEventsDelay = 0;
        this.isClosePageFlag = false;
        this.lastSendedIds = [];
        this.needExcludeOptionalFields = false;
    }
    CdpEventsManagerClass.prototype.setClosePageFlag = function (closeFlag) {
        this.isClosePageFlag = closeFlag;
    };
    CdpEventsManagerClass.prototype.getClosePageFlag = function () {
        return this.isClosePageFlag;
    };
    CdpEventsManagerClass.prototype.sentQueryEvents = function (updatedData) {
        var _this = this;
        if (this.firedEvents.length > 0) {
            this.firedEvents.forEach(function (firedEvent) {
                firedEvent.updateEventModel();
                firedEvent.updateEventData();
                firedEvent.updateRequiredFields(updatedData);
                var firedData = firedEvent.getCalculateModel();
                __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__["a" /* DataCollector */].addEventInCollector(firedEvent);
                _this.sendEvent(firedData, firedEvent.getEventOptions());
            });
            this.firedEvents = [];
        }
    };
    CdpEventsManagerClass.prototype.updateG2IDeviceId = function () {
        var _this = this;
        this.needExcludeOptionalFields = true;
        if (this.firedEvents.length > 0) {
            __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("has_events_queue=" + this.firedEvents.length);
            this.firedEvents.forEach(function (cdpEvent) {
                var isValid = cdpEvent.isValid(_this.needExcludeOptionalFields);
                if (isValid) {
                    var sendData = cdpEvent.getCalculateModel();
                    _this.sessionService.saveRequiredData(sendData);
                }
            });
            var sessionRequiredData = this.sessionService.getRequiredData();
            if (sessionRequiredData) {
                __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("has_valid_event");
                this.sentQueryEvents(sessionRequiredData);
            }
            else {
                var lastEvent_1 = this.firedEvents[this.firedEvents.length - 1];
                var emptyFields_1 = [];
                lastEvent_1.requiredFields.forEach(function (field) { return !lastEvent_1[field] && emptyFields_1.push(field); });
                __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("missed_required_fields: " + emptyFields_1.toString());
            }
        }
    };
    CdpEventsManagerClass.prototype.eventFire = function (input) {
        var cdpEvent = input;
        this.Logger.debug("eventFire EventModel - ", cdpEvent.eventModel);
        this.Logger.debug("eventFire EventType - ", cdpEvent.eventModel.EventType);
        this.Logger.debug("eventFire DeviceId - ", cdpEvent.eventModel.DeviceId);
        var sendData = cdpEvent.getEventModel();
        if (!sendData)
            return;
        var sessionRequiredData = this.sessionService.getRequiredData();
        var isValid = cdpEvent.isValid(this.needExcludeOptionalFields);
        __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].logEventFire(sendData, isValid, this.firedEvents);
        if (isValid) {
            this.Logger.debug("eventFire EventType - " + cdpEvent.eventModel.EventType + " isValid");
            if (!sessionRequiredData) {
                this.sessionService.saveRequiredData(sendData);
                this.sentQueryEvents(sendData);
            }
            else {
                this.sentQueryEvents(sessionRequiredData);
            }
            __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__["a" /* DataCollector */].addEventInCollector(cdpEvent);
            this.sendEvent(sendData, cdpEvent.getEventOptions());
        }
        else {
            this.Logger.debug("eventFire EventType - " + cdpEvent.eventModel.EventType + " is not isValid");
            if (sessionRequiredData) {
                cdpEvent.updateRequiredFields(sessionRequiredData);
                __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__["a" /* DataCollector */].addEventInCollector(cdpEvent);
                this.sendEvent(cdpEvent.getCalculateModel(), cdpEvent.getEventOptions());
            }
            else {
                this.firedEvents.push(cdpEvent);
                this.Logger.debug("add Event in query - " + cdpEvent.eventModel.EventType + " is not isValid", this.firedEvents);
            }
        }
        ;
    };
    CdpEventsManagerClass.prototype.sendEvent = function (sendData, options) {
        var _this = this;
        if (!Array.isArray(sendData)) {
            sendData = [sendData];
        }
        this.Logger.debug("sendArrayData", sendData);
        __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].logSendEvent(sendData, options);
        sendData.forEach(function (data) {
            var eventId = data.Id;
            if (_this.lastSendedIds.indexOf(eventId) === -1) {
                _this.lastSendedIds.push();
                _this.lastSendedIds = _this.lastSendedIds.slice(-10);
                if (_this.isBeaconSupported()) {
                    _this.cdpSendBeacon(data);
                }
                else {
                    _this.sendDataFetch(data);
                }
            }
            else {
                __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].logPreventDuplicate(eventId);
            }
        });
    };
    CdpEventsManagerClass.prototype.cdpSendBeacon = function (cdpData) {
        var success = false;
        var url = __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpEventsUrl() + "?" + __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].getBeaconRequestUrlParam(cdpData);
        success = navigator.sendBeacon(url, JSON.stringify(cdpData));
        return success;
    };
    CdpEventsManagerClass.prototype.isBeaconSupported = function () {
        return navigator.sendBeacon ? true : false;
    };
    CdpEventsManagerClass.prototype.sendDataFetch = function (cdpData) {
        if (this.getClosePageFlag()) {
            __WEBPACK_IMPORTED_MODULE_4__Data_services_FailedEventService__["a" /* FailedEventService */].Instance.stash(cdpData);
            return;
        }
        __WEBPACK_IMPORTED_MODULE_4__Data_services_FailedEventService__["a" /* FailedEventService */].Instance.drop(cdpData);
        var fetchOptions = {};
        fetchOptions = __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addFetchEventsLogHeader(fetchOptions);
        __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "BEBORE_SEND");
        __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].post("", cdpData, fetchOptions, __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCdpEventsUrl())
            .then(function () {
            __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "THEN_FETCH");
        })
            .catch(function (error) {
            __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "CATCH_FETCH " + String(error));
        });
        __WEBPACK_IMPORTED_MODULE_3__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addEventsCall(cdpData, "AFTER_SEND");
    };
    return CdpEventsManagerClass;
}());

var CdpEventsManager = new CdpEventsManagerClass();


/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_connextModule_ConnextModule__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var ConnextEvent = (function (_super) {
    __extends(ConnextEvent, _super);
    function ConnextEvent() {
        var _this = _super.call(this) || this;
        _this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        return _this;
    }
    ConnextEvent.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__["a" /* Constants */].EventsSources.Connext;
        this.addConnextVersionInfo();
        this.eventModel.ConfigCode = __WEBPACK_IMPORTED_MODULE_3__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getConfigCode();
        return new __WEBPACK_IMPORTED_MODULE_2__models_CdpEventModel__["a" /* CdpEventModel */](this.eventModel);
    };
    ConnextEvent.prototype.addConnextVersionInfo = function () {
        this.eventModel.EventData.push({ Key: "SourceVersion", Value: __WEBPACK_IMPORTED_MODULE_3__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getVersionInfo() });
    };
    ConnextEvent.prototype.updateCustomProperties = function () { };
    return ConnextEvent;
}(__WEBPACK_IMPORTED_MODULE_1__CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpGtmTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GtmTagEvent__ = __webpack_require__(62);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var SpGtmTagEvent = (function (_super) {
    __extends(SpGtmTagEvent, _super);
    function SpGtmTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = [];
        return _this;
    }
    SpGtmTagEvent.prototype.listen = function () {
        var _this = this;
        try {
            if (this.originalEventNames && this.originalEventNames.length > 0) {
                this.originalEventNames.forEach(function (eventName, key) {
                    _this.listenEvent(eventName);
                });
            }
            else {
                if (this.originalEventName) {
                    this.listenEvent(this.originalEventName);
                }
                else {
                    this.Logger.error("No event Name in Object");
                }
            }
        }
        catch (e) {
            this.Logger.error("addSPTags.Error", e);
        }
    };
    SpGtmTagEvent.prototype.listenEvent = function (eventName) {
        var _this = this;
        this.Logger.trace("Registering SP Tags");
        try {
            ko.postbox.subscribe(eventName, function (data) {
                _this.Logger.debug("Firing", eventName, "data", data);
                _this.currentEventName = eventName;
                _this.setOriginalEventData(data);
                _this.sendTagToAnalitcs();
            });
        }
        catch (e) {
            this.Logger.error("addSPTags.Error", e);
        }
    };
    SpGtmTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        this.eventService.sendEvent(tagName || this.getSendTagName(), tagData || this.getSendTagData(), true);
    };
    SpGtmTagEvent.prototype.getSendTagData = function () {
        var tagEventName = this.getSendTagName();
        if (tagEventName) {
            return {};
        }
        return null;
    };
    return SpGtmTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__GtmTagEvent__["a" /* GtmTagEvent */]));



/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return REJECTED_SERVICES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WorkflowModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_proxy_ProxyService__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_configModule_ConfigModule__ = __webpack_require__(2);




var ENGAGE_ALLOWED_EVENTS = {
    ConnextPageView: "ConnextPageView",
    ActionShown: "ActionShown",
    Click: "Click",
    CreateAccount: "CreateAccount",
    Login: "Login",
    ActivateSuccess: "ActivateSuccess",
    NewsletterSignup: "NewsletterSignup"
};
var SP_ALLOWED_EVENTS = {
    CheckoutStart: "CheckoutStart",
    CreatedNewUser: "CreatedNewUser",
    SubscriptionSuccess: "SubscriptionSuccess",
    AbandonPresented: "AbandonPresented"
};
var COMMON_ALLOWED_EVENTS = {};
var REJECTED_SERVICES = {
    ContentService: ["contentExistsInCdp", "sendContentInCdp", "getArticleStats"],
    Recommendations: ["getArticlesWithCategories", "getListArticles"]
};
var WorkflowModuleClass = (function () {
    function WorkflowModuleClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("WorkflowModule");
        this.modes = [];
    }
    WorkflowModuleClass.prototype.setModes = function (data) {
        this.modes = this.parseModes(data);
    };
    WorkflowModuleClass.prototype.getModes = function () {
        return this.modes;
    };
    WorkflowModuleClass.prototype.limitEngageEvents = function (events) {
        return this.limitEvents(events, ENGAGE_ALLOWED_EVENTS);
    };
    WorkflowModuleClass.prototype.limitSPEvents = function (events) {
        return this.limitEvents(events, SP_ALLOWED_EVENTS);
    };
    WorkflowModuleClass.prototype.limitCommonEvents = function (events, excludedEvents) {
        return this.limitEvents(events, COMMON_ALLOWED_EVENTS, excludedEvents);
    };
    WorkflowModuleClass.prototype.limitEvents = function (events, allowedList, excludedEvents) {
        var _a, _b;
        if (allowedList === void 0) { allowedList = {}; }
        if (excludedEvents === void 0) { excludedEvents = []; }
        var allowedKeys = [];
        var initModel = __WEBPACK_IMPORTED_MODULE_3__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitConfiguration();
        if (!((_a = initModel.cdp) === null || _a === void 0 ? void 0 : _a.enabled)
            && !this.getModeEnabled(__WEBPACK_IMPORTED_MODULE_2__models__["a" /* FLOW_MODE_TYPES */].InterestsRecommendations)
            && this.getModeEnabled(__WEBPACK_IMPORTED_MODULE_2__models__["a" /* FLOW_MODE_TYPES */].EngageABExperiments)) {
            allowedKeys = Object.keys(allowedList);
        }
        else if ((_b = initModel.cdp) === null || _b === void 0 ? void 0 : _b.enabled) {
            allowedKeys = Object.keys(events);
        }
        var filteredEvents = {};
        allowedKeys.forEach(function (key) {
            if (excludedEvents.indexOf(key) === -1) {
                filteredEvents[key] = events[key];
            }
        });
        this.Logger.info("limitEvents before and after", events, filteredEvents);
        return filteredEvents;
    };
    WorkflowModuleClass.prototype.applyRejects = function (target, methods) {
        if (methods === void 0) { methods = []; }
        var _this = this;
        methods.forEach(function (method) {
            var settings = {
                target: method,
                handler: function (originalMethod) {
                    var args = [];
                    for (var _i = 1; _i < arguments.length; _i++) {
                        args[_i - 1] = arguments[_i];
                    }
                    if (_this.getModeEnabled(__WEBPACK_IMPORTED_MODULE_2__models__["a" /* FLOW_MODE_TYPES */].InterestsRecommendations)) {
                        return originalMethod.apply(null, args);
                    }
                    else {
                        return Promise.reject();
                    }
                }
            };
            __WEBPACK_IMPORTED_MODULE_1__Utils_proxy_ProxyService__["a" /* ProxyService */].apply(target, settings);
        });
        return target;
    };
    WorkflowModuleClass.prototype.getModeEnabled = function (mode) {
        return this.modes.indexOf(mode) !== -1;
    };
    WorkflowModuleClass.prototype.parseModes = function (modes) {
        var _this_1 = this;
        if (modes) {
            return modes.split(",").map(function (mode) {
                var parsedMode = __WEBPACK_IMPORTED_MODULE_2__models__["a" /* FLOW_MODE_TYPES */][mode.trim()];
                if (!parsedMode) {
                    _this_1.Logger.debug("flow mode not recognized", mode);
                }
                return parsedMode;
            }).filter(function (m) { return m; });
        }
        else {
            return [];
        }
    };
    return WorkflowModuleClass;
}());
var WorkflowModule = new WorkflowModuleClass();


/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MetaDataService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);

var MetaDataService = (function () {
    function MetaDataService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("MetaDataService");
        this.customCollectedDimensions = [];
        this.dimensionsToCollect = [];
        this.collectableDimensions = [];
        this.Logger.trace("CTOR");
        this.analyticsDimensions = {};
        this.setDefaultDimensions();
    }
    Object.defineProperty(MetaDataService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new MetaDataService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    MetaDataService.prototype.setup = function (dimensions) {
        this.customDimensions = dimensions;
    };
    MetaDataService.prototype.process = function () {
        try {
            this.Logger.debug("Processing....", this.customDimensions, "dimensionsToCollect", this.dimensionsToCollect);
            if (this.customDimensions) {
                this.evalCustomDimensions(this.customDimensions);
            }
            this.loadMetaTags();
            this.Logger.debug("collectedDimensions", this.analyticsDimensions);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.setDefaultDimensions = function () {
        try {
            this.Logger.debug("Setting Default Dimensions");
            this.dimensionsToCollect.push({
                Id: "contentType",
                Name: "ContentType",
                Required: true,
                MetaTagNames: ["type", "og:type"]
            });
            this.dimensionsToCollect.push({
                Id: "keywords",
                Name: "Keywords",
                Required: true,
                MetaTagNames: ["keywords", "og:keywords", "bt:keywords"]
            });
            this.dimensionsToCollect.push({
                Id: "section",
                Name: "Section",
                Required: true,
                MetaTagNames: ["section", "og:section"]
            });
            this.dimensionsToCollect.push({
                Id: "author",
                Name: "Author",
                Required: true,
                MetaTagNames: ["byline", "author", "bt:author"]
            });
            this.dimensionsToCollect.push({
                Id: "title",
                Name: "Title",
                Required: true,
                MetaTagNames: ["title", "og:title"]
            });
            this.dimensionsToCollect.push({
                Id: "tags",
                Name: "Tags",
                Required: false,
                MetaTagNames: ["tags"]
            });
            this.dimensionsToCollect.push({
                Id: "contentId",
                Name: "ContentId",
                Required: false,
                MetaTagNames: ["contentid"]
            });
            this.dimensionsToCollect.push({
                Id: "publishDate",
                Name: "PublishDate",
                Required: false,
                MetaTagNames: ["publishDate", "pubdate", "og:pers_rec_first_pub_date", "bt:pubDate"]
            });
            this.dimensionsToCollect.push({
                Id: "text",
                Name: "Text",
                Required: false,
                ExcludeFromAnalytics: true
            });
            this.dimensionsToCollect.push({
                Id: "leadText",
                Name: "LeadText",
                Required: false,
                ExcludeFromAnalytics: true
            });
            this.collectableDimensions = Object.assign(this.collectableDimensions, this.dimensionsToCollect);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.getCustomDimensions = function () {
        return this.customCollectedDimensions;
    };
    MetaDataService.prototype.evalCustomDimensions = function (dimensions) {
        var _this = this;
        try {
            Object.keys(dimensions).forEach(function (key) {
                var cdim = dimensions[key];
                _this.Logger.debug(key, cdim, typeof cdim);
                if (typeof cdim === "function") {
                    _this.Logger.debug("Is Function");
                    var dimVal = cdim.call();
                    _this.Logger.debug("Is Function VALUE", dimVal);
                    _this.collectDimensionForAnalytics(key, dimVal);
                    _this.customCollectedDimensions[key] = dimVal;
                    var index = _this.dimensionsToCollect.findIndex(function (d) { return d.Id === key; });
                    if (index >= 0) {
                        _this.Logger.debug("evalCD Index", _this.dimensionsToCollect[index]);
                        _this.dimensionsToCollect.splice(index, 1);
                    }
                }
            });
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.loadMetaTags = function () {
        var _this = this;
        try {
            var meta = document.querySelectorAll("meta");
            Array.prototype.forEach.call(meta, function (node) {
                var metaData = _this.getMetaData(node);
                if (metaData) {
                    _this.screenData(metaData);
                }
            });
            this.Logger.debug("this.dimensionsToCollect", this.dimensionsToCollect);
            this.Logger.debug("this.collectableDimensions", this.collectableDimensions);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.getMetaData = function (metaTag) {
        try {
            var metaProperty = (metaTag.attributes["property"] ? metaTag.attributes["property"].value : "");
            var metaName = (metaTag.attributes["name"] ? metaTag.attributes["name"].value : "");
            var metaPropCleaned = metaName || metaProperty;
            if (metaPropCleaned) {
                var metaValue = metaTag.attributes["value"] || metaTag.content;
                if (metaValue) {
                    var tag = {
                        Name: metaPropCleaned,
                        Value: metaValue
                    };
                    return tag;
                }
            }
        }
        catch (e) {
            this.Logger.error(e);
            return null;
        }
    };
    MetaDataService.prototype.screenData = function (metaTag) {
        var _this = this;
        try {
            var fnName = "screenData";
            var allowedTagData = this.dimensionsToCollect.filter(function (element, index, array) {
                if (!element || !element.MetaTagNames) {
                    return;
                }
                var isAllowed = element.MetaTagNames.some(function (x) { return x === metaTag.Name; });
                if (isAllowed) {
                    var alreadyCollected = _this.dimensionsToCollect.some(function (x) { return x.Name === element.Id; });
                    if (!alreadyCollected) {
                        _this.analyticsDimensions[element.Id] = metaTag.Value;
                    }
                    else {
                    }
                }
                else {
                }
            });
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    MetaDataService.prototype.collectDimensionForAnalytics = function (dimensionName, dimVal) {
        var collectDimension = this.dimensionsToCollect.find(function (d) { return d.Name === dimensionName; });
        if (collectDimension && !collectDimension.ExcludeFromAnalytics) {
            this.analyticsDimensions[collectDimension.Id] = dimVal;
        }
    };
    return MetaDataService;
}());



/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DateUtil; });
var DateUtil = (function () {
    function DateUtil() {
    }
    DateUtil.getNowDateInSec = function () {
        return DateUtil.getDateInSec(new Date().getTime());
    };
    DateUtil.getDateInSec = function (date) {
        return parseInt(date.toString().slice(0, -3));
    };
    DateUtil.getISOFormat = function (date) {
        var isoRegxp = new RegExp(/^(-?(?:[1-9][0-9]*)?[0-9]{4})(1[0-2]|0[1-9])(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/);
        try {
            if (isoRegxp.test(date)) {
                var matches = date.match(isoRegxp);
                date = matches[1] + "-" + matches[2] + "-" + matches[3] + "T" + matches[4] + ":" + matches[5] + matches[6] + "Z";
            }
            if (this.isValidDate(date)) {
                var parsedDate = this.getCorrectDate(date);
                return this.toISOString(parsedDate);
            }
            else {
                return null;
            }
        }
        catch (error) {
            console.log("getISOFormat", error);
            return null;
        }
    };
    DateUtil.isIsoFormat = function (stringDate) {
        return stringDate.test(/^(-?(?:[1-9][0-9]*)?[0-9]{4})(1[0-2]|0[1-9])(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/);
    };
    DateUtil.isValidDate = function (dateStr) {
        var timestamp = Date.parse(dateStr);
        return !isNaN(timestamp);
    };
    DateUtil.getCorrectDate = function (date) {
        var parsedDate = new Date(date);
        if (this.isUnixTimeRange(parsedDate)) {
            return parsedDate;
        }
        return new Date();
    };
    DateUtil.isUnixTimeRange = function (date) {
        return date.getUTCFullYear() >= 1970;
    };
    DateUtil.pad = function (value) {
        if (value < 10) {
            return "0" + value;
        }
        return value;
    };
    DateUtil.toISOString = function (date) {
        return date.getUTCFullYear() +
            "" + this.pad(date.getUTCMonth() + 1) +
            "" + this.pad(date.getUTCDate()) +
            "T" + this.pad(date.getUTCHours()) +
            ":" + this.pad(date.getUTCMinutes()) +
            ":" + this.pad(date.getUTCSeconds()) +
            "Z";
    };
    ;
    DateUtil.getTimestamp = function (eventTimestamp) {
        if (!eventTimestamp) {
            return this.getNowDateInSec();
        }
        var timestampPart = ("" + eventTimestamp).substring(0, 10);
        var indexPoint = timestampPart.indexOf(".");
        if (indexPoint > -1) {
            timestampPart = eventTimestamp.replace(/\./g, "");
            timestampPart = ("" + timestampPart).substring(0, 10);
        }
        var intPart = parseInt(timestampPart);
        if (intPart.toString().length !== 10) {
            return this.getNowDateInSec();
        }
        else {
            return intPart;
        }
    };
    DateUtil.addDays = function (theDate, days) {
        return new Date(theDate.getTime() + days * 24 * 60 * 60 * 1000).valueOf();
    };
    DateUtil.addHours = function (theDate, hours) {
        return new Date(theDate.getTime() + hours * 60 * 60 * 1000).valueOf();
    };
    DateUtil.getDateValueFromTimestamp = function (timestamp) {
        return timestamp * 1000;
    };
    DateUtil.daysDiff = function (startDateValue) {
        return Math.floor((new Date().valueOf() - +startDateValue) / 86400000);
    };
    return DateUtil;
}());



/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_services_SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_models_SendOptionsModel__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_botDetection_BotDetector__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Utils_DateUtil__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Modules_connextModule_ConnextModule__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__Utils_BugTrackUtil__ = __webpack_require__(6);













var CdpEvent = (function () {
    function CdpEvent() {
        this.IsAsync = true;
        this.originalEventNames = [];
        this.Logger = __WEBPACK_IMPORTED_MODULE_3__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("CdpEvent");
        this.requiredFields = ["DeviceId", "SiteCode", "ClientCode", "ConfigCode"];
        this.optionalFields = ["G2Ideviceid"];
        this.eventModel = new __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__["a" /* CdpEventModel */](null);
        this.sessionService = __WEBPACK_IMPORTED_MODULE_1__Data_services_SessionService__["a" /* SessionService */].Instance;
        this.clearPreviousData();
    }
    CdpEvent.prototype.getEventOptions = function () {
        var sendOptions = new __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_models_SendOptionsModel__["a" /* SendOptionsModel */]();
        sendOptions.IsAsync = this.IsAsync;
        return sendOptions;
    };
    CdpEvent.prototype.listen = function () {
        var _this = this;
        this.Logger.trace("Registering EventListener");
        try {
            if (this.originalEventNames && this.originalEventNames.length > 0) {
                this.originalEventNames.forEach(function (eventName, key) {
                    _this.listenEvent(eventName);
                });
            }
            else {
                if (this.originalEventName) {
                    this.listenEvent(this.originalEventName);
                }
                else {
                    this.Logger.error("No event Name in Object");
                }
            }
        }
        catch (e) {
            this.Logger.error("addCollectorEventListener.Error", e);
        }
    };
    CdpEvent.prototype.listenEvent = function (eventName) {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", eventName);
            __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, eventName, function (e) {
                _this.Logger.trace("Firing", _this.eventModel.EventName);
                _this.clearPreviousData();
                _this.setOriginalEventData(e.detail);
                _this.currentEventName = eventName;
                __WEBPACK_IMPORTED_MODULE_7__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            });
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    CdpEvent.prototype.transformEventData = function (transformData) {
        var originalEventData = this.getOriginalEventData();
        var eventData = transformData || originalEventData.EventData || {};
        var dataObjectToArray = __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].ArrayToDictionaryRecursive(eventData, []);
        this.eventModel.EventData = this.eventModel.EventData.concat(this.convertDataValueToString(dataObjectToArray));
    };
    CdpEvent.prototype.updateEventData = function () {
        var _this = this;
        var firedData = this.eventModel.EventData;
        this.eventModel.EventData = [];
        this.addVersionInfo();
        this.addBotInfo();
        this.updateCustomProperties();
        firedData.forEach(function (fd) {
            var sameKeyData = _this.eventModel.EventData.find(function (cd) { return cd.Key === fd.Key; });
            if (sameKeyData && sameKeyData.Value !== fd.Value && fd.Value !== "") {
                __WEBPACK_IMPORTED_MODULE_12__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("update_event_data: " + JSON.stringify(sameKeyData) + " -> " + JSON.stringify(fd));
                sameKeyData.Value = fd.Value;
            }
            else if (!sameKeyData) {
                _this.eventModel.EventData.push(fd);
                __WEBPACK_IMPORTED_MODULE_12__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("push_event_data: " + JSON.stringify(fd));
            }
        });
    };
    CdpEvent.prototype.updateEventModel = function () {
        this.eventModel.G2Ideviceid = this.eventModel.G2Ideviceid || __WEBPACK_IMPORTED_MODULE_11__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getG2iDeviceId() || "";
    };
    CdpEvent.prototype.addBotInfo = function () {
        if (__WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].isAddBotInformation()) {
            var botDetector = new __WEBPACK_IMPORTED_MODULE_6__Modules_botDetection_BotDetector__["a" /* BotDetector */]();
            var detectBot = botDetector.getDetectBot();
            if (detectBot) {
                this.eventModel.EventData.push({ Key: "BotName", Value: detectBot.name });
                this.eventModel.EventData.push({ Key: "BotCategory", Value: detectBot.category });
            }
            else {
                this.eventModel.EventData.push({ Key: "UserBot", Value: "false" });
            }
        }
    };
    CdpEvent.prototype.getEventModel = function () {
        this.eventModel = new __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__["a" /* CdpEventModel */](null);
        var originalEventData = this.getOriginalEventData();
        this.eventModel.PageSessionId = this.sessionService.PageSessionId || this.getEventPageSessionId(originalEventData);
        this.eventModel.DeviceBrowserSessionId = this.sessionService.getDeviceSessionId();
        this.eventModel.EventTimestamp = __WEBPACK_IMPORTED_MODULE_8__Utils_DateUtil__["a" /* DateUtil */].getNowDateInSec();
        this.eventModel.SiteEnvironment = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteEnvironment();
        this.eventModel.ClientCode = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        this.eventModel.SiteCode = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        this.eventModel.DeviceId = __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId();
        this.eventModel.G2Ideviceid = __WEBPACK_IMPORTED_MODULE_11__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getG2iDeviceId() || "";
        this.eventModel.ConfigCode = __WEBPACK_IMPORTED_MODULE_10__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getConfigCode() || "Unknown";
        this.addVersionInfo();
        this.addBotInfo();
        this.updateCustomProperties();
        return this.eventModel;
    };
    CdpEvent.prototype.updateCustomProperties = function () { };
    CdpEvent.prototype.addVersionInfo = function () {
        this.eventModel.EventData.push({ Key: "Version", Value: __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].getVersion() });
    };
    CdpEvent.prototype.getEventPageSessionId = function (originalEventData) {
        return originalEventData.EventInfo ? originalEventData.EventInfo.SessionId : __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].createGUID();
    };
    CdpEvent.prototype.convertDataValueToString = function (data) {
        this.Logger.trace("eventDataValueToString", "eventDataValueToString", data);
        var cleaned = [];
        data.map(function (e) {
            if ((typeof e.Value !== "undefined" && e.Value !== null)) {
                cleaned.push({ "Key": e.Key, "Value": e.Value.toString() });
            }
            else {
                cleaned.push({ "Key": e.Key, "Value": "" });
            }
        });
        this.Logger.trace("eventDataValueToString", "eventDataValueToString", cleaned);
        return cleaned;
    };
    CdpEvent.prototype.isValid = function (excludeOptional) {
        if (excludeOptional === void 0) { excludeOptional = false; }
        var fieldLength = this.requiredFields.length;
        for (var i = 0; i < fieldLength; i++) {
            if (!this.eventModel[this.requiredFields[i]]) {
                return false;
            }
        }
        if (!excludeOptional) {
            var optionalFieldLength = this.optionalFields.length;
            for (var i = 0; i < optionalFieldLength; i++) {
                if (!this.eventModel[this.optionalFields[i]]) {
                    return false;
                }
            }
        }
        return true;
    };
    CdpEvent.prototype.updateRequiredFields = function (updateUserDataModel, excludeOptional) {
        var _this = this;
        if (excludeOptional === void 0) { excludeOptional = false; }
        if (Array.isArray(updateUserDataModel)) {
            updateUserDataModel = updateUserDataModel[0];
        }
        ;
        this.Logger.debug("updateUserDataModel", updateUserDataModel);
        if (!updateUserDataModel)
            return;
        this.requiredFields.forEach(function (field) {
            _this.eventModel[field] = _this.eventModel[field] ? _this.eventModel[field] : updateUserDataModel[field];
        });
        if (!excludeOptional) {
            this.optionalFields.forEach(function (field) {
                _this.eventModel[field] = _this.eventModel[field] ? _this.eventModel[field] : updateUserDataModel[field];
            });
        }
    };
    CdpEvent.prototype.tryUpdate = function () {
        if (this.eventModel && !this.eventModel.DeviceId) {
            this.eventModel.DeviceId = __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId();
        }
    };
    CdpEvent.prototype.getOriginalEventData = function () {
        return this.originalEventData || {};
    };
    CdpEvent.prototype.setOriginalEventData = function (eventData) {
        this.originalEventData = eventData;
    };
    CdpEvent.prototype.clearPreviousData = function () {
        this.originalEventData = null;
        this.eventModel = new __WEBPACK_IMPORTED_MODULE_4__models_CdpEventModel__["a" /* CdpEventModel */](null);
    };
    CdpEvent.prototype.useInCalculateFirstVisitModel = function () {
        return false;
    };
    CdpEvent.prototype.getFirstVisitProperty = function () {
        return "";
    };
    CdpEvent.prototype.getCalculateModel = function () {
        return this.eventModel;
    };
    return CdpEvent;
}());



/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FirstVisitProperties; });
var FirstVisitProperties = {
    CollectTime: "ts_diff",
    CountClick: "cnt_click",
    CountPageview: "cnt_pageview",
    CountCreateAccountEvents: "cnt_createaccount",
    CountCheckoutStartEvents: "cnt_checkoutstart"
};


/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export LocalStorageServiceClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalStorageService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Core_storages_local_LocalStorage__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__ = __webpack_require__(2);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var LocalStorageServiceClass = (function (_super) {
    __extends(LocalStorageServiceClass, _super);
    function LocalStorageServiceClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.localStorage = new __WEBPACK_IMPORTED_MODULE_0__Core_storages_local_LocalStorage__["a" /* LocalStorage */]();
        return _this;
    }
    LocalStorageServiceClass.prototype.expandKey = function (key) {
        var siteCode = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        var clientCode = __WEBPACK_IMPORTED_MODULE_1__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        if (!siteCode || !clientCode) {
            return key;
        }
        var expandedKey = [
            key,
            siteCode,
            clientCode
        ].join("_");
        return expandedKey;
    };
    LocalStorageServiceClass.prototype.get = function (key, expand) {
        if (expand === void 0) { expand = true; }
        key = expand ? this.expandKey(key) : key;
        return this.localStorage.get(key);
    };
    LocalStorageServiceClass.prototype.set = function (key, value, expand) {
        if (expand === void 0) { expand = true; }
        key = expand ? this.expandKey(key) : key;
        return this.localStorage.set(key, value);
    };
    LocalStorageServiceClass.prototype.delete = function (key, expand) {
        if (expand === void 0) { expand = true; }
        key = expand ? this.expandKey(key) : key;
        return this.localStorage.delete(key);
    };
    return LocalStorageServiceClass;
}(__WEBPACK_IMPORTED_MODULE_0__Core_storages_local_LocalStorage__["a" /* LocalStorage */]));

var LocalStorageService = new LocalStorageServiceClass();


/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClickEventName; });
/* unused harmony export EventName */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return EventNames; });
var ClickEventName = {
    Login: "Login",
    Activate: "Activate",
    Upgrade: "Upgrade",
    Other: "Other",
    SignUp: "SignUp",
    Social: "Social",
    Register: "Register",
    Logout: "Logout",
    Subscribe: "Subscribe"
};
var EventName = {
    MeterLevelSet: "meterLevelSet",
    ConversationDetermined: "conversationDetermined",
    MeterStart: "meterStart",
    MeterStop: "meterStop",
    ActionShown: "actionShown",
    NewsletterSignup: "newsletterSignup",
    CheckoutStart: "CheckoutStart",
    OffersPresented: "OffersPresented",
    BillingAddress: "BillingAddress",
    UserInfo: "UserInfo",
    CreatedNewUser: "CreatedNewUser",
    Payment: "Payment",
    DeliveryAddress: "DeliveryAddress",
    SubscriptionSuccess: "SubscriptionSuccess",
    AbandonPresented: "AbandonPresented",
    AbandonClosed: "AbandonClosed",
    IdlePresented: "IdlePresented",
    IdleClosed: "IdleClosed",
    UpsellSelected: "UpsellSelected"
};
var EventNames = {
    PageView: "PageView"
};


/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConnextModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_ConversationManager__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes_ActionManager__ = __webpack_require__(172);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__ = __webpack_require__(0);



var ConnextModuleClass = (function () {
    function ConnextModuleClass() {
        this.hasAdblock = false;
        this.listenEvents();
    }
    ConnextModuleClass.prototype.listenEvents = function () {
        this.listenAdblockFound();
    };
    ConnextModuleClass.prototype.listenAdblockFound = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, "onAdblockFound", function (e) {
            _this.hasAdblock = true;
        });
    };
    ConnextModuleClass.prototype.getAdblockDetected = function () {
        return this.hasAdblock;
    };
    ConnextModuleClass.prototype.getCurrentConversation = function () {
        return __WEBPACK_IMPORTED_MODULE_0__classes_ConversationManager__["a" /* ConversationManager */].getCurrentConversation();
    };
    ConnextModuleClass.prototype.GetCurrentConversationViewCount = function () {
        return __WEBPACK_IMPORTED_MODULE_0__classes_ConversationManager__["a" /* ConversationManager */].GetCurrentConversationViewCount();
    };
    ConnextModuleClass.prototype.getActionDataFromElement = function (clickedElement) {
        return __WEBPACK_IMPORTED_MODULE_1__classes_ActionManager__["a" /* ActionManager */].getInfoFromClickedElement(clickedElement);
    };
    ConnextModuleClass.prototype.hasConnext = function () {
        return !!window.Connext;
    };
    ConnextModuleClass.prototype.getVersionInfo = function () {
        if (window.Connext) {
            return window.Connext.GetVersionInfo();
        }
        else {
            return "Connext is not defined";
        }
    };
    ConnextModuleClass.prototype.getConfigCode = function () {
        if (window.Connext && window.Connext.Storage) {
            return window.Connext.Storage.GetConfigCode();
        }
        else {
            return null;
        }
    };
    return ConnextModuleClass;
}());

var ConnextModule = new ConnextModuleClass();


/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DimensionsModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__classes_CommonMetaData__ = __webpack_require__(82);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_js_sha256___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_js_sha256__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__ = __webpack_require__(0);




var DimensionsModuleClass = (function () {
    function DimensionsModuleClass() {
        this.dimensions = {};
        this.properties = [
            "Title",
            "Keywords",
            "Section",
            "Url",
            "ContentType",
            "Author",
            "Tags",
            "ContentId",
            "PublishDate",
            "LeadText",
            "Text",
            "Category",
            "Description",
            "Pictures",
            "Video",
            "Likes",
            "Shares",
            "BreakingNews",
            "Premium",
            "Language",
            "Recommended",
            "LeadImageUrl"
        ];
        this.subscribeOtherPluginStartChangeContent();
    }
    DimensionsModuleClass.prototype.getDimensions = function () {
        if (!__WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].isEmpty(this.dimensions)) {
            return this.dimensions;
        }
        var customConfigDim = this.getDimensionsFromCustomConfig();
        this.extendDimensions(customConfigDim);
        var initDim = this.getDimensionsFromClientInit();
        this.extendDimensions(initDim);
        this.fillEmptyDimFromMeta();
        if (this.dimensions && !this.dimensions["ContentId"]) {
            this.dimensions["ContentId"] = this.getCalculateContentId(this.dimensions["Text"]);
        }
        this.dimensions["ContentType"] = this.getContentType();
        this.resetInvalidValus();
        return this.dimensions;
    };
    DimensionsModuleClass.prototype.getContentType = function () {
        if (this.dimensions && this.dimensions["ContentType"]) {
            return this.dimensions["ContentType"].toLowerCase();
        }
        return "unknown";
    };
    DimensionsModuleClass.prototype.getCalculateContentId = function (articleText) {
        if (!articleText) {
            return;
        }
        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_js_sha256__["sha256"])(articleText.replace(/\s/g, ""));
    };
    DimensionsModuleClass.prototype.getDimensionsFromCustomConfig = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getCustomDimensions() || {};
    };
    DimensionsModuleClass.prototype.getDimensionsFromClientInit = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitDimensions() || {};
    };
    DimensionsModuleClass.prototype.fillEmptyDimFromMeta = function () {
        var defaultDim = __WEBPACK_IMPORTED_MODULE_1__classes_CommonMetaData__["a" /* CommonMetaData */].getDefaultMeta();
        for (var property in defaultDim) {
            if (defaultDim.hasOwnProperty(property) && !this.dimensions[property]) {
                this.dimensions[property] = defaultDim[property]();
            }
        }
    };
    DimensionsModuleClass.prototype.extendDimensions = function (dataModel) {
        if (!dataModel)
            return;
        for (var property in dataModel) {
            if (dataModel.hasOwnProperty(property)) {
                this.dimensions[property] = dataModel[property];
            }
        }
    };
    DimensionsModuleClass.prototype.getDynamicDimensions = function () {
        var dynamicDimensions = {};
        var dimensionsObject = this.getDimensions();
        for (var property in dimensionsObject) {
            if (dimensionsObject.hasOwnProperty(property) && this.properties.indexOf(property) === -1) {
                dynamicDimensions[property] = dimensionsObject[property];
            }
        }
        return dynamicDimensions;
    };
    DimensionsModuleClass.prototype.getContentId = function () {
        if (!this.dimensions) {
            this.getDimensions();
        }
        if (this.dimensions && this.dimensions["ContentId"]) {
            return this.dimensions["ContentId"];
        }
        return null;
    };
    DimensionsModuleClass.prototype.subscribeOtherPluginStartChangeContent = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, "onInnerBeforeContentChanged", function (e) {
            _this.getDimensions();
        });
        __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, "onCampaignFound", function (e) {
            _this.getDimensions();
        });
    };
    DimensionsModuleClass.prototype.resetInvalidValus = function () {
        var invalidStrings = [String(undefined), String(NaN).toLowerCase(), String(null)];
        for (var property in this.dimensions) {
            var value = this.dimensions[property];
            if (typeof value === "string" && invalidStrings.indexOf(value.toLowerCase()) !== -1 || value === undefined) {
                this.dimensions[property] = "";
            }
        }
    };
    return DimensionsModuleClass;
}());
var DimensionsModule = new DimensionsModuleClass();


/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DeviceModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_modules_HttpService__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Data_modules_LocalStorageService__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Core_constants_PluginInnerEvents__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__ = __webpack_require__(0);
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};







var DeviceModuleClass = (function () {
    function DeviceModuleClass() {
        this.failedRegenerationsKey = "failedRegenerations";
        this.isGetUserFinished = false;
        this.isPendingRequest = false;
        this.cdpDlDataAvailability();
    }
    DeviceModuleClass.prototype.cdpDlDataAvailability = function () {
        this.localStorageReady = new Promise(function (resolve) {
            __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, __WEBPACK_IMPORTED_MODULE_5__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].G2IAfterSetInitOptions, function (e) {
                resolve(null);
            });
        });
    };
    DeviceModuleClass.prototype.initDeviceId = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].initDeviceId(function (actualDeviceId) { return _this.localStorageReady.then(function () { return _this.mockOldDeviceIdIfNeed(actualDeviceId); }); });
    };
    DeviceModuleClass.prototype.isActualId = function (deviceId) {
        return __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId().then(function (actualId) { return actualId === deviceId; });
    };
    DeviceModuleClass.prototype.mockOldDeviceIdIfNeed = function (actualDeviceId) {
        var result = actualDeviceId;
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_fp=" + result);
        var didLs = __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getDeviceIdFromStorage();
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_ls=" + didLs);
        result = this.fallbackDeviceIdIfNeed(result, didLs);
        result = this.migrateQueue(result);
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_actual=" + result);
        return result;
    };
    DeviceModuleClass.prototype.fallbackDeviceIdIfNeed = function (actualDeviceId, didLs) {
        if (didLs) {
            return didLs;
        }
        var result = actualDeviceId;
        if (!result) {
            result = "guid-" + __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].createGUID();
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_fallback_guid=" + result);
        }
        else {
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_fallback_ls=" + result);
        }
        __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].updateDeviceIdInCdpDlStorage(result);
        return result;
    };
    DeviceModuleClass.prototype.migrateQueue = function (actualFPValue) {
        var queue = this.getFailedRegenerations();
        var oneItem = null;
        if (queue.length) {
            oneItem = {};
            oneItem.old_device_id = __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId() || queue[0].old_device_id;
            oneItem.new_device_id = queue[queue.length - 1].new_device_id;
            if (!oneItem.g2ideviceid) {
                oneItem.g2ideviceid = __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getG2iDeviceId();
            }
        }
        this.deleteFailedRegenerations();
        if (oneItem !== null && oneItem.old_device_id === oneItem.new_device_id) {
            oneItem = null;
        }
        if (oneItem !== null) {
            this.saveChangedDeviceId(oneItem);
            return oneItem.old_device_id;
        }
        return actualFPValue;
    };
    DeviceModuleClass.prototype.getDeviceIdToApi = function () {
        var regeneration = this.getOldestFailedRegeneration();
        if (regeneration) {
            return Promise.resolve(regeneration.old_device_id);
        }
        return __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId();
    };
    DeviceModuleClass.prototype.sendSavedRegeneration = function () {
        return __awaiter(this, void 0, void 0, function () {
            var success, regeneration, customEvent, error_1, didActual, didLs;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.isGetUserFinished = true;
                        success = false;
                        _a.label = 1;
                    case 1:
                        this.isPendingRequest = true;
                        this.migrateQueue(__WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId());
                        regeneration = this.getOldestFailedRegeneration();
                        if (!regeneration) return [3, 7];
                        _a.label = 2;
                    case 2:
                        _a.trys.push([2, 4, 5, 6]);
                        return [4, this.sendDeviceIdNotify(regeneration)];
                    case 3:
                        _a.sent();
                        success = true;
                        customEvent = new CustomEvent(__WEBPACK_IMPORTED_MODULE_5__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].RegenererationResendSuccess, { detail: regeneration });
                        document.dispatchEvent(customEvent);
                        return [3, 6];
                    case 4:
                        error_1 = _a.sent();
                        success = false;
                        return [3, 6];
                    case 5:
                        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addResendRegenerationStatus(success, regeneration);
                        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("change_device_id=" + success + "+" + JSON.stringify(regeneration));
                        return [7];
                    case 6: return [3, 8];
                    case 7:
                        success = false;
                        _a.label = 8;
                    case 8:
                        this.isPendingRequest = false;
                        _a.label = 9;
                    case 9:
                        if (success) return [3, 1];
                        _a.label = 10;
                    case 10:
                        didActual = __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId();
                        didLs = __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getDeviceIdFromStorage();
                        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_actual_after=" + didActual);
                        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_ls_after=" + didLs);
                        if (didLs !== null && didActual !== didLs) {
                            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_not_equal");
                        }
                        return [2];
                }
            });
        });
    };
    DeviceModuleClass.prototype.deviceIChanged = function (notify) {
        var regeneration = this.mapRenererationModel(notify);
        this.saveChangedDeviceId(regeneration);
        if (this.isGetUserFinished && !this.isPendingRequest) {
            this.migrateQueue(regeneration.new_device_id);
            return this.sendSavedRegeneration();
        }
        else {
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("skip_send_change_req:queue_process-" + this.isGetUserFinished + "+pending-" + this.isPendingRequest);
            return Promise.resolve(null);
        }
    };
    DeviceModuleClass.prototype.sendDeviceIdNotify = function (regeneration) {
        return __awaiter(this, void 0, void 0, function () {
            var didActual, error_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4, this.sendApiChangeDeviceId(regeneration)];
                    case 1:
                        _a.sent();
                        this.deleteFailedRegeneration(regeneration);
                        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_before_update_local=" + regeneration.new_device_id);
                        __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].setCalculatedDeviceId(regeneration.new_device_id);
                        didActual = __WEBPACK_IMPORTED_MODULE_1__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId();
                        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_after_update_local=" + didActual);
                        if (regeneration.new_device_id !== didActual) {
                            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_not_equal");
                        }
                        __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].updateDeviceIdInCdpDlStorage(regeneration.new_device_id);
                        return [3, 3];
                    case 2:
                        error_2 = _a.sent();
                        console.log("changeDeviceId", error_2);
                        return [2, Promise.reject()];
                    case 3: return [2];
                }
            });
        });
    };
    DeviceModuleClass.prototype.sendApiChangeDeviceId = function (regeneration) {
        var _this = this;
        var options = {};
        options.exposedHeaders = options.exposedHeaders || [];
        options.exposedHeaders.push("x-request-id");
        options.statusCodeEnabled = true;
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("before_changedeviceid");
        return __WEBPACK_IMPORTED_MODULE_0__Data_modules_HttpService__["a" /* HttpService */].post("user/changedeviceid", regeneration, options)
            .then(function (res) {
            _this.trackRequestId(res);
            return res.data;
        }).catch(function (res) {
            var isExtendedModel = res.data && res.exposedHeaders;
            if (isExtendedModel) {
                _this.trackRequestId(res);
            }
            else {
                __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("catch=" + (res instanceof Error ? res.toString() : JSON.stringify(res)).substring(0, 64));
            }
            return Promise.reject(isExtendedModel ? res.data : res);
        });
    };
    DeviceModuleClass.prototype.trackRequestId = function (res) {
        var reqid = res.exposedHeaders["x-request-id"] || "g2i_empty_fallback";
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserErReqid(reqid);
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("after_changedeviceid=" + reqid);
        __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("status_code=" + res.statusCode);
    };
    DeviceModuleClass.prototype.mapRenererationModel = function (notify) {
        return {
            new_device_id: notify.newId,
            old_device_id: notify.id
        };
    };
    DeviceModuleClass.prototype.getFailedRegenerations = function () {
        return __WEBPACK_IMPORTED_MODULE_3__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.failedRegenerationsKey) || [];
    };
    DeviceModuleClass.prototype.saveChangedDeviceId = function (model) {
        var savedItems = this.getFailedRegenerations();
        if (!savedItems.find(function (_item) { return _item.old_device_id === model.old_device_id && _item.new_device_id === model.new_device_id; })) {
            savedItems.push(model);
        }
        __WEBPACK_IMPORTED_MODULE_3__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.failedRegenerationsKey, savedItems);
    };
    DeviceModuleClass.prototype.getOldestFailedRegeneration = function () {
        var savedItems = this.getFailedRegenerations();
        return savedItems.shift();
    };
    DeviceModuleClass.prototype.deleteFailedRegeneration = function (model) {
        var savedItems = this.getFailedRegenerations();
        var updatedItems = savedItems.filter(function (item) { return item.new_device_id !== model.new_device_id; });
        __WEBPACK_IMPORTED_MODULE_3__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.failedRegenerationsKey, updatedItems);
    };
    DeviceModuleClass.prototype.deleteFailedRegenerations = function () {
        return __WEBPACK_IMPORTED_MODULE_3__Data_modules_LocalStorageService__["a" /* LocalStorageService */].delete(this.failedRegenerationsKey);
    };
    return DeviceModuleClass;
}());

var DeviceModule = new DeviceModuleClass();


/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ShortOfferModel; });
var ShortOfferModel = (function () {
    function ShortOfferModel(data) {
        if (!data)
            return;
        this.Name = data.Name;
    }
    return ShortOfferModel;
}());



/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemoryProxyStorage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__memory_MemoryStorage__ = __webpack_require__(68);

var MemoryProxyStorageClass = (function () {
    function MemoryProxyStorageClass() {
        this.proxyMethods = ["get", "set", "delete", "clear"];
        this.prefixMap = [];
        this.keys = [];
    }
    MemoryProxyStorageClass.prototype.applyProxy = function (originalThis, storagePrefix) {
        var _this_1 = this;
        if (originalThis.isSupported()) {
            return originalThis;
        }
        this.prefixMap.push({ _this: originalThis, prefix: storagePrefix });
        var _loop_1 = function (method) {
            originalThis[method] = function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                _this_1.currentContext = originalThis;
                return _this_1[method].apply(_this_1, args);
            };
        };
        for (var _i = 0, _a = this.proxyMethods; _i < _a.length; _i++) {
            var method = _a[_i];
            _loop_1(method);
        }
        return originalThis;
    };
    MemoryProxyStorageClass.prototype.isSupported = function () {
        return true;
    };
    MemoryProxyStorageClass.prototype.get = function (key) {
        return __WEBPACK_IMPORTED_MODULE_0__memory_MemoryStorage__["a" /* MemoryStorage */].get(this.getExpandKey(key));
    };
    MemoryProxyStorageClass.prototype.set = function (key, data) {
        var expandKey = this.getExpandKey(key);
        __WEBPACK_IMPORTED_MODULE_0__memory_MemoryStorage__["a" /* MemoryStorage */].set(expandKey, data);
        this.addKey(expandKey);
        return true;
    };
    MemoryProxyStorageClass.prototype.delete = function (key) {
        var expandKey = this.getExpandKey(key);
        this.removeKey(expandKey);
        return __WEBPACK_IMPORTED_MODULE_0__memory_MemoryStorage__["a" /* MemoryStorage */].delete(expandKey);
    };
    MemoryProxyStorageClass.prototype.clear = function () {
        for (var _i = 0, _a = this.getCurrentStorageKeys(); _i < _a.length; _i++) {
            var key = _a[_i];
            this.delete(key);
        }
        return true;
    };
    MemoryProxyStorageClass.prototype.getExpandKey = function (key) {
        var storagePrefix = this.getCurrentPrefix();
        return storagePrefix + "__" + key;
    };
    MemoryProxyStorageClass.prototype.getCurrentPrefix = function () {
        var _this_1 = this;
        var contextMap = this.prefixMap.find(function (map) {
            return map._this === _this_1.currentContext;
        });
        return contextMap ? contextMap.prefix : "NOT_FOUND";
    };
    MemoryProxyStorageClass.prototype.getCurrentStorageKeys = function () {
        var currentPrefix = this.getCurrentPrefix();
        return this.keys.filter(function (key) { return key.startsWith(currentPrefix); });
    };
    MemoryProxyStorageClass.prototype.addKey = function (expandKey) {
        var index = this.keys.indexOf(expandKey);
        if (index === -1) {
            this.keys.push(expandKey);
        }
    };
    MemoryProxyStorageClass.prototype.removeKey = function (expandKey) {
        var index = this.keys.indexOf(expandKey);
        if (index !== -1) {
            this.keys.splice(index, 1);
        }
    };
    return MemoryProxyStorageClass;
}());
var MemoryProxyStorage = new MemoryProxyStorageClass();


/***/ }),
/* 29 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__ = __webpack_require__(12);



var UserService = (function () {
    function UserService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("UserService");
        this.tagManagerService = __WEBPACK_IMPORTED_MODULE_1__Index__["a" /* TagManagerService */].Instance;
        this.Logger.trace("CTOR");
        this.setDeviceDetails();
    }
    Object.defineProperty(UserService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new UserService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    UserService.prototype.setDeviceDetails = function () {
        this.Logger.trace("setDeviceDetails");
        this.DeviceDetails = __WEBPACK_IMPORTED_MODULE_2__Utils_DeviceDetector__["a" /* DeviceDetector */].getMetaData();
        this.Logger.debug("setDeviceDetails", "this.DeviceDetails", this.DeviceDetails);
    };
    UserService.prototype.setUserState = function (userState, userData) {
        try {
            this.Logger.debug("setUserState userState => ", userState, "userData", userData);
            if (userState) {
                this.tagManagerService.setDLV("userState", userState);
            }
            this.Logger.debug("setUserState userState => ", userState);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return UserService;
}());



/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DataCollectorClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__ = __webpack_require__(0);




var DataCollectorClass = (function () {
    function DataCollectorClass() {
        this.collectedEvents = [];
    }
    DataCollectorClass.prototype.addEventInCollector = function (event) {
        this.collectedEvents.push(event);
        if (event.useInCalculateFirstVisitModel()) {
            __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].collectCdpEvent(event);
        }
    };
    DataCollectorClass.prototype.listenErCode = function () {
        __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlCdpGetSuccess, function (event) {
            var eventData = event.detail;
            if (eventData && eventData.er == __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__["a" /* Constants */].NoErInformation) {
                DataCollector.process();
            }
            else {
                __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].clearData();
            }
        });
    };
    DataCollectorClass.prototype.isCollectedFirstVisit = function (collectedByCondition) {
        return __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].isCollectedFirstVisit(collectedByCondition);
    };
    DataCollectorClass.prototype.getCollectedFirstVisitData = function () {
        return __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].getPageLoadCollectedData();
    };
    DataCollectorClass.prototype.process = function () {
        __WEBPACK_IMPORTED_MODULE_0__classes_FirstVisitDataCollector__["a" /* FirstVisitDataCollector */].process();
    };
    return DataCollectorClass;
}());

var DataCollector = new DataCollectorClass();


/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocalStorage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__memoryProxy_MemoryProxyStorage__ = __webpack_require__(28);

var LocalStorage = (function () {
    function LocalStorage() {
        return __WEBPACK_IMPORTED_MODULE_0__memoryProxy_MemoryProxyStorage__["a" /* MemoryProxyStorage */].applyProxy(this, "LocalStorage");
    }
    LocalStorage.prototype.isSupported = function () {
        var result;
        try {
            var key = "isSupportedLocalStorageKey";
            var value = "isSupportedLocalStorageValue";
            localStorage.setItem(key, value);
            if (localStorage.getItem(key) === value) {
                localStorage.removeItem(key);
                result = true;
            }
        }
        catch (ex) {
            result = false;
        }
        finally {
            return result;
        }
    };
    LocalStorage.prototype.get = function (key) {
        try {
            var data = localStorage.getItem(key);
            return JSON.parse(data);
        }
        catch (ex) {
            return null;
        }
    };
    LocalStorage.prototype.set = function (key, object) {
        var success;
        try {
            localStorage.setItem(key, JSON.stringify(object));
            success = true;
        }
        catch (ex) {
            success = false;
        }
        finally {
            return success;
        }
    };
    LocalStorage.prototype.delete = function (key) {
        var success;
        try {
            localStorage.removeItem(key);
            success = true;
        }
        catch (ex) {
            success = false;
        }
        finally {
            return success;
        }
    };
    LocalStorage.prototype.clear = function () {
        var success;
        try {
            localStorage.clear();
            success = true;
        }
        catch (ex) {
            success = false;
        }
        finally {
            return success;
        }
    };
    return LocalStorage;
}());



/***/ }),
/* 32 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferEventDataEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_OfferModel__ = __webpack_require__(56);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var OfferEventDataEvent = (function (_super) {
    __extends(OfferEventDataEvent, _super);
    function OfferEventDataEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OfferEventDataEvent.prototype.createOfferEventData = function (offer) {
        var fnName = "[createOfferEventData]";
        try {
            this.Logger.trace(fnName, "data", offer);
            var offerEventData = new __WEBPACK_IMPORTED_MODULE_1__models_OfferModel__["a" /* OfferModel */](offer);
            this.Logger.trace(fnName, "cdpData => ", offerEventData);
            return offerEventData;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    OfferEventDataEvent.prototype.getEventModel = function () {
        _super.prototype.getEventModel.call(this);
        var offerData = {};
        if (this.originalEventData.offer) {
            offerData = this.createOfferEventData(this.originalEventData.offer);
        }
        ;
        this.transformEventData(offerData);
        return this.eventModel;
    };
    return OfferEventDataEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 33 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CookiesStorageClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CookiesStorage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__JsCookie__ = __webpack_require__(67);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__memoryProxy_MemoryProxyStorage__ = __webpack_require__(28);


var CookiesStorageClass = (function () {
    function CookiesStorageClass() {
        this.cookies = __WEBPACK_IMPORTED_MODULE_0__JsCookie__["a" /* JsCookie */].getInstance();
        return __WEBPACK_IMPORTED_MODULE_1__memoryProxy_MemoryProxyStorage__["a" /* MemoryProxyStorage */].applyProxy(this, "CookiesStorage");
    }
    CookiesStorageClass.prototype.isSupported = function () {
        var cookies = __WEBPACK_IMPORTED_MODULE_0__JsCookie__["a" /* JsCookie */].getInstance();
        var result = false;
        try {
            var key = "isSupportedCookieKey";
            var value = "isSupportedCookieValue";
            cookies.set(key, value, null);
            if (cookies.get(key) === value) {
                cookies.remove(key, null);
                result = true;
            }
        }
        catch (ex) {
            result = false;
        }
        finally {
            return result;
        }
    };
    CookiesStorageClass.prototype.get = function (key, converter) {
        if (converter === void 0) { converter = {}; }
        return this.cookies.get(key, converter);
    };
    CookiesStorageClass.prototype.set = function (key, value, options, converter) {
        if (converter === void 0) { converter = {}; }
        if (options && options.daysOfLife) {
            var expireDate = new Date();
            expireDate.setDate(expireDate.getDate() + options.daysOfLife);
            options.expires = expireDate;
        }
        return this.cookies.set(key, value, options, converter);
    };
    CookiesStorageClass.prototype.delete = function (key, options) {
        return this.cookies.remove(key, options);
    };
    CookiesStorageClass.prototype.clear = function () {
        return false;
    };
    return CookiesStorageClass;
}());

var CookiesStorage = new CookiesStorageClass();


/***/ }),
/* 34 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EventService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MetaDataService__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__FailedEventService__ = __webpack_require__(37);






var EventService = (function () {
    function EventService() {
        var _this = this;
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("EventService", "#fb9b25");
        this.collectedEvents = [];
        this.Logger.trace("CTOR");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_3__SessionService__["a" /* SessionService */].Instance;
        this.azureService = __WEBPACK_IMPORTED_MODULE_1__Index__["b" /* AzureService */].Instance;
        this.tagManagerService = __WEBPACK_IMPORTED_MODULE_1__Index__["a" /* TagManagerService */].Instance;
        this.appInsightsService = __WEBPACK_IMPORTED_MODULE_1__Index__["c" /* AppInsightsService */].Instance;
        this.dimensionService = __WEBPACK_IMPORTED_MODULE_2__MetaDataService__["a" /* MetaDataService */].Instance;
        this.failedEventService = __WEBPACK_IMPORTED_MODULE_5__FailedEventService__["a" /* FailedEventService */].Instance;
        var checkQueryEventsInterval = setInterval(function () {
            if (_this.collectedEvents && _this.collectedEvents.length && _this.isReadyDeviceId()) {
                clearInterval(checkQueryEventsInterval);
                _this.sendTagCollectedEvents();
            }
        }, 1000);
    }
    Object.defineProperty(EventService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new EventService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    EventService.prototype.sendEvent = function (eventName, eventPayload, skipCollectedDimensions) {
        if (this.isReadyDeviceId()) {
            if (this.collectedEvents && this.collectedEvents.length) {
                this.collectedEvents.push({
                    eventName: eventName,
                    eventPayload: eventPayload,
                    skipCollectedDimensions: skipCollectedDimensions
                });
                this.sendTagCollectedEvents();
            }
            else {
                this.sendApprovedEvent(eventName, eventPayload, skipCollectedDimensions);
            }
        }
        else {
            this.collectedEvents.push({
                eventName: eventName,
                eventPayload: eventPayload,
                skipCollectedDimensions: skipCollectedDimensions
            });
        }
    };
    EventService.prototype.isReadyDeviceId = function () {
        if (__WEBPACK_IMPORTED_MODULE_4__Utils_DeviceDetector__["a" /* DeviceDetector */].getCalculatedDeviceId()) {
            return true;
        }
        else {
            return false;
        }
    };
    EventService.prototype.sendTagCollectedEvents = function () {
        var _this = this;
        if (!this.collectedEvents) {
            return;
        }
        this.collectedEvents.forEach(function (event) {
            _this.sendApprovedEvent(event.eventName, event.eventPayload, event.skipCollectedDimensions);
        });
        this.collectedEvents = [];
    };
    EventService.prototype.sendApprovedEvent = function (eventName, eventPayload, skipCollectedDimensions) {
        try {
            this.Logger.debug("EventService.sendEvent...", eventName, eventPayload);
            this.azureService.sendData(eventName, eventPayload);
            if (!skipCollectedDimensions) {
                if (!eventPayload) {
                    eventPayload = {};
                }
                if (this.dimensionService && this.dimensionService.analyticsDimensions) {
                    eventPayload = Object.assign(eventPayload, this.dimensionService.analyticsDimensions);
                }
            }
            this.tagManagerService.sendTag(eventName, eventPayload);
            delete eventPayload["gtm.uniqueEventId"];
            this.appInsightsService.trackEvent(eventName, eventPayload);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    EventService.prototype.resendFailedEvents = function () {
        this.failedEventService.clean();
    };
    return EventService;
}());



/***/ }),
/* 35 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CalculationResultModel; });
var CalculationResultModel = (function () {
    function CalculationResultModel(miscKey, value, enableGA) {
        if (enableGA === void 0) { enableGA = false; }
        this.miscKey = miscKey;
        this.value = value;
        this.enableGA = enableGA || false;
    }
    return CalculationResultModel;
}());



/***/ }),
/* 36 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Http; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_BugTrackUtil__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


var Http = (function () {
    function Http() {
    }
    Http.prototype.get = function (url, payload, options) {
        return this.call("GET", url, payload, options);
    };
    Http.prototype.post = function (url, payload, options) {
        return this.call("POST", url, payload, options);
    };
    Http.prototype.call = function (method, url, payload, options) {
        var _this = this;
        if (payload === void 0) { payload = {}; }
        if (options === void 0) { options = {}; }
        var fetchURL = new URL(url);
        var fetchOptions = {};
        var guid = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].createGUID();
        if (options.headers) {
            var headers = new Headers(options.headers);
            headers.append("Content-Type", options.contentType ? options.contentType : "application/json");
            headers.append("Accept", "application/json");
            __WEBPACK_IMPORTED_MODULE_0__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addFetchLogHeader(headers, fetchURL);
            fetchOptions["headers"] = headers;
        }
        fetchOptions["method"] = method;
        if (method === "GET") {
            if (payload) {
                Object.keys(payload).forEach(function (key) {
                    fetchURL.searchParams.append(key, payload[key]);
                });
            }
        }
        else {
            fetchOptions["body"] = JSON.stringify(payload);
        }
        return fetch(fetchURL.href, fetchOptions)
            .then(function (response) { return __awaiter(_this, void 0, void 0, function () {
            var textData, jsonData, text, error_1, excludedStatuses, contentType, error_2, data;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        textData = null;
                        jsonData = null;
                        text = "";
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4, response.text()];
                    case 2:
                        text = _a.sent();
                        textData = JSON.parse(text);
                        return [3, 4];
                    case 3:
                        error_1 = _a.sent();
                        excludedStatuses = [404, 500, 502];
                        if (excludedStatuses.indexOf(response.status) !== -1) {
                            __WEBPACK_IMPORTED_MODULE_0__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addHttpNotJson(JSON.stringify({ error: text, status: response.status, url: fetchURL.href }));
                        }
                        return [3, 4];
                    case 4:
                        if (!!textData) return [3, 9];
                        _a.label = 5;
                    case 5:
                        _a.trys.push([5, 8, , 9]);
                        if (!response.ok) return [3, 7];
                        contentType = response.headers.get("content-type");
                        if (!(contentType && contentType.includes("application/json"))) return [3, 7];
                        return [4, response.json()];
                    case 6:
                        jsonData = _a.sent();
                        _a.label = 7;
                    case 7: return [3, 9];
                    case 8:
                        error_2 = _a.sent();
                        return [3, 9];
                    case 9:
                        data = textData || jsonData || { custom_error: "error for log" };
                        return [2, { response: response, data: data }];
                }
            });
        }); })
            .then(function (_a) {
            var _b;
            var response = _a.response, data = _a.data;
            var cdpReqIdHeader = "x-request-id";
            var status = "aft-fet:id=" + guid.substr(0, 4) + "->" + response.headers.get(cdpReqIdHeader);
            __WEBPACK_IMPORTED_MODULE_0__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus(status);
            var needUseExposedHeaders = !!((_b = options.exposedHeaders) === null || _b === void 0 ? void 0 : _b.length);
            var needUseStatusCode = options.statusCodeEnabled === true;
            var needUseExtendModel = needUseExposedHeaders || needUseStatusCode;
            var httpResponse = { data: data };
            if (needUseExposedHeaders) {
                httpResponse.exposedHeaders = {};
                options.exposedHeaders.forEach(function (header) {
                    httpResponse.exposedHeaders[header] = response.headers.get(header);
                });
            }
            if (needUseStatusCode) {
                httpResponse.statusCode = response.status + "";
            }
            var result = needUseExtendModel ? httpResponse : httpResponse.data;
            if (!response.ok) {
                return Promise.reject(result);
            }
            else {
                return result;
            }
        })
            .catch(function (error) {
            return Promise.reject(error);
        });
    };
    return Http;
}());



/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FailedEventService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_models_SendOptionsModel__ = __webpack_require__(43);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Utils_Utils__ = __webpack_require__(0);








var FailedEventService = (function () {
    function FailedEventService() {
        this.failedEventStoragePrefix = "FailedEvent_";
        this.mutexKey = "FailedEventMutex";
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("FailedEventService");
    }
    Object.defineProperty(FailedEventService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new FailedEventService();
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    FailedEventService.prototype.stash = function (data) {
        if (!data)
            return;
        var key = this.getFailedEventKey(data);
        __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(key, data, false);
        this.Logger.debug("stash", key);
    };
    FailedEventService.prototype.drop = function (data) {
        if (!data)
            return;
        var key = this.getFailedEventKey(data);
        __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].delete(key, false);
        this.Logger.debug("drop", key);
    };
    FailedEventService.prototype.clean = function () {
        var _this = this;
        var delay = __WEBPACK_IMPORTED_MODULE_7__Utils_Utils__["a" /* Utils */].getRandomIntegerInRange(0, 1000);
        setTimeout(function () {
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addRepeatDelay(delay);
            __WEBPACK_IMPORTED_MODULE_4__Utils_BugTrackUtil__["a" /* BugTrackUtil */].createEventsCall();
            try {
                var mutexId = _this.getMutexId();
                if (mutexId && mutexId !== __WEBPACK_IMPORTED_MODULE_5__SessionService__["a" /* SessionService */].Instance.PageSessionId) {
                    if (__WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].daysDiff(_this.getMutexDate()) > 10) {
                        _this.deleteMutex();
                    }
                    else {
                        return;
                    }
                }
                _this.setMutex();
                _this.getFailedEventKeys().forEach(function (expandedKey) {
                    var data = __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(expandedKey, false);
                    var options = new __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_models_SendOptionsModel__["a" /* SendOptionsModel */]({ IsAsync: true, IsResend: true });
                    __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].sendEvent(data, options);
                    _this.drop(data);
                });
            }
            catch (e) {
            }
            finally {
                _this.deleteMutex();
            }
        }, delay);
    };
    FailedEventService.prototype.getMutexId = function () {
        var mutexValue = __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.mutexKey, false);
        if (!mutexValue)
            return null;
        var _a = mutexValue.split("__"), id = _a[0], date = _a[1];
        return id;
    };
    FailedEventService.prototype.getMutexDate = function () {
        var mutexValue = __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.mutexKey, false);
        if (!mutexValue)
            return null;
        var _a = mutexValue.split("__"), id = _a[0], date = _a[1];
        return date;
    };
    FailedEventService.prototype.setMutex = function () {
        __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.mutexKey, __WEBPACK_IMPORTED_MODULE_5__SessionService__["a" /* SessionService */].Instance.PageSessionId + "__" + new Date().valueOf(), false);
    };
    FailedEventService.prototype.deleteMutex = function () {
        __WEBPACK_IMPORTED_MODULE_2__Data_modules_LocalStorageService__["a" /* LocalStorageService */].delete(this.mutexKey, false);
    };
    FailedEventService.prototype.getFailedEventKey = function (data) {
        return this.failedEventStoragePrefix + data.Id;
    };
    FailedEventService.prototype.getFailedEventKeys = function () {
        var _this = this;
        try {
            return Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.failedEventStoragePrefix); });
        }
        catch (ex) {
            return [];
        }
    };
    return FailedEventService;
}());



/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Logger; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Logger_Core__ = __webpack_require__(1);

var noop = function () { return undefined; };
var Logger = (function () {
    function Logger(className, enabled, logLevel, style) {
        this._logPrefix = "%c<<G2Analytics>>";
        this._className = "General";
        this._enabled = true;
        this._logLevel = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug;
        this._style = "";
        this._className = className;
        this._enabled = enabled;
        this._logLevel = logLevel;
        this._style = style;
    }
    Logger.prototype.setEnabled = function (val) {
        var clsName = this._className;
        this._enabled = val;
    };
    Logger.prototype.setLogLevel = function (level) {
        this._logLevel = level;
    };
    Logger.prototype.format = function () {
        return this._logPrefix + "[" + this._className + "] ";
    };
    Logger.prototype.getStyle = function (logLevel) {
        var style;
        var bg = "none";
        if (this._style) {
            style = this._style;
            bg = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["d" /* LOG_LEVEL_STYLE2 */][logLevel].bg;
        }
        else {
            style = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["e" /* LOG_LEVEL_STYLE */][logLevel];
            bg = __WEBPACK_IMPORTED_MODULE_0__Logger_Core__["d" /* LOG_LEVEL_STYLE2 */][logLevel].bg;
        }
        return ["color:" + style + ";font-weight:bold;"];
    };
    Object.defineProperty(Logger.prototype, "debug", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug)) {
                return console.debug.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Debug));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "info", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Info)) {
                return console.info.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Info));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "warn", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Warn)) {
                return console.warn.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Warn));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "error", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Error)) {
                return console.error.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Error));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "fatal", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Fatal)) {
                return console.error.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Fatal));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(Logger.prototype, "trace", {
        get: function () {
            if (this.isEnabled(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Trace)) {
                return console.debug.bind(console, this.format(), this.getStyle(__WEBPACK_IMPORTED_MODULE_0__Logger_Core__["b" /* LogLevel */].Trace));
            }
            else {
                return noop;
            }
        },
        enumerable: false,
        configurable: true
    });
    Logger.prototype.isEnabled = function (logLevel) {
        if (logLevel >= this._logLevel && this._enabled) {
            return true;
        }
        else {
            return false;
        }
    };
    return Logger;
}());



/***/ }),
/* 39 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Collector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_abModule_EngageABModule__ = __webpack_require__(171);


var Collector = (function () {
    function Collector() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("Collector");
        this.listeners = [];
    }
    Collector.prototype.registerEvents = function () {
        var _this = this;
        var events = Object.keys(this.events);
        events.forEach(function (eventName) {
            try {
                var eventListener = new _this.events[eventName]();
                _this.listeners[eventName] = __WEBPACK_IMPORTED_MODULE_1__Modules_abModule_EngageABModule__["a" /* ABModule */].addMisc(eventListener);
                eventListener.listen();
            }
            catch (e) {
                _this.Logger.fatal(e);
            }
        });
    };
    ;
    Collector.prototype.isHavePageViewEvent = function () {
        return false;
    };
    return Collector;
}());



/***/ }),
/* 40 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddressModel; });
var AddressModel = (function () {
    function AddressModel(data) {
        if (!data)
            return;
        this.FirstName = data.firstName;
        this.LastName = data.lastName;
        this.Address = data.address;
        this.Phone = data.phone;
        this.AptUnit = data.aptUnit;
        this.Zipcode = data.zipCode;
        this.City = data.city;
        this.State = data.state;
        this.Country = data.country;
        this.Name = data.name;
    }
    return AddressModel;
}());



/***/ }),
/* 41 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInformationModel; });
var UserInformationModel = (function () {
    function UserInformationModel(data) {
        if (!data)
            return;
        this.Email = data.email;
        this.DisplayName = data.displayName;
    }
    return UserInformationModel;
}());



/***/ }),
/* 42 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpEventModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);

var CdpEventModel = (function () {
    function CdpEventModel(data) {
        this.Id = __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].createGUID();
        this.EventData = [];
        if (!data)
            return;
        this.EventName = data.EventName;
        this.EventType = data.EventType;
        this.EventTimestamp = data.EventTimestamp;
        this.DeviceId = data.DeviceId;
        this.G2Ideviceid = data.G2Ideviceid;
        this.DeviceBrowserSessionId = data.DeviceBrowserSessionId;
        this.PageSessionId = data.PageSessionId;
        this.ConfigCode = data.ConfigCode;
        this.SiteCode = data.SiteCode;
        this.ClientCode = data.ClientCode;
        this.SiteEnvironment = data.SiteEnvironment || "Unknown";
        this.EventSource = data.EventSource || "Unknown";
        this.EventData = data.EventData;
    }
    return CdpEventModel;
}());



/***/ }),
/* 43 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SendOptionsModel; });
var SendOptionsModel = (function () {
    function SendOptionsModel(data) {
        this.IsAsync = false;
        this.IsResend = false;
        if (!data) {
            return;
        }
        this.IsAsync = data.IsAsync;
        this.IsResend = data.IsResend;
    }
    return SendOptionsModel;
}());



/***/ }),
/* 44 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__ = __webpack_require__(12);

var DeviceModel = (function () {
    function DeviceModel() {
        var userMeta = __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__["a" /* DeviceDetector */].getMetaData();
        this.Browser = userMeta.Browser;
        this.Type = userMeta.DeviceType;
        this.OS = userMeta.OS;
    }
    return DeviceModel;
}());



/***/ }),
/* 45 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferTagModel; });
var OfferTagModel = (function () {
    function OfferTagModel(offer) {
        this.Id = this.getOfferId(offer);
        this.PlanName = offer.Name,
            this.TotalPrice = offer.TotalPrice;
        this.Type = this.getOfferType(offer);
    }
    OfferTagModel.prototype.getOfferId = function (offer) {
        if (offer.OfferId) {
            return offer.OfferId.toString();
        }
        else {
            if (offer.PlanId) {
                return offer.PlanId.toString();
            }
            else {
                return "";
            }
        }
    };
    OfferTagModel.prototype.getOfferType = function (offer) {
        if ((offer.IsDigital || offer.IsEedition) && offer.IsPrint) {
            return "Both";
        }
        else if (offer.IsDigital) {
            return "Digital";
        }
        else if (offer.IsPrint) {
            return "Print";
        }
        else {
            return "Unknown";
        }
    };
    return OfferTagModel;
}());



/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export UserState */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextUserState; });
var UserState = {
    "LoggedIn": "Known",
    "Subscriber": "Subscriber",
    "Unknown": "Unknown"
};
var ConnextUserState = {
    "notAuthorized": UserState.Unknown,
    "authorized": UserState.LoggedIn,
    "hasAccess": UserState.Subscriber
};


/***/ }),
/* 47 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return ActionTypeDict; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionTypes; });
var ActionTypeDict = {
    1: "Banner",
    4: "Inline",
    2: "Modal",
    3: "Paywall",
    6: "SmallInfoBox",
    7: "JS",
    11: "Newsletter",
    16: "InsightsRecommendation"
};
var ActionTypes = {
    "Banner": "Banner",
    "Inline": "Inline",
    "Modal": "Modal",
    "Paywall": "Paywall",
    "SmallInfoBox": "SmallInfoBox",
    "JS": "JS",
    "Newsletter": "Newsletter",
    "InsightsRecommendation": "InsightsRecommendation"
};


/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AzureService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Index__ = __webpack_require__(4);



var AzureService = (function () {
    function AzureService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("AzureService", "#b270df");
        this.OPTIONS = {
            enabled: false
        };
        this.Logger.trace("CTOR");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_2__Index__["d" /* SessionService */].Instance;
    }
    Object.defineProperty(AzureService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new AzureService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    AzureService.prototype.setup = function (opts) {
        try {
            this.Logger.trace("setOptions", opts);
            this.OPTIONS = opts;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    AzureService.prototype.createPayload = function (eventName) {
        try {
            var entity = {
                PartitionKey: eventName,
                RowKey: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].createGUID(),
                SessionId: this.sessionService.PageSessionId,
                AiAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsAppInsightsAvail(),
                GaAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsGoogleAnalyticsAvail(),
                GtmAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsGTMAvail(),
                CxtAvail: __WEBPACK_IMPORTED_MODULE_1__utils_Utils__["a" /* Utils */].IsConnextAvail()
            };
            return entity;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    AzureService.prototype.sendData = function (eventName, eventData) {
        try {
            if (!this.OPTIONS.enabled) {
                this.Logger.trace("sendData", "NOT ENABLED");
                return;
            }
            this.Logger.info("sendData this.pageService.PageSessionId", this.sessionService.PageSessionId);
            var payload = this.createPayload(eventName);
            this.Logger.debug("sendData", "EventName => ", eventName, "EventData => ", eventData, "Payload => ", payload);
            return;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return AzureService;
}());



/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TagManagerService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);

var TagManagerService = (function () {
    function TagManagerService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("TagManagerService", "#d234c3");
    }
    Object.defineProperty(TagManagerService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new TagManagerService();
                this.instance._dataLayer = [];
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    TagManagerService.prototype.getDataLayer = function () {
        return this._dataLayer;
    };
    TagManagerService.prototype.setup = function (containerId) {
        try {
            this.Logger.debug("Initializing TagManager With ContainerId: ", containerId);
            (function (windowArg, documentArg, scriptArg, dataLayerArg, GTMId) {
                var winDataLayer = windowArg["G2Analytics"].DataLayer;
                windowArg[dataLayerArg] = winDataLayer || [];
                windowArg[dataLayerArg].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
                var f = documentArg.getElementsByTagName(scriptArg)[0];
                var j = documentArg.createElement(scriptArg);
                var dl = dataLayerArg !== "dataLayer" ? "&l=" + dataLayerArg : "";
                j.async = true;
                j.src = "https://www.googletagmanager.com/gtm.js?id=" + GTMId + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, "script", "MG2DL", containerId);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    TagManagerService.prototype.sendTag = function (eventName, eventPayload) {
        try {
            eventPayload["event"] = eventName;
            this.Logger.info("Sending Tag.... ", eventName, eventPayload);
            this._dataLayer.push(eventPayload);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    TagManagerService.prototype.setDLV = function (varName, value) {
        try {
            this.Logger.debug("setDLV", varName, value);
            var obj = {};
            obj[varName] = value;
            this._dataLayer.push(obj);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return TagManagerService;
}());



/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BotDetector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BotModel__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__BotList__ = __webpack_require__(71);


var BotDetector = (function () {
    function BotDetector(userAgentInfo) {
        if (window.DeviceDetector && window.DeviceDetector.Device) {
            this.detectBot = window.DeviceDetector.Device.bot;
            return;
        }
        var userAgent = userAgentInfo || navigator.userAgent;
        var botRegExpLength = __WEBPACK_IMPORTED_MODULE_1__BotList__["a" /* BotList */].length;
        for (var i = 0; i < botRegExpLength; i++) {
            if (new RegExp(__WEBPACK_IMPORTED_MODULE_1__BotList__["a" /* BotList */][i].regex).test(userAgent)) {
                this.detectBot = new __WEBPACK_IMPORTED_MODULE_0__BotModel__["a" /* BotModel */](__WEBPACK_IMPORTED_MODULE_1__BotList__["a" /* BotList */][i]);
                return;
            }
        }
    }
    BotDetector.prototype.getDetectBot = function () {
        return this.detectBot || null;
    };
    return BotDetector;
}());



/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DataLayerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpDataLayer; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Modules_deviceModule_DeviceModule__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};













var DataLayerClass = (function () {
    function DataLayerClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Data Layer");
        this.dlStorageKey = "cdp-dl";
        this.sessionService = __WEBPACK_IMPORTED_MODULE_0__Data_services_SessionService__["a" /* SessionService */].Instance;
        this.hasNetworkError = false;
        this.setLocalDlData();
        this.listen();
    }
    DataLayerClass.prototype.setLocalDlData = function () {
        var localDl = this.getCdpDlFromStorage();
        if (localDl && localDl.apiDl) {
            this.dlData = localDl.apiDl;
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("update_local_value");
        }
        else {
            this.dlData = {};
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("set_local_default");
        }
    };
    DataLayerClass.prototype.setInformation = function (deviceId) {
        var _this = this;
        return this.getCdpDl(deviceId)
            .then(function (apiDlData) {
            __WEBPACK_IMPORTED_MODULE_2__Modules_dataCollector_DataCollector__["a" /* DataCollector */].listenErCode();
            _this.handleCdpDlResponce(apiDlData, deviceId);
            var customEvent = new CustomEvent(__WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlCdpGetSuccess, { detail: _this.getDlData() });
            document.dispatchEvent(customEvent);
        }).catch(function (error) {
            _this.handleCdpDlResponce(null, deviceId);
            var customEvent = new CustomEvent(__WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlCdpGetFail, { detail: error });
            document.dispatchEvent(customEvent);
        }).then(function () {
            __WEBPACK_IMPORTED_MODULE_11__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].sendSavedRegeneration();
            __WEBPACK_IMPORTED_MODULE_12__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].updateG2IDeviceId();
        });
    };
    DataLayerClass.prototype.handleCdpDlResponce = function (apiDlData, deviceId) {
        this.setCdpDlToStorage(apiDlData, deviceId);
        __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("setCdpDl", this.getErForGA() + "");
        __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("setCdpDlEr", this.getEr() + "");
        __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("setCdpDlErp", this.getErp() + "");
        __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("setCdpDlCr", this.getCr() + "");
        __WEBPACK_IMPORTED_MODULE_7__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("setCdpDlCrp", this.getCrp() + "");
    };
    DataLayerClass.prototype.getDlData = function () {
        return this.dlData;
    };
    DataLayerClass.prototype.getErForGA = function () {
        var result = this.getDlData().er || null;
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addErStatus("ga-er=" + result);
        return result;
    };
    DataLayerClass.prototype.getCrForGA = function () {
        var result = this.getDlData().cr || null;
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("ga-ch=" + result);
        return result;
    };
    DataLayerClass.prototype.getG2iDeviceId = function () {
        var result = this.getDlData().g2ideviceid || null;
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addG2iStatus("g2i=" + result);
        return result;
    };
    DataLayerClass.prototype.getEr = function () {
        return this.getDlData().er || null;
    };
    DataLayerClass.prototype.getErp = function () {
        return this.getDlData().erp || null;
    };
    DataLayerClass.prototype.getCr = function () {
        return this.getDlData().cr || null;
    };
    DataLayerClass.prototype.getCrp = function () {
        return this.getDlData().crp || null;
    };
    DataLayerClass.prototype.getDeviceIdFromStorage = function () {
        var dlObject = this.getCdpDlFromStorage();
        return dlObject ? dlObject.deviceId : null;
    };
    DataLayerClass.prototype.isValidLocalInformation = function (localDl) {
        var isInCurrentDeviceSession = localDl && (localDl.browserSession === this.sessionService.getDeviceSessionId());
        if (isInCurrentDeviceSession && this.isActualCdpDlStorage(localDl)) {
            if (localDl.apiDl && localDl.apiDl.er !== __WEBPACK_IMPORTED_MODULE_4__Core_constants_Constants__["a" /* Constants */].NoErInformation) {
                return true;
            }
        }
        return false;
    };
    DataLayerClass.prototype.getCdpDl = function (deviceId) {
        var localDl = this.getCdpDlFromStorage();
        if (this.isValidLocalInformation(localDl)) {
            if (localDl.apiDl.er_expire_date && localDl.apiDl.g2ideviceid) {
                __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("valid");
            }
            else {
                __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("empty_data=" + JSON.stringify(localDl.apiDl));
            }
            return Promise.resolve(localDl.apiDl);
        }
        if (localDl) {
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserReqReasons("expired");
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("expired");
        }
        else {
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserReqReasons("empty");
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("empty");
        }
        return this.getCdpDlFromApi(deviceId);
    };
    DataLayerClass.prototype.getCdpDlFromStorage = function () {
        return __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.dlStorageKey);
    };
    DataLayerClass.prototype.updateDeviceIdInCdpDlStorage = function (deviceId) {
        var dlData = __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(this.dlStorageKey);
        if (dlData) {
            dlData.deviceId = deviceId;
            __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.dlStorageKey, dlData);
        }
    };
    DataLayerClass.prototype.deleteCdpDlStorage = function () {
        __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].delete(this.dlStorageKey);
    };
    DataLayerClass.prototype.fireG2iChangeEventIfNeed = function (dlInformation, deviceId, isSkipped) {
        var _a;
        var storedData = this.getCdpDlFromStorage();
        var storedG2i = (_a = storedData === null || storedData === void 0 ? void 0 : storedData.apiDl) === null || _a === void 0 ? void 0 : _a.g2ideviceid;
        if (storedG2i && storedG2i !== (dlInformation === null || dlInformation === void 0 ? void 0 : dlInformation.g2ideviceid)) {
            var eventData = {
                OldG2i: storedG2i,
                NewG2i: dlInformation === null || dlInformation === void 0 ? void 0 : dlInformation.g2ideviceid,
                BrowserCache: storedData,
                ResposeData: dlInformation,
                Skipped: isSkipped
            };
            var event_1 = new CustomEvent("onG2iDeviceIdChange", { detail: eventData });
            document.dispatchEvent(event_1);
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addG2iUnlinking(storedG2i, dlInformation === null || dlInformation === void 0 ? void 0 : dlInformation.g2ideviceid, deviceId, dlInformation);
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("before_set_ls_unlink");
        }
    };
    DataLayerClass.prototype.mergeData = function (res) {
        var _a;
        if (!(res === null || res === void 0 ? void 0 : res.g2ideviceid)) {
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("try_set_ls_empty");
        }
        var storedData = (_a = this.getCdpDlFromStorage()) === null || _a === void 0 ? void 0 : _a.apiDl;
        var errorCodes = {
            NetworkError: -51,
            EmptyResponse: -52
        };
        var fallbackCode = this.hasNetworkError ? errorCodes.NetworkError : errorCodes.EmptyResponse;
        var fallbackData = {
            er: fallbackCode,
            erp: fallbackCode,
            cr: fallbackCode,
            crp: fallbackCode,
            g2ideviceid: String(fallbackCode),
            er_expire_date: __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getNowDateInSec() + 1,
            interests: []
        };
        var omitEmpty = function (obj) {
            if (obj === void 0) { obj = {}; }
            obj = __assign({}, obj);
            Object.keys(obj).filter(function (k) { return obj[k] === null || obj[k] === undefined; }).forEach(function (k) { return delete (obj[k]); });
            return obj;
        };
        var result = __assign(__assign(__assign({}, fallbackData), omitEmpty(storedData)), omitEmpty(res));
        return result;
    };
    DataLayerClass.prototype.setCdpDlToStorage = function (dlInformation, deviceId) {
        dlInformation = this.mergeData(dlInformation);
        if (!dlInformation.er_expire_date) {
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserReqErExpireDate(dlInformation.er_expire_date);
            dlInformation.er_expire_date = __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getDateInSec(__WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].addDays(new Date(), 1));
        }
        var saveDl = {
            apiDl: dlInformation,
            deviceId: deviceId,
            browserSession: this.sessionService.getDeviceSessionId()
        };
        if (!this.isActualCdpDlStorage(saveDl)) {
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserReqErExpireDate(saveDl.apiDl.er_expire_date);
        }
        this.fireG2iChangeEventIfNeed(dlInformation, deviceId, false);
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserReqAllowedSend();
        var isSet = __WEBPACK_IMPORTED_MODULE_8__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(this.dlStorageKey, saveDl);
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("set_ls_success=" + isSet);
        var didLs = this.getDeviceIdFromStorage();
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("did_ls_onupdate=" + didLs);
        this.setLocalDlData();
    };
    DataLayerClass.prototype.isActualCdpDlStorage = function (cdpStorage) {
        return (Date.now() - __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getDateValueFromTimestamp(cdpStorage.apiDl.er_expire_date) < 0);
    };
    DataLayerClass.prototype.listen = function () {
        this.prolongateUserStorageIfNeed();
        this.cdpDlDataAvailability();
    };
    DataLayerClass.prototype.prolongateUserStorageIfNeed = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_10__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, __WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].RegenererationResendSuccess, function (event) {
            var regenerate = event.detail;
            var cdpStorage = _this.getCdpDlFromStorage();
            var apiDl = cdpStorage === null || cdpStorage === void 0 ? void 0 : cdpStorage.apiDl;
            var date = apiDl === null || apiDl === void 0 ? void 0 : apiDl.er_expire_date;
            var dateInHour = __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getDateInSec(__WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].addHours(new Date(), 1));
            if (date && date < dateInHour) {
                __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addStorageProlongation(date, dateInHour, regenerate);
                apiDl.er_expire_date = dateInHour;
                _this.setCdpDlToStorage(apiDl, regenerate.new_device_id);
            }
        });
    };
    DataLayerClass.prototype.cdpDlDataAvailability = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_10__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, __WEBPACK_IMPORTED_MODULE_3__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].G2IAfterSetInitOptions, function (e) {
            _this.setLocalDlData();
        });
    };
    DataLayerClass.prototype.getCdpDlFromApi = function (deviceId) {
        var _this = this;
        var options = __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addBotInfoHeader();
        options = __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addInitSettingsHeader(options);
        options.exposedHeaders = options.exposedHeaders || [];
        options.exposedHeaders.push("x-request-id");
        options.statusCodeEnabled = true;
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("before_get_user");
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("user", {}, options)
            .then(function (res) {
            _this.trackRequestId(res);
            return res.data;
        }).catch(function (res) {
            var isExtendedModel = res.data && res.exposedHeaders;
            if (isExtendedModel) {
                _this.trackRequestId(res);
            }
            else {
                __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("catch=" + (res instanceof Error ? res.toString() : JSON.stringify(res)).substring(0, 64));
            }
            __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("resend");
            return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("user", {}, options)
                .then(function (res) {
                _this.trackRequestId(res);
                return res.data;
            }).catch(function (res) {
                _this.hasNetworkError = true;
                var isExtendedModel = res.data && res.exposedHeaders;
                if (isExtendedModel) {
                    _this.trackRequestId(res);
                }
                else {
                    __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("catch=" + (res instanceof Error ? res.toString() : JSON.stringify(res)).substring(0, 64));
                }
                __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("double_failed");
                return Promise.reject(isExtendedModel ? res.data : res);
            });
        });
    };
    DataLayerClass.prototype.trackRequestId = function (res) {
        var reqid = res.exposedHeaders["x-request-id"] || "g2i_empty_fallback";
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserErReqid(reqid);
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("after_get_user=" + reqid);
        __WEBPACK_IMPORTED_MODULE_9__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("status_code=" + res.statusCode);
    };
    return DataLayerClass;
}());

var CdpDataLayer = new DataLayerClass();


/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ModeTypes__ = __webpack_require__(85);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__ModeTypes__["a"]; });



/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProxyService; });
var __spreadArrays = (this && this.__spreadArrays) || function () {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};
var ProxyServiceClass = (function () {
    function ProxyServiceClass() {
    }
    ProxyServiceClass.prototype.apply = function (context, handlerSetting) {
        var originalMethod = context[handlerSetting.target].bind(context);
        context[handlerSetting.target] = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return handlerSetting.handler.apply(context, __spreadArrays([originalMethod], args));
        };
        return context;
    };
    return ProxyServiceClass;
}());
var ProxyService = new ProxyServiceClass();


/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommonConfigData; });
var isReplacedByCI = function (replacedCIPattern) { return !replacedCIPattern.startsWith("#") && !replacedCIPattern.endsWith("#"); };
var eventsUrlCI = "https://events.mg2insights.com";
var eventsUrlFallback = "https://events.mg2insights.com";
var eventsUrl = isReplacedByCI(eventsUrlCI) ? eventsUrlCI : eventsUrlFallback;
var apiUrlCI = "https://api.mg2insights.com";
var apiUrlFallback = "https://api.mg2insights.com";
var apiUrl = isReplacedByCI(apiUrlCI) ? apiUrlCI : apiUrlFallback;
var CommonConfigData = {
    eventsUrl: eventsUrl + "/events",
    apiUrl: apiUrl + "/"
};


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersEventDataEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_OfferModel__ = __webpack_require__(56);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var OffersEventDataEvent = (function (_super) {
    __extends(OffersEventDataEvent, _super);
    function OffersEventDataEvent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    OffersEventDataEvent.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.updateCustomProperties();
        var cdpDataList = this.getEventModelsByOffers(this.eventModel);
        return cdpDataList;
    };
    OffersEventDataEvent.prototype.getEventModelsByOffers = function (shareEventModel) {
        var _this = this;
        var cdpDataList = [];
        var data = this.originalEventData;
        if (data.offers) {
            data.offers.forEach(function (offer) {
                var sendOfferModel = new __WEBPACK_IMPORTED_MODULE_2__models_OfferModel__["a" /* OfferModel */](offer);
                var cloneShareEventModel = Object.assign({}, shareEventModel);
                cloneShareEventModel.Id = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].createGUID();
                _this.Logger.debug("transformEventData", "offer => ", sendOfferModel);
                var eventData = _this.convertDataValueToString(__WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].objectToArrayDict(sendOfferModel));
                cloneShareEventModel.EventData = cloneShareEventModel.EventData.concat(eventData);
                cdpDataList.push(cloneShareEventModel);
            });
            return cdpDataList;
        }
        return null;
    };
    return OffersEventDataEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 56 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferModel; });
var OfferModel = (function () {
    function OfferModel(offer) {
        this.OfferName = offer.Name;
        this.OfferMarketingText = this.getMarketingText(offer),
            this.OfferText = this.getOfferText(offer);
        this.OfferImageDescription = (offer.Image) ? offer.Image.ImageDescription : "";
        this.OfferIsBestPlan = offer.IsBestPlan;
        this.OfferDisplayOrder = offer.DisplayOrder;
        this.OfferIsDigital = offer.IsDigital;
        this.OfferIsEedition = offer.IsEedition;
        this.OfferIsEzPay = offer.IsEzPay;
        this.OfferIsEzPayOptional = offer.IsEzPayOptional;
        this.OfferIsPrint = offer.IsPrint;
        this.OfferPassOrTrialDays = offer.PassOrTrialDays;
        this.OfferAmount = offer.Amount;
        this.OfferQuantity = offer.Quantity;
        this.OfferCityTax = offer.CityTax;
        this.OfferStateTax = offer.StateTax;
        this.OfferCountyTax = offer.CountyTax;
        this.OfferTaxAmount = offer.TaxAmount;
        this.OfferActivationFee = offer.ActivationFee;
        this.OfferPriceSuffix = offer.PriceSuffix;
        this.OfferPremiums = (offer.Premiums && offer.Premiums.length > 0) ? true : false;
        this.OfferTotalPrice = offer.TotalPrice;
        this.OfferAllowPreviousSunday = offer.AllowPreviousSunday || "Unknown";
    }
    OfferModel.prototype.getMarketingText = function (offer) {
        if (offer.Marketing) {
            return offer.Marketing.Body;
        }
        else {
            return offer.MarketingText;
        }
    };
    OfferModel.prototype.getOfferText = function (offer) {
        if (offer.Marketing) {
            return offer.Marketing.Name;
        }
        else {
            return offer.OfferText;
        }
    };
    return OfferModel;
}());



/***/ }),
/* 57 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationModel; });
var LocationModel = (function () {
    function LocationModel(data) {
        if (!data)
            return;
        this.City = data.City;
        this.ContinentCode = data.ContinentCode;
        this.CountryCode = data.CountryCode;
        this.Lat = data.Lat;
        this.Long = data.Long;
        this.State = data.State;
        this.Zip = data.Zip;
        this.IpAddress = data.IpAddress;
    }
    return LocationModel;
}());



/***/ }),
/* 58 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(25);


var PageModel = (function () {
    function PageModel(data) {
        if (!data) {
            this.setDynamicProperty();
            return;
        }
        this.Keywords = data.Keywords && Array.isArray(data.Keywords) ? data.Keywords.join(",") : data.Keywords;
        this.Title = data.Title;
        this.Url = data.Url;
        this.Section = data.Section;
        this.Author = data.Author;
        this.Tags = data.Tags && Array.isArray(data.Tags) ? data.Tags.join(",") : data.Tags;
        ;
        this.ContentId = data.ContentId;
        this.PublishDate = __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__["a" /* DateUtil */].getISOFormat(data.PublishDate);
        this.ContentType = data.ContentType;
        this.Recommended = data.Recommended;
        this.setDynamicProperty();
    }
    PageModel.prototype.setDynamicProperty = function () {
        var dynamicDimensions = __WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDynamicDimensions();
        this.extendCurrentModel(dynamicDimensions);
    };
    PageModel.prototype.extendCurrentModel = function (dataModel) {
        if (!dataModel)
            return;
        for (var property in dataModel) {
            if (dataModel.hasOwnProperty(property)) {
                this[property] = dataModel[property];
            }
        }
    };
    return PageModel;
}());



/***/ }),
/* 59 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectorTypes; });
/* unused harmony export ColType */
var CollectorTypes = {
    Connext: "Connext",
    SP: "SP",
    Flittz: "Flittz"
};
var ColType = {
    "Connext": "Connext",
    "SP": "SP",
    "Flittz": "Flittz"
};


/***/ }),
/* 60 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentTypes; });
var PaymentTypes = {
    "credit_card_completed_e": "Credit Card",
    "bank_account_completed_e": "Bank Account",
    "bill_me_completed_e": "Bill Me",
    "apple_pay_completed_e": "Apple Pay",
    "paypal_completed_e": "Paypal"
};


/***/ }),
/* 61 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(8);

var GtmTagCollector = (function () {
    function GtmTagCollector() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("GtmTagCollector start");
    }
    GtmTagCollector.prototype.registerTagEvents = function () {
        var _this = this;
        var events = Object.keys(this.events);
        events.forEach(function (eventName) {
            try {
                var eventListener = new _this.events[eventName]();
                eventListener.listen();
            }
            catch (e) {
                _this.Logger.fatal(e);
            }
        });
    };
    ;
    return GtmTagCollector;
}());



/***/ }),
/* 62 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__ = __webpack_require__(8);


var GtmTagEvent = (function () {
    function GtmTagEvent() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("GtmTagEvent");
        this.eventService = __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__["a" /* EventService */].Instance;
    }
    GtmTagEvent.prototype.listen = function () { };
    GtmTagEvent.prototype.getSendTagData = function () {
        return {};
    };
    GtmTagEvent.prototype.setOriginalEventData = function (data) {
        this.originalEventData = data;
    };
    GtmTagEvent.prototype.getSendTagName = function () {
        return this.sendTagName;
    };
    GtmTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        this.eventService.sendEvent(tagName || this.getSendTagName(), tagData || this.getSendTagData());
    };
    return GtmTagEvent;
}());



/***/ }),
/* 63 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MeterStartTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var MeterStartTagEvent = (function (_super) {
    __extends(MeterStartTagEvent, _super);
    function MeterStartTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sendTagName = "meterStart";
        return _this;
    }
    return MeterStartTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 64 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MeterStopTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var MeterStopTagEvent = (function (_super) {
    __extends(MeterStopTagEvent, _super);
    function MeterStopTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sendTagName = "meterStop";
        return _this;
    }
    return MeterStopTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 65 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Factory; });
var Factory = (function () {
    function Factory() {
    }
    return Factory;
}());



/***/ }),
/* 66 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return cookieDublicator; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__local_LocalStorage__ = __webpack_require__(31);


var CookieDublicator = (function () {
    function CookieDublicator() {
        this.safariCookieMaxAge = 604800000;
        this.prefix = "Cookie_";
        this.localStorage = new __WEBPACK_IMPORTED_MODULE_1__local_LocalStorage__["a" /* LocalStorage */]();
    }
    CookieDublicator.prototype.dublicateCookieToLocalStorageIfItNeed = function (key, value, attributes) {
        if (!this.isDublicateToLocalStorage(key, value, attributes) || !value) {
            this.localStorage.delete(this.prefix + key);
            return false;
        }
        var cookie = Object.assign({}, attributes);
        cookie["key"] = key;
        cookie["value"] = value;
        this.localStorage.set(this.prefix + key, cookie);
    };
    CookieDublicator.prototype.dublicateLocalStorageToCookieIfItNeed = function (key) {
        if (!this.isDublicateToCookie(key)) {
            return false;
        }
        var cookie, cookieAge;
        try {
            cookie = this.localStorage.get(this.prefix + key);
            cookieAge = new Date(cookie.expires);
        }
        catch (e) {
            this.localStorage.delete(this.prefix + key);
            return false;
        }
        if (this.isOutDatedLocalStorage(cookieAge)) {
            this.localStorage.delete(this.prefix + key);
            return false;
        }
        document.cookie = this.stringifyAttributes(cookie);
    };
    CookieDublicator.prototype.isDublicateToCookie = function (key) {
        return this.isSafari();
    };
    CookieDublicator.prototype.isDublicateToLocalStorage = function (key, value, attributes) {
        if (this.isSafari()) {
            return this.isDublicateSafari(new Date(attributes.expires));
        }
        return false;
    };
    CookieDublicator.prototype.isDublicateSafari = function (cookieAge) {
        return cookieAge.getTime() > (new Date()).getTime() + this.safariCookieMaxAge;
    };
    CookieDublicator.prototype.stringifyAttributes = function (attributes) {
        var stringifiedAttributes = attributes.key + "=" + attributes.value;
        delete attributes.key;
        delete attributes.value;
        for (var attributeName in attributes) {
            if (!attributes[attributeName]) {
                continue;
            }
            stringifiedAttributes += "; " + attributeName;
            if (attributes[attributeName] === true) {
                continue;
            }
            stringifiedAttributes += "=" + attributes[attributeName];
        }
        return stringifiedAttributes;
    };
    CookieDublicator.prototype.isOutDatedLocalStorage = function (cookieAge) {
        return (new Date).getTime() >= cookieAge.getTime();
    };
    CookieDublicator.prototype.isSafari = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Utils_DeviceDetector__["a" /* DeviceDetector */].getBrowser() === "Safari";
    };
    ;
    return CookieDublicator;
}());
;
var cookieDublicator = new CookieDublicator();


/***/ }),
/* 67 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JsCookie; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CookieDublicator__ = __webpack_require__(66);

var JsCookie = (function () {
    function JsCookie() {
        this.defaults = {};
    }
    JsCookie.getInstance = function () {
        if (!JsCookie.instance) {
            JsCookie.instance = new JsCookie();
        }
        return JsCookie.instance;
    };
    JsCookie.prototype.extend = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var i = 0;
        var result = {};
        for (; i < args.length; i++) {
            var attributes = args[i];
            for (var key in attributes) {
                result[key] = attributes[key];
            }
        }
        return result;
    };
    JsCookie.prototype.set = function (key, value, attributes, converter) {
        if (converter === void 0) { converter = {}; }
        var result;
        if (typeof document === "undefined") {
            return false;
        }
        attributes = this.extend({
            path: "/"
        }, this.defaults, attributes);
        if (typeof attributes.expires === "number") {
            var expires = new Date();
            expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
            attributes.expires = expires;
        }
        attributes.expires = attributes.expires ? attributes.expires.toUTCString() : "";
        try {
            result = JSON.stringify(value);
            if (/^[\{\[]/.test(result)) {
                value = result;
            }
        }
        catch (e) { }
        if (!converter.write) {
            value = encodeURIComponent(String(value))
                .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
        }
        else {
            value = converter.write(value, key);
        }
        key = encodeURIComponent(String(key));
        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);
        key = key.replace(/[\(\)]/g, escape);
        var stringifiedAttributes = "";
        for (var attributeName in attributes) {
            if (!attributes[attributeName]) {
                continue;
            }
            stringifiedAttributes += "; " + attributeName;
            if (attributes[attributeName] === true) {
                continue;
            }
            stringifiedAttributes += "=" + attributes[attributeName];
        }
        __WEBPACK_IMPORTED_MODULE_0__CookieDublicator__["a" /* cookieDublicator */].dublicateCookieToLocalStorageIfItNeed(key, value, attributes);
        document.cookie = key + "=" + value + stringifiedAttributes;
        return true;
    };
    JsCookie.prototype.get = function (key, converter, json) {
        if (converter === void 0) { converter = {}; }
        if (json === void 0) { json = false; }
        var result;
        if (typeof document === "undefined") {
            return;
        }
        if (!key) {
            result = {};
        }
        __WEBPACK_IMPORTED_MODULE_0__CookieDublicator__["a" /* cookieDublicator */].dublicateLocalStorageToCookieIfItNeed(key);
        var cookies = document.cookie ? document.cookie.split("; ") : [];
        var rdecode = /(%[0-9A-Z]{2})+/g;
        var i = 0;
        for (; i < cookies.length; i++) {
            var parts = cookies[i].split("=");
            var cookie = parts.slice(1).join("=");
            if (!json && cookie.charAt(0) === "\"") {
                cookie = cookie.slice(1, -1);
            }
            try {
                var name_1 = parts[0].replace(rdecode, decodeURIComponent);
                cookie = converter.read ? converter.read(cookie, name_1) : cookie.replace(rdecode, decodeURIComponent);
                if (json) {
                    try {
                        cookie = JSON.parse(cookie);
                    }
                    catch (e) { }
                }
                if (key === name_1) {
                    result = cookie;
                    break;
                }
                if (!key) {
                    result[name_1] = cookie;
                }
            }
            catch (e) { }
        }
        return result;
    };
    JsCookie.prototype.getJson = function (key, converter) {
        if (converter === void 0) { converter = {}; }
        return this.get(key, converter, true);
    };
    JsCookie.prototype.remove = function (key, attributes) {
        return this.set(key, "", this.extend(attributes, {
            expires: -1
        }));
    };
    ;
    return JsCookie;
}());

;


/***/ }),
/* 68 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MemoryStorage; });
var MemoryStorageClass = (function () {
    function MemoryStorageClass() {
        this._keys = [];
        this._memory = {};
    }
    MemoryStorageClass.prototype.isSupported = function () {
        return true;
    };
    MemoryStorageClass.prototype.get = function (key) {
        return this._memory.hasOwnProperty(key) ? this._memory[key] : null;
    };
    MemoryStorageClass.prototype.set = function (key, value) {
        this._memory[key] = value;
        if (this._keys.indexOf(key) < 0) {
            this._keys.push(key);
        }
        return true;
    };
    MemoryStorageClass.prototype.delete = function (key) {
        delete this._memory[key];
        var index = this._keys.indexOf(key);
        if (index < 0)
            return false;
        this._keys.splice(index, 1);
        return true;
    };
    MemoryStorageClass.prototype.clear = function () {
        this._memory = {};
        this._keys = [];
        return true;
    };
    return MemoryStorageClass;
}());
var MemoryStorage = new MemoryStorageClass();


/***/ }),
/* 69 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionStorage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__memoryProxy_MemoryProxyStorage__ = __webpack_require__(28);

var SessionStorage = (function () {
    function SessionStorage() {
        return __WEBPACK_IMPORTED_MODULE_0__memoryProxy_MemoryProxyStorage__["a" /* MemoryProxyStorage */].applyProxy(this, "SessionStorage");
    }
    SessionStorage.prototype.isSupported = function () {
        var result;
        try {
            var key = "isSupportedSessionStorageKey";
            var value = "isSupportedSessionStorageValue";
            sessionStorage.setItem(key, value);
            if (sessionStorage.getItem(key) === value) {
                sessionStorage.removeItem(key);
                result = true;
            }
        }
        catch (ex) {
            result = false;
        }
        finally {
            return result;
        }
    };
    SessionStorage.prototype.get = function (key) {
        try {
            return sessionStorage.getItem(key);
        }
        catch (ex) {
            return null;
        }
    };
    SessionStorage.prototype.set = function (key, data) {
        var success;
        try {
            sessionStorage.setItem(key, data);
            success = true;
        }
        catch (ex) {
            success = false;
        }
        finally {
            return success;
        }
    };
    SessionStorage.prototype.delete = function (key) {
        var success;
        try {
            sessionStorage.removeItem(key);
            success = true;
        }
        catch (ex) {
            success = false;
        }
        finally {
            return success;
        }
    };
    SessionStorage.prototype.clear = function () {
        var success;
        try {
            sessionStorage.clear();
            success = true;
        }
        catch (ex) {
            success = false;
        }
        finally {
            return success;
        }
    };
    return SessionStorage;
}());



/***/ }),
/* 70 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppInsightsService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MetaDataService__ = __webpack_require__(18);


var AppInsightsService = (function () {
    function AppInsightsService() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("AppInsightsService");
        this.aiAvailable = true;
        this.dimensionService = __WEBPACK_IMPORTED_MODULE_1__MetaDataService__["a" /* MetaDataService */].Instance;
    }
    Object.defineProperty(AppInsightsService, "Instance", {
        get: function () {
            if (this.instance === null || this.instance === undefined) {
                this.instance = new AppInsightsService();
            }
            else {
            }
            return this.instance;
        },
        enumerable: false,
        configurable: true
    });
    AppInsightsService.prototype.trackEvent = function (eventName, eventPayload) {
        try {
            if (window["g2iAppInsights"]) {
                this.Logger.info("^^^^^^^^^^^^^^^^^^^^^", eventPayload);
                window["g2iAppInsights"].trackEvent(eventName, eventPayload);
            }
            if (this.aiAvailable) {
            }
        }
        catch (e) {
            this.aiAvailable = false;
            this.Logger.fatal(e);
        }
    };
    AppInsightsService.prototype.trackPageView = function (pageName, pageData) {
        try {
            this.Logger.debug("trackPageView", pageName);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return AppInsightsService;
}());



/***/ }),
/* 71 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BotList; });
var BotList = [
    {
        regex: "360Spider(-Image|-Video)?",
        name: "360Spider",
        category: "Search bot"
    },
    {
        regex: "Googlebot(-Mobile|-Image|-Video|-News)?|Feedfetcher-Google|Google-Test|Google-Site-Verification|Google Web Preview|AdsBot-Google(-Mobile)?|Google-Adwords-Instant|Mediapartners-Google|Google.*/\+/web/snippet|GoogleProducer|Google[ -]Publisher[ -]Plugin|Google-Shopping-Quality|Google-Adwords-DisplayAds|Google-Assess|Google-AdWords-Express|Google-speakr|GoogleDocs",
        name: "Googlebot",
        category: "Search bot"
    },
    {
        regex: "googleweblight|Google Page Speed Insights|Google PP Default|Google Search Console|Google Web Preview|Google Web Preview Analytics|Google_Analytics_Snippet_Validator|Google-Adwords-DisplayAds-WebRender|Google-AdWords-Express|Google-Adwords-Instant|Google-Calendar-Importer",
        name: "Google",
        category: "Scraping"
    },
    {
        regex: "Google-SearchByImage|Googlebot-Image",
        name: "Google-SearchByImage",
        category: "Scraping"
    },
    {
        regex: "Google-Site-Verification",
        name: "Google-Site-Verification",
        category: "Crawler"
    },
    {
        regex: "Google Desktop",
        name: "Google Desktop",
        category: "Crawler"
    },
    {
        regex: "Mozilla/5.0 (Windows NT 6.1; rv:6.0) Gecko/20110814 Firefox/6.0",
        name: "Google Plus Share",
        category: "Service Agent"
    },
    {
        regex: "Mozilla/5.0 (iPad; CPU OS 5_0_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A405 Safari/7534.48.3,gzip(gfe) (via translate.google.com)",
        name: "Google Translate",
        category: "Service Agent"
    },
    {
        regex: "Google-Structured-Data-Testing-Tool",
        name: "Google-Structured-Data-Testing-Tool",
        category: "Scraping"
    },
    {
        regex: "Google Favicon",
        name: "Google Favicon",
        category: "Scraping"
    },
    {
        regex: "Neustar WPM",
        name: "Neustar WPM",
        category: "Scraping"
    },
    {
        regex: "Google Keyword Suggestion",
        name: "Google Keyword Suggestion",
        category: "Scraping"
    },
    {
        regex: "InbyBot",
        name: "InbyBot",
        category: "Scraping"
    },
    {
        regex: "GetLinkInfo",
        name: "GetLinkInfo",
        category: "Scraping"
    },
    {
        regex: "downforeveryoneorjustme",
        name: "downforeveryoneorjustme",
        category: "Site Monitor"
    },
    {
        regex: "DNS-Digger-Explorer",
        name: "DNS-Digger-Explorer",
        category: "Scraping"
    },
    {
        regex: "NetSeer",
        name: "NetSeer",
        category: "Scraping"
    },
    {
        regex: "Blekkobot",
        name: "Blekkobot",
        category: "Search Engine"
    },
    {
        regex: "https://developers.google.com/+/web/snippet",
        name: "Googlebot snippet",
        category: "Scraping"
    },
    {
        regex: "Google-Publisher-Plugin",
        name: "Google",
        category: "Crawler"
    },
    {
        regex: "proximic",
        name: "Comscore Crawler",
        category: "Search bot"
    },
    {
        regex: "SirdataBot",
        name: "SirdataBot",
    },
    {
        regex: "Clickagy Intelligence Bot v2|Clickagy",
        name: "Clickagy Intelligence Bot v2",
        category: "Bad Bot"
    },
    {
        regex: "baiduspider(-image)?|baidu Transcoder|baidu.*spider",
        name: "Baidu Spider",
        category: "Bad Bot"
    },
    {
        regex: "dotbot",
        name: "DotBot",
        category: "Crawler"
    },
    {
        regex: "GiftGhostBot",
        name: "GiftGhostBot",
        category: "Scraping"
    },
    {
        regex: "GrapeshotCrawler|grapeFX|grapeshot",
        name: "Grapeshot",
        category: "Crawler"
    },
    {
        regex: "SeznamBot|SklikBot|Seznam screenshot-generator",
        name: "Seznam Bot",
        category: "Search Engine"
    },
    {
        regex: "MetaURI",
        name: "MetaURI",
        category: "Crawler"
    },
    {
        regex: "PaperLiBot",
        name: "PaperLiBot",
        category: "Crawler"
    },
    {
        regex: "Genieo",
        name: "Genieo Web filter",
        category: "Crawler"
    },
    {
        regex: "a.pr-cy.ru",
        name: "a.pr-cy.ru",
        category: "Crawler"
    },
    {
        regex: "Cliqzbot|Cliqz",
        name: "Cliqzbot",
        category: "Crawler"
    },
    {
        regex: "BomboraBot|bombora",
        name: "BomboraBot",
        category: "Crawler"
    },
    {
        regex: "A6-Indexer|bombora",
        name: "A6-Indexer",
        category: "Crawler"
    },
    {
        regex: "Ahrefs(Bot|SiteAudit)",
        name: "AhrefsBot",
        category: "Search Engine"
    },
    {
        regex: "Genieo",
        name: "Genieo",
        category: "Crawler"
    },
    {
        regex: "Baiduspider",
        name: "Baiduspider",
        category: "Search Engine"
    },
    {
        regex: "bingbot|BingPreview",
        name: "Bing",
        category: "Search Engine"
    },
    {
        regex: "Yandex(SpravBot|ScreenshotBot|MobileBot|AccessibilityBot|ForDomain|Vertis|Market|Catalog|Calendar|Sitelinks|AdNet|Pagechecker|Webmaster|Media|Video|Bot|Images|Antivirus|Direct|Blogs|Favicons|ImageResizer|Verticals|News(links)?|Metrika|\.Gazeta Bot)|YaDirectFetcher",
        name: "YandexBot",
        category: "Search Engine"
    },
    {
        regex: "CCBot",
        name: "CCBot",
        category: "Web Scraper"
    },
    {
        regex: "YisouSpider",
        name: "YisouSpider",
        category: "Search Engine"
    },
    {
        regex: "Slurp|Yahoo!-AdCrawler",
        name: "Yahoo! Slurp",
        category: "Search Engine"
    },
    {
        regex: "Yahoo Pipes",
        name: "Yahoo Pipes",
        category: "Feed Fetcher"
    },
    {
        regex: "Y!J",
        name: "Y!J-BRJ/YATS Crawler",
        category: "Search Engine"
    },
    {
        regex: "008/0.85",
        name: "008/0.85",
        category: "Web Scraper"
    },
    {
        regex: "Sogou",
        name: "Sogou",
        category: "Search Engine"
    },
    {
        regex: "URLAppendBot",
        name: "URLAppendBot",
        category: "Crawler"
    },
    {
        regex: "DomainAppender",
        name: "DomainAppender",
        category: "Scraping"
    },
    {
        regex: "msnbot",
        name: "msnbot",
        category: "Search Engine"
    },
    {
        regex: "DuckDuckBot|DuckDuckGo-Favicons-Bot",
        name: "DuckDuckBot",
        category: "Scraping"
    },
    {
        regex: "acebookexternalhit|facebookexternalhit",
        name: "facebookexternalhit",
        category: "Web Scraper"
    },
    {
        regex: "facebookplatform|Facebot|Visionutils|datagnionbot",
        name: "Facebook",
        category: "Scraping"
    },
    {
        regex: "Exabot|Exabot-Images|Exabot-Thumbnails|Konqueror|ExaleadCloudview",
        name: "ExaLead by Dassault Systemes",
        category: "Search Engine"
    },
    {
        regex: "ia_archiver|alexabot|verifybot",
        name: "Internet Archive",
        category: "Scraping"
    },
    {
        regex: "linkdexbot",
        name: "Linkdex Limited",
        category: "Crawler"
    },
    {
        regex: "contxbot",
        name: "Contxbot",
        category: "Crawler"
    },
    {
        regex: "YodaoBot",
        name: "Youdao ",
        category: "Search Engine"
    },
    {
        regex: "spbot",
        name: "Link Profiler ",
        category: "Crawler"
    },
    {
        regex: "MJ12bot",
        name: "MJ12bot ",
        category: "Search Engine"
    },
    {
        regex: "Mail.RU_Bot",
        name: "Mail.RU_Bot ",
        category: "Search Engine"
    },
    {
        regex: "BUbiNG",
        name: "Universita Delgi Studi Di Milano ",
        category: "Web Scraper"
    },
    {
        regex: "SputnikBot",
        name: "OJSC Rostelecom ",
        category: "Search Engine"
    },
    {
        regex: "NerdyBot",
        name: "NerdyBot",
        category: "Search Engine"
    },
    {
        regex: "NerdyBot",
        name: "NerdyBot",
        category: "Search Engine"
    },
    {
        regex: "Opebot",
        name: "Opebot",
        category: "Crawler"
    },
    {
        regex: "Scrapy",
        name: "Scrapy",
        category: "Crawler"
    },
    {
        regex: "Gigabot",
        name: "Gigabot",
        category: "Search Engine"
    },
    {
        regex: "CatchBot",
        name: "CatchBot",
        category: "Web Scraper"
    },
    {
        regex: "Zeus 32297",
        name: "Zeus 32297",
        category: "Web Scraper"
    },
    {
        regex: "SafetyNet",
        name: "SafetyNet",
        category: "Crawler"
    },
    {
        regex: "linklooker",
        name: "linklooker",
        category: "Crawler"
    },
    {
        regex: "INGRID",
        name: "INGRID",
        category: "Crawler"
    },
    {
        regex: "EnigmaBot",
        name: "EnigmaBot",
        category: "Crawler"
    },
    {
        regex: "adidxbot",
        name: "Advertising",
        category: "Crawler"
    },
    {
        regex: "AMZNKAssocBot",
        name: "Advertising",
        category: "Crawler"
    },
    {
        regex: "YandexDirect",
        name: "Advertising",
        category: "Crawler"
    },
    {
        regex: "aolbuild",
        name: "aolbuild",
        category: "Search Engine"
    },
    {
        regex: "Butterfly",
        name: "Butterfly",
        category: "Search Engine"
    },
    {
        regex: "cg-eye",
        name: "cg-eye",
        category: "Search Engine"
    },
    {
        regex: "changedetection",
        name: "changedetection",
        category: "Search Engine"
    },
    {
        regex: "CligooRobot",
        name: "CligooRobot",
        category: "Search Engine"
    },
    {
        regex: "coccoc",
        name: "coccoc",
        category: "Search Engine"
    },
    {
        regex: "Daumoa",
        name: "Daumoa",
        category: "Search Engine"
    },
    {
        regex: "DealGates",
        name: "DealGates",
        category: "Search Engine"
    },
    {
        regex: "DeuSu",
        name: "DeuSu",
        category: "Search Engine"
    },
    {
        regex: "Elefent",
        name: "Elefent",
        category: "Search Engine"
    },
    {
        regex: "enlle",
        name: "enlle",
        category: "Search Engine"
    },
    {
        regex: "Findxbot",
        name: "Findxbot",
        category: "Search Engine"
    },
    {
        regex: "GigablastOpenSource",
        name: "GigablastOpenSource",
        category: "Search Engine"
    },
    {
        regex: "VoilaBot",
        name: "VoilaBot",
        category: "Crawler"
    },
    {
        regex: "panscient.com",
        name: "panscient.com",
        category: "Search Engine"
    },
    {
        regex: "Pinterest/\d\.\d.*www\.pinterest\.com.*",
        name: "Pinterest",
        category: "Web Scraper"
    },
    {
        regex: "Charlotte",
        name: "Charlotte",
        category: "Search Engine"
    },
    {
        regex: "Twitterbot",
        name: "Twitterbot",
        category: "Search Engine"
    },
    {
        regex: "MonTools",
        name: "Site Monitor",
        category: "Site Monitor"
    },
    {
        regex: "LinkWalker",
        name: "LinkWalker",
        category: "Crawler"
    },
    {
        regex: "Slackbot|Slack-ImgProxy",
        name: "Slackbot",
        category: "Crawler"
    },
    {
        regex: "AdMantX.*admantx\.com",
        name: "ADMantX",
        category: "Crawler"
    },
    {
        regex: "Envolk",
        name: "Envolk",
        category: "Scraping"
    },
    {
        regex: "FlightDeckReportsBot",
        name: "FlightDeckReportsBot",
        category: "Scraping"
    },
    {
        regex: "AddSearchBot",
        name: "AddSearchBot",
        category: "Scraping"
    },
    {
        regex: "findlink",
        name: "findlink",
        category: "Scraping"
    },
    {
        regex: "JikeSpider",
        name: "People's Daily Newspaper",
        category: "Crawler"
    },
    {
        regex: "TelegramBot",
        name: "TelegramBot",
        category: "Crawler"
    },
    {
        regex: "yacybot",
        name: "yacybot",
        category: "Crawler"
    },
    {
        regex: "Caliperbot",
        name: "Caliperbot",
        category: "Crawler"
    },
    {
        regex: "AnyEvent",
        name: "AnyEvent",
        category: "Crawler"
    },
    {
        regex: "awesomecrawler",
        name: "awesomecrawler",
        category: "Crawler"
    },
    {
        regex: "/bot|crawler|spider|crawling/i",
        name: "Generic Bot",
        category: "Generic Bot"
    }
];


/***/ }),
/* 72 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BotModel; });
var BotModel = (function () {
    function BotModel(data) {
        if (!data)
            return;
        this.category = data.category;
        this.name = data.name;
    }
    return BotModel;
}());



/***/ }),
/* 73 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ErInterpretationClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ErInterpretation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__ = __webpack_require__(11);



var ErInterpretationClass = (function () {
    function ErInterpretationClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("UserData");
    }
    ErInterpretationClass.prototype.setInformation = function () {
        var _this = this;
        return this.getInformationFromApi()
            .then(function (information) {
            if (information) {
                console.log("Er Interpretation:", information);
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetErInterpretation, information);
            }
            return Promise.resolve(information);
        });
    };
    ErInterpretationClass.prototype.fireEvent = function (name, data) {
        var customEvent = new CustomEvent(name, { detail: data });
        document.dispatchEvent(customEvent);
    };
    ErInterpretationClass.prototype.getInformationFromApi = function () {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__["a" /* HttpService */].get("user/er/stats")
            .catch(function (error) {
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetErInterpretationError, error);
        });
    };
    return ErInterpretationClass;
}());

var ErInterpretation = new ErInterpretationClass();


/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export RecommendationsClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Recommendations; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Data_modules_HttpService__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);





var RecommendationsClass = (function () {
    function RecommendationsClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Recommendations");
    }
    RecommendationsClass.prototype.getArticlesWithCategories = function () {
        var _this = this;
        return this.getInformationFromApi("user/recommendations/stats")
            .then(function (information) {
            if (information) {
                console.log("List of recommended articles with userâs categories of interest:", information);
                _this.Logger.info(information);
                window["g2i_dl_recommendations_stats"] = information;
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsStatsFinished, information);
            }
            return Promise.resolve(information);
        })
            .catch(function (error) {
            _this.Logger.error(error);
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsStatsError, error);
        });
    };
    RecommendationsClass.prototype.getListArticles = function () {
        var _this = this;
        return this.getInformationFromApi("user/recommendations")
            .then(function (information) {
            if (information) {
                console.log("Get a list of recommended articles:", information);
                _this.Logger.info(information);
                window["g2i_dl_recommendations"] = information;
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsFinished, information);
            }
            return Promise.resolve(information);
        });
    };
    RecommendationsClass.prototype.fireEvent = function (name, data) {
        var customEvent = new CustomEvent(name, { detail: data });
        document.dispatchEvent(customEvent);
    };
    RecommendationsClass.prototype.getInformationFromApi = function (url) {
        var _this = this;
        var contentId = __WEBPACK_IMPORTED_MODULE_2__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getContentId();
        return __WEBPACK_IMPORTED_MODULE_3__Data_modules_HttpService__["a" /* HttpService */].get(url, { content_id: contentId })
            .catch(function (error) {
            _this.Logger.error(error);
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].DlRecommendationsError, error);
        });
    };
    return RecommendationsClass;
}());

var Recommendations = __WEBPACK_IMPORTED_MODULE_4__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].applyRejects(new RecommendationsClass(), __WEBPACK_IMPORTED_MODULE_4__Modules_workflowModeModule_WorkflowModule__["b" /* REJECTED_SERVICES */].Recommendations);


/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export UserInterestsClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInterests; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__ = __webpack_require__(11);



var UserInterestsClass = (function () {
    function UserInterestsClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("InterestsStats");
    }
    UserInterestsClass.prototype.getDebugData = function () {
        var _this = this;
        return this.getInformationFromApi()
            .then(function (information) {
            if (information) {
                console.info("Get debug data for Interests calculation:", information);
                _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetInterestsStats, information);
            }
            return Promise.resolve(information);
        });
    };
    UserInterestsClass.prototype.fireEvent = function (name, data) {
        var customEvent = new CustomEvent(name, { detail: data });
        document.dispatchEvent(customEvent);
    };
    UserInterestsClass.prototype.getInformationFromApi = function () {
        var _this = this;
        var fnName = "[getUserInterestsByDeviceId]";
        return __WEBPACK_IMPORTED_MODULE_2__Data_modules_HttpService__["a" /* HttpService */].get("user/interests/stats")
            .catch(function (error) {
            _this.Logger.error(fnName, error);
            _this.fireEvent(__WEBPACK_IMPORTED_MODULE_1__Core_constants_PluginInnerEvents__["a" /* PluginInnerEvents */].GetInterestsStatsError, error);
        });
    };
    return UserInterestsClass;
}());

var UserInterests = new UserInterestsClass();


/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MISC_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return COMMAND_TYPES; });
var MISC_TYPES = {
    Promise: "promise",
    Selector: "selector",
    Javascript: "javascript",
    Command: "command"
};
;
var COMMAND_TYPES = {
    GET_COOKIE_BY_NAME: "get_cookie_by_name"
};


/***/ }),
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OptionsModel; });
var OptionsModel = (function () {
    function OptionsModel(data) {
        this.cdp = {
            enabled: false
        };
        this.detectBot = true;
        this.clientCode = "ajc";
        if (!data)
            return;
        this.debug = data.debug;
        this.logLevel = data.logLevel;
        this.containerId = data.containerId;
        this.collectors = data.collectors;
        this.dimensions = data.dimensions;
        this.analysis = data.analysis || true;
        this.cdp = data.cdp;
        this.sessionId = data.sessionId;
        this.detectBot = data.detectBot || true;
        this.layoutCode = data.layoutCode;
        this.environment = data.environment || "Unknown";
        this.siteCode = data.siteCode || null;
        this.misc = data.misc || null;
        this.flowModes = data.flowModes;
        this.clientCode = data.clientCode || this.clientCode;
    }
    OptionsModel.prototype.setLayoutCode = function (layoutCode) {
        this.layoutCode = layoutCode;
    };
    OptionsModel.prototype.extendModel = function (object) {
        for (var name_1 in object) {
            if (object.hasOwnProperty(name_1)) {
                this[name_1] = object[name_1];
            }
        }
        return this;
    };
    return OptionsModel;
}());



/***/ }),
/* 78 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ConversationManagerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConversationManager; });
var ConversationManagerClass = (function () {
    function ConversationManagerClass() {
    }
    ConversationManagerClass.prototype.getCurrentConversation = function () {
        if (window.Connext) {
            var currentConversation = void 0;
            if (window.NxtInner) {
                currentConversation = window.NxtInner.Storage.GetCurrentConversation();
                if (currentConversation) {
                    return currentConversation;
                }
            }
            else {
                currentConversation = window.Connext.Storage.GetCurrentConversation();
                if (currentConversation) {
                    return currentConversation;
                }
                else {
                    return window.CnnXt.Storage.GetCurrentConversation();
                }
            }
        }
    };
    ConversationManagerClass.prototype.GetCurrentConversationViewCount = function () {
        var _a;
        if (window.Connext) {
            if (window.NxtInner) {
                return window.NxtInner.Storage.GetCurrentConversationViewCount();
            }
            else {
                return ((_a = window === null || window === void 0 ? void 0 : window.Connext) === null || _a === void 0 ? void 0 : _a.Storage.GetCurrentConversationViewCount()) || null;
            }
        }
    };
    ConversationManagerClass.prototype.getVersion = function () {
        var regex = /[+-]?\d+(\.\d+)?/g;
        var findNumbers = window.Connext.GetVersion().match(regex);
        return findNumbers ? findNumbers[0] : null;
    };
    return ConversationManagerClass;
}());

var ConversationManager = new ConversationManagerClass();


/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export FirstVisitDataCollectorClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FirstVisitDataCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_FirstVisitDataModel__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_DataTimerModel__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_LocalStorageService__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Modules_dataCollector_DataCollector__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Data_modules_HttpService__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__Core_constants_Constants__ = __webpack_require__(3);













var FirstVisitDataCollectorClass = (function () {
    function FirstVisitDataCollectorClass() {
        this.iterationMaxEventCount = 20;
        this.iterationMaxTimeCollect = 3 * 60 * 1000;
        this.collectData = new __WEBPACK_IMPORTED_MODULE_2__models_FirstVisitDataModel__["a" /* FirstVisitDataModel */](null);
        this.collectedEvents = [];
        this.startSaveCollectData = false;
        this.Logger = __WEBPACK_IMPORTED_MODULE_10__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("FirstVisitDataCollector");
        this.pageLeaveHandler = null;
        this.hasValidEr = false;
        this.eventsCountCurrentIteration = 0;
        this.collectTimeCurrentIteration = 0;
        this.collectTimePrevIteration = 0;
        this.restCollectTimeIteration = 0;
    }
    FirstVisitDataCollectorClass.prototype.setCollectData = function (data) {
        this.collectData = new __WEBPACK_IMPORTED_MODULE_2__models_FirstVisitDataModel__["a" /* FirstVisitDataModel */](data);
    };
    FirstVisitDataCollectorClass.prototype.collectCdpEvent = function (event) {
        if (this.startSaveCollectData) {
            this.processCdpEvent(event);
        }
        else {
            this.collectedEvents.push(event);
        }
    };
    FirstVisitDataCollectorClass.prototype.process = function () {
        this.startSaveCollectData = true;
        if (this.syncCollectData()) {
            this.eventsCountCurrentIteration = this.collectData.getSumEvents() % this.iterationMaxEventCount;
            this.collectTimePrevIteration = this.collectData.CollectTime || 0;
            this.restCollectTimeIteration = Math.abs(this.iterationMaxTimeCollect - (this.collectTimePrevIteration % this.iterationMaxTimeCollect));
        }
        else {
            this.eventsCountCurrentIteration = 0;
            this.collectTimePrevIteration = 0;
            this.restCollectTimeIteration = this.iterationMaxTimeCollect;
        }
        this.collectTimeCurrentIteration = 0;
        this.setTimer(this.restCollectTimeIteration);
        this.processAlreadyCollectedCdpEvents();
        this.saveTimeVisitIfLeavePage();
    };
    FirstVisitDataCollectorClass.prototype.isCollectedFirstVisit = function (collectedByCondition) {
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        this.setCollectData(savedFirstVisitData);
        if (savedFirstVisitData) {
            if (this.isDataCollected(collectedByCondition)) {
                return true;
            }
        }
        return false;
    };
    FirstVisitDataCollectorClass.prototype.getCollectedData = function () {
        return this.collectData;
    };
    FirstVisitDataCollectorClass.prototype.clearData = function () {
        this.hasValidEr = true;
        this.startSaveCollectData = false;
        this.setCollectData(null);
        this.setFirstVisitToStorage(null);
        this.dispose();
    };
    FirstVisitDataCollectorClass.prototype.processCdpEvent = function (event) {
        if (this.syncCollectData()) {
            var newEventsCountCurrentIteration = this.collectData.getSumEvents() % this.iterationMaxEventCount;
            if (newEventsCountCurrentIteration > this.eventsCountCurrentIteration) {
                this.eventsCountCurrentIteration = newEventsCountCurrentIteration;
            }
        }
        var collectAttr = event.getFirstVisitProperty();
        switch (collectAttr) {
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCreateAccountEvents:
                this.collectData.CountCreateAccountEvents++;
                this.eventsCountCurrentIteration++;
                break;
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCheckoutStartEvents:
                this.collectData.CountCheckoutStartEvents++;
                this.eventsCountCurrentIteration++;
                break;
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountClick:
                this.collectData.CountClick++;
                this.eventsCountCurrentIteration++;
                break;
            case __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountPageview:
                this.collectData.CountPageview++;
                this.eventsCountCurrentIteration++;
                break;
        }
        this.setTimerLeft();
        this.updateData(this.isDataCollected() && !this.hasValidEr);
    };
    FirstVisitDataCollectorClass.prototype.processAlreadyCollectedCdpEvents = function () {
        var _this = this;
        this.collectedEvents.forEach(function (cdpEvent) {
            _this.processCdpEvent(cdpEvent);
        });
        this.collectedEvents = [];
    };
    FirstVisitDataCollectorClass.prototype.isDataCollected = function (isPageLoadCondition) {
        return this.isDataCollectedByTime(isPageLoadCondition) || this.isDataCollectedByEvents(isPageLoadCondition);
    };
    FirstVisitDataCollectorClass.prototype.syncCollectData = function () {
        var isSync = false;
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        if (savedFirstVisitData) {
            this.setCollectData(savedFirstVisitData);
            isSync = true;
        }
        return isSync;
    };
    FirstVisitDataCollectorClass.prototype.setTimer = function (timerTime) {
        var _this = this;
        if (!this.timer) {
            this.timer = new __WEBPACK_IMPORTED_MODULE_3__models_DataTimerModel__["a" /* DataTimerModel */]({});
        }
        this.timer.IsTimeUp = true;
        this.timer.StartTime = new Date().valueOf();
        this.timer.Id = setTimeout(function () {
            _this.timer.IsTimeUp = true;
            _this.syncCollectData();
            _this.updateData(true);
        }, timerTime);
    };
    FirstVisitDataCollectorClass.prototype.isDataCollectedByTime = function (isPageLoadCondition) {
        return this.collectData.CollectTime - this.collectTimePrevIteration >= this.restCollectTimeIteration;
    };
    FirstVisitDataCollectorClass.prototype.isDataCollectedByEvents = function (isPageLoadCondition) {
        return this.eventsCountCurrentIteration >= this.iterationMaxEventCount;
    };
    FirstVisitDataCollectorClass.prototype.updateData = function (needSend) {
        if (needSend === void 0) { needSend = false; }
        if (this.syncErAndPreventSend()) {
            this.clearData();
            return;
        }
        this.setTimerLeft();
        this.setFirstVisitToStorage(this.collectData);
        if (needSend) {
            this.setDlCollectedInformation(this.collectData);
        }
    };
    FirstVisitDataCollectorClass.prototype.syncErAndPreventSend = function () {
        var er = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        if (er !== null && er !== __WEBPACK_IMPORTED_MODULE_12__Core_constants_Constants__["a" /* Constants */].NoErInformation) {
            return true;
        }
        return false;
    };
    FirstVisitDataCollectorClass.prototype.setDlCollectedInformation = function (collectedData) {
        var _this = this;
        return __WEBPACK_IMPORTED_MODULE_9__Utils_DeviceDetector__["a" /* DeviceDetector */].getDeviceId()
            .then(function (deviceId) {
            return _this.getFirstVisitCdpDlFromApi(deviceId, _this.isNeedCollectFirstVisitData(collectedData));
        }).then(function (data) {
            return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].setDlCollectedInformation(data);
        }).catch(function (error) { return _this.Logger.error("setDlCollectedInformation", error); });
    };
    FirstVisitDataCollectorClass.prototype.isNeedCollectFirstVisitData = function (collectedData) {
        return collectedData ? collectedData : __WEBPACK_IMPORTED_MODULE_7__Modules_dataCollector_DataCollector__["a" /* DataCollector */].getCollectedFirstVisitData();
    };
    FirstVisitDataCollectorClass.prototype.getFirstVisitCdpDlFromApi = function (deviceId, fVcollectedData) {
        var collectedData = this.getMappedCollectedData(fVcollectedData);
        collectedData["deviceid"] = deviceId;
        collectedData["sitecode"] = __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        collectedData["clientcode"] = __WEBPACK_IMPORTED_MODULE_6__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        var options = __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addBotInfoHeader();
        options = __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addInitSettingsHeader(options);
        options.exposedHeaders = options.exposedHeaders || [];
        options.exposedHeaders.push("x-request-id");
        __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserReqReasons("first-visit");
        __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("before_post_user");
        return __WEBPACK_IMPORTED_MODULE_8__Data_modules_HttpService__["a" /* HttpService */].post("user", collectedData, options)
            .then(function (res) {
            __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addUserErReqid(res.exposedHeaders["x-request-id"]);
            __WEBPACK_IMPORTED_MODULE_11__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("after_post_user=" + res.exposedHeaders["x-request-id"]);
            return res.data;
        });
    };
    FirstVisitDataCollectorClass.prototype.getMappedCollectedData = function (firstVisitData) {
        if (firstVisitData) {
            return {
                "ts_diff": firstVisitData.CollectTime,
                "cnt_pageview": firstVisitData.CountPageview,
                "cnt_click": firstVisitData.CountClick,
                "cnt_checkoutstart": firstVisitData.CountCheckoutStartEvents,
                "cnt_createaccount": firstVisitData.CountCreateAccountEvents
            };
        }
        return {};
    };
    FirstVisitDataCollectorClass.prototype.getFirstVisitFromStorage = function () {
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_LocalStorageService__["a" /* LocalStorageService */].get(FirstVisitDataCollectorClass.firstVisitKey);
    };
    FirstVisitDataCollectorClass.prototype.setFirstVisitToStorage = function (visitData) {
        __WEBPACK_IMPORTED_MODULE_5__Data_modules_LocalStorageService__["a" /* LocalStorageService */].set(FirstVisitDataCollectorClass.firstVisitKey, visitData);
    };
    FirstVisitDataCollectorClass.prototype.saveTimeVisitIfLeavePage = function () {
        var _this = this;
        if (!this.pageLeaveHandler) {
            var callback = function (event) {
                _this.Logger.trace("Event PageLeaveEvent fired");
                _this.syncCollectData();
                _this.setTimerLeft();
                _this.setFirstVisitToStorage(_this.collectData);
                _this.clearTimer();
            };
            this.pageLeaveHandler = this.addPageLeaveEventListener(callback);
        }
    };
    FirstVisitDataCollectorClass.prototype.addPageLeaveEventListener = function (callback) {
        var eventName = __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        return __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, callback);
    };
    FirstVisitDataCollectorClass.prototype.removePageLeaveEventListener = function () {
        var eventName = __WEBPACK_IMPORTED_MODULE_4__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        window.removeEventListener(eventName, this.pageLeaveHandler);
    };
    FirstVisitDataCollectorClass.prototype.clearTimer = function () {
        if (this.timer && this.timer.Id) {
            clearTimeout(this.timer.Id);
        }
    };
    FirstVisitDataCollectorClass.prototype.dispose = function () {
        this.clearTimer();
        this.removePageLeaveEventListener();
    };
    FirstVisitDataCollectorClass.prototype.getTimerWork = function () {
        return new Date().valueOf() - this.timer.StartTime;
    };
    FirstVisitDataCollectorClass.prototype.setTimerLeft = function () {
        this.collectData.CollectTime = this.collectData.CollectTime + this.getTimerWork() - this.collectTimeCurrentIteration;
        this.collectTimeCurrentIteration = this.getTimerWork();
    };
    FirstVisitDataCollectorClass.prototype.getPageLoadCollectedData = function () {
        var savedFirstVisitData = this.getFirstVisitFromStorage();
        this.setCollectData(savedFirstVisitData);
        if (savedFirstVisitData) {
            var isPageLoadCondition = true;
            if (this.isDataCollected(isPageLoadCondition)) {
                return savedFirstVisitData;
            }
        }
        return null;
    };
    FirstVisitDataCollectorClass.firstVisitKey = "frstVisit";
    return FirstVisitDataCollectorClass;
}());

var FirstVisitDataCollector = new FirstVisitDataCollectorClass();


/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DataTimerModel; });
var DataTimerModel = (function () {
    function DataTimerModel(data) {
        if (!data)
            return;
        this.Id = data.Id;
        this.IsTimeUp = data.IsTimeUp;
        this.StartTime = data.StartTime;
    }
    return DataTimerModel;
}());



/***/ }),
/* 81 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FirstVisitDataModel; });
var FirstVisitDataModel = (function () {
    function FirstVisitDataModel(data) {
        this.CollectTime = 0;
        this.CountClick = 0;
        this.CountPageview = 0;
        this.CountCreateAccountEvents = 0;
        this.CountCheckoutStartEvents = 0;
        if (!data)
            return;
        this.CountClick = data.CountClick;
        this.CollectTime = data.CollectTime;
        this.CountCheckoutStartEvents = data.CountCheckoutStartEvents;
        this.CountPageview = data.CountPageview;
        this.CountCreateAccountEvents = data.CountCreateAccountEvents;
    }
    FirstVisitDataModel.prototype.getSumEvents = function () {
        return this.CountCheckoutStartEvents + this.CountClick + this.CountCreateAccountEvents + this.CountPageview;
    };
    return FirstVisitDataModel;
}());



/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CommonMetaDataClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommonMetaData; });
var CommonMetaDataClass = (function () {
    function CommonMetaDataClass() {
    }
    CommonMetaDataClass.prototype.getKeywords = function () {
        return this.getMetaInformation(["keywords", "og:keywords", "bt:keywords"]);
    };
    CommonMetaDataClass.prototype.getTitle = function () {
        return this.getMetaInformation(["title", "og:title"]);
    };
    CommonMetaDataClass.prototype.getUrl = function () {
        return location.origin + location.pathname;
    };
    CommonMetaDataClass.prototype.getSection = function () {
        return this.getMetaInformation(["section", "og:section"]);
    };
    CommonMetaDataClass.prototype.getAuthor = function () {
        return this.getMetaInformation(["byline", "author", "bt:author"]);
    };
    CommonMetaDataClass.prototype.getTags = function () {
        return this.getMetaInformation(["tags"]);
    };
    CommonMetaDataClass.prototype.getContentId = function () {
        return this.getMetaInformation(["contentid"]);
    };
    CommonMetaDataClass.prototype.getPublishDate = function () {
        return this.getMetaInformation(["publishDate", "pubdate", "og:pers_rec_first_pub_date", "bt:pubDate"]);
    };
    CommonMetaDataClass.prototype.getContentType = function () {
        return this.getMetaInformation(["type", "og:type"]);
    };
    CommonMetaDataClass.prototype.getDefaultMeta = function () {
        var _this = this;
        return {
            Keywords: function () { return _this.getKeywords(); },
            Title: function () { return _this.getTitle(); },
            Url: function () { return _this.getUrl(); },
            Section: function () { return _this.getSection(); },
            Author: function () { return _this.getAuthor(); },
            Tags: function () { return _this.getTags(); },
            ContentId: function () { return _this.getContentId(); },
            PublishDate: function () { return _this.getPublishDate(); },
            ContentType: function () { return _this.getContentType(); },
        };
    };
    CommonMetaDataClass.prototype.getMetaInformation = function (metaData) {
        var metaDataLength = metaData.length;
        for (var i = 0; i < metaDataLength; i++) {
            var metaName = metaData[i];
            var metaValue = this.getMetaContent(metaName);
            if (metaValue) {
                return metaValue;
            }
        }
        return null;
    };
    CommonMetaDataClass.prototype.getMetaContent = function (metaName) {
        var metas = document.querySelectorAll("meta[name ='" + metaName + "'], meta[property='" + metaName + "']");
        var i = 0;
        var mLength = metas.length;
        for (i; i < mLength; i++) {
            var content = metas[i].getAttribute("content");
            if (content) {
                return content;
            }
        }
        return "";
    };
    return CommonMetaDataClass;
}());

var CommonMetaData = new CommonMetaDataClass();


/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MiscModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_JavascriptModel__ = __webpack_require__(174);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_PromiseModel__ = __webpack_require__(175);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_SelectorModel__ = __webpack_require__(176);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_CommandModel__ = __webpack_require__(173);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_services_Index__ = __webpack_require__(4);






var MiscModuleClass = (function () {
    function MiscModuleClass() {
        this.models = [];
        this.result = {};
    }
    MiscModuleClass.prototype.process = function (options) {
        if (options === void 0) { options = []; }
        if (!(options === null || options === void 0 ? void 0 : options.length))
            return;
        this.models = [];
        this.result = {};
        this.setup(options);
        this.startCollect();
    };
    MiscModuleClass.prototype.getData = function () {
        return this.result;
    };
    MiscModuleClass.prototype.setup = function (options) {
        var _this = this;
        options.forEach(function (option) {
            var model = null;
            switch (option.type) {
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Javascript:
                    model = new __WEBPACK_IMPORTED_MODULE_1__models_JavascriptModel__["a" /* JavascriptModel */](option);
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Promise:
                    model = new __WEBPACK_IMPORTED_MODULE_2__models_PromiseModel__["a" /* PromiseModel */](option);
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Selector:
                    model = new __WEBPACK_IMPORTED_MODULE_3__models_SelectorModel__["a" /* SelectorModel */](option);
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["a" /* MISC_TYPES */].Command:
                    model = new __WEBPACK_IMPORTED_MODULE_4__models_CommandModel__["a" /* CommandModel */](option);
                    break;
            }
            if (model) {
                _this.models.push(model);
            }
        });
    };
    MiscModuleClass.prototype.startCollect = function () {
        var _this = this;
        this.models.forEach(function (model) {
            model.getData().then(function (data) {
                var value = typeof data.value === "object" ? JSON.stringify(data.value) : String(data.value);
                _this.result[data.miscKey] = value;
                if (data.enableGA && data.value !== null) {
                    __WEBPACK_IMPORTED_MODULE_5__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV(data.miscKey, data.value);
                }
            }).catch(function (e) { });
        });
    };
    return MiscModuleClass;
}());
var MiscModule = new MiscModuleClass();


/***/ }),
/* 84 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__ = __webpack_require__(178);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_logger_Logger_Core__ = __webpack_require__(1);



var PageModuleClass = (function () {
    function PageModuleClass() {
        this.isCheckedArticleInCdp = false;
        this.Logger = __WEBPACK_IMPORTED_MODULE_2__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("PageModule");
    }
    PageModuleClass.prototype.subscribePageLeave = function () {
        var _this = this;
        var eventName = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, function (e) {
            if (!_this.isCheckedArticleInCdp) {
                var articleNotExistApproved = false;
                __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].sendContentInCdp(_this.pageContent, articleNotExistApproved);
            }
        });
    };
    PageModuleClass.prototype.sendContentToCdp = function () {
        var _this = this;
        var articleNotExistApproved = false;
        this.subscribePageLeave();
        this.pageContent = __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].getPageContent();
        if (this.pageContent.isArticle()) {
            if (this.pageContent.ContentId) {
                __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].contentExistsInCdp(this.pageContent.ContentId)
                    .then(function (result) {
                    _this.isCheckedArticleInCdp = true;
                    if (!result.exists) {
                        articleNotExistApproved = true;
                        _this.pageContent["article_id"] = result["article_id"];
                        __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].sendContentInCdp(_this.pageContent, articleNotExistApproved);
                    }
                }).catch(function () {
                    _this.isCheckedArticleInCdp = false;
                });
            }
            else {
                this.isCheckedArticleInCdp = true;
                articleNotExistApproved = true;
                __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].sendContentInCdp(this.pageContent, articleNotExistApproved);
            }
        }
        else {
            this.isCheckedArticleInCdp = true;
        }
    };
    PageModuleClass.prototype.getArticleStats = function () {
        this.pageContent = __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].getPageContent();
        if (this.pageContent.isArticle()) {
            if (this.pageContent.ContentId) {
                return __WEBPACK_IMPORTED_MODULE_0__classes_ContentService__["a" /* ContentService */].getArticleStats(this.pageContent.ContentId);
            }
            else {
                this.Logger.debug("ContentId is not defined");
                return Promise.reject();
            }
        }
        else {
            this.Logger.debug("This page is not article");
            return Promise.reject();
        }
    };
    return PageModuleClass;
}());
var PageModule = new PageModuleClass();


/***/ }),
/* 85 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FLOW_MODE_TYPES; });
var FLOW_MODE_TYPES;
(function (FLOW_MODE_TYPES) {
    FLOW_MODE_TYPES["InterestsRecommendations"] = "InterestsRecommendations";
    FLOW_MODE_TYPES["EngageABExperiments"] = "EngageABExperiments";
})(FLOW_MODE_TYPES || (FLOW_MODE_TYPES = {}));


/***/ }),
/* 86 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClickUtils; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils__ = __webpack_require__(0);



var ClickUtilsClass = (function () {
    function ClickUtilsClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__logger_Logger_Core__["a" /* LoggerService */].createLogger("ClickUtils");
    }
    ClickUtilsClass.prototype.getEventName = function (clickedElement) {
        var result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Other;
        var actionType = __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].getAttributeOfDomOrParents(clickedElement, "data-mg2-action");
        if (!actionType) {
            var parentA = __WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].getParentDomByTagName(clickedElement, "a");
            if (parentA) {
                this.Logger.debug("Click Event", "parentA", parentA);
                var socialType = this.checkForSocialLinks(parentA);
                this.Logger.debug("Click Event", "socialActionType", socialType);
                if (socialType) {
                    this.Logger.debug("HAS SOCIAL", socialType);
                    result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Social;
                }
            }
        }
        else {
            switch (actionType) {
                case "login": {
                    result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Login;
                    break;
                }
                case "activation":
                    {
                        result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Activate;
                        break;
                    }
                    ;
                case "register":
                    {
                        result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Register;
                        break;
                    }
                    ;
                case "logout":
                    {
                        result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Logout;
                        break;
                    }
                    ;
                case "upgrade":
                    {
                        result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Upgrade;
                        break;
                    }
                    ;
                case "subscribe":
                    {
                        result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Subscribe;
                        break;
                    }
                    ;
                case "click": {
                    if (__WEBPACK_IMPORTED_MODULE_2__Utils__["a" /* Utils */].checkForNewsletterSignUpClick(clickedElement)) {
                        result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].SignUp;
                    }
                    break;
                }
                default: {
                    result = __WEBPACK_IMPORTED_MODULE_0__Collectors_constants_Events__["a" /* ClickEventName */].Other;
                    break;
                }
            }
        }
        return result;
    };
    ClickUtilsClass.prototype.checkForSocialLinks = function (el) {
        this.Logger.debug("checkForSocialLinks", "el", el);
        var cls = el.className.toLowerCase();
        if (cls) {
            if (cls.includes("facebook")) {
                return "Facebook";
            }
            else if (cls.includes("twitter")) {
                return "Twitter";
            }
            else {
                return false;
            }
        }
        else {
            return false;
        }
    };
    return ClickUtilsClass;
}());
var ClickUtils = new ClickUtilsClass();


/***/ }),
/* 87 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Cookie; });
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var Cookie = (function () {
    function Cookie() {
    }
    Cookie.getStoredLogLevel = function () {
        console.log("getStoredLogLevel");
    };
    Cookie.stringifyAttribute = function (name, value) {
        if (!value) {
            return "";
        }
        var stringified = "; " + name;
        if (value === true) {
            return stringified;
        }
        return stringified + "=" + value;
    };
    Cookie.stringifyAttributes = function (attributes) {
        if (typeof attributes.expires === "number") {
            var expires = new Date();
            expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);
            attributes.expires = expires;
        }
        return this.stringifyAttribute("Expires", attributes.expires ? attributes.expires.toUTCString() : "")
            + this.stringifyAttribute("Domain", attributes.domain)
            + this.stringifyAttribute("Path", attributes.path)
            + this.stringifyAttribute("Secure", attributes.secure)
            + this.stringifyAttribute("SameSite", attributes.sameSite);
    };
    Cookie.encode = function (name, value, attributes) {
        return encodeURIComponent(name)
            .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)
            .replace(/\(/g, "%28").replace(/\)/g, "%29")
            + "=" + encodeURIComponent(value)
            .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent)
            + this.stringifyAttributes(attributes);
    };
    Cookie.parse = function (cookieString) {
        var result = {};
        var cookies = cookieString ? cookieString.split("; ") : [];
        var rdecode = /(%[0-9A-Z]{2})+/g;
        for (var i = 0; i < cookies.length; i++) {
            var parts = cookies[i].split("=");
            var cookie = parts.slice(1).join("=");
            if (cookie.charAt(0) === "\"") {
                cookie = cookie.slice(1, -1);
            }
            try {
                var name_1 = parts[0].replace(rdecode, decodeURIComponent);
                result[name_1] = cookie.replace(rdecode, decodeURIComponent);
            }
            catch (e) {
            }
        }
        return result;
    };
    Cookie.getAll = function () {
        return this.parse(document.cookie);
    };
    Cookie.get = function (name) {
        return this.getAll()[name];
    };
    Cookie.set = function (name, value, attributes) {
        document.cookie = this.encode(name, value, __assign({ path: "/" }, attributes));
    };
    Cookie.remove = function (name, attributes) {
        this.set(name, "", __assign(__assign({}, attributes), { expires: -1 }));
    };
    return Cookie;
}());



/***/ }),
/* 88 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LogLevel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return LOG_LEVEL_STYLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return LOG_LEVEL_STYLE2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return LogLevels; });
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["Trace"] = 0] = "Trace";
    LogLevel[LogLevel["Debug"] = 1] = "Debug";
    LogLevel[LogLevel["Warn"] = 2] = "Warn";
    LogLevel[LogLevel["Info"] = 3] = "Info";
    LogLevel[LogLevel["Error"] = 4] = "Error";
    LogLevel[LogLevel["Fatal"] = 5] = "Fatal";
})(LogLevel || (LogLevel = {}));
var LOG_LEVEL_STYLE = {
    0: "green",
    1: "#90be90",
    2: "#f1ce7a",
    3: "#009fdf",
    4: "red",
    5: "red"
};
var LOG_LEVEL_STYLE2 = {
    0: { color: "green", bg: "#f7fbf7" },
    1: { color: "green", bg: "#f7fbf7" },
    2: { color: "green", bg: "#f7fbf7" },
    3: { color: "green", bg: "#e5f2e5" },
    4: { color: "green", bg: "#e5f2e5" },
    5: { color: "green", bg: "#e5f2e5" }
};
var LogLevels = (function () {
    function LogLevels() {
    }
    LogLevels.FromString = function (val) {
        if (val == null) {
            throw new Error("LogLevel string must be set.");
        }
        switch (val.toUpperCase()) {
            case "TRACE":
                return LogLevel.Trace;
            case "DEBUG":
                return LogLevel.Debug;
            case "INFO":
                return LogLevel.Info;
            case "WARN":
                return LogLevel.Warn;
            case "ERROR":
                return LogLevel.Error;
            case "FATAL":
                return LogLevel.Fatal;
            default:
                throw new Error("Unsupported Log Level");
        }
    };
    return LogLevels;
}());



/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */
/*jslint bitwise: true */
(function () {
  'use strict';

  var ERROR = 'input is invalid type';
  var WINDOW = typeof window === 'object';
  var root = WINDOW ? window : {};
  if (root.JS_SHA256_NO_WINDOW) {
    WINDOW = false;
  }
  var WEB_WORKER = !WINDOW && typeof self === 'object';
  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;
  if (NODE_JS) {
    root = global;
  } else if (WEB_WORKER) {
    root = self;
  }
  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;
  var AMD = "function" === 'function' && __webpack_require__(92);
  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';
  var HEX_CHARS = '0123456789abcdef'.split('');
  var EXTRA = [-2147483648, 8388608, 32768, 128];
  var SHIFT = [24, 16, 8, 0];
  var K = [
    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
  ];
  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];

  var blocks = [];

  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {
    Array.isArray = function (obj) {
      return Object.prototype.toString.call(obj) === '[object Array]';
    };
  }

  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {
    ArrayBuffer.isView = function (obj) {
      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;
    };
  }

  var createOutputMethod = function (outputType, is224) {
    return function (message) {
      return new Sha256(is224, true).update(message)[outputType]();
    };
  };

  var createMethod = function (is224) {
    var method = createOutputMethod('hex', is224);
    if (NODE_JS) {
      method = nodeWrap(method, is224);
    }
    method.create = function () {
      return new Sha256(is224);
    };
    method.update = function (message) {
      return method.create().update(message);
    };
    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {
      var type = OUTPUT_TYPES[i];
      method[type] = createOutputMethod(type, is224);
    }
    return method;
  };

  var nodeWrap = function (method, is224) {
    var crypto = eval("require('crypto')");
    var Buffer = eval("require('buffer').Buffer");
    var algorithm = is224 ? 'sha224' : 'sha256';
    var nodeMethod = function (message) {
      if (typeof message === 'string') {
        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');
      } else {
        if (message === null || message === undefined) {
          throw new Error(ERROR);
        } else if (message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        }
      }
      if (Array.isArray(message) || ArrayBuffer.isView(message) ||
        message.constructor === Buffer) {
        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');
      } else {
        return method(message);
      }
    };
    return nodeMethod;
  };

  var createHmacOutputMethod = function (outputType, is224) {
    return function (key, message) {
      return new HmacSha256(key, is224, true).update(message)[outputType]();
    };
  };

  var createHmacMethod = function (is224) {
    var method = createHmacOutputMethod('hex', is224);
    method.create = function (key) {
      return new HmacSha256(key, is224);
    };
    method.update = function (key, message) {
      return method.create(key).update(message);
    };
    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {
      var type = OUTPUT_TYPES[i];
      method[type] = createHmacOutputMethod(type, is224);
    }
    return method;
  };

  function Sha256(is224, sharedMemory) {
    if (sharedMemory) {
      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =
        blocks[4] = blocks[5] = blocks[6] = blocks[7] =
        blocks[8] = blocks[9] = blocks[10] = blocks[11] =
        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      this.blocks = blocks;
    } else {
      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    }

    if (is224) {
      this.h0 = 0xc1059ed8;
      this.h1 = 0x367cd507;
      this.h2 = 0x3070dd17;
      this.h3 = 0xf70e5939;
      this.h4 = 0xffc00b31;
      this.h5 = 0x68581511;
      this.h6 = 0x64f98fa7;
      this.h7 = 0xbefa4fa4;
    } else { // 256
      this.h0 = 0x6a09e667;
      this.h1 = 0xbb67ae85;
      this.h2 = 0x3c6ef372;
      this.h3 = 0xa54ff53a;
      this.h4 = 0x510e527f;
      this.h5 = 0x9b05688c;
      this.h6 = 0x1f83d9ab;
      this.h7 = 0x5be0cd19;
    }

    this.block = this.start = this.bytes = this.hBytes = 0;
    this.finalized = this.hashed = false;
    this.first = true;
    this.is224 = is224;
  }

  Sha256.prototype.update = function (message) {
    if (this.finalized) {
      return;
    }
    var notString, type = typeof message;
    if (type !== 'string') {
      if (type === 'object') {
        if (message === null) {
          throw new Error(ERROR);
        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {
          message = new Uint8Array(message);
        } else if (!Array.isArray(message)) {
          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {
            throw new Error(ERROR);
          }
        }
      } else {
        throw new Error(ERROR);
      }
      notString = true;
    }
    var code, index = 0, i, length = message.length, blocks = this.blocks;

    while (index < length) {
      if (this.hashed) {
        this.hashed = false;
        blocks[0] = this.block;
        blocks[16] = blocks[1] = blocks[2] = blocks[3] =
          blocks[4] = blocks[5] = blocks[6] = blocks[7] =
          blocks[8] = blocks[9] = blocks[10] = blocks[11] =
          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
      }

      if (notString) {
        for (i = this.start; index < length && i < 64; ++index) {
          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];
        }
      } else {
        for (i = this.start; index < length && i < 64; ++index) {
          code = message.charCodeAt(index);
          if (code < 0x80) {
            blocks[i >> 2] |= code << SHIFT[i++ & 3];
          } else if (code < 0x800) {
            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
          } else if (code < 0xd800 || code >= 0xe000) {
            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
          } else {
            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));
            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];
            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];
          }
        }
      }

      this.lastByteIndex = i;
      this.bytes += i - this.start;
      if (i >= 64) {
        this.block = blocks[16];
        this.start = i - 64;
        this.hash();
        this.hashed = true;
      } else {
        this.start = i;
      }
    }
    if (this.bytes > 4294967295) {
      this.hBytes += this.bytes / 4294967296 << 0;
      this.bytes = this.bytes % 4294967296;
    }
    return this;
  };

  Sha256.prototype.finalize = function () {
    if (this.finalized) {
      return;
    }
    this.finalized = true;
    var blocks = this.blocks, i = this.lastByteIndex;
    blocks[16] = this.block;
    blocks[i >> 2] |= EXTRA[i & 3];
    this.block = blocks[16];
    if (i >= 56) {
      if (!this.hashed) {
        this.hash();
      }
      blocks[0] = this.block;
      blocks[16] = blocks[1] = blocks[2] = blocks[3] =
        blocks[4] = blocks[5] = blocks[6] = blocks[7] =
        blocks[8] = blocks[9] = blocks[10] = blocks[11] =
        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;
    }
    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;
    blocks[15] = this.bytes << 3;
    this.hash();
  };

  Sha256.prototype.hash = function () {
    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,
      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;

    for (j = 16; j < 64; ++j) {
      // rightrotate
      t1 = blocks[j - 15];
      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);
      t1 = blocks[j - 2];
      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);
      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;
    }

    bc = b & c;
    for (j = 0; j < 64; j += 4) {
      if (this.first) {
        if (this.is224) {
          ab = 300032;
          t1 = blocks[0] - 1413257819;
          h = t1 - 150054599 << 0;
          d = t1 + 24177077 << 0;
        } else {
          ab = 704751109;
          t1 = blocks[0] - 210244248;
          h = t1 - 1521486534 << 0;
          d = t1 + 143694565 << 0;
        }
        this.first = false;
      } else {
        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));
        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));
        ab = a & b;
        maj = ab ^ (a & c) ^ bc;
        ch = (e & f) ^ (~e & g);
        t1 = h + s1 + ch + K[j] + blocks[j];
        t2 = s0 + maj;
        h = d + t1 << 0;
        d = t1 + t2 << 0;
      }
      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));
      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));
      da = d & a;
      maj = da ^ (d & b) ^ ab;
      ch = (h & e) ^ (~h & f);
      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];
      t2 = s0 + maj;
      g = c + t1 << 0;
      c = t1 + t2 << 0;
      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));
      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));
      cd = c & d;
      maj = cd ^ (c & a) ^ da;
      ch = (g & h) ^ (~g & e);
      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];
      t2 = s0 + maj;
      f = b + t1 << 0;
      b = t1 + t2 << 0;
      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));
      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));
      bc = b & c;
      maj = bc ^ (b & d) ^ cd;
      ch = (f & g) ^ (~f & h);
      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];
      t2 = s0 + maj;
      e = a + t1 << 0;
      a = t1 + t2 << 0;
    }

    this.h0 = this.h0 + a << 0;
    this.h1 = this.h1 + b << 0;
    this.h2 = this.h2 + c << 0;
    this.h3 = this.h3 + d << 0;
    this.h4 = this.h4 + e << 0;
    this.h5 = this.h5 + f << 0;
    this.h6 = this.h6 + g << 0;
    this.h7 = this.h7 + h << 0;
  };

  Sha256.prototype.hex = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,
      h6 = this.h6, h7 = this.h7;

    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +
      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +
      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +
      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +
      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +
      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +
      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +
      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +
      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +
      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +
      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +
      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +
      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +
      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +
      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +
      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +
      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +
      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +
      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +
      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +
      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +
      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +
      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +
      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +
      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +
      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +
      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +
      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];
    if (!this.is224) {
      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +
        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +
        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +
        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];
    }
    return hex;
  };

  Sha256.prototype.toString = Sha256.prototype.hex;

  Sha256.prototype.digest = function () {
    this.finalize();

    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,
      h6 = this.h6, h7 = this.h7;

    var arr = [
      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,
      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,
      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,
      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,
      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,
      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,
      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF
    ];
    if (!this.is224) {
      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);
    }
    return arr;
  };

  Sha256.prototype.array = Sha256.prototype.digest;

  Sha256.prototype.arrayBuffer = function () {
    this.finalize();

    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);
    var dataView = new DataView(buffer);
    dataView.setUint32(0, this.h0);
    dataView.setUint32(4, this.h1);
    dataView.setUint32(8, this.h2);
    dataView.setUint32(12, this.h3);
    dataView.setUint32(16, this.h4);
    dataView.setUint32(20, this.h5);
    dataView.setUint32(24, this.h6);
    if (!this.is224) {
      dataView.setUint32(28, this.h7);
    }
    return buffer;
  };

  function HmacSha256(key, is224, sharedMemory) {
    var i, type = typeof key;
    if (type === 'string') {
      var bytes = [], length = key.length, index = 0, code;
      for (i = 0; i < length; ++i) {
        code = key.charCodeAt(i);
        if (code < 0x80) {
          bytes[index++] = code;
        } else if (code < 0x800) {
          bytes[index++] = (0xc0 | (code >> 6));
          bytes[index++] = (0x80 | (code & 0x3f));
        } else if (code < 0xd800 || code >= 0xe000) {
          bytes[index++] = (0xe0 | (code >> 12));
          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));
          bytes[index++] = (0x80 | (code & 0x3f));
        } else {
          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));
          bytes[index++] = (0xf0 | (code >> 18));
          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));
          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));
          bytes[index++] = (0x80 | (code & 0x3f));
        }
      }
      key = bytes;
    } else {
      if (type === 'object') {
        if (key === null) {
          throw new Error(ERROR);
        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {
          key = new Uint8Array(key);
        } else if (!Array.isArray(key)) {
          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {
            throw new Error(ERROR);
          }
        }
      } else {
        throw new Error(ERROR);
      }
    }

    if (key.length > 64) {
      key = (new Sha256(is224, true)).update(key).array();
    }

    var oKeyPad = [], iKeyPad = [];
    for (i = 0; i < 64; ++i) {
      var b = key[i] || 0;
      oKeyPad[i] = 0x5c ^ b;
      iKeyPad[i] = 0x36 ^ b;
    }

    Sha256.call(this, is224, sharedMemory);

    this.update(iKeyPad);
    this.oKeyPad = oKeyPad;
    this.inner = true;
    this.sharedMemory = sharedMemory;
  }
  HmacSha256.prototype = new Sha256();

  HmacSha256.prototype.finalize = function () {
    Sha256.prototype.finalize.call(this);
    if (this.inner) {
      this.inner = false;
      var innerHash = this.array();
      Sha256.call(this, this.is224, this.sharedMemory);
      this.update(this.oKeyPad);
      this.update(innerHash);
      Sha256.prototype.finalize.call(this);
    }
  };

  var exports = createMethod();
  exports.sha256 = exports;
  exports.sha224 = createMethod(true);
  exports.sha256.hmac = createHmacMethod();
  exports.sha224.hmac = createHmacMethod(true);

  if (COMMON_JS) {
    module.exports = exports;
  } else {
    root.sha256 = exports.sha256;
    root.sha224 = exports.sha224;
    if (AMD) {
      !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {
        return exports;
      }.call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
  }
})();

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(90), __webpack_require__(91)))

/***/ }),
/* 90 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 91 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 92 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 93 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__plugin_PublicPlugin__ = __webpack_require__(98);

var pluginInstance = new __WEBPACK_IMPORTED_MODULE_0__plugin_PublicPlugin__["a" /* PublicPlugin */]();
window.G2Analytics = pluginInstance;
window.G2Insights = pluginInstance;
window.MG2Insights = pluginInstance;
var MG2DL = window["G2Analytics"].DataLayer;


/***/ }),
/* 94 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DefaultCdpSelectors; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);

var DefaultCdpSelectors = (function () {
    function DefaultCdpSelectors() {
    }
    DefaultCdpSelectors.prototype.getContentType = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getContentId = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getTitle = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getAuthor = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getPublishDate = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getModificationDate = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getText = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getLeadText = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getSection = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getCategory = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getKeywords = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getDescription = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getTags = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getCountLikes = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getCountShares = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getPictures = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getCountVideo = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getBreakingNews = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getIsPremium = function () {
        return null;
    };
    DefaultCdpSelectors.prototype.getRecommended = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].getRecommendationId();
    };
    DefaultCdpSelectors.prototype.getLanguage = function () {
        return window.navigator["userLanguage"] || window.navigator.language;
    };
    DefaultCdpSelectors.prototype.getLeadImageUrl = function () {
        var element = document.querySelector("meta[property='og:image']");
        return element ? element.getAttribute("content") : null;
    };
    DefaultCdpSelectors.prototype.getDataFromLdJson = function () {
        try {
            var ldJson = {};
            var ldElements = document.querySelectorAll("script[type='application/ld+json']");
            if (ldElements && ldElements.length) {
                var ldLength = ldElements.length;
                for (var i = 0; i < ldLength; i++) {
                    try {
                        ldJson = Object.assign(ldJson, JSON.parse(ldElements[i].innerText));
                    }
                    catch (error) {
                        continue;
                    }
                }
                return ldJson;
            }
        }
        catch (error) {
            return null;
        }
    };
    return DefaultCdpSelectors;
}());



/***/ }),
/* 95 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export RecommendationDemoClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecommendationDemo; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpDataLayer__ = __webpack_require__(51);

var RecommendationDemoClass = (function () {
    function RecommendationDemoClass() {
        this.deviceIdCookie = "anonDeviceId";
        this.isActiveRegenerationCookie = "isActiveRegeneration";
        this.DemoProfiles = [
            { ProfileName: "Native", DeviceID: null },
            { ProfileName: "User S", DeviceID: "sport111-c4a8-4a44-8f54-6853a6d6d815" },
            { ProfileName: "User T", DeviceID: "politics-1b6b-4908-ba87-bdcc5379c928" },
            { ProfileName: "User G", DeviceID: "average1-85c3-4516-b806-cbeb6244a7bb" },
        ];
    }
    RecommendationDemoClass.prototype.start = function () {
        var _this = this;
        var currentDeviceId = this.getCookie(this.deviceIdCookie);
        var isActiveRegeneration = this.getActiveRegeneration();
        var demoCookie = JSON.parse(this.getCookie("DemoProfile") || null);
        if (demoCookie) {
            this.DemoProfiles.push(demoCookie);
        }
        if (isActiveRegeneration === "false") {
            this.mockFPPublicMethods(currentDeviceId);
        }
        document.addEventListener("onFinish", function (eventData) {
            setTimeout(function () {
                _this.attachInHtml(currentDeviceId, isActiveRegeneration);
            }, 100);
        });
        return {
            addProfile: function (profileName, deviceId) {
                _this.setCookie("DemoProfile", JSON.stringify({ ProfileName: profileName, DeviceID: deviceId }), 1);
                location.reload();
            },
            getActiveRegeneration: function () {
                return _this.getActiveRegeneration();
            }
        };
    };
    RecommendationDemoClass.prototype.getActiveRegeneration = function () {
        return this.getCookie(this.isActiveRegenerationCookie) || "true";
    };
    RecommendationDemoClass.prototype.setActiveRegeneration = function (value, hours) {
        if (value === void 0) { value = false; }
        if (hours === void 0) { hours = 1; }
        this.setCookie(this.isActiveRegenerationCookie, value, hours);
    };
    RecommendationDemoClass.prototype.deleteActiveRegeneration = function () {
        this.delete_cookie(this.isActiveRegenerationCookie);
    };
    RecommendationDemoClass.prototype.attachInHtml = function (currentDeviceId, isActiveRegeneration) {
        var selectInjectPlace = ".debug_details_content ul";
        var selectHtml = this.createSelect(currentDeviceId);
        var insertTemplate = "<li class=\"debug_details_header hide_on_mobile\">\n            <h4>G2Insight Demo</h4>\n            <label for=\"RegenerationChk\" class=\"overlay_label check\">Regenerate deviceid: </label>\n                            <input type=\"checkbox\" id=\"RegenerationChk\" " + (isActiveRegeneration === "true" ? "checked" : "") + " >\n            " + selectHtml + "\n        </li>";
        var injectPlace = document.querySelector(selectInjectPlace);
        if (injectPlace) {
            injectPlace.insertAdjacentHTML("afterbegin", insertTemplate);
            this.addListeners();
        }
        else {
            console.warn("G2iDemo is not find selector");
        }
    };
    RecommendationDemoClass.prototype.addListeners = function () {
        var _this = this;
        var checkbox = document.getElementById("RegenerationChk");
        checkbox.addEventListener("change", function (event) {
            if (event.target.checked) {
                _this.deleteCdpDemoCookies();
            }
            else {
                _this.setActiveRegeneration(false, 1);
            }
            location.reload(true);
        });
        document.getElementById("g2iProfile").addEventListener("change", function (event) {
            var selectedId = event.target.value;
            if (selectedId === "null") {
                _this.deleteCdpDemoCookies();
                __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpDataLayer__["a" /* CdpDataLayer */].deleteCdpDlStorage();
            }
            else {
                __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpDataLayer__["a" /* CdpDataLayer */].deleteCdpDlStorage();
                _this.delete_cookie(_this.deviceIdCookie);
                _this.setCookie(_this.deviceIdCookie, selectedId, 1);
                _this.turnOffRegeneration();
            }
            location.reload(true);
        });
    };
    RecommendationDemoClass.prototype.deleteCdpDemoCookies = function () {
        this.deleteActiveRegeneration();
        this.delete_cookie(this.deviceIdCookie);
    };
    RecommendationDemoClass.prototype.turnOffRegeneration = function () {
        this.setActiveRegeneration(false, 1);
        document.getElementById("RegenerationChk").checked = false;
    };
    RecommendationDemoClass.prototype.setDeviceIdOnHour = function (deviceId) {
        this.setCookie(this.deviceIdCookie, deviceId, 1);
        this.setActiveRegeneration(false, 1);
    };
    RecommendationDemoClass.prototype.setCookie = function (cname, cvalue, exHours) {
        var d = new Date();
        d.setTime(d.getTime() + (exHours * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    };
    RecommendationDemoClass.prototype.getCookie = function (cname) {
        var name = cname + "=";
        var ca = document.cookie.split(";");
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) === " ") {
                c = c.substring(1);
            }
            if (c.indexOf(name) === 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    };
    RecommendationDemoClass.prototype.delete_cookie = function (name) {
        document.cookie = name + "=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT";
        document.cookie = name + "=;path=/;domain=" + location.host + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";
        document.cookie = name + "=;path=/;domain=." + location.host + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";
        var arr = location.host.split(".");
        var rootdomain = arr[arr.length - 2] + "." + arr[arr.length - 1];
        document.cookie = name + "=;path=/;domain=" + rootdomain + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";
        document.cookie = name + "=;path=/;domain=." + rootdomain + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";
    };
    RecommendationDemoClass.prototype.mockFPPublicMethods = function (deviceId) {
        if (window.Fingerprint !== undefined) {
            this.savedFNPublicObject = window.Fingerprint;
            if (typeof window.Fingerprint.getDeviceID === "function") {
                window.Fingerprint.getDeviceID = function () {
                    return Promise.resolve(deviceId);
                };
            }
            else {
                console.warn("Plugin use old version FP");
            }
            if (typeof window.Fingerprint.getDeviceId === "function") {
                window.Fingerprint.getDeviceId = function () {
                    return deviceId;
                };
            }
            else {
                console.warn("Plugin use old version FP");
            }
            if (typeof window.Fingerprint.onChangedDeviceId === "function") {
                window.Fingerprint.onChangedDeviceId = function () {
                    return Promise.reject();
                };
            }
            else {
                console.warn("Plugin use old version FP");
            }
        }
    };
    RecommendationDemoClass.prototype.createSelect = function (selectedDeviceId) {
        var optionsHtml = "<select id=\"g2iProfile\">";
        this.DemoProfiles.forEach(function (profileData) {
            if (selectedDeviceId === profileData.DeviceID) {
                optionsHtml += "<option name=\"" + profileData.ProfileName + "\" value=\"" + profileData.DeviceID + "\" selected>" + profileData.ProfileName + "</option>";
            }
            else {
                optionsHtml += "<option name=\"" + profileData.ProfileName + "\" value=\"" + profileData.DeviceID + "\">" + profileData.ProfileName + "</option>";
            }
        });
        return optionsHtml + "</select>";
    };
    return RecommendationDemoClass;
}());

var RecommendationDemo = new RecommendationDemoClass();


/***/ }),
/* 96 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DLCdpPublic; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_pageModule_PageModule__ = __webpack_require__(84);


var DLCdpPublic = (function () {
    function DLCdpPublic() {
    }
    DLCdpPublic.prototype.getUserData = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getDlInformation();
    };
    DLCdpPublic.prototype.getArticleStats = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Modules_pageModule_PageModule__["a" /* PageModule */].getArticleStats();
    };
    DLCdpPublic.prototype.getRecommendationsStats = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getRecommendationsStats();
    };
    DLCdpPublic.prototype.getRecommendations = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getRecommendations();
    };
    DLCdpPublic.prototype.getInterestsStats = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getUserInterestsStats();
    };
    DLCdpPublic.prototype.getErStats = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErInterpretation();
    };
    DLCdpPublic.prototype.getApiVersion = function () {
        return __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getApiVersion().then(function (versionData) {
            console.log("The version of the platform -" + versionData.version);
        }).catch(function (error) {
            console.log("The version is not get. Error -" + error);
        });
    };
    return DLCdpPublic;
}());



/***/ }),
/* 97 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export PluginClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Plugin; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__collectors_cdp_collectors_CdpCollectorModule__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__modules_cdpModule_CdpModule__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__collectors_gtmTag_collector_GtmTagModule__ = __webpack_require__(146);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__data_services_TagManagerService__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__data_services_Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__data_services_AzureService__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__data_services_SessionService__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Core_storages_cookies_CookiesStorage__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Modules_pageModule_PageModule__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__DLCdpPublic__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__Modules_deviceModule_DeviceModule__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__Modules_miscModule_MiscModule__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);

















var PluginClass = (function () {
    function PluginClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("Plugin");
        this.Logger.debug("**** G2Insights Initializing ****");
        this.sessionService = __WEBPACK_IMPORTED_MODULE_8__data_services_SessionService__["a" /* SessionService */].Instance;
        this.azureService = __WEBPACK_IMPORTED_MODULE_7__data_services_AzureService__["a" /* AzureService */].Instance;
        this.tagManagerService = __WEBPACK_IMPORTED_MODULE_5__data_services_TagManagerService__["a" /* TagManagerService */].Instance;
        this.dimensionService = __WEBPACK_IMPORTED_MODULE_6__data_services_Index__["e" /* MetaDataService */].Instance;
    }
    Object.defineProperty(PluginClass.prototype, "DataLayer", {
        get: function () {
            return this.tagManagerService.getDataLayer();
        },
        enumerable: false,
        configurable: true
    });
    PluginClass.prototype.init = function (opts) {
        var _this = this;
        try {
            __WEBPACK_IMPORTED_MODULE_14__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].initDeviceId()
                .then(function (deviceId) {
                _this.tagManagerService.setDLV("fingerPrintId", deviceId);
                __WEBPACK_IMPORTED_MODULE_6__data_services_Index__["f" /* EventService */].Instance.sendTagCollectedEvents();
            });
            if (!opts) {
                throw "No Options Passed In";
            }
            else {
                this.listenPluginsEvents();
                __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].setInitOptions(opts);
                var initModel = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getInitConfiguration();
                this.Logger.debug("Initializing G2Analytics with options...", opts);
                __WEBPACK_IMPORTED_MODULE_16__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].setModes(initModel.flowModes);
                __WEBPACK_IMPORTED_MODULE_6__data_services_Index__["f" /* EventService */].Instance.resendFailedEvents();
                if (initModel.debug) {
                    __WEBPACK_IMPORTED_MODULE_9__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].set(__WEBPACK_IMPORTED_MODULE_10__core_constants_Constants__["a" /* Constants */].cookies.LogEnabled, initModel.debug.toString());
                }
                if (!initModel.containerId) {
                    throw "No Container Id Set";
                }
                if (!initModel.collectors) {
                    throw "No Collectors Set";
                }
                if (initModel.sessionId) {
                    this.Logger.debug("Has SessionId PageSessionId XXX....", initModel.sessionId);
                    this.sessionService.PageSessionId = initModel.sessionId;
                }
                this.dimensionService.setup(initModel.dimensions);
                if (initModel.analysis) {
                    this.azureService.setup(initModel.analysis);
                }
                if (initModel.collectors) {
                    __WEBPACK_IMPORTED_MODULE_1__collectors_cdp_collectors_CdpCollectorModule__["a" /* CdpCollectorModule */].setup(initModel.collectors);
                    if (initModel.cdp && initModel.cdp.enabled) {
                        window.g2i_dl = new __WEBPACK_IMPORTED_MODULE_12__DLCdpPublic__["a" /* DLCdpPublic */]();
                        __WEBPACK_IMPORTED_MODULE_2__modules_cdpModule_CdpModule__["a" /* CdpModule */].setDlInformation();
                        __WEBPACK_IMPORTED_MODULE_11__Modules_pageModule_PageModule__["a" /* PageModule */].sendContentToCdp();
                    }
                    __WEBPACK_IMPORTED_MODULE_3__collectors_gtmTag_collector_GtmTagModule__["a" /* GtmTagModule */].setup(initModel);
                }
                if (initModel.misc) {
                    __WEBPACK_IMPORTED_MODULE_15__Modules_miscModule_MiscModule__["a" /* MiscModule */].process(initModel.misc);
                }
                this.tagManagerService.setup(initModel.containerId);
                this.Logger.info("Done Setting Up Collectors");
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    PluginClass.prototype.SetLoggerEnabled = function (val) {
        __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__["a" /* LoggerService */].setEnabled(val);
    };
    Object.defineProperty(PluginClass.prototype, "BrowserSessionId", {
        get: function () {
            return this.sessionService.getDeviceSessionId();
        },
        enumerable: false,
        configurable: true
    });
    PluginClass.prototype.SetLogLevel = function (strLogLevel) {
        __WEBPACK_IMPORTED_MODULE_4__utils_logger_Logger_Core__["a" /* LoggerService */].setLevel(strLogLevel);
    };
    PluginClass.prototype.listenPluginsEvents = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_13__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, "Loader:Recalculate:SessionId", function (eventData) {
            _this.sessionService.PageSessionId = eventData.detail;
        });
    };
    return PluginClass;
}());

var Plugin = new PluginClass();


/***/ }),
/* 98 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PublicPlugin; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Plugin__ = __webpack_require__(97);

var PublicPlugin = (function () {
    function PublicPlugin() {
    }
    PublicPlugin.prototype.init = function (initOptions) {
        __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].init(initOptions);
    };
    Object.defineProperty(PublicPlugin.prototype, "DataLayer", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].DataLayer;
        },
        enumerable: false,
        configurable: true
    });
    PublicPlugin.prototype.setLoggerEnabled = function (val) {
        __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].SetLoggerEnabled(val);
    };
    PublicPlugin.prototype.setLogLevel = function (strLogLevel) {
        __WEBPACK_IMPORTED_MODULE_0__Plugin__["a" /* Plugin */].SetLogLevel(strLogLevel);
    };
    PublicPlugin.prototype.getVersion = function () {
        return "Version: " + ("1.16.23" || "local");
    };
    ;
    PublicPlugin.prototype.getVersionInfo = function () {
        return "Version: " + ("1.16.23" || "local") + ", Build: " + ("V.1.16.23-20210811.1" || "local");
    };
    ;
    return PublicPlugin;
}());



/***/ }),
/* 99 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export CdpModuleClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CdpCollectorModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CollectorFactory__ = __webpack_require__(100);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_commonEvents_CommonEventsCollector__ = __webpack_require__(134);



var CdpModuleClass = (function () {
    function CdpModuleClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_1__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("CdpModule");
        this.CollectMetaTags = false;
        this.firedEvents = [];
        this.sendEventsDelay = 0;
    }
    CdpModuleClass.prototype.setup = function (collectors) {
        var _this = this;
        try {
            var isExcludeCommonPageView_1 = false;
            collectors.forEach(function (item) {
                var collectorType = new __WEBPACK_IMPORTED_MODULE_0__CollectorFactory__["a" /* CollectorFactory */](item).createCollector();
                _this.Logger.info("@ forEach.Collector = collectorType", collectorType);
                if (!collectorType)
                    return;
                collectorType.registerEvents();
                if (collectorType.isHavePageViewEvent()) {
                    isExcludeCommonPageView_1 = true;
                }
            });
            var commonEvents = new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_commonEvents_CommonEventsCollector__["a" /* CommonEventsCollector */](isExcludeCommonPageView_1);
            commonEvents.registerEvents();
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return CdpModuleClass;
}());

var CdpCollectorModule = new CdpModuleClass();


/***/ }),
/* 100 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectorFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__collectors_connext_collector_ConnextCollector__ = __webpack_require__(101);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__collectors_sp_collector_SpCollector__ = __webpack_require__(114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_base_factory_Factory__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__ = __webpack_require__(1);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var CollectorFactory = (function (_super) {
    __extends(CollectorFactory, _super);
    function CollectorFactory(collector) {
        var _this = _super.call(this) || this;
        _this.Logger = __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("CollectorFactory");
        _this.collectMetaTags = false;
        _this.collector = collector;
        return _this;
    }
    CollectorFactory.prototype.createCollector = function () {
        try {
            var collector = this.collector;
            this.Logger.trace("Creating Collector: ", collector);
            switch (collector.toUpperCase()) {
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].Connext.toUpperCase():
                    this.collectMetaTags = true;
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_1__collectors_connext_collector_ConnextCollector__["a" /* ConnextCollector */]();
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].SP.toUpperCase():
                    this.collectMetaTags = false;
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_2__collectors_sp_collector_SpCollector__["a" /* SpCollector */]();
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].Flittz.toUpperCase():
                    this.collectMetaTags = true;
                    break;
                default:
                    throw "Not a valid collector";
            }
            return this.collectorType;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return CollectorFactory;
}(__WEBPACK_IMPORTED_MODULE_3__Core_base_factory_Factory__["a" /* Factory */]));



/***/ }),
/* 101 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_services_MetaDataService__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collector__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__events__ = __webpack_require__(112);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var ConnextCollector = (function (_super) {
    __extends(ConnextCollector, _super);
    function ConnextCollector() {
        var _this = _super.call(this) || this;
        _this.metaDataService = __WEBPACK_IMPORTED_MODULE_1__Data_services_MetaDataService__["a" /* MetaDataService */].Instance;
        _this.eventService = __WEBPACK_IMPORTED_MODULE_0__Data_services_EventService__["a" /* EventService */].Instance;
        _this.sendMetaData();
        _this.metaDataService.process();
        return _this;
    }
    ConnextCollector.prototype.sendMetaData = function () {
        this.eventService.sendEvent("metaTagsCollected", this.metaDataService.analyticsDimensions);
    };
    ConnextCollector.prototype.registerEvents = function () {
        var filteredEvents = __WEBPACK_IMPORTED_MODULE_4__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].limitEngageEvents(__WEBPACK_IMPORTED_MODULE_3__events__);
        this.events = filteredEvents;
        _super.prototype.registerEvents.call(this);
    };
    ConnextCollector.prototype.isHavePageViewEvent = function () {
        return true;
    };
    return ConnextCollector;
}(__WEBPACK_IMPORTED_MODULE_2__Collector__["a" /* Collector */]));



/***/ }),
/* 102 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionShown; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var ActionShown = (function (_super) {
    __extends(ActionShown, _super);
    function ActionShown() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActionShown";
        return _this;
    }
    ActionShown.prototype.updateCustomProperties = function () {
        var actionShowEventData = this.originalEventData.EventData;
        this.eventModel.EventType = "ActionShown";
        this.eventModel.EventName = actionShowEventData.Name;
        var eventData = {
            Type: actionShowEventData.ActionType || __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__["b" /* ActionTypeDict */][this.originalEventData.EventData.ActionTypeId],
            UserER: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode(),
            UserERP: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode(),
            UserCR: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrCode(),
            UserCRP: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrpCode()
        };
        this.transformEventData(eventData);
    };
    return ActionShown;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 103 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActivateSuccess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ActivateSuccess = (function (_super) {
    __extends(ActivateSuccess, _super);
    function ActivateSuccess() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActivationLinkSuccessStepShown";
        return _this;
    }
    ActivateSuccess.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "ActivateSuccess";
        this.eventModel.EventName = "ActivateSuccess";
        this.transformEventData({});
    };
    return ActivateSuccess;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Click; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_connextModule_ConnextModule__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Core_constants_FirstVisitProperties__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_ClickUtils__ = __webpack_require__(86);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var Click = (function (_super) {
    __extends(Click, _super);
    function Click() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.socialType = null;
        return _this;
    }
    Click.prototype.listen = function () {
        var _this = this;
        var eventName = "click";
        __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, eventName, function (event) {
            _this.Logger.debug("Click Event", event, "e.target", event.target);
            _this.clickedElement = event.target;
            _this.clearPreviousData();
            _this.originalEventData = event;
            _this.socialType = null;
            _this.actionType = null;
            if (__WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].getAttributeOfDomOrParents(_this.clickedElement, "data-mg2-tester")) {
                _this.Logger.debug("is tester, ignoring");
                return false;
            }
            _this.actionType = __WEBPACK_IMPORTED_MODULE_6__Utils_ClickUtils__["a" /* ClickUtils */].getEventName(_this.clickedElement);
            _this.socialType = _this.actionType === __WEBPACK_IMPORTED_MODULE_5__Collectors_constants_Events__["a" /* ClickEventName */].Social;
            _this.Logger.debug("******** Click Event ", "actionType=>", _this.actionType, " el=> ", _this.clickedElement);
            __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
        });
    };
    Click.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "Click";
        var payload = this.createDomTargetPayload(this.clickedElement);
        if (this.socialType) {
            payload["TargetSocialNetwork"] = __WEBPACK_IMPORTED_MODULE_6__Utils_ClickUtils__["a" /* ClickUtils */].checkForSocialLinks(this.clickedElement);
        }
        var actionData = __WEBPACK_IMPORTED_MODULE_2__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getActionDataFromElement(this.clickedElement);
        if (actionData) {
            payload["ActionId"] = actionData["ActionId"];
            payload["ActionName"] = actionData["ActionName"];
            payload["IsActionClick"] = true;
        }
        ;
        this.transformEventData(payload);
        this.eventModel.EventName = __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].toTitleCase(this.actionType);
    };
    Click.prototype.createDomTargetPayload = function (target) {
        var tagName = target.tagName.toLowerCase();
        var targetAttribute;
        var targetValue;
        if (target.id && target.id !== "") {
            targetAttribute = "Id";
            targetValue = target.id;
        }
        else if (target.name && target.name !== "") {
            targetAttribute = "Name";
            targetValue = target.name;
        }
        else if (target.className && target.className !== "") {
            targetAttribute = "Class";
            targetValue = target.className;
        }
        else {
            targetAttribute = "Label";
            targetValue = target.textContent || target.innerText;
            switch (tagName) {
                case "img":
                case "audio":
                case "video":
                    targetAttribute = "src";
                    targetValue = target.getAttribute("src");
                    break;
            }
        }
        if (tagName === "html") {
            targetValue = "html";
        }
        var payload = {
            "TargetType": tagName,
            "TargetAttribute": targetAttribute,
            "TargetValue": targetValue
        };
        return payload;
    };
    Click.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    Click.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_4__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountClick;
    };
    return Click;
}(__WEBPACK_IMPORTED_MODULE_1__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 105 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextPageView; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Core_constants_FirstVisitProperties__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_models_pageView_ConnextPageViewDataModel__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_services_Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_miscModule_MiscModule__ = __webpack_require__(83);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var ConnextPageView = (function (_super) {
    __extends(ConnextPageView, _super);
    function ConnextPageView() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onFinish";
        return _this;
    }
    ConnextPageView.prototype.updateCustomProperties = function () {
        this.eventModel.EventName = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["b" /* EventNames */].PageView;
        this.eventModel.EventType = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["b" /* EventNames */].PageView;
        __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].setLayoutCode(this.eventModel.SiteCode);
        var eventData = new __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_models_pageView_ConnextPageViewDataModel__["a" /* ConnextPageViewDataModel */](this.originalEventData);
        eventData = this.addMiscInfo(eventData);
        __WEBPACK_IMPORTED_MODULE_5__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("emailhash", eventData.EncryptedEmail);
        this.transformEventData(eventData);
    };
    ConnextPageView.prototype.addMiscInfo = function (eventData) {
        eventData.Misc = __WEBPACK_IMPORTED_MODULE_6__Modules_miscModule_MiscModule__["a" /* MiscModule */].getData();
        return eventData;
    };
    ConnextPageView.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    ConnextPageView.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_2__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountPageview;
    };
    return ConnextPageView;
}(__WEBPACK_IMPORTED_MODULE_1__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateAccount; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__ = __webpack_require__(21);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var CreateAccount = (function (_super) {
    __extends(CreateAccount, _super);
    function CreateAccount() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = ["onActivationAccountCreated", "onRegistrationSuccessRegister"];
        return _this;
    }
    CreateAccount.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CreateAccount";
        this.eventModel.EventName = "CreateAccount";
        var eventData = {};
        this.transformEventData(eventData);
    };
    CreateAccount.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    CreateAccount.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCreateAccountEvents;
    };
    return CreateAccount;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CtrlC; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__ = __webpack_require__(0);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CtrlC = (function (_super) {
    __extends(CtrlC, _super);
    function CtrlC() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "copy";
        return _this;
    }
    CtrlC.prototype.listen = function () {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", this.originalEventName);
            __WEBPACK_IMPORTED_MODULE_2__Utils_Utils__["a" /* Utils */].addCustomEventListener(document, this.originalEventName, function (e) {
                _this.Logger.trace("Firing", _this.eventModel.EventName);
                _this.originalEventData = e;
                __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            });
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    CtrlC.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CtrlC";
        this.eventModel.EventName = "CtrlC";
        this.transformEventData({});
    };
    return CtrlC;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Login; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var Login = (function (_super) {
    __extends(Login, _super);
    function Login() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onLoginSuccess";
        return _this;
    }
    Login.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "Login";
        this.eventModel.EventName = "Login";
        var eventData = {};
        this.transformEventData(eventData);
    };
    return Login;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 109 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsletterArrival; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_services_Index__ = __webpack_require__(4);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var NewsletterArrival = (function (_super) {
    __extends(NewsletterArrival, _super);
    function NewsletterArrival() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onNewsletterArrival";
        return _this;
    }
    NewsletterArrival.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "NewsletterArrival";
        this.eventModel.EventName = "NewsletterArrival";
        var eventData = {
            Email: this.originalEventData.EventData.Email,
            EncryptedEmail: this.originalEventData.EventData.EncryptedEmail
        };
        __WEBPACK_IMPORTED_MODULE_2__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("emailhash", eventData.EncryptedEmail);
        this.transformEventData(eventData);
        this.fillEventDataByPreferences();
    };
    NewsletterArrival.prototype.fillEventDataByPreferences = function () {
        var _this = this;
        var eventData = this.originalEventData.EventData;
        if (eventData && Array.isArray(eventData.EmailPreferences)) {
            eventData.EmailPreferences.forEach(function (emailPreference) {
                _this.eventModel.EventData.push({ "Key": "EmailPreferences", "Value": __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].objectToBigQueryString(emailPreference) });
            });
        }
    };
    return NewsletterArrival;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsletterSignup; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ConnextEvent__ = __webpack_require__(15);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var NewsletterSignup = (function (_super) {
    __extends(NewsletterSignup, _super);
    function NewsletterSignup() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onNewsletterSignUp";
        return _this;
    }
    NewsletterSignup.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "NewsletterSignup";
        this.eventModel.EventName = "NewsletterSignup";
        this.fillEventDataByPreferences();
    };
    NewsletterSignup.prototype.fillEventDataByPreferences = function () {
        var _this = this;
        var eventData = Object.assign({}, this.originalEventData.EventData);
        this.eventModel.EventData.push({ "Key": "Email", "Value": eventData.Email });
        if (eventData.EmailPreferences) {
            if (Array.isArray(eventData.EmailPreferences)) {
                eventData.EmailPreferences.forEach(function (emailPreference) {
                    _this.eventModel.EventData.push({ "Key": "EmailPreferences", "Value": __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].objectToBigQueryString(emailPreference) });
                });
            }
        }
        else {
            return this.fillEventModelNxtV1_7(eventData);
        }
    };
    NewsletterSignup.prototype.fillEventModelNxtV1_7 = function (eventData) {
        var sendEventData = {};
        if (eventData.EmailPreferenceId) {
            sendEventData = {
                PreferenceId: eventData.EmailPreferenceId,
            };
        }
        ;
        this.transformEventData(sendEventData);
        return this.eventModel;
    };
    return NewsletterSignup;
}(__WEBPACK_IMPORTED_MODULE_1__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecommendationShown; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextEvent__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_services_Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__ = __webpack_require__(0);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var RecommendationShown = (function (_super) {
    __extends(RecommendationShown, _super);
    function RecommendationShown() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActionShown";
        return _this;
    }
    RecommendationShown.prototype.getEventModel = function () {
        this.eventModel = _super.prototype.getEventModel.call(this);
        this.eventModel.EventType = "RecommendationDone";
        this.eventModel.EventName = "RecommendationShown";
        var actionShowEventData = this.originalEventData.EventData;
        var actionType = actionShowEventData.ActionType || __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__["b" /* ActionTypeDict */][this.originalEventData.EventData.ActionTypeId];
        if (actionType === __WEBPACK_IMPORTED_MODULE_1__Data_models_connext_ActionModels__["a" /* ActionTypes */].InsightsRecommendation) {
            var eventData = {
                ArticlesRecommended: this.getArticlesRecommended(),
                RecommendationId: this.getRecommendationId()
            };
            __WEBPACK_IMPORTED_MODULE_2__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("recommendationShown", eventData.RecommendationId);
            this.transformEventData(eventData);
            return this.eventModel;
        }
        else {
            return null;
        }
    };
    RecommendationShown.prototype.getArticlesRecommended = function () {
        var _this = this;
        var urls = this.getUrls();
        var html = document.querySelector("html");
        var existingArticles = [];
        urls.forEach(function (url, index) {
            if (html.innerHTML.indexOf(url) !== -1 && index === existingArticles.length) {
                var articleId = _this.getArticleId(url);
                if (articleId) {
                    existingArticles.push(articleId);
                }
            }
        });
        return existingArticles.join(",");
    };
    RecommendationShown.prototype.getRecommendationId = function () {
        var urls = this.getUrls();
        var result = "";
        if (urls.length !== 0) {
            result = __WEBPACK_IMPORTED_MODULE_3__Utils_Utils__["a" /* Utils */].getRecommendationId(urls[0]);
        }
        return result;
    };
    RecommendationShown.prototype.getUrls = function () {
        var data = window["g2i_dl_recommendations"];
        return ((data === null || data === void 0 ? void 0 : data.recommendations) || []).map(function (r) { return r.url; });
    };
    RecommendationShown.prototype.getArticleId = function (url) {
        var data = window["g2i_dl_recommendations"];
        return ((data === null || data === void 0 ? void 0 : data.recommendations) || [])
            .filter(function (r) { return r.url === url; })
            .map(function (r) { return r.article_content_id; })[0];
    };
    return RecommendationShown;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextEvent__["a" /* ConnextEvent */]));



/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ActionShown__ = __webpack_require__(102);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActionShown", function() { return __WEBPACK_IMPORTED_MODULE_0__ActionShown__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ActivateSuccess__ = __webpack_require__(103);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActivateSuccess", function() { return __WEBPACK_IMPORTED_MODULE_1__ActivateSuccess__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Click__ = __webpack_require__(104);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Click", function() { return __WEBPACK_IMPORTED_MODULE_2__Click__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ConnextPageView__ = __webpack_require__(105);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ConnextPageView", function() { return __WEBPACK_IMPORTED_MODULE_3__ConnextPageView__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CreateAccount__ = __webpack_require__(106);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CreateAccount", function() { return __WEBPACK_IMPORTED_MODULE_4__CreateAccount__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__CtrlC__ = __webpack_require__(107);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CtrlC", function() { return __WEBPACK_IMPORTED_MODULE_5__CtrlC__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Login__ = __webpack_require__(108);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Login", function() { return __WEBPACK_IMPORTED_MODULE_6__Login__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__NewsletterArrival__ = __webpack_require__(109);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NewsletterArrival", function() { return __WEBPACK_IMPORTED_MODULE_7__NewsletterArrival__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__NewsletterSignup__ = __webpack_require__(110);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NewsletterSignup", function() { return __WEBPACK_IMPORTED_MODULE_8__NewsletterSignup__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__RecommendationShown__ = __webpack_require__(111);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "RecommendationShown", function() { return __WEBPACK_IMPORTED_MODULE_9__RecommendationShown__["a"]; });












/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextUserModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(7);

var ConnextUserModel = (function () {
    function ConnextUserModel() {
        this.Id = this.getConnextUserId();
        this.Status = this.getConnextUserStatus();
        this.ER = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        this.ERP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode();
        this.CR = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrCode();
        this.CRP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrpCode();
        this.Id = this.getConnextUserId();
        this.Status = this.getConnextUserStatus();
        this.ER = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        this.ERP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode();
        this.CR = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrCode();
        this.CRP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrpCode();
    }
    ConnextUserModel.prototype.getConnextUserStatus = function () {
        if (window.CnnXt && window.CnnXt.User) {
            return window.CnnXt.User.getUserState() || "";
        }
        if (window.Connext) {
            return window.Connext.Storage.GetUserState() || "";
        }
        return "";
    };
    ConnextUserModel.prototype.getConnextUserId = function () {
        if (window.CnnXt && window.CnnXt.User) {
            return window.CnnXt.User.getMasterId() || "";
        }
        if (window.Connext) {
            var userData = window.Connext.Storage.GetUserData();
            if (userData) {
                return userData.MasterId || "";
            }
        }
        return "";
    };
    return ConnextUserModel;
}());



/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collector__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var SpCollector = (function (_super) {
    __extends(SpCollector, _super);
    function SpCollector() {
        return _super.call(this) || this;
    }
    SpCollector.prototype.registerEvents = function () {
        var filteredEvents = __WEBPACK_IMPORTED_MODULE_2__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].limitSPEvents(__WEBPACK_IMPORTED_MODULE_1__events__);
        this.events = filteredEvents;
        _super.prototype.registerEvents.call(this);
    };
    return SpCollector;
}(__WEBPACK_IMPORTED_MODULE_0__Collector__["a" /* Collector */]));



/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AbandonClosed; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AbandonClosed = (function (_super) {
    __extends(AbandonClosed, _super);
    function AbandonClosed() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "abandon_closed_e";
        return _this;
    }
    AbandonClosed.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "AbandonClosed";
        this.eventModel.EventName = "AbandonClosed";
        this.transformEventData({});
    };
    return AbandonClosed;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AbandonPresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AbandonPresented = (function (_super) {
    __extends(AbandonPresented, _super);
    function AbandonPresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "abandon_presented_e";
        return _this;
    }
    AbandonPresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "AbandonPresented";
        this.eventModel.EventName = "AbandonPresented";
        this.transformEventData({});
    };
    return AbandonPresented;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckoutStart; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CheckoutStart = (function (_super) {
    __extends(CheckoutStart, _super);
    function CheckoutStart() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "presentation_loaded_e";
        return _this;
    }
    CheckoutStart.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CheckoutStart";
        this.eventModel.EventName = "CheckoutStart";
        this.transformEventData({
            Url: this.originalEventData.url,
            UserER: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode(),
            UserERP: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode(),
            UserCR: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrCode(),
            UserCRP: __WEBPACK_IMPORTED_MODULE_2__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrpCode()
        });
    };
    CheckoutStart.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    CheckoutStart.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_1__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountCheckoutStartEvents;
    };
    return CheckoutStart;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatedNewUser; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var CreatedNewUser = (function (_super) {
    __extends(CreatedNewUser, _super);
    function CreatedNewUser() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "created_new_user_e";
        return _this;
    }
    CreatedNewUser.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "CreatedNewUser";
        this.eventModel.EventName = "CreatedNewUser";
        var eventData = {
            User: new __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__["a" /* UserInformationModel */](this.originalEventData.userInformation),
            Offer: new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer),
            CustomerRegistrationId: this.originalEventData.customerRegistrationId
        };
        this.transformEventData(eventData);
    };
    return CreatedNewUser;
}(__WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompleted; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__ = __webpack_require__(27);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompleted = (function (_super) {
    __extends(FormCompleted, _super);
    function FormCompleted() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "billing_address_completed_e";
        return _this;
    }
    FormCompleted.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "BillingAddress";
        var eventData = {
            Billing: new __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__["a" /* AddressModel */](this.originalEventData.billingAddress),
            Offer: new __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer)
        };
        this.transformEventData(eventData);
    };
    return FormCompleted;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompletedDeliveryAddress; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_AddressModel__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__ = __webpack_require__(27);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompletedDeliveryAddress = (function (_super) {
    __extends(FormCompletedDeliveryAddress, _super);
    function FormCompletedDeliveryAddress() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "delivery_address_completed_e";
        return _this;
    }
    FormCompletedDeliveryAddress.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "DeliveryAddress";
        var eventData = {
            Delivery: new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_AddressModel__["a" /* AddressModel */](this.originalEventData.deliveryAddress),
            Offer: new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer)
        };
        this.transformEventData(eventData);
    };
    return FormCompletedDeliveryAddress;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompletedPayment; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_constants_PaymentTypes__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__ = __webpack_require__(27);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompletedPayment = (function (_super) {
    __extends(FormCompletedPayment, _super);
    function FormCompletedPayment() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = Object.keys(__WEBPACK_IMPORTED_MODULE_1__Collectors_constants_PaymentTypes__["a" /* PaymentTypes */]);
        return _this;
    }
    FormCompletedPayment.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "Payment";
        var eventData = {
            Offer: new __WEBPACK_IMPORTED_MODULE_2__models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer),
            PaymentMethodName: __WEBPACK_IMPORTED_MODULE_1__Collectors_constants_PaymentTypes__["a" /* PaymentTypes */][this.currentEventName]
        };
        this.transformEventData(eventData);
    };
    return FormCompletedPayment;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormCompletedUserInfo; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var FormCompletedUserInfo = (function (_super) {
    __extends(FormCompletedUserInfo, _super);
    function FormCompletedUserInfo() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "user_info_completed_e";
        return _this;
    }
    FormCompletedUserInfo.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "FormCompleted";
        this.eventModel.EventName = "UserInfo";
        if (this.originalEventData) {
            var eventDataObject = {
                User: new __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_collectors_sp_collector_models_UserInformationModel__["a" /* UserInformationModel */](this.originalEventData.userInformation),
                Offer: new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_collectors_sp_collector_models_ShortOfferModel__["a" /* ShortOfferModel */](this.originalEventData.offer)
            };
            this.transformEventData(eventDataObject);
        }
    };
    return FormCompletedUserInfo;
}(__WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_collectors_sp_collector_SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 123 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IdleClosed; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var IdleClosed = (function (_super) {
    __extends(IdleClosed, _super);
    function IdleClosed() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "idle_closed_e";
        return _this;
    }
    IdleClosed.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "IdleClosed";
        this.eventModel.EventName = "IdleClosed";
        this.transformEventData({});
    };
    return IdleClosed;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 124 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IdlePresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpEvent__ = __webpack_require__(9);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var IdlePresented = (function (_super) {
    __extends(IdlePresented, _super);
    function IdlePresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "idle_presented_e";
        return _this;
    }
    IdlePresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "IdlePresented";
        this.eventModel.EventName = "IdlePresented";
        this.transformEventData({});
    };
    return IdlePresented;
}(__WEBPACK_IMPORTED_MODULE_0__SpEvent__["a" /* SpEvent */]));



/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__AbandonClosed__ = __webpack_require__(115);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AbandonClosed", function() { return __WEBPACK_IMPORTED_MODULE_0__AbandonClosed__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__AbandonPresented__ = __webpack_require__(116);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AbandonPresented", function() { return __WEBPACK_IMPORTED_MODULE_1__AbandonPresented__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CheckoutStart__ = __webpack_require__(117);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutStart", function() { return __WEBPACK_IMPORTED_MODULE_2__CheckoutStart__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__CreatedNewUser__ = __webpack_require__(118);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CreatedNewUser", function() { return __WEBPACK_IMPORTED_MODULE_3__CreatedNewUser__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__FormCompleted__ = __webpack_require__(119);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FormCompleted", function() { return __WEBPACK_IMPORTED_MODULE_4__FormCompleted__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__FormCompletedDeliveryAddress__ = __webpack_require__(120);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FormCompletedDeliveryAddress", function() { return __WEBPACK_IMPORTED_MODULE_5__FormCompletedDeliveryAddress__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__FormCompletedPayment__ = __webpack_require__(121);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FormCompletedPayment", function() { return __WEBPACK_IMPORTED_MODULE_6__FormCompletedPayment__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__FormCompletedUserInfo__ = __webpack_require__(122);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FormCompletedUserInfo", function() { return __WEBPACK_IMPORTED_MODULE_7__FormCompletedUserInfo__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__IdleClosed__ = __webpack_require__(123);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IdleClosed", function() { return __WEBPACK_IMPORTED_MODULE_8__IdleClosed__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__IdlePresented__ = __webpack_require__(124);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "IdlePresented", function() { return __WEBPACK_IMPORTED_MODULE_9__IdlePresented__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__offerEventData_index__ = __webpack_require__(130);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "OfferSelected", function() { return __WEBPACK_IMPORTED_MODULE_10__offerEventData_index__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "SubscriptionSuccess", function() { return __WEBPACK_IMPORTED_MODULE_10__offerEventData_index__["b"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "UpsellRemoved", function() { return __WEBPACK_IMPORTED_MODULE_10__offerEventData_index__["c"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "UpsellSelected", function() { return __WEBPACK_IMPORTED_MODULE_10__offerEventData_index__["d"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__offersEventData_index__ = __webpack_require__(133);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "ApplePayPresented", function() { return __WEBPACK_IMPORTED_MODULE_11__offersEventData_index__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "OffersPresented", function() { return __WEBPACK_IMPORTED_MODULE_11__offersEventData_index__["b"]; });














/***/ }),
/* 126 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferSelected; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(32);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var OfferSelected = (function (_super) {
    __extends(OfferSelected, _super);
    function OfferSelected() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offer_selected_e";
        return _this;
    }
    OfferSelected.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OfferSelected";
        this.eventModel.EventName = this.originalEventData.offer.Name;
    };
    return OfferSelected;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 127 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionSuccess; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_UserInformationModel__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var SubscriptionSuccess = (function (_super) {
    __extends(SubscriptionSuccess, _super);
    function SubscriptionSuccess() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "add_subscription_success_e";
        return _this;
    }
    SubscriptionSuccess.prototype.updateCustomProperties = function () {
        try {
            this.eventModel.EventType = "SubscriptionSuccess";
            this.eventModel.EventName = "SubscriptionSuccess";
            var subscription = this.originalEventData.subscription || {};
            var eventData = {
                Delivery: new __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__["a" /* AddressModel */](this.originalEventData.deliveryAddress),
                Billing: new __WEBPACK_IMPORTED_MODULE_1__models_AddressModel__["a" /* AddressModel */](this.originalEventData.billingAddress),
                PaymentMethodName: this.originalEventData.paymentOption,
                User: new __WEBPACK_IMPORTED_MODULE_2__models_UserInformationModel__["a" /* UserInformationModel */](this.originalEventData.userInformation),
                UserER: __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode(),
                UserERP: __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode(),
                UserCR: __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrCode(),
                UserCRP: __WEBPACK_IMPORTED_MODULE_3__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrpCode(),
                CustomerRegistrationId: this.getCustomerRegistrationId(),
                SubscriberId: subscription.SubscriberID,
                SubscriptionId: subscription.SubscriptionID,
                AccountNumber: subscription.AccountNumber
            };
            this.transformEventData(eventData);
        }
        catch (error) {
            this.Logger.error("SubscriptionSuccess", error);
        }
    };
    SubscriptionSuccess.prototype.getCustomerRegistrationId = function () {
        if (this.originalEventData.userInformation) {
            return this.originalEventData.userInformation.customerRegistrationId;
        }
        else {
            return this.originalEventData.customerRegistrationId;
        }
    };
    return SubscriptionSuccess;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 128 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UpsellRemoved; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(32);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UpsellRemoved = (function (_super) {
    __extends(UpsellRemoved, _super);
    function UpsellRemoved() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "upsell_removed_e";
        return _this;
    }
    UpsellRemoved.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "UpsellRemoved";
        this.eventModel.EventName = this.originalEventData.offer.Name;
    };
    return UpsellRemoved;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 129 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UpsellSelected; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__ = __webpack_require__(32);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UpsellSelected = (function (_super) {
    __extends(UpsellSelected, _super);
    function UpsellSelected() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "upsell_selected_e";
        return _this;
    }
    UpsellSelected.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "UpsellSelected";
        this.eventModel.EventName = this.originalEventData.offer.Name;
    };
    return UpsellSelected;
}(__WEBPACK_IMPORTED_MODULE_0__OfferEventDataEvent__["a" /* OfferEventDataEvent */]));



/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OfferSelected__ = __webpack_require__(126);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__OfferSelected__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SubscriptionSuccess__ = __webpack_require__(127);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__SubscriptionSuccess__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__UpsellRemoved__ = __webpack_require__(128);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__UpsellRemoved__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__UpsellSelected__ = __webpack_require__(129);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__UpsellSelected__["a"]; });






/***/ }),
/* 131 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ApplePayPresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__ = __webpack_require__(55);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var ApplePayPresented = (function (_super) {
    __extends(ApplePayPresented, _super);
    function ApplePayPresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "apple_pay_presented_e";
        return _this;
    }
    ApplePayPresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "ApplePayPresented";
        this.eventModel.EventName = "ApplePayPresented";
    };
    return ApplePayPresented;
}(__WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__["a" /* OffersEventDataEvent */]));



/***/ }),
/* 132 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersPresented; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__ = __webpack_require__(55);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var OffersPresented = (function (_super) {
    __extends(OffersPresented, _super);
    function OffersPresented() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offers_presented_e";
        return _this;
    }
    OffersPresented.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OffersPresented";
        this.eventModel.EventName = "OffersPresented";
    };
    return OffersPresented;
}(__WEBPACK_IMPORTED_MODULE_0__OffersEventDataEvent__["a" /* OffersEventDataEvent */]));



/***/ }),
/* 133 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ApplePayPresented__ = __webpack_require__(131);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__ApplePayPresented__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__OffersPresented__ = __webpack_require__(132);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__OffersPresented__["a"]; });




/***/ }),
/* 134 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommonEventsCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collector__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_constants_Events__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__events__ = __webpack_require__(139);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var CommonEventsCollector = (function (_super) {
    __extends(CommonEventsCollector, _super);
    function CommonEventsCollector(isExcludePageView) {
        var _this = _super.call(this) || this;
        _this.isExcludePageView = isExcludePageView;
        return _this;
    }
    CommonEventsCollector.prototype.registerEvents = function () {
        var excludedList = this.isExcludePageView ? [__WEBPACK_IMPORTED_MODULE_1__Collectors_constants_Events__["b" /* EventNames */].PageView] : [];
        var filteredEvents = __WEBPACK_IMPORTED_MODULE_3__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].limitCommonEvents(__WEBPACK_IMPORTED_MODULE_2__events__, excludedList);
        this.events = filteredEvents;
        _super.prototype.registerEvents.call(this);
    };
    ;
    return CommonEventsCollector;
}(__WEBPACK_IMPORTED_MODULE_0__Collector__["a" /* Collector */]));



/***/ }),
/* 135 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeviceIdChange; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Modules_deviceModule_DeviceModule__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Modules_cdpModule_CdpModule__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Utils_BugTrackUtil__ = __webpack_require__(6);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();






var DeviceIdChange = (function (_super) {
    __extends(DeviceIdChange, _super);
    function DeviceIdChange() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onDeviceIdChange";
        return _this;
    }
    DeviceIdChange.prototype.listenEvent = function (eventName) {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", eventName);
            if (window.Fingerprint !== undefined && typeof window.Fingerprint.onChangedDeviceId === "function") {
                return window.Fingerprint.onChangedDeviceId()
                    .then(function (deviceInfo) {
                    _this.clearPreviousData();
                    _this.setOriginalEventData(deviceInfo);
                    _this.currentEventName = eventName;
                    return __WEBPACK_IMPORTED_MODULE_3__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].isActualId(deviceInfo.newId);
                }).then(function (isActual) {
                    var deviceInfo = _this.originalEventData;
                    if (isActual) {
                        __WEBPACK_IMPORTED_MODULE_5__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("onChangedDeviceId_skip:" + JSON.stringify(deviceInfo));
                        return;
                    }
                    __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
                    __WEBPACK_IMPORTED_MODULE_3__Modules_deviceModule_DeviceModule__["a" /* DeviceModule */].deviceIChanged(deviceInfo);
                }).catch(function () {
                    __WEBPACK_IMPORTED_MODULE_5__Utils_BugTrackUtil__["a" /* BugTrackUtil */].addApiDlStatus("onChangedDeviceId_catch");
                });
            }
            else {
                this.Logger.warn("Fingerprint is undefined... or version is not support regenerate onChangedDeviceId", eventName);
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    DeviceIdChange.prototype.setOriginalData = function (eventData) {
        this.originalEventData = eventData;
    };
    DeviceIdChange.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OnDeviceIdChange";
        this.eventModel.EventName = this.eventModel.EventType;
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_2__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        this.eventModel.DeviceId = this.originalEventData.id;
        var eventData = {
            NewDeviceId: this.originalEventData.newId,
            G2iDeviceId: __WEBPACK_IMPORTED_MODULE_4__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getG2iDeviceId()
        };
        this.transformEventData(eventData);
    };
    return DeviceIdChange;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 136 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return G2iDeviceIdChange; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_constants_Constants__ = __webpack_require__(3);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var G2iDeviceIdChange = (function (_super) {
    __extends(G2iDeviceIdChange, _super);
    function G2iDeviceIdChange() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onG2iDeviceIdChange";
        return _this;
    }
    G2iDeviceIdChange.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "OnDeviceIdChange";
        this.eventModel.EventName = "OnG2iDeviceIdChange";
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_1__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        var _a = this.originalEventData, OldG2i = _a.OldG2i, NewG2i = _a.NewG2i, BrowserCache = _a.BrowserCache, ResposeData = _a.ResposeData, Skipped = _a.Skipped;
        var eventData = {
            OldG2i: OldG2i,
            NewG2i: NewG2i,
            BrowserCache: JSON.stringify(BrowserCache),
            ResposeData: JSON.stringify(ResposeData),
            Skipped: Skipped
        };
        this.transformEventData(eventData);
    };
    return G2iDeviceIdChange;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 137 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LeavePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Collectors_cdp_collectors_models_pageView_DeviceModel__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_connextModule_ConnextModule__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Core_storages_cookies_CookiesStorage__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Core_storages_local_LocalStorage__ = __webpack_require__(31);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();








var LeavePage = (function (_super) {
    __extends(LeavePage, _super);
    function LeavePage() {
        var _this = _super.call(this) || this;
        _this.IsAsync = false;
        _this.originalEventName = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        return _this;
    }
    LeavePage.prototype.listenEvent = function (eventName) {
        var _this = this;
        try {
            this.Logger.trace("addEventListener...", eventName);
            __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, function (e) {
                _this.Logger.trace("Firing eventName", _this.eventModel.EventName);
                _this.clearPreviousData();
                _this.setOriginalEventData(e.detail);
                _this.currentEventName = eventName;
                __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].setClosePageFlag(true);
                __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            }, false);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    LeavePage.prototype.setOriginalData = function (eventData) {
        this.originalEventData = eventData;
    };
    LeavePage.prototype.getEndPageSession = function () {
        return Math.floor(Date.now() / 1000);
    };
    LeavePage.prototype.getUrl = function () {
        return window.location.href;
    };
    LeavePage.prototype.getConnext = function () {
        return __WEBPACK_IMPORTED_MODULE_5__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].hasConnext();
    };
    LeavePage.prototype.getAdblock = function () {
        return __WEBPACK_IMPORTED_MODULE_5__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getAdblockDetected();
    };
    LeavePage.prototype.getCookiesBlocked = function () {
        return !__WEBPACK_IMPORTED_MODULE_6__Core_storages_cookies_CookiesStorage__["a" /* CookiesStorage */].isSupported();
    };
    LeavePage.prototype.getLocalStorageBlocked = function () {
        return !new __WEBPACK_IMPORTED_MODULE_7__Core_storages_local_LocalStorage__["a" /* LocalStorage */]().isSupported();
    };
    LeavePage.prototype.getBrowserCacheEnabled = function () {
        var result = "";
        try {
            result = String(window.performance.getEntriesByType("resource").filter(function (r) { return r.duration === 0 && r.transferSize !== 0; }).length !== 0);
        }
        catch (error) {
            result = "window.performance.getEntriesByType does not support";
        }
        return result;
    };
    LeavePage.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = "PageLeave";
        this.eventModel.EventName = this.eventModel.EventType;
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_3__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        var startPageSession = this.sessionService.getStartPageSession();
        var endPageSession = this.getEndPageSession();
        this.eventModel.EventTimestamp = endPageSession;
        var eventData = {
            StartSession: startPageSession,
            EndSession: endPageSession,
            LengthSession: endPageSession - startPageSession,
            Device: new __WEBPACK_IMPORTED_MODULE_4__Collectors_cdp_collectors_models_pageView_DeviceModel__["a" /* DeviceModel */](),
            Url: this.getUrl(),
            HasConnext: this.getConnext(),
            AdblockDetected: this.getAdblock(),
            CookiesBlocked: this.getCookiesBlocked(),
            LocalStorageBlocked: this.getLocalStorageBlocked(),
            BrowserCacheEnabled: this.getBrowserCacheEnabled()
        };
        this.transformEventData(eventData);
    };
    return LeavePage;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 138 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageView; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_models_pageView_PageViewDataModel__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Core_constants_FirstVisitProperties__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_CdpEventsManager__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Core_constants_Constants__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Data_services_Index__ = __webpack_require__(4);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();









var PageView = (function (_super) {
    __extends(PageView, _super);
    function PageView() {
        var _this = _super.call(this) || this;
        _this.IsAsync = false;
        _this.originalEventName = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getPageLeaveEventTrigger();
        return _this;
    }
    PageView.prototype.listenEvent = function (eventName) {
        var _this = this;
        if (this.isStopListen)
            return;
        __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].getUserPosition().then(function (position) {
            _this.userPosition = position;
        });
        try {
            this.Logger.trace("addEventListener...", eventName);
            __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].addCustomEventListener(window, eventName, function (e) {
                if (_this.isStopListen)
                    return;
                _this.Logger.trace("Firing eventName", _this.eventModel.EventName);
                _this.clearPreviousData();
                _this.setOriginalEventData(e.detail);
                _this.currentEventName = eventName;
                __WEBPACK_IMPORTED_MODULE_5__Collectors_cdp_collectors_CdpEventsManager__["a" /* CdpEventsManager */].eventFire(_this);
            }, false);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    PageView.prototype.setOriginalData = function (eventData) {
        this.originalEventData = eventData;
    };
    PageView.prototype.updateCustomProperties = function () {
        this.eventModel.EventType = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["b" /* EventNames */].PageView;
        this.eventModel.EventName = __WEBPACK_IMPORTED_MODULE_4__Collectors_constants_Events__["b" /* EventNames */].PageView;
        this.eventModel.EventSource = __WEBPACK_IMPORTED_MODULE_7__Core_constants_Constants__["a" /* Constants */].EventsSources.G2Insights;
        this.eventModel.EventTimestamp = __WEBPACK_IMPORTED_MODULE_6__Utils_DateUtil__["a" /* DateUtil */].getTimestamp(this.sessionService.getStartPageSession());
        var eventData = new __WEBPACK_IMPORTED_MODULE_2__Collectors_cdp_collectors_models_pageView_PageViewDataModel__["a" /* PageViewDataModel */]({ Location: this.userPosition });
        __WEBPACK_IMPORTED_MODULE_8__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("emailhash", eventData.EncryptedEmail);
        this.transformEventData(eventData);
    };
    PageView.prototype.useInCalculateFirstVisitModel = function () {
        return true;
    };
    PageView.prototype.getFirstVisitProperty = function () {
        return __WEBPACK_IMPORTED_MODULE_3__Core_constants_FirstVisitProperties__["a" /* FirstVisitProperties */].CountPageview;
    };
    PageView.prototype.stopListen = function () {
        this.isStopListen = true;
    };
    return PageView;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */]));



/***/ }),
/* 139 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DeviceIdChange__ = __webpack_require__(135);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceIdChange", function() { return __WEBPACK_IMPORTED_MODULE_0__DeviceIdChange__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__G2iDeviceIdChange__ = __webpack_require__(136);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "G2iDeviceIdChange", function() { return __WEBPACK_IMPORTED_MODULE_1__G2iDeviceIdChange__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LeavePage__ = __webpack_require__(137);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "LeavePage", function() { return __WEBPACK_IMPORTED_MODULE_2__LeavePage__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__PageView__ = __webpack_require__(138);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PageView", function() { return __WEBPACK_IMPORTED_MODULE_3__PageView__["a"]; });






/***/ }),
/* 140 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CampaignModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_connextModule_ConnextModule__ = __webpack_require__(24);

var CampaignModel = (function () {
    function CampaignModel(connextEventData) {
        this.Id = connextEventData.CampaignId;
        this.MeterLevel = connextEventData.MeterLevel;
        this.ConversationId = this.getConversationId(connextEventData);
        this.ConversationName = this.getConversationName(connextEventData);
    }
    CampaignModel.prototype.getConversationId = function (connextEventData) {
        if (connextEventData.Conversation && connextEventData.Conversation.Id) {
            return connextEventData.Conversation.Id;
        }
        else {
            var storageConversation = __WEBPACK_IMPORTED_MODULE_0__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getCurrentConversation();
            if (storageConversation) {
                return storageConversation.Id;
            }
        }
    };
    CampaignModel.prototype.getConversationName = function (connextEventData) {
        if (connextEventData.Conversation && connextEventData.Conversation.Name) {
            return connextEventData.Conversation.Name;
        }
        else {
            var storageConversation = __WEBPACK_IMPORTED_MODULE_0__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getCurrentConversation();
            if (storageConversation) {
                return storageConversation.Name;
            }
        }
    };
    return CampaignModel;
}());



/***/ }),
/* 141 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextPageViewDataModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageModel__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__DeviceModel__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LocationModel__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_collectors_connext_collector_models_ConnextUserModel__ = __webpack_require__(113);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__CampaignModel__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__DigitalAccessModel__ = __webpack_require__(142);








var ConnextPageViewDataModel = (function () {
    function ConnextPageViewDataModel(data) {
        if (!data)
            return;
        var eventData = data.EventData ? data.EventData : {};
        this.Location = new __WEBPACK_IMPORTED_MODULE_2__LocationModel__["a" /* LocationModel */](eventData.Location);
        this.Device = new __WEBPACK_IMPORTED_MODULE_1__DeviceModel__["a" /* DeviceModel */]();
        this.DeviceBrowserUserAgent = navigator.userAgent;
        this.Page = new __WEBPACK_IMPORTED_MODULE_0__PageModel__["a" /* PageModel */](__WEBPACK_IMPORTED_MODULE_5__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDimensions());
        this.User = new __WEBPACK_IMPORTED_MODULE_3__Collectors_cdp_collectors_collectors_connext_collector_models_ConnextUserModel__["a" /* ConnextUserModel */]();
        this.Campaign = new __WEBPACK_IMPORTED_MODULE_4__CampaignModel__["a" /* CampaignModel */](data);
        this.LoaderVersionInfo = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getLoaderVersionInfo();
        this.FingerprintVersionInfo = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getFingerprintVersionInfo();
        this.DemoMode = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].getDemoMode();
        this.EncryptedEmail = eventData.EncryptedEmail || "";
        this.DigitalAccess = __WEBPACK_IMPORTED_MODULE_6__Utils_Utils__["a" /* Utils */].flatObject(new __WEBPACK_IMPORTED_MODULE_7__DigitalAccessModel__["a" /* DigitalAccessModel */](data));
    }
    return ConnextPageViewDataModel;
}());



/***/ }),
/* 142 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DigitalAccessModel; });
var DigitalAccessModel = (function () {
    function DigitalAccessModel(data) {
        var _a;
        data = (_a = data === null || data === void 0 ? void 0 : data.MG2AccountData) === null || _a === void 0 ? void 0 : _a.DigitalAccess;
        if (!data)
            return;
        this.Subscription = new SubscriptionPublicModel(data.Subscription);
    }
    return DigitalAccessModel;
}());

var AccessLevelModel = (function () {
    function AccessLevelModel(data) {
        if (!data)
            return;
        this.IsPremium = data.IsPremium;
        this.IsPurchase = data.IsPurchase;
        this.IsUpgrade = data.IsUpgrade;
    }
    return AccessLevelModel;
}());
var SubscriptionPublicModel = (function () {
    function SubscriptionPublicModel(data) {
        if (!data)
            return;
        this.SubscriptionId = data.SubscriptionId;
        this.AccountNumber = data.AccountNumber;
    }
    return SubscriptionPublicModel;
}());


/***/ }),
/* 143 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageViewDataModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PageModel__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__DeviceModel__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LocationModel__ = __webpack_require__(57);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__UserModel__ = __webpack_require__(144);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__ = __webpack_require__(0);






var PageViewDataModel = (function () {
    function PageViewDataModel(data) {
        this.Location = new __WEBPACK_IMPORTED_MODULE_2__LocationModel__["a" /* LocationModel */](data.Location);
        this.Device = new __WEBPACK_IMPORTED_MODULE_1__DeviceModel__["a" /* DeviceModel */]();
        this.DeviceBrowserUserAgent = navigator.userAgent;
        this.Page = new __WEBPACK_IMPORTED_MODULE_0__PageModel__["a" /* PageModel */](__WEBPACK_IMPORTED_MODULE_4__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDimensions());
        this.User = new __WEBPACK_IMPORTED_MODULE_3__UserModel__["a" /* UserModel */]();
        this.LoaderVersionInfo = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getLoaderVersionInfo();
        this.FingerprintVersionInfo = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getFingerprintVersionInfo();
        this.DemoMode = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getDemoMode();
        this.EncryptedEmail = __WEBPACK_IMPORTED_MODULE_5__Utils_Utils__["a" /* Utils */].getEncryptedEmail() || "";
    }
    return PageViewDataModel;
}());



/***/ }),
/* 144 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__ = __webpack_require__(7);

var UserModel = (function () {
    function UserModel() {
        this.Id = this.getUserId();
        this.ER = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErCode();
        this.ERP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getErpCode();
        this.CR = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrCode();
        this.CRP = __WEBPACK_IMPORTED_MODULE_0__Modules_cdpModule_CdpModule__["a" /* CdpModule */].getCrpCode();
    }
    UserModel.prototype.getUserId = function () {
        var _a;
        if (typeof ((_a = window.userProvider) === null || _a === void 0 ? void 0 : _a.customerRegistrationId) === "function") {
            return window.userProvider.customerRegistrationId() || "";
        }
        return "";
    };
    return UserModel;
}());



/***/ }),
/* 145 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagCollectorFactory; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_base_factory_Factory__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__tag_collectors_sp_tags_SpGtmTagCollector__ = __webpack_require__(159);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tag_collectors_connext_tags_ConnextGtmTagCollector__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__ = __webpack_require__(1);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();





var GtmTagCollectorFactory = (function (_super) {
    __extends(GtmTagCollectorFactory, _super);
    function GtmTagCollectorFactory(collector) {
        var _this = _super.call(this) || this;
        _this.Logger = __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("CollectorFactory");
        _this.collectMetaTags = false;
        _this.collector = collector;
        return _this;
    }
    GtmTagCollectorFactory.prototype.createCollector = function () {
        try {
            var collector = this.collector;
            this.Logger.trace("Creating Collector: ", collector);
            switch (collector.toUpperCase()) {
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].Connext.toUpperCase():
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_3__tag_collectors_connext_tags_ConnextGtmTagCollector__["a" /* ConnextGtmTagCollector */]();
                    break;
                case __WEBPACK_IMPORTED_MODULE_0__constants_CollectorTypes__["a" /* CollectorTypes */].SP.toUpperCase():
                    this.collectorType = new __WEBPACK_IMPORTED_MODULE_2__tag_collectors_sp_tags_SpGtmTagCollector__["a" /* SpGtmTagCollector */]();
                    break;
                default:
                    throw "Not a valid collector";
            }
            return this.collectorType;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return GtmTagCollectorFactory;
}(__WEBPACK_IMPORTED_MODULE_1__Core_base_factory_Factory__["a" /* Factory */]));



/***/ }),
/* 146 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export GtmTagClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GtmTagModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__GtmTagCollectorFactory__ = __webpack_require__(145);


var GtmTagClass = (function () {
    function GtmTagClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_LoggerService__["a" /* LoggerService */].createLogger("GtmTagModule");
    }
    GtmTagClass.prototype.setup = function (options) {
        var _this = this;
        try {
            var collectors = options.collectors;
            collectors.forEach(function (item) {
                var collectorType = new __WEBPACK_IMPORTED_MODULE_1__GtmTagCollectorFactory__["a" /* GtmTagCollectorFactory */](item).createCollector();
                _this.Logger.info("@ forEach.Collector = collectorType", collectorType);
                if (!collectorType)
                    return;
                collectorType.registerTagEvents();
            });
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return GtmTagClass;
}());

var GtmTagModule = new GtmTagClass();


/***/ }),
/* 147 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConnextGtmTagCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(158);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ConnextGtmTagCollector = (function (_super) {
    __extends(ConnextGtmTagCollector, _super);
    function ConnextGtmTagCollector() {
        var _this = _super.call(this) || this;
        _this.events = __WEBPACK_IMPORTED_MODULE_1__events__;
        return _this;
    }
    return ConnextGtmTagCollector;
}(__WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__["a" /* GtmTagCollector */]));



/***/ }),
/* 148 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionShownTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MeterStopTagEvent__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var ActionShownTagEvent = (function (_super) {
    __extends(ActionShownTagEvent, _super);
    function ActionShownTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onActionShown";
        _this.sendTagName = "actionShown";
        return _this;
    }
    ActionShownTagEvent.prototype.setOriginalEventData = function (data) {
        this.sendTagName = "actionShown";
        _super.prototype.setOriginalEventData.call(this, data);
        var eventData = this.originalEventData.EventData;
        this.actionType = this.getActionType(eventData ? eventData.ActionTypeId : "");
        this.actionShowTag = this.getActionShowTag();
        if (this.actionType === __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__["a" /* ActionTypes */].Paywall) {
            this.Logger.warn("Is Paywall");
            new __WEBPACK_IMPORTED_MODULE_0__MeterStopTagEvent__["a" /* MeterStopTagEvent */]().sendTagToAnalitcs(null, Object.assign({}, this.actionShowTag));
        }
        this.sendData = this.actionShowTag;
    };
    ;
    ActionShownTagEvent.prototype.getSendTagData = function () {
        return this.sendData;
    };
    ActionShownTagEvent.prototype.getTagName = function () {
        if (this.actionType !== __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__["a" /* ActionTypes */].Paywall) {
            this.Logger.warn("NOT Paywall");
            return this.sendTagName;
        }
        else {
            return null;
        }
    };
    ActionShownTagEvent.prototype.getActionShowTag = function () {
        try {
            var eventData = this.originalEventData.EventData;
            this.Logger.debug("processing...", eventData);
            this.actionType = eventData.ActionType || this.getActionType(eventData.ActionTypeId);
            this.Logger.warn("ActionType", this.actionType);
            var parsedUserDefinedData = __WEBPACK_IMPORTED_MODULE_1__Utils_Utils__["a" /* Utils */].parseJson(eventData.UserDefinedData);
            var userDefinedData = void 0;
            if (parsedUserDefinedData.success) {
                userDefinedData = parsedUserDefinedData.data;
            }
            var baseActionShownTag = {
                actionName: eventData.Name,
                actionDescription: eventData.Description,
                actionType: this.actionType,
                userDefinedData: JSON.stringify(userDefinedData)
            };
            this.Logger.warn("Base Action Shown Tag", baseActionShownTag);
            return baseActionShownTag;
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    ActionShownTagEvent.prototype.getActionType = function (type) {
        try {
            this.Logger.trace("getActionType", type);
            return __WEBPACK_IMPORTED_MODULE_2__Data_models_connext_ActionModels__["b" /* ActionTypeDict */][type];
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return ActionShownTagEvent;
}(__WEBPACK_IMPORTED_MODULE_3__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 149 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthorizedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Data_models_common_UserModel__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Data_services_UserService__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Collectors_gtmTag_collector_tag_collectors_connext_tags_ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var AuthorizedTagEvent = (function (_super) {
    __extends(AuthorizedTagEvent, _super);
    function AuthorizedTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onAuthorized";
        _this.sendTagName = __WEBPACK_IMPORTED_MODULE_0__Data_models_common_UserModel__["a" /* ConnextUserState */].authorized;
        _this.userService = __WEBPACK_IMPORTED_MODULE_1__Data_services_UserService__["a" /* UserService */].Instance;
        return _this;
    }
    AuthorizedTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        try {
            this.Logger.debug("handleUserState", "event", "data", this.originalEventData);
            this.userService.setUserState(this.sendTagName, this.originalEventData);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    return AuthorizedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_2__Collectors_gtmTag_collector_tag_collectors_connext_tags_ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 150 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClickTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Collectors_gtmTag_collector_tag_collectors_connext_tags_ConnextGtmTagEvent__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_connextModule_ConnextModule__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_ClickUtils__ = __webpack_require__(86);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Collectors_constants_Events__ = __webpack_require__(23);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();




var ClickTagEvent = (function (_super) {
    __extends(ClickTagEvent, _super);
    function ClickTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "click";
        _this.sendTagName = "click";
        _this.allowedAttrs = [
            __WEBPACK_IMPORTED_MODULE_3__Collectors_constants_Events__["a" /* ClickEventName */].Login,
            __WEBPACK_IMPORTED_MODULE_3__Collectors_constants_Events__["a" /* ClickEventName */].Activate,
            __WEBPACK_IMPORTED_MODULE_3__Collectors_constants_Events__["a" /* ClickEventName */].Register,
            __WEBPACK_IMPORTED_MODULE_3__Collectors_constants_Events__["a" /* ClickEventName */].Logout,
            __WEBPACK_IMPORTED_MODULE_3__Collectors_constants_Events__["a" /* ClickEventName */].Subscribe
        ];
        _this.filterFunction = function (e) {
            this.Logger.debug("Click Event", e, "e.target", e.target);
            this.clickedElement = e.target;
            this.mg2attr = __WEBPACK_IMPORTED_MODULE_2__Utils_ClickUtils__["a" /* ClickUtils */].getEventName(this.clickedElement);
            return this.allowedAttrs.indexOf(this.mg2attr) !== -1;
        };
        return _this;
    }
    ClickTagEvent.prototype.getSendTagData = function () {
        var actionData = __WEBPACK_IMPORTED_MODULE_1__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getActionDataFromElement(this.clickedElement);
        var conversation = __WEBPACK_IMPORTED_MODULE_1__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].getCurrentConversation();
        var articleViews = __WEBPACK_IMPORTED_MODULE_1__Modules_connextModule_ConnextModule__["a" /* ConnextModule */].GetCurrentConversationViewCount();
        var result = {
            ClickAction: this.mg2attr,
            ActionName: (actionData === null || actionData === void 0 ? void 0 : actionData.ActionName) || null,
            ActionId: (actionData === null || actionData === void 0 ? void 0 : actionData.ActionId) || null,
            ButtonText: this.clickedElement.textContent || this.clickedElement.innerText,
            ConversationName: conversation.Name,
            ArticleViews: articleViews !== null ? articleViews + "" : null
        };
        return result;
    };
    return ClickTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__Collectors_gtmTag_collector_tag_collectors_connext_tags_ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 151 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ConversationDeterminedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__MeterStartTagEvent__ = __webpack_require__(63);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var ConversationDeterminedTagEvent = (function (_super) {
    __extends(ConversationDeterminedTagEvent, _super);
    function ConversationDeterminedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onConversationDetermined";
        _this.sendTagName = "conversationDetermined";
        return _this;
    }
    ConversationDeterminedTagEvent.prototype.setOriginalEventData = function (data) {
        _super.prototype.setOriginalEventData.call(this, data);
        try {
            this.Logger.debug("processing...", this.originalEventData);
            this.setConversationTag();
            if (this.isMeterStart()) {
                this.sendMeterStartTag();
            }
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    ConversationDeterminedTagEvent.prototype.getSendTagData = function () {
        return this.conversationTag;
    };
    ConversationDeterminedTagEvent.prototype.setConversationTag = function () {
        try {
            this.conversation = this.originalEventData.Conversation;
            this.properties = this.conversation ? (this.conversation.Props || this.conversation.Properties) : {};
            this.Logger.debug("handleConversationDetermined", "conversationData", this.originalEventData);
            var dateStarted = void 0, dateExpiration = void 0;
            var dateProperties = this.properties.Date;
            if (dateProperties) {
                dateStarted = new Date(dateProperties.Started).toISOString().slice(0, -5) + "Z";
                dateExpiration = dateProperties.Expiration ? (new Date(dateProperties.Expiration).toISOString().slice(0, -5) + "Z") : null;
            }
            this.conversationTag = {
                conversationName: this.conversation.Name,
                conversationViews: (this.properties.Views === 0) ? 1 : this.properties.Views,
                conversationViewsLeft: this.properties.ArticleLeft,
                conversationPaywallLimit: this.properties.PaywallLimit,
                conversationDateStarted: dateStarted,
                conversationDateExpiratation: dateExpiration
            };
            this.Logger.info("ConversationTag", this.conversationTag);
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    ConversationDeterminedTagEvent.prototype.isMeterStart = function () {
        try {
            if (this.properties) {
                var views = this.properties.Views;
                return ((views === 1 || views === 0) && this.originalEventData.MeterLevelId === 2) ? true : false;
            }
        }
        catch (e) {
            this.Logger.fatal(e);
            return false;
        }
    };
    ConversationDeterminedTagEvent.prototype.sendMeterStartTag = function () {
        try {
            this.Logger.debug("handleMeterStart");
            new __WEBPACK_IMPORTED_MODULE_1__MeterStartTagEvent__["a" /* MeterStartTagEvent */]().sendTagToAnalitcs();
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return ConversationDeterminedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 152 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HasAccessTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var HasAccessTagEvent = (function (_super) {
    __extends(HasAccessTagEvent, _super);
    function HasAccessTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onHasAccess";
        _this.sendTagName = __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__["a" /* ConnextUserState */].hasAccess;
        _this.userService = __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__["a" /* UserService */].Instance;
        return _this;
    }
    HasAccessTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        try {
            this.Logger.debug("handleUserState", "event", "data", this.originalEventData);
            this.userService.setUserState(this.sendTagName, this.originalEventData);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    return HasAccessTagEvent;
}(__WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 153 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MeterLevelSetTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var MeterLevelSetTagEvent = (function (_super) {
    __extends(MeterLevelSetTagEvent, _super);
    function MeterLevelSetTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onMeterLevelSet";
        _this.sendTagName = "meterLevelSet";
        return _this;
    }
    MeterLevelSetTagEvent.prototype.getSendTagData = function () {
        var data = this.originalEventData.EventData;
        try {
            this.Logger.debug("++++ processing...", data);
            return {
                meterLevel: this.originalEventData.MeterLevel,
                meterLevelDetermineMethod: data.Method,
                meterRuleName: (data.Rule) ? data.Rule.Name : "No Rule"
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return MeterLevelSetTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 154 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NewsletterSignUpTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var NewsletterSignUpTagEvent = (function (_super) {
    __extends(NewsletterSignUpTagEvent, _super);
    function NewsletterSignUpTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onNewsletterSignUp";
        _this.sendTagName = "newsletterSignup";
        return _this;
    }
    NewsletterSignUpTagEvent.prototype.getSendTagData = function () {
        var data = this.originalEventData;
        try {
            return {
                emailPreferenceId: this.getEmailPreferenceIds(data.EventData)
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    NewsletterSignUpTagEvent.prototype.getEmailPreferenceIds = function (eventData) {
        if (eventData.EmailPreferenceId) {
            return eventData.EmailPreferenceId;
        }
        else {
            var emailPreferencesIds_1 = [];
            if (Array.isArray(eventData.EmailPreferences)) {
                eventData.EmailPreferences.forEach(function (emailPreference) {
                    emailPreferencesIds_1.push(emailPreference.Id);
                });
            }
            return emailPreferencesIds_1.join(",");
        }
    };
    return NewsletterSignUpTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 155 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotAuthorizedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();



var NotAuthorizedTagEvent = (function (_super) {
    __extends(NotAuthorizedTagEvent, _super);
    function NotAuthorizedTagEvent() {
        var _this = _super.call(this) || this;
        _this.originalEventName = "onNotAuthorized";
        _this.sendTagName = __WEBPACK_IMPORTED_MODULE_0__data_models_common_UserModel__["a" /* ConnextUserState */].notAuthorized;
        _this.userService = __WEBPACK_IMPORTED_MODULE_1__data_services_UserService__["a" /* UserService */].Instance;
        return _this;
    }
    NotAuthorizedTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {
        try {
            this.Logger.debug("handleUserState", "data", this.originalEventData);
            this.userService.setUserState(this.sendTagName, this.originalEventData);
        }
        catch (e) {
            this.Logger.error(e);
        }
    };
    return NotAuthorizedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_2__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 156 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OnInitTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var OnInitTagEvent = (function (_super) {
    __extends(OnInitTagEvent, _super);
    function OnInitTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onInit";
        _this.sendTagName = "onInit";
        return _this;
    }
    return OnInitTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 157 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PageViewTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__ = __webpack_require__(10);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var PageViewTagEvent = (function (_super) {
    __extends(PageViewTagEvent, _super);
    function PageViewTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "onFinish";
        _this.sendTagName = "pageView";
        return _this;
    }
    return PageViewTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__ConnextGtmTagEvent__["a" /* ConnextGtmTagEvent */]));



/***/ }),
/* 158 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__MeterLevelSetTagEvent__ = __webpack_require__(153);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MeterLevelSetTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_0__MeterLevelSetTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ActionShownTagEvent__ = __webpack_require__(148);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ActionShownTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_1__ActionShownTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ConversationDeterminedTagEvent__ = __webpack_require__(151);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ConversationDeterminedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_2__ConversationDeterminedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MeterStartTagEvent__ = __webpack_require__(63);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MeterStartTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_3__MeterStartTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__MeterStopTagEvent__ = __webpack_require__(64);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "MeterStopTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_4__MeterStopTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__OnInitTagEvent__ = __webpack_require__(156);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OnInitTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_5__OnInitTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__PageViewTagEvent__ = __webpack_require__(157);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PageViewTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_6__PageViewTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__NewsletterSignUpTagEvent__ = __webpack_require__(154);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NewsletterSignUpTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_7__NewsletterSignUpTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__HasAccessTagEvent__ = __webpack_require__(152);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "HasAccessTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_8__HasAccessTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__AuthorizedTagEvent__ = __webpack_require__(149);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_9__AuthorizedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__NotAuthorizedTagEvent__ = __webpack_require__(155);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "NotAuthorizedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_10__NotAuthorizedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ClickTagEvent__ = __webpack_require__(150);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ClickTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_11__ClickTagEvent__["a"]; });














/***/ }),
/* 159 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SpGtmTagCollector; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(169);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var SpGtmTagCollector = (function (_super) {
    __extends(SpGtmTagCollector, _super);
    function SpGtmTagCollector() {
        var _this = _super.call(this) || this;
        _this.events = __WEBPACK_IMPORTED_MODULE_1__events__;
        return _this;
    }
    return SpGtmTagCollector;
}(__WEBPACK_IMPORTED_MODULE_0__GtmTagCollector__["a" /* GtmTagCollector */]));



/***/ }),
/* 160 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BillingAddressCompletedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var BillingAddressCompletedTagEvent = (function (_super) {
    __extends(BillingAddressCompletedTagEvent, _super);
    function BillingAddressCompletedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "billing_address_completed_e";
        _this.sendTagName = "sp.BillingAddressCompleted";
        return _this;
    }
    return BillingAddressCompletedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 161 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CheckoutStartTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CheckoutStartTagEvent = (function (_super) {
    __extends(CheckoutStartTagEvent, _super);
    function CheckoutStartTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "presentation_loaded_e";
        _this.sendTagName = "sp.CheckoutStart";
        return _this;
    }
    CheckoutStartTagEvent.prototype.getSendTagData = function () {
        var fnName = "getSendTagData";
        var pid;
        var data = this.originalEventData;
        this.Logger.debug(fnName, "event", "data", data);
        if (data.promotionsList) {
            this.Logger.debug(fnName, "Has PromotionsList");
            pid = Array.prototype.map.call(data.promotionsList, function (s) { return s.pid; }).toString();
            this.Logger.debug(fnName, "Has PromotionsList.pidList", pid);
        }
        var tagData = {
            sp_pid: pid
        };
        if (data.params && data.params.presentationName) {
            this.Logger.debug("CreateCheckoutStartTag", "Has Presentation Params");
            tagData["sp_presentationName"] = data.params.presentationName;
        }
        this.Logger.debug(fnName, "tagData =>", tagData);
        return tagData;
    };
    return CheckoutStartTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 162 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatedNewUsertagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var CreatedNewUsertagEvent = (function (_super) {
    __extends(CreatedNewUsertagEvent, _super);
    function CreatedNewUsertagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "created_new_user_e";
        _this.sendTagName = "sp.CreatedNewUser";
        return _this;
    }
    return CreatedNewUsertagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 163 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DeleveryAddressCompleted; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var DeleveryAddressCompleted = (function (_super) {
    __extends(DeleveryAddressCompleted, _super);
    function DeleveryAddressCompleted() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "delivery_address_completed_e";
        _this.sendTagName = "sp.DeliveryAddressCompleted";
        return _this;
    }
    return DeleveryAddressCompleted;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 164 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OfferSelectedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__ = __webpack_require__(45);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var OfferSelectedTagEvent = (function (_super) {
    __extends(OfferSelectedTagEvent, _super);
    function OfferSelectedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offer_selected_e";
        _this.sendTagName = "sp.OfferSelected";
        return _this;
    }
    OfferSelectedTagEvent.prototype.getSendTagData = function () {
        var fnName = "[process...OfferSelected]";
        try {
            this.Logger.debug(fnName, "data", this.originalEventData);
            var offerTagData = new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__["a" /* OfferTagModel */](this.originalEventData.offer);
            return {
                sp_offerId: offerTagData.Id,
                sp_offerPlanName: offerTagData.PlanName,
                sp_offerPrice: offerTagData.TotalPrice,
                sp_offerType: offerTagData.Type
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return OfferSelectedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 165 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OffersPresentedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__ = __webpack_require__(45);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var OffersPresentedTagEvent = (function (_super) {
    __extends(OffersPresentedTagEvent, _super);
    function OffersPresentedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "offers_presented_e";
        _this.sendTagName = "sp.OffersPresented";
        return _this;
    }
    OffersPresentedTagEvent.prototype.getSendTagData = function () {
        var planData = this.getPlanIds(this.originalEventData.offers);
        try {
            return {
                sp_offerIds: planData.planIds,
                sp_offerPlanNames: planData.planNames,
                sp_offerPlanConcat: planData.plansConcat
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    OffersPresentedTagEvent.prototype.getPlanIds = function (offers) {
        var planIds = [], planNames = [], plansConcat = [];
        if (offers) {
            offers.forEach(function (offer) {
                var tagOffer = new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__["a" /* OfferTagModel */](offer);
                planIds.push(tagOffer.Id),
                    planNames.push(tagOffer.PlanName),
                    plansConcat.push(tagOffer.Id + ":" + tagOffer.PlanName);
            });
        }
        return {
            planIds: planIds.toString(),
            planNames: planNames.toString(),
            plansConcat: plansConcat.toString()
        };
    };
    return OffersPresentedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 166 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaymentCompletedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants_PaymentTypes__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SpGtmTagEvent__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var PaymentCompletedTagEvent = (function (_super) {
    __extends(PaymentCompletedTagEvent, _super);
    function PaymentCompletedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventNames = Object.keys(__WEBPACK_IMPORTED_MODULE_0__constants_PaymentTypes__["a" /* PaymentTypes */]);
        _this.sendTagName = "sp.PaymentCompleted";
        return _this;
    }
    PaymentCompletedTagEvent.prototype.getSendTagData = function () {
        var fnName = "[process...PaymentCompleted]";
        try {
            var paymentMethod = __WEBPACK_IMPORTED_MODULE_0__constants_PaymentTypes__["a" /* PaymentTypes */][this.currentEventName];
            this.Logger.debug(fnName, "paymentMethod", paymentMethod);
            return {
                sp_paymentType: paymentMethod
            };
        }
        catch (e) {
            this.Logger.fatal(e);
            return null;
        }
    };
    return PaymentCompletedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_1__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 167 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubscriptionSuccessTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__ = __webpack_require__(45);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();


var SubscriptionSuccessTagEvent = (function (_super) {
    __extends(SubscriptionSuccessTagEvent, _super);
    function SubscriptionSuccessTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "add_subscription_success_e";
        _this.sendTagName = "sp.SubscriptionSuccess";
        return _this;
    }
    SubscriptionSuccessTagEvent.prototype.getSendTagData = function () {
        try {
            var offerTag = new __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_models_sp_OfferTagModel__["a" /* OfferTagModel */](this.originalEventData.offer);
            var subscription = this.originalEventData.subscription || {};
            return {
                sp_offerId: offerTag.Id,
                sp_offerPlanName: offerTag.PlanName,
                sp_offerPrice: offerTag.TotalPrice,
                sp_subEventId: subscription.EventId,
                sp_accountNumber: subscription.AccountNumber,
                sp_paymentAuthorizationCode: subscription.PaymentAuthorizationCode,
                sp_subSubscriptionId: subscription.SubscriptionID,
                sp_subSubscriberId: subscription.SubscriberID,
                sp_redirectUrl: subscription.RedirectUrl
            };
        }
        catch (e) {
            this.Logger.fatal(e);
        }
    };
    return SubscriptionSuccessTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 168 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UserInfoCompletedTagEvent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__ = __webpack_require__(16);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var UserInfoCompletedTagEvent = (function (_super) {
    __extends(UserInfoCompletedTagEvent, _super);
    function UserInfoCompletedTagEvent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.originalEventName = "user_info_completed_e";
        _this.sendTagName = "sp.UserInfoCompleted";
        return _this;
    }
    return UserInfoCompletedTagEvent;
}(__WEBPACK_IMPORTED_MODULE_0__SpGtmTagEvent__["a" /* SpGtmTagEvent */]));



/***/ }),
/* 169 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__BillingAddressCompletedTagEvent__ = __webpack_require__(160);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "BillingAddressCompletedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_0__BillingAddressCompletedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CheckoutStartTagEvent__ = __webpack_require__(161);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CheckoutStartTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_1__CheckoutStartTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__CreatedNewUsertagEvent__ = __webpack_require__(162);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CreatedNewUsertagEvent", function() { return __WEBPACK_IMPORTED_MODULE_2__CreatedNewUsertagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__DeleveryAddressCompleted__ = __webpack_require__(163);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DeleveryAddressCompleted", function() { return __WEBPACK_IMPORTED_MODULE_3__DeleveryAddressCompleted__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__OfferSelectedTagEvent__ = __webpack_require__(164);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OfferSelectedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_4__OfferSelectedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__OffersPresentedTagEvent__ = __webpack_require__(165);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OffersPresentedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_5__OffersPresentedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__PaymentCompletedTagEvent__ = __webpack_require__(166);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "PaymentCompletedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_6__PaymentCompletedTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__SubscriptionSuccessTagEvent__ = __webpack_require__(167);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionSuccessTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_7__SubscriptionSuccessTagEvent__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__UserInfoCompletedTagEvent__ = __webpack_require__(168);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "UserInfoCompletedTagEvent", function() { return __WEBPACK_IMPORTED_MODULE_8__UserInfoCompletedTagEvent__["a"]; });











/***/ }),
/* 170 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export DomClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Dom; });
var DomClass = (function () {
    function DomClass() {
    }
    DomClass.prototype.findAncestor = function (element, className) {
        if (!element)
            return;
        if (element.classList.contains(className)) {
            return element;
        }
        while ((element = element.parentElement) && !element.classList.contains(className))
            ;
        return element;
    };
    return DomClass;
}());

var Dom = new DomClass();


/***/ }),
/* 171 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ABModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEvent__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Utils_cookie_Cookie__ = __webpack_require__(87);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Utils_proxy_ProxyService__ = __webpack_require__(53);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Data_services_Index__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_workflowModeModule_models__ = __webpack_require__(52);







var ABModuleClass = (function () {
    function ABModuleClass() {
        this.cookieKey = "nxt_ab_test";
        this.miscPrefix = "MiscEngage";
        this.Logger = __WEBPACK_IMPORTED_MODULE_0__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("ABModule");
    }
    ABModuleClass.prototype.addMisc = function (eventListener) {
        if (!__WEBPACK_IMPORTED_MODULE_5__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].getModeEnabled(__WEBPACK_IMPORTED_MODULE_6__Modules_workflowModeModule_models__["a" /* FLOW_MODE_TYPES */].EngageABExperiments)) {
            return eventListener;
        }
        var method = __WEBPACK_IMPORTED_MODULE_1__Collectors_cdp_collectors_CdpEvent__["a" /* CdpEvent */].prototype.getEventModel.name || "getEventModel";
        var _this = this;
        var settings = {
            target: method,
            handler: function (originalMethod) {
                var args = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    args[_i - 1] = arguments[_i];
                }
                var eventModel = originalMethod.apply(null, args);
                _this.pushEventData(eventModel);
                _this.pushGA();
                return eventModel;
            }
        };
        return __WEBPACK_IMPORTED_MODULE_3__Utils_proxy_ProxyService__["a" /* ProxyService */].apply(eventListener, settings);
    };
    ABModuleClass.prototype.getEngageData = function () {
        var _a;
        var result = null;
        try {
            result = ((_a = window.NxtInner) === null || _a === void 0 ? void 0 : _a.GetABTestCookie()) || JSON.parse(__WEBPACK_IMPORTED_MODULE_2__Utils_cookie_Cookie__["a" /* Cookie */].get(this.cookieKey));
        }
        catch (ex) { }
        return result;
    };
    ABModuleClass.prototype.pushEventData = function (eventModel) {
        var data = this.getEngageData();
        if (eventModel && this.isValidData(data)) {
            eventModel.EventData.push({ Key: this.miscPrefix + "ABGroup", Value: data.ABGroup });
            eventModel.EventData.push({ Key: this.miscPrefix + "ABExperimentId", Value: data.ABExperimentId.toString() });
            this.Logger.info("pushEventData", data);
        }
        else {
            this.Logger.info("NOT pushEventData", "data", data, "eventModel", eventModel);
        }
    };
    ABModuleClass.prototype.pushGA = function () {
        var data = this.getEngageData();
        if (this.isValidData(data) && this.lastExperimentId !== data.ABExperimentId) {
            this.Logger.info("pushGA", data);
            __WEBPACK_IMPORTED_MODULE_4__Data_services_Index__["a" /* TagManagerService */].Instance.setDLV("ABTesting", data);
            this.lastExperimentId = data.ABExperimentId;
        }
    };
    ABModuleClass.prototype.isValidData = function (data) {
        return !!(data && data.ABExperimentId && data.ABExperimentName && data.ABGroup && data.ABGroupName);
    };
    return ABModuleClass;
}());
var ABModule = new ABModuleClass();


/***/ }),
/* 172 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ActionManagerClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ActionManager; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__ConversationManager__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Core_dom_Dom__ = __webpack_require__(170);


var ActionManagerClass = (function () {
    function ActionManagerClass() {
    }
    ActionManagerClass.prototype.getInfoFromClickedElement = function (clickedElement) {
        var parent = __WEBPACK_IMPORTED_MODULE_1__Core_dom_Dom__["a" /* Dom */].findAncestor(clickedElement, "Mg2-connext"), actionInfo = {};
        if (parent) {
            var elementId = parent.getAttribute("id");
            if (elementId) {
                var actionId = parseInt(elementId.split("-")[1]);
                var actionName = void 0;
                var conversation = __WEBPACK_IMPORTED_MODULE_0__ConversationManager__["a" /* ConversationManager */].getCurrentConversation();
                if (conversation) {
                    var actions = conversation.Actions;
                    var actionLength = actions.length;
                    for (var i = 0; i < actionLength; i++) {
                        var action = actions[i];
                        if (action.Id == actionId) {
                            actionName = action.Name;
                            break;
                        }
                    }
                }
                if (actionId) {
                    actionInfo["ActionId"] = actionId;
                }
                if (actionName) {
                    actionInfo["ActionName"] = actionName;
                }
                return actionInfo;
            }
        }
        return null;
    };
    return ActionManagerClass;
}());

var ActionManager = new ActionManagerClass();


/***/ }),
/* 173 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CommandModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__CalculationResultModel__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__commandModels_CookieGetterModel__ = __webpack_require__(177);



var CommandModel = (function () {
    function CommandModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        this.EnableGA = data.enableGA;
        this.setup(data.value);
    }
    CommandModel.prototype.setup = function (value) {
        var parsedValue = value;
        switch (parsedValue.name) {
            case __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_options_models_MiscOptionsInterface__["b" /* COMMAND_TYPES */].GET_COOKIE_BY_NAME:
                this.executingModel = new __WEBPACK_IMPORTED_MODULE_2__commandModels_CookieGetterModel__["a" /* CookieGetterModel */](parsedValue.args);
                break;
        }
    };
    CommandModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (!_this.executingModel)
                reject();
            try {
                _this.executingModel.execute().then(function (value) {
                    var result = new __WEBPACK_IMPORTED_MODULE_1__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                    resolve(result);
                }).catch(reject);
            }
            catch (e) {
                reject();
            }
        });
    };
    return CommandModel;
}());



/***/ }),
/* 174 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JavascriptModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__ = __webpack_require__(35);

var JavascriptModel = (function () {
    function JavascriptModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        this.Expression = data.value;
        this.EnableGA = data.enableGA;
    }
    JavascriptModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                var value = eval(_this.Expression);
                var result = new __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                resolve(result);
            }
            catch (e) {
                reject();
            }
        });
    };
    return JavascriptModel;
}());



/***/ }),
/* 175 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PromiseModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__ = __webpack_require__(35);

var PromiseModel = (function () {
    function PromiseModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        this.PromiseName = data.value;
        this.EnableGA = data.enableGA;
    }
    PromiseModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                var promise = window[_this.PromiseName];
                promise.then(function (value) {
                    var result = new __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                    resolve(result);
                }).catch(reject);
            }
            catch (e) {
                reject();
            }
        });
    };
    return PromiseModel;
}());



/***/ }),
/* 176 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SelectorModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__ = __webpack_require__(35);

var SelectorModel = (function () {
    function SelectorModel(data) {
        if (!data)
            return;
        this.MiscKey = data.key;
        var parsedValue = data.value;
        this.Selector = parsedValue.sel;
        this.Attribute = parsedValue.attr;
        this.EnableGA = data.enableGA;
    }
    SelectorModel.prototype.getData = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                var element = document.querySelector(_this.Selector);
                var value = null;
                if (_this.Attribute) {
                    value = element.getAttribute(_this.Attribute);
                }
                else {
                    value = element.textContent;
                }
                var result = new __WEBPACK_IMPORTED_MODULE_0__CalculationResultModel__["a" /* CalculationResultModel */](_this.MiscKey, value, _this.EnableGA);
                resolve(result);
            }
            catch (e) {
                reject();
            }
        });
    };
    return SelectorModel;
}());



/***/ }),
/* 177 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CookieGetterModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_cookie_Cookie__ = __webpack_require__(87);

var CookieGetterModel = (function () {
    function CookieGetterModel(cookieName) {
        this.cookieName = cookieName;
    }
    CookieGetterModel.prototype.execute = function () {
        var result = __WEBPACK_IMPORTED_MODULE_0__Utils_cookie_Cookie__["a" /* Cookie */].get(this.cookieName) || null;
        return Promise.resolve(result);
    };
    return CookieGetterModel;
}());



/***/ }),
/* 178 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ContentServiceClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__models_ApiContentModel__ = __webpack_require__(179);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__models_ContentModel__ = __webpack_require__(180);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Modules_workflowModeModule_WorkflowModule__ = __webpack_require__(17);







var ContentServiceClass = (function () {
    function ContentServiceClass() {
        this.Logger = __WEBPACK_IMPORTED_MODULE_4__Utils_logger_Logger_Core__["a" /* LoggerService */].createLogger("ArticleStorage");
    }
    ContentServiceClass.prototype.getPageContent = function () {
        this.pageContent = new __WEBPACK_IMPORTED_MODULE_3__models_ContentModel__["a" /* ContentModel */](__WEBPACK_IMPORTED_MODULE_1__Modules_dimensionsModule_DimensionsModule__["a" /* DimensionsModule */].getDimensions());
        return this.pageContent;
    };
    ContentServiceClass.prototype.contentExistsInCdp = function (contentId) {
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("article/exists", { content_id: contentId });
    };
    ContentServiceClass.prototype.sendContentInCdp = function (article, articleNotExistApproved) {
        var _this = this;
        var sendData = new __WEBPACK_IMPORTED_MODULE_2__models_ApiContentModel__["a" /* ApiContentModel */](article);
        sendData["article_not_exists_approved"] = articleNotExistApproved;
        sendData["site_code"] = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getSiteCode();
        sendData["client_code"] = __WEBPACK_IMPORTED_MODULE_0__Modules_configModule_ConfigModule__["a" /* ConfigModule */].getClientCode();
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].post("article", sendData)
            .catch(function (error) {
            _this.Logger.error(error);
        });
    };
    ContentServiceClass.prototype.getArticleStats = function (contentId) {
        return __WEBPACK_IMPORTED_MODULE_5__Data_modules_HttpService__["a" /* HttpService */].get("article/stats", { content_id: contentId });
    };
    return ContentServiceClass;
}());

var ContentService = __WEBPACK_IMPORTED_MODULE_6__Modules_workflowModeModule_WorkflowModule__["a" /* WorkflowModule */].applyRejects(new ContentServiceClass(), __WEBPACK_IMPORTED_MODULE_6__Modules_workflowModeModule_WorkflowModule__["b" /* REJECTED_SERVICES */].ContentService);


/***/ }),
/* 179 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ApiContentModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_Utils__ = __webpack_require__(0);

var ApiContentModel = (function () {
    function ApiContentModel(data) {
        this.tags = [];
        if (!data)
            return;
        this.content_id = this.toString(data.ContentId);
        this.article_id = this.toString(data.article_id);
        this.title = this.toString(data.Title);
        this.keywords = this.toString(data.Keywords);
        this.section = this.toString(data.Section);
        this.url = data.Url;
        this.author = this.toString(data.Author);
        this.tags = data.Tags ? data.Tags.split(",") : this.tags;
        this.content_type = this.toString(data.ContentType);
        this.publish_date = data.PublishDate;
        this.lead_text = this.toString(data.LeadText);
        this.text = this.toString(data.Text);
        this.description = this.toString(data.Description);
        this.pictures = +data.Pictures;
        this.video = +data.Video;
        this.likes = +data.Likes;
        this.shares = +data.Shares;
        this.breaking_news = data.BreakingNews;
        this.premium = data.Premium;
        this.language = data.Language;
        this.lead_image_url = data.LeadImageUrl;
    }
    ApiContentModel.prototype.toString = function (value) {
        if (__WEBPACK_IMPORTED_MODULE_0__Utils_Utils__["a" /* Utils */].isset(value)) {
            return value.toString();
        }
        return null;
    };
    return ApiContentModel;
}());



/***/ }),
/* 180 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContentModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__ = __webpack_require__(19);

var ContentModel = (function () {
    function ContentModel(data) {
        if (!data)
            return;
        this.Title = data.Title;
        this.Keywords = data.Keywords;
        this.Section = data.Section;
        this.Url = data.Url;
        this.ContentType = data.ContentType;
        this.Author = data.Author;
        this.Tags = data.Tags;
        this.ContentId = data.ContentId;
        this.PublishDate = __WEBPACK_IMPORTED_MODULE_0__Utils_DateUtil__["a" /* DateUtil */].getISOFormat(data.PublishDate) || data.PublishDate;
        this.LeadText = data.LeadText;
        this.Text = data.Text;
        this.Description = data.Description;
        this.Pictures = data.Pictures;
        this.Video = data.Video;
        this.Likes = data.Likes;
        this.Shares = data.Shares;
        this.BreakingNews = data.BreakingNews;
        this.Premium = data.Premium;
        this.Language = data.Language;
        this.LeadImageUrl = data.LeadImageUrl;
    }
    ContentModel.prototype.isArticle = function () {
        return String(this.ContentType).toLowerCase().trim() === "article";
    };
    return ContentModel;
}());



/***/ }),
/* 181 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_demo_RecommendationDemo__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ajc_AjcModel__ = __webpack_require__(186);


var environment = "prod" || "prod";
if (environment !== "prod") {
    window["RecommendationDemo"] = __WEBPACK_IMPORTED_MODULE_0__classes_demo_RecommendationDemo__["a" /* RecommendationDemo */].start();
}
var ajcModel = new __WEBPACK_IMPORTED_MODULE_1__ajc_AjcModel__["a" /* AjcModel */]();
window.g2ExtendInits = {
    default: {
        cdp: {
            enabled: true
        },
        dimensions: {
            ContentId: function () {
                return ajcModel.getContentId();
            },
            Title: function () {
                return ajcModel.getTitle();
            },
            LeadImageUrl: function () {
                return ajcModel.getLeadImageUrl();
            },
            Category: function () {
                return ajcModel.getCategory();
            },
            LeadText: function () {
                return ajcModel.getLeadText();
            },
            Text: function () {
                return ajcModel.getText();
            },
            Author: function () {
                return ajcModel.getAuthor();
            },
            Keywords: function () {
                return ajcModel.getKeywords();
            },
            Description: function () {
                return ajcModel.getDescription();
            },
            PublishDate: function () {
                return ajcModel.getPublishDate();
            },
            UpdateDate: function () {
                return ajcModel.getModificationDate();
            },
            Pictures: function () {
                return ajcModel.getPictures();
            },
            Video: function () {
                return ajcModel.getCountVideo();
            },
            Section: function () {
                return ajcModel.getSection();
            },
            ContentType: function () {
                return ajcModel.getContentType();
            },
            Tags: function () {
                return ajcModel.getTags();
            },
            Likes: function () {
                return ajcModel.getCountLikes();
            },
            Shares: function () {
                return ajcModel.getCountShares();
            },
            BreakingNews: function () {
                return ajcModel.getBreakingNews();
            },
            Premium: function () {
                return ajcModel.getIsPremium();
            },
            Language: function () {
                return ajcModel.getLanguage();
            },
            Recommended: function () {
                return ajcModel.getRecommended();
            }
        }
    }
};


/***/ }),
/* 182 */,
/* 183 */,
/* 184 */,
/* 185 */,
/* 186 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AjcModel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__classes_DefaultCdpSelectors__ = __webpack_require__(94);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();

var AjcModel = (function (_super) {
    __extends(AjcModel, _super);
    function AjcModel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AjcModel.prototype.getContentType = function () {
        var _a;
        var pageContentType = (_a = this.getPageData()) === null || _a === void 0 ? void 0 : _a.pageContentType;
        return pageContentType !== undefined ? pageContentType : null;
    };
    AjcModel.prototype.getContentId = function () {
        var _a;
        var contentID = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentID;
        return contentID !== undefined ? contentID : null;
    };
    AjcModel.prototype.getTitle = function () {
        var _a;
        var pageTitle = (_a = this.getPageData()) === null || _a === void 0 ? void 0 : _a.pageTitle;
        return pageTitle !== undefined ? pageTitle : null;
    };
    AjcModel.prototype.getAuthor = function () {
        var _a;
        var contentByline = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentByline;
        return contentByline !== undefined ? contentByline : null;
    };
    AjcModel.prototype.getPublishDate = function () {
        var _a;
        var contentPublishDate = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentPublishDate;
        return contentPublishDate !== undefined ? contentPublishDate : null;
    };
    AjcModel.prototype.getText = function () {
        var element = document.querySelector("article p.story-text");
        return element ? element.textContent : null;
    };
    AjcModel.prototype.getLeadText = function () {
        var element = document.querySelector("main .c-header h1.headline-text");
        return element ? element.textContent : null;
    };
    AjcModel.prototype.getSection = function () {
        var _a;
        var pageMainSection = (_a = this.getPageData()) === null || _a === void 0 ? void 0 : _a.pageMainSection;
        return pageMainSection !== undefined ? pageMainSection : null;
    };
    AjcModel.prototype.getKeywords = function () {
        var _a;
        var contentTopics = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentTopics;
        return contentTopics !== undefined ? contentTopics : null;
    };
    AjcModel.prototype.getDescription = function () {
        var element = document.querySelector("meta[property=\"og:description\"]");
        return element ? element.getAttribute("content") : null;
    };
    AjcModel.prototype.getTags = function () {
        var _a;
        var contentTopics = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentTopics;
        return contentTopics !== undefined ? contentTopics : null;
    };
    AjcModel.prototype.getPageData = function () {
        var _a, _b;
        return (_b = (_a = window) === null || _a === void 0 ? void 0 : _a.dataLayer[0]) === null || _b === void 0 ? void 0 : _b.pageData;
    };
    AjcModel.prototype.getContentData = function () {
        var _a, _b;
        return (_b = (_a = window) === null || _a === void 0 ? void 0 : _a.dataLayer[0]) === null || _b === void 0 ? void 0 : _b.contentData;
    };
    return AjcModel;
}(__WEBPACK_IMPORTED_MODULE_0__classes_DefaultCdpSelectors__["a" /* DefaultCdpSelectors */]));



/***/ }),
/* 187 */,
/* 188 */,
/* 189 */,
/* 190 */,
/* 191 */,
/* 192 */,
/* 193 */,
/* 194 */,
/* 195 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(181);
module.exports = __webpack_require__(93);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMzU1NWRiOTJjNDM2ZjdmOGYzOGM/YmM1ZSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9VdGlscy50cz80NjA0KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZS50cz84MDM0KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZS50cz9mMjkyKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvY29uc3RhbnRzL0NvbnN0YW50cy50cz8yYjBkKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvSW5kZXgudHM/MmY3MioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlLnRzPzc0NzEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vdXRpbHMvQnVnVHJhY2tVdGlsLnRzPzU0ZjEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlLnRzPzU0YjcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2UudHM/OWRiZSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwRXZlbnQudHM/YTE3MyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL0Nvbm5leHRHdG1UYWdFdmVudC50cz9iODc2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvbW9kdWxlcy9IdHRwU2VydmljZS50cz9iOGM3KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL0RldmljZURldGVjdG9yLnRzP2VhYTkqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29yZS9jb25zdGFudHMvUGx1Z2luSW5uZXJFdmVudHMudHM/MGYzZioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXIudHM/NGI2NSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dEV2ZW50LnRzPzBhZmMqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvU3BHdG1UYWdFdmVudC50cz9jMGQzKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlLnRzPzhlOGYqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9NZXRhRGF0YVNlcnZpY2UudHM/ODE4MSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9EYXRlVXRpbC50cz9mZmI2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnQudHM/MGIwMCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL2NvbnN0YW50cy9GaXJzdFZpc2l0UHJvcGVydGllcy50cz9hNGQ2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlLnRzPzA0ZTAqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzLnRzP2I5YTQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGUudHM/OTViYyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZS50cz81YjUxKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZS50cz81OTc4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbC50cz8wOTg3KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlLnRzP2E3NDQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9Vc2VyU2VydmljZS50cz9kNzEzKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9EYXRhQ29sbGVjdG9yLnRzPzlmNGQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9sb2NhbC9Mb2NhbFN0b3JhZ2UudHM/M2M4ZCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9PZmZlckV2ZW50RGF0YUV2ZW50LnRzP2E2NmYqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9jb29raWVzL0Nvb2tpZXNTdG9yYWdlLnRzPzg2Y2EqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9FdmVudFNlcnZpY2UudHM/ZGFlMyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL21pc2NNb2R1bGUvbW9kZWxzL0NhbGN1bGF0aW9uUmVzdWx0TW9kZWwudHM/M2ViNCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cC50cz85NjQ4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvRmFpbGVkRXZlbnRTZXJ2aWNlLnRzP2RjZWQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlci50cz9mMjdkKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ29sbGVjdG9yLnRzPzcwOTAqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvQWRkcmVzc01vZGVsLnRzPzQzNzEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvVXNlckluZm9ybWF0aW9uTW9kZWwudHM/ZDBkNyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsLnRzPzM3ZGQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbC50cz82ZWVlKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0RldmljZU1vZGVsLnRzPzM1YjcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvc3AvT2ZmZXJUYWdNb2RlbC50cz8xYzlmKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvbW9kZWxzL2NvbW1vbi9Vc2VyTW9kZWwudHM/YzM0YyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9kYXRhL21vZGVscy9jb25uZXh0L0FjdGlvbk1vZGVscy50cz83M2Q4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvQXp1cmVTZXJ2aWNlLnRzPzA1NjkqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9UYWdNYW5hZ2VyU2VydmljZS50cz81MWJlKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdERldGVjdG9yLnRzPzk5ZTMqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwRGF0YUxheWVyLnRzP2NlZTkqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvbW9kZWxzL2luZGV4LnRzP2NhNDQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vdXRpbHMvcHJveHkvUHJveHlTZXJ2aWNlLnRzP2FmYjAqIiwid2VicGFjazovLy8uL2NvbmZpZy9Db21tb25Db25maWdEYXRhLnRzPzkzYjUqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvT2ZmZXJzRXZlbnREYXRhRXZlbnQudHM/ZWFlYioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9PZmZlck1vZGVsLnRzP2YyNzEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvTG9jYXRpb25Nb2RlbC50cz9iOGQ2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1BhZ2VNb2RlbC50cz85MGM1KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY29uc3RhbnRzL0NvbGxlY3RvclR5cGVzLnRzP2NiN2QqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvUGF5bWVudFR5cGVzLnRzPzg5ZTcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL0d0bVRhZ0NvbGxlY3Rvci50cz85NWRiKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdFdmVudC50cz84YmNiKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyU3RhcnRUYWdFdmVudC50cz80YTQ3KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyU3RvcFRhZ0V2ZW50LnRzPzYzMTQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29yZS9iYXNlL2ZhY3RvcnkvRmFjdG9yeS50cz8wMzU4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVEdWJsaWNhdG9yLnRzPzdlNGQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9jb29raWVzL0pzQ29va2llLnRzPzRkNmEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9tZW1vcnkvTWVtb3J5U3RvcmFnZS50cz9iM2E2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvc2Vzc2lvbi9TZXNzaW9uU3RvcmFnZS50cz80ZWZhKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvQXBwSW5zaWdodHNTZXJ2aWNlLnRzPzYxZmEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9ib3REZXRlY3Rpb24vQm90TGlzdC50cz9hY2MwKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdE1vZGVsLnRzPzk5NzIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvRXJJbnRlcnByZXRhdGlvbi50cz8xYWI0KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL1JlY29tZW5kYXRpb25zLnRzPzU0NGEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvVXNlckludGVyZXN0cy50cz9hNTEwKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlLnRzP2JmOTMqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvT3B0aW9uc01vZGVsLnRzPzhkMDUqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL2NsYXNzZXMvQ29udmVyc2F0aW9uTWFuYWdlci50cz85NmQ5KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9jbGFzc2VzL0ZpcnN0VmlzaXREYXRhQ29sbGVjdG9yLnRzP2Q0NjcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9kYXRhQ29sbGVjdG9yL21vZGVscy9EYXRhVGltZXJNb2RlbC50cz81NzllKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9tb2RlbHMvRmlyc3RWaXNpdERhdGFNb2RlbC50cz84NzQxKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9jbGFzc2VzL0NvbW1vbk1ldGFEYXRhLnRzP2I1YmIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL01pc2NNb2R1bGUudHM/NzQ3MCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZS50cz80Y2M1KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL21vZGVscy9Nb2RlVHlwZXMudHM/ODM1ZioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi91dGlscy9DbGlja1V0aWxzLnRzPzI3ZTUqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vdXRpbHMvY29va2llL0Nvb2tpZS50cz85M2RlKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXJPcHRpb25zLnRzPzM3YTQqIiwid2VicGFjazovLy8uL34vanMtc2hhMjU2L3NyYy9zaGEyNTYuanM/YzQ4NSoiLCJ3ZWJwYWNrOi8vLy4vfi9wcm9jZXNzL2Jyb3dzZXIuanM/Yjc3NyoiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcz85ZTA0KiIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanM/NWY3MSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzPzczNTMqIiwid2VicGFjazovLy8uL2NvbmZpZy9jbGllbnRzL2NsYXNzZXMvRGVmYXVsdENkcFNlbGVjdG9ycy50cz85OGQ3KiIsIndlYnBhY2s6Ly8vLi9jb25maWcvY2xpZW50cy9jbGFzc2VzL2RlbW8vUmVjb21tZW5kYXRpb25EZW1vLnRzPzZjYTcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vRExDZHBQdWJsaWMudHM/YWI2ZSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9QbHVnaW4udHM/ZTMzOSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9QdWJsaWNQbHVnaW4udHM/OTFlYyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcENvbGxlY3Rvck1vZHVsZS50cz81NjQxKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ29sbGVjdG9yRmFjdG9yeS50cz83NTU4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9Db25uZXh0Q29sbGVjdG9yLnRzPzY3Y2QqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9BY3Rpb25TaG93bi50cz9hMGFlKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQWN0aXZhdGVTdWNjZXNzLnRzPzYyNjgqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9DbGljay50cz9jOTRjKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ29ubmV4dFBhZ2VWaWV3LnRzPzM2Y2EqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9DcmVhdGVBY2NvdW50LnRzPzkzMWQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9DdHJsQy50cz84N2I1KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvTG9naW4udHM/YWZlMyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL05ld3NsZXR0ZXJBcnJpdmFsLnRzPzUyM2MqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9OZXdzbGV0dGVyU2lnbnVwLnRzPzA0YWIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9SZWNvbW1lbmRhdGlvblNob3duLnRzPzg5MzcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9pbmRleC50cz9jYzlhKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9tb2RlbHMvQ29ubmV4dFVzZXJNb2RlbC50cz8xMzgwKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BDb2xsZWN0b3IudHM/NGIwNyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9BYmFuZG9uQ2xvc2VkLnRzP2E3NjIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvQWJhbmRvblByZXNlbnRlZC50cz8zZDFmKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0NoZWNrb3V0U3RhcnQudHM/MTBlMyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9DcmVhdGVkTmV3VXNlci50cz8zZTljKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0Zvcm1Db21wbGV0ZWQudHM/MTU1MSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkRGVsaXZlcnlBZGRyZXNzLnRzP2NkNjcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZFBheW1lbnQudHM/OWI4MyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkVXNlckluZm8udHM/ZDJlOSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9JZGxlQ2xvc2VkLnRzP2UwMGMqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZVByZXNlbnRlZC50cz8xYTU2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL2luZGV4LnRzPzUwOWUqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJFdmVudERhdGEvT2ZmZXJTZWxlY3RlZC50cz9kNzVmKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1N1YnNjcmlwdGlvblN1Y2Nlc3MudHM/NzUwNioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9VcHNlbGxSZW1vdmVkLnRzPzc1YTYqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJFdmVudERhdGEvVXBzZWxsU2VsZWN0ZWQudHM/NWRjZCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9pbmRleC50cz8yNzUzKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyc0V2ZW50RGF0YS9BcHBsZVBheVByZXNlbnRlZC50cz9mOTMzKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyc0V2ZW50RGF0YS9PZmZlcnNQcmVzZW50ZWQudHM/MmE0OSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlcnNFdmVudERhdGEvaW5kZXgudHM/Yjk4NSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9Db21tb25FdmVudHNDb2xsZWN0b3IudHM/NmFmNCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvRGV2aWNlSWRDaGFuZ2UudHM/NDU5MyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvRzJpRGV2aWNlSWRDaGFuZ2UudHM/OGM4NyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvTGVhdmVQYWdlLnRzPzBhODAqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL1BhZ2VWaWV3LnRzP2MwZTkqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL2luZGV4LnRzPzg2MGYqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvQ2FtcGFpZ25Nb2RlbC50cz80OTEzKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0Nvbm5leHRQYWdlVmlld0RhdGFNb2RlbC50cz85Y2M4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0RpZ2l0YWxBY2Nlc3NNb2RlbC50cz83NWEyKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1BhZ2VWaWV3RGF0YU1vZGVsLnRzPzVmMjUqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvVXNlck1vZGVsLnRzP2RmYjYqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL0d0bVRhZ0NvbGxlY3RvckZhY3RvcnkudHM/NDY0YSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnTW9kdWxlLnRzPzAzMDIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnQ29sbGVjdG9yLnRzPzk1ODIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvQWN0aW9uU2hvd25UYWdFdmVudC50cz9iNTBkKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL0F1dGhvcml6ZWRUYWdFdmVudC50cz84ZTU4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL0NsaWNrVGFnRXZlbnQudHM/YjFkZSoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9Db252ZXJzYXRpb25EZXRlcm1pbmVkVGFnRXZlbnQudHM/NmFlMCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9IYXNBY2Nlc3NUYWdFdmVudC50cz9kM2QwKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyTGV2ZWxTZXRUYWdFdmVudC50cz8wNTI2KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL05ld3NsZXR0ZXJTaWduVXBUYWdFdmVudC50cz80YzdmKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL05vdEF1dGhvcml6ZWRUYWdFdmVudC50cz9jMmU4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL09uSW5pdFRhZ0V2ZW50LnRzPzE3NTEqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvUGFnZVZpZXdUYWdFdmVudC50cz84MDMxKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL2luZGV4LnRzPzNlNmUqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvU3BHdG1UYWdDb2xsZWN0b3IudHM/ZDIwNioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvQmlsbGluZ0FkZHJlc3NDb21wbGV0ZWRUYWdFdmVudC50cz84YzVjKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9DaGVja291dFN0YXJ0VGFnRXZlbnQudHM/NmE2YioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvQ3JlYXRlZE5ld1VzZXJ0YWdFdmVudC50cz8xMjdmKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9EZWxldmVyeUFkZHJlc3NDb21wbGV0ZWQudHM/YjRlOCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvT2ZmZXJTZWxlY3RlZFRhZ0V2ZW50LnRzPzNiNjgqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL09mZmVyc1ByZXNlbnRlZFRhZ0V2ZW50LnRzP2QwOTcqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL1BheW1lbnRDb21wbGV0ZWRUYWdFdmVudC50cz9mYjg4KiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9TdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQudHM/ODY0NioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudC50cz8wZWMxKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9pbmRleC50cz9mZTYwKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL2NvcmUvZG9tL0RvbS50cz9kMjZmKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvYWJNb2R1bGUvRW5nYWdlQUJNb2R1bGUudHM/NzVjNCoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2Nvbm5leHRNb2R1bGUvY2xhc3Nlcy9BY3Rpb25NYW5hZ2VyLnRzP2M4ZTQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9Db21tYW5kTW9kZWwudHM/MmRlMyoiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL21pc2NNb2R1bGUvbW9kZWxzL0phdmFzY3JpcHRNb2RlbC50cz8wMzdlKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvUHJvbWlzZU1vZGVsLnRzPzY0ZjYqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9TZWxlY3Rvck1vZGVsLnRzPzZiMmQqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9jb21tYW5kTW9kZWxzL0Nvb2tpZUdldHRlck1vZGVsLnRzPzMwOGIqIiwid2VicGFjazovLy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9wYWdlTW9kdWxlL2NsYXNzZXMvQ29udGVudFNlcnZpY2UudHM/MTRlNioiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvbW9kZWxzL0FwaUNvbnRlbnRNb2RlbC50cz9lOTJhKiIsIndlYnBhY2s6Ly8vLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9tb2RlbHMvQ29udGVudE1vZGVsLnRzPzVhZWYqIiwid2VicGFjazovLy8uL2NvbmZpZy9jbGllbnRzL0FqYy50cyIsIndlYnBhY2s6Ly8vLi9jb25maWcvY2xpZW50cy9hamMvQWpjTW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7O0FDaEVvRTtBQUVwRTtJQUFBO0lBdVpBLENB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RSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2xGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHdCQUFJO2FBQVI7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDL0IsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2xGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlCQUFLO2FBQVQ7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQ3BGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlCQUFLO2FBQVQ7WUFDSSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDaEMsT0FBTyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsOERBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQ3BGO2lCQUFNO2dCQUNILE9BQU8sSUFBSSxDQUFDO2FBQ2Y7UUFDTCxDQUFDOzs7T0FBQTtJQUVE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O0lBQ0wsQ0FBQztJQUNMLGdCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7dURDcEREO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlCQUF5QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlCQUF5QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxPQUFPO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0EsT0FBTztBQUNQLDRCQUE0QiwwQkFBMEI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFBQTtBQUNQO0FBQ0E7QUFDQSxDQUFDOzs7Ozs7OztBQ3JnQkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O1FBQ2xCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLFVBQVUsR0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsS0FBSyxHQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxRQUFRLEdBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLE9BQU8sR0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3pELElBQUksQ0FBQyxZQUFZLEdBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxTQUFTLEdBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLElBQUksR0FBSSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsV0FBVyxHQUFJLElBQUksQ0FBQyxR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QUFDLENBQUMsMkNBQUcsV0FBVyxDQUFDO0lBQ3BELENBQUM7SUFDTCxlQUFDO0FBQUQsQ0FBQyxDQS9ENkIseUZBQW1CLEdBK0RoRCIsImZpbGUiOiJjbGllbnRzL2FqYy9nMmluc2lnaHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTk1KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzNTU1ZGI5MmM0MzZmN2Y4ZjM4YyIsImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgUGFyc2VkSnNvbk1vZGVsIH0gZnJvbSBcIi4uL2RhdGEvbW9kZWxzL2NvbW1vbi9QYXJzZWRKc29uTW9kZWxcIjtcclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuXHJcbiAgICBzdGF0aWMgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlV0aWxzXCIpO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0U3RvcmVkTG9nTGV2ZWwoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnZXRTdG9yZWRMb2dMZXZlbFwiKTtcclxuICAgICAgICAvLyByZXR1cm4gJ2luZm8nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBhbiBvYmplY3QgdXNpbmcgZWFjaCBvYmplY3RzIHBhc3NlZCBpbiAna2V5TmFtZScgYW5kICd2YWxOYW1lJ1xyXG4gICAgICogQHBhcmFtIGFyciBUaGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0XHJcbiAgICAgKiBAcGFyYW0ga2V5TmFtZSBUaGUga2V5IG5hbWUgZm9yIGVhY2ggb2JqZWN0IGluIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gdmFsTmFtZSBUaGV5IHZhbCBuYW1lIGZvciBlYWNoIG9iamVjdCBpbiBhcnJheVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb2JqZWN0QXJyYXlUb09iamVjdChhcnI6IEFycmF5PG9iamVjdD4sIGtleU5hbWU6IHN0cmluZywgdmFsTmFtZTogc3RyaW5nKTogb2JqZWN0IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXJyLnJlZHVjZSgob2JqLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIG9ialtpdGVtW2tleU5hbWVdXSA9IGl0ZW1bdmFsTmFtZV1cclxuICAgICAgICAgICAgcmV0dXJuIG9ialxyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUYWtlcyBhbiBvYmplY3QgYW5kIHJldHVybiBhbiBhcnJheSBvZiBkaWN0aW9uYXJ5IG9iamVjdHMgd2l0aCBcIktleVwiIGFuZCBcIlZhbHVlXCIgYXMgdGhlIHByb3BlcnR5IG5hbWVzLlxyXG4gICAgICogQHBhcmFtIG9iaiBUaGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvYmplY3RUb0FycmF5RGljdChvYmo6IG9iamVjdCk6IGFueSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMob2JqKTtcclxuICAgICAgICAgICAgZW50cmllcy5tYXAoKGFycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBcIktleVwiOiBhcnJbMF0sIFwiVmFsdWVcIjogYXJyWzFdIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGFrZXMgYSBzdHJpbmcgcGF0aCBmb3IgYW4gb2JqZWN0IGFuZCByZXR1cm5zIGl0LiAgVGhpcyBsZXRzIHlvdSBwYXNzIGluIFwibGV2ZWwxLmxldmVsMi52YWx1ZVwiIGluIG9iamVjdCwgd2hpY2ggaXMgdXNlZnVsIGZvciB1bmtub3duIGRhdGEgc3RydWN0dXJlcy4gIFJlcGxhY2VzIG5lZWQgZm9yIG9ialsnbGV2ZWwxJ11bJ2xldmVsMiddLnZhbHVlXHJcbiAgICAgKiBAcGFyYW0gc3RyIHN0cmluZyBwYXRoIHRvIGNoZWNrIGZvciAobGV2ZWwxLmxldmVsMS52YWx1ZSlcclxuICAgICAqIEBwYXJhbSBvYmogVGhlIG9iamVjdCB0byBzZWFyY2ggd2l0aCB0aGUgc3RyIHBhdGguXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXROZXN0ZWRWYWx1ZUJ5U3RyaW5nKHN0ciwgb2JqKTogYW55IHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcWyhbXlxcXV0rKV0vZywgXCIuJDFcIikuc3BsaXQoXCIuXCIpLnJlZHVjZSgobywgcCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIltnZXROZXN0ZWRWYWx1ZUJ5U3RyaW5nXVwiLCBzdHIsIG9iaiwgbywgcCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvW3BdO1xyXG4gICAgICAgIH0sIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW1pbGFyIHRvIG9iamVjdFRvQXJyYXlEaWN0IGV4Y2VwdCB0aGlzIHdpbGwgbG9vcCB0aHJvdWdoIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgb3B0aW9uIG9mIHJlY3Vyc2l2ZWx5IGV4ZWN1dGluZyBjaGlsZCBvYmplY3QgYXJyYXlzLlxyXG4gICAgICogVGhpcyB3aWxsIGJlIG1vc3RseSB1c2VkIGZvciBDRFAgZGF0YS5FdmVudERhdGEgbG9vcGluZy5cclxuICAgICAqIEBwYXJhbSBhcnIgYXJyYXkgdG8gbG9vcCB0aHJvdWdoXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IG5lZWQgdG8gcGFzcyBpbiBhIHJlc3VsdCBhcnJheSBzbyByZWN1cnNpb24gd29ya3MuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBBcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShhcnI6IG9iamVjdCwgcmVzdWx0OiBhbnksIGtleUFyZz86IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMoYXJyKTtcclxuICAgICAgICBlbnRyaWVzLm1hcCgoYXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyWzFdID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBVdGlscy5BcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShhcnJbMV0sIHJlc3VsdCwgYXJyWzBdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSAoa2V5QXJnKSA/IGtleUFyZyArIGFyclswXSA6IGFyclswXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgXCJLZXlcIjoga2V5LCBcIlZhbHVlXCI6IGFyclsxXSB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZW50cmllcyhvYmo6IGFueSk6IGFueSB7XHJcbiAgICAgICAgaWYgKCFvYmopIHJldHVybiBbXTtcclxuICAgICAgICBsZXQgb3duUHJvcHMgPSBPYmplY3Qua2V5cyhvYmopLFxyXG4gICAgICAgICAgICBpID0gb3duUHJvcHMubGVuZ3RoLFxyXG4gICAgICAgICAgICByZXNBcnJheSA9IG5ldyBBcnJheShpKTsgLy8gcHJlYWxsb2NhdGUgdGhlIEFycmF5XHJcbiAgICAgICAgd2hpbGUgKGktLSlcclxuICAgICAgICAgICAgcmVzQXJyYXlbaV0gPSBbb3duUHJvcHNbaV0sIG9ialtvd25Qcm9wc1tpXV1dO1xyXG4gICAgICAgIHJldHVybiByZXNBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0aGF0IG1pbWljcyBqcXVlcnkgYWRkRXZlbnRMaXN0ZW5lciBvbiBsaXN0IG9mIGVsZW1lbnRzIHVzaW5nIGRvY3VtZW50IHF1ZXJpZXMuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnlUeXBlXHJcbiAgICAgKiBAcGFyYW0gcXVhbGlmaWVyXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEBwYXJhbSBmdW5jXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRFdmVudExpc3RlbmVyKHF1ZXJ5VHlwZTogc3RyaW5nLCBxdWFsaWZpZXI6IHN0cmluZywgZXZlbnQ6IHN0cmluZywgZnVuYzogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgbm9kZXM6IE5vZGVMaXN0ID0gZG9jdW1lbnRbcXVlcnlUeXBlXShxdWFsaWZpZXIpO1xyXG4gICAgICAgIG5vZGVzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhldmVudCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdmFsdWUgb2YgYXR0cmlidXRlIG9uIGZpcnN0IGVsZW1lbnQgKGdldHMgYWxsIHBhcmV0bnMgYnkgcmVjdXJzaW9uKSB3aXRoIGN1cnJlbnQgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIGRvbSAtIGRvbSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIG5hbWUgb2YgYXR0cmlidXRlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyA9IGZ1bmN0aW9uIChkb20sIG5hbWUpIHtcclxuICAgICAgICBpZiAoZG9tLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZG9tLmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKGRvbS5wYXJlbnRFbGVtZW50LCBuYW1lKTtcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiByZXR1cm5zIGZpcnN0IGVsZW1lbnQgKGdldHMgYWxsIHBhcmV0bnMgYnkgcmVjdXJzaW9uKSB3aXRoIGN1cnJlbnQgYXR0cmlidXRlLiBJZiBcInZhbHVlXCIgaXMgbm90IGVtcHR5IC0gcmV0dXJucyBmaXJzdCBlbGVtZW50LCB3aGljaCBoYXMgYXR0cmJpYnV0ZSBcIm5hbWVcIiB3aXRoIHZhbHVlIFwidmFsdWVcIlxyXG4gICAgKiBAcGFyYW0gZG9tIC0gZG9tIGVsZW1lbnRcclxuICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIGF0dHJpYnV0ZVxyXG4gICAgKiBAcGFyYW0gdmFsdWUgLSBvcHRpb25hbCwgdmFsdWUgb2YgYXR0cmlidXRlXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGZpbmRQYXJlbnRCeVZhbHVlT2ZBdHRyYmlidXRlID0gZnVuY3Rpb24gKGRvbSwgbmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoZG9tLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICAgICAgICAvLyBzcGxpdHMgYnkgc3BhY2UgYmVjYXVzZSBhdHRyYml1dGUgY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSB2YWx1ZSwgc3BhY2UgaXMgc2VwYXJhdG9yXHJcbiAgICAgICAgICAgIGlmIChkb20uZ2V0QXR0cmlidXRlKG5hbWUpLnNwbGl0KFwiIFwiKS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoZG9tLnBhcmVudEVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9tLnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoZG9tLnBhcmVudEVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIHBhc2VkIGluIGRvbSBlbGVtZW50IGFuZCBnb2VzIHVwIHRoZSBkb20gdHJlZSB1bnRpbCB3ZSBoaXQgYSB0YWcgdHlwZS5cclxuICAgICAqIEBwYXJhbSBlbCBDaGlsZCBlbGVtZW50IHRvIHN0YXJ0IHdpdGguXHJcbiAgICAgKiBAcGFyYW0gdGFnTmFtZSBUeXBlIG9mIHBhcmVudCBET00gVGFnIHdlIGFyZSBsb29raW5nIGZvci5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFBhcmVudERvbUJ5VGFnTmFtZSA9IGZ1bmN0aW9uIChlbCwgdGFnTmFtZSk6IGFueSB7XHJcbiAgICAgICAgbGV0IGZuTmFtZSA9IFwiZ2V0UGFyZW50RG9tQnlUYWdOYW1lXCI7XHJcbiAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZWxcIiwgZWwsIFwidGFnTmFtZVwiLCB0YWdOYW1lKTtcclxuICAgICAgICBsZXQgdGFnVHlwZSA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZWxcIiwgZWwsIFwidGFnTmFtZVwiLCB0YWdOYW1lLCBcInRhZ1R5cGVcIiwgdGFnVHlwZSk7XHJcbiAgICAgICAgaWYgKHRhZ1R5cGUgIT09IHRhZ05hbWUgJiYgZWwucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk5vdCA8XCIgKyB0YWdOYW1lICsgXCI+IGFuZCBoYXMgcGFyZW50RWxlbWVudC4uLmNoZWNrIHBhcmVudFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50RG9tQnlUYWdOYW1lKGVsLnBhcmVudEVsZW1lbnQsIHRhZ05hbWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFnVHlwZSA9PT0gdGFnTmFtZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIklzIDxcIiArIHRhZ05hbWUgKyBcIj4gdGFnXCIsIFwicmV0dXJuaW5nLi5cIiwgZWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJObyBQYXJlbnQgPFwiICsgdGFnTmFtZSArIFwiPiB0YWcuLi5yZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaXMgdGFyZ2V0IG9mIGNsaWNrIE5ld3NsZXR0ZXIgc2lnbnVwIGJ1dHRvbi5cclxuICAgICAqIEBwYXJhbSBjbGlja1RhcmdldCAgdGFyZ2V0IHByb3Agb2YgY2xpY2sgZXZlbnQgYXJndW1lbnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNoZWNrRm9yTmV3c2xldHRlclNpZ25VcENsaWNrID0gZnVuY3Rpb24gKGNsaWNrVGFyZ2V0KTogYW55IHtcclxuICAgICAgICAvLyBuZXdzbGV0dGVyIHNpZ2h0dXAgYnV0dG9uIHNob3VsZCBoYXZlIGNsYXNzIHN1Ym1pdFxyXG4gICAgICAgIGlmICghY2xpY2tUYXJnZXQuaGFzQXR0cmlidXRlKFwiY2xhc3NcIikgfHwgIShjbGlja1RhcmdldC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5pbmRleE9mKFwic3VibWl0XCIpID4gMCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyByb290IERJViBlbGVtIG9mIHRlbXBsYXRlXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlRWxlbSA9IHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoY2xpY2tUYXJnZXQsIFwiY2xhc3NcIiwgXCJNZzItY29ubmV4dFwiKTtcclxuICAgICAgICBpZiAodGVtcGxhdGVFbGVtICYmIHRlbXBsYXRlRWxlbS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudENoaWxkcmVuID0gdGVtcGxhdGVFbGVtLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gZXZlcnkgdGVtcGxhdGUgY29udGFpbnMgb24gcm9vdCBsZXZlbCBlbGVtbnQgd2l0aCB0eXBlIGF0dHJpYnV0ZSAodmFsdWUgLSB0eXBlIG9mIEFjdGlvbilcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Q2hpbGRyZW5baV0uaGFzQXR0cmlidXRlKFwiZGF0YS10bXBsLWFjdGlvbi1uYW1lXCIpICYmIGVsZW1lbnRDaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRtcGwtYWN0aW9uLW5hbWVcIikgPT09IFwiTmV3c2xldHRlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIGEgc3RyaW5nIGFuZCByZW1vdmVzIEh0bWwgVGFncy5cclxuICAgICAqIEBwYXJhbSBodG1sU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBTdHJpcEh0bWxUYWdzKGh0bWxTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGh0bWxTdHJpbmcucmVwbGFjZSgvPFxcLz9bXj5dKyg+fCQpL2csIFwiXCIpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBhcnNlSnNvbihqc29uOiBzdHJpbmcpOiBQYXJzZWRKc29uTW9kZWwge1xyXG4gICAgICAgIGxldCByZXRPYmogPSA8UGFyc2VkSnNvbk1vZGVsPnsgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoanNvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcImpzb24gSVMgTk9UIE5VTExcIik7XHJcbiAgICAgICAgICAgICAgICByZXRPYmouZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICAgICAgICAgICAgICByZXRPYmouc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldE9iajtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJOb3QgYSB2YWxpZCBKU09OIG9iamVjdC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXRPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzdHJpbmdUb0Jvb2wodmFsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodmFsLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXhjZXB0aW9uKFwic3RyaW5nVG9Cb29sXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdG9UaXRsZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghc3RyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLm1hcChmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKTtcclxuICAgICAgICB9KS5qb2luKFwiIFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlR1VJRCgpIHtcclxuICAgICAgICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIGxldCByID0gcGFyc2VGbG9hdChcIjAuXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkucmVwbGFjZShcIjAuXCIsIFwiXCIpICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpICogMTYgfCAwLFxyXG4gICAgICAgICAgICAgICAgdiA9IGMgPT09IFwieFwiID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDb25uZXh0VmVyc2lvbigpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiAod2luZG93W1wiY29ubmV4dFZlcnNpb25cIl0pID8gd2luZG93W1wiY29ubmV4dFZlcnNpb25cIl0gOiBcIlVua25vd25cIjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNHb29nbGVBbmFseXRpY3NBdmFpbCgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAod2luZG93W1wiZ2FcIl0gJiYgd2luZG93W1wiZ2FcIl1bXCJjcmVhdGVcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0dvb2dsZSBBbmFseXRpY3MgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0dvb2dsZSBBbmFseXRpY3MgTk9UIExPQURFRCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBJc0dUTUF2YWlsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJnb29nbGVfdGFnX21hbmFnZXJcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0dUTSBpcyBsb2FkZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIud2FybignR1RNIE5PVCBMT0FERUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNBcHBJbnNpZ2h0c0F2YWlsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJhcHBJbnNpZ2h0c1wiXSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZygnQXBwSW5zaWdodHMgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0FwcEluc2lnaHRzIE5PVCBMT0FERUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNDb25uZXh0QXZhaWwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHdpbmRvd1tcIkNvbm5leHRcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0Nvbm5leHQgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0Nvbm5leHQgTk9UIExPQURFRCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gdGhlc2UgdmFsdWVzIGFyZSBpbnNlcnRlZCBieSBDSSBUb2tlbml6ZXJcclxuICAgICAgICByZXR1cm4gKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0VmVyc2lvbkJ1aWxkSW5mbygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHRoZXNlIHZhbHVlcyBhcmUgaW5zZXJ0ZWQgYnkgQ0kgVG9rZW5pemVyXHJcbiAgICAgICAgcmV0dXJuIChcIiN7X19CdWlsZC5CdWlsZE51bWJlcl9ffSNcIiB8fCBcImxvY2FsXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1bmxvYWRcIjtcclxuXHJcbiAgICAgICAgaWYgKFwib25wYWdlaGlkZVwiIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwicGFnZWhpZGVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEV2ZW50TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0VXNlclBvc2l0aW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgR2VvbG9jYXRpb25cclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzRW1wdHkob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc3NldCh2YWx1ZTogYW55KSB7XHJcbiAgICAgICByZXR1cm4gISh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIgfHwgdmFsdWUgPT0gbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9iamVjdFRvQmlnUXVlcnlTdHJpbmcob2JqKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgc3RyID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZihvYmopID09PSBcIm9iamVjdFwiICYmIChvYmouam9pbiA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBVdGlscy5pc3NldChvYmpbcHJvcF0pID8gb2JqW3Byb3BdLnRvU3RyaW5nKCkgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3RyLnB1c2gocHJvcCArIFwiPVwiICsgdmFsdWUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RyLmpvaW4oXCI7XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRMb2FkZXJWZXJzaW9uSW5mbygpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICgoPGFueT53aW5kb3cpLk1HMkxvYWRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KS5NRzJMb2FkZXIuR2V0VmVyc2lvbkluZm8oKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTUcyTG9hZGVyIGlzIG5vdCBkZWZpbmVkXCJcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRGaW5nZXJwcmludFZlcnNpb25JbmZvKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCg8YW55PndpbmRvdykuRmluZ2VycHJpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8YW55PndpbmRvdykuRmluZ2VycHJpbnQuR2V0VmVyc2lvbkluZm8oKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRmluZ2VycHJpbnQgaXMgbm90IGRlZmluZWRcIlxyXG4gICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERlbW9Nb2RlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICgoPGFueT53aW5kb3cpLlJlY29tbWVuZGF0aW9uRGVtbykge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KS5SZWNvbW1lbmRhdGlvbkRlbW8uZ2V0QWN0aXZlUmVnZW5lcmF0aW9uKCkgPT09IFwiZmFsc2VcIjsgICAgLy8gaW52ZXJzZSB2YWx1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFJhbmRvbUludGVnZXJJblJhbmdlKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEN1c3RvbUV2ZW50TGlzdGVuZXIgKFxyXG4gICAgICAgIGVsZW1lbnQ6IERvY3VtZW50IHwgV2luZG93IHwgRWxlbWVudCxcclxuICAgICAgICBldmVudE5hbWU6IHN0cmluZyxcclxuICAgICAgICBjYWxsYmFjazogRnVuY3Rpb24sXHJcbiAgICAgICAgb3B0aW9uczogYm9vbGVhbiB8IEV2ZW50TGlzdGVuZXJPcHRpb25zID0gZmFsc2VcclxuICAgICk6IEZ1bmN0aW9uIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGZ1bmN0aW9uIChlOiBFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZS50eXBlICE9PSBldmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaWUvZWRnZSBidWdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGdldFVybFBhcmFtVmFsdWUocGFyYW1OYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nID0gd2luZG93LmxvY2F0aW9uLmhyZWYpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBuZXcgVVJMKHVybCkuc2VhcmNoUGFyYW1zLmdldChwYXJhbU5hbWUpIHx8IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEVuY3J5cHRlZEVtYWlsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1OYW1lID0gXCJnMmlfZXVpXCI7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldFVybFBhcmFtVmFsdWUocGFyYW1OYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UmVjb21tZW5kYXRpb25JZCh1cmw/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtTmFtZSA9IFwiZzJpX3JjbVwiO1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRVcmxQYXJhbVZhbHVlKHBhcmFtTmFtZSwgdXJsKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZmxhdE9iamVjdChzcmM6IGFueSwgZGVsaW1pdGVyOiBzdHJpbmcgPSBcIlwiKTogT2JqZWN0IHtcclxuICAgICAgICBjb25zdCBmbGF0T2JqZWN0ID0ge307XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkaWcoc3JjOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKHNyYyAhPT0gT2JqZWN0KHNyYykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdE9iamVjdFtwYXRoLmpvaW4oZGVsaW1pdGVyKV0gPSBzcmM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc3JjKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgIGRpZyhzcmNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaWcoc3JjKTtcclxuICAgICAgICByZXR1cm4gZmxhdE9iamVjdDtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvVXRpbHMudHMiLCJleHBvcnQgeyBMb2dMZXZlbCwgTG9nTGV2ZWxzLCBMT0dfTEVWRUxfU1RZTEUsIExPR19MRVZFTF9TVFlMRTIgfSBmcm9tIFwiLi9Mb2dnZXJPcHRpb25zXCI7XHJcbmV4cG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlclwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlLnRzIiwiaW1wb3J0IHsgT3B0aW9uc01vZGVsIH0gZnJvbSBcIi4vb3B0aW9ucy9tb2RlbHMvT3B0aW9uc01vZGVsXCI7XHJcbmltcG9ydCB7IENvbW1vbkNvbmZpZ0RhdGEgfSBmcm9tIFwiQENvbmZpZy9Db21tb25Db25maWdEYXRhXCI7XHJcbmltcG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9NZXRhRGF0YVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlnTW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBjb25maWd1cmF0aW9uOiBPcHRpb25zTW9kZWw7XHJcbiAgICBwcml2YXRlIG1ldGFEYXRhU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBpbml0Q2xpZW50RGltZW5zaW9uczogT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBpbml0T3B0aW9uczogT2JqZWN0O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubWV0YURhdGFTZXJ2aWNlID0gTWV0YURhdGFTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRJbml0T3B0aW9ucyhvcHRpb25zOiBhbnkpIHtcclxuICAgICAgICB0aGlzLmluaXRPcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICBsZXQgY2xpZW50SW5pdE9wdGlvbnM6IE9wdGlvbnNNb2RlbCA9IG5ldyBPcHRpb25zTW9kZWwodGhpcy5pbml0T3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5pbml0Q2xpZW50RGltZW5zaW9ucyA9IGNsaWVudEluaXRPcHRpb25zLmRpbWVuc2lvbnM7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tSW5pdE9wdGlvbnM6IE9wdGlvbnNNb2RlbCA9IHRoaXMuZmluZENvbmZpZ3VyYXRpb24oY2xpZW50SW5pdE9wdGlvbnMubGF5b3V0Q29kZSk7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY2xpZW50SW5pdE9wdGlvbnMuZXh0ZW5kTW9kZWwoY3VzdG9tSW5pdE9wdGlvbnMpO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkcySUFmdGVyU2V0SW5pdE9wdGlvbnMsIHsgZGV0YWlsOiB7fSB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEluaXRDb25maWd1cmF0aW9uKCk6IE9wdGlvbnNNb2RlbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW5pdE9wdGlvbnMoKTogT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbml0T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW5pdERpbWVuc2lvbnMoKTogYW55IHtcclxuICAgICAgICBpZiAodGhpcy5pbml0Q2xpZW50RGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFdmFsRGltZW5zaW9uc0Zyb20odGhpcy5pbml0Q2xpZW50RGltZW5zaW9ucyk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZmluZENvbmZpZ3VyYXRpb24obGF5b3V0Q29kZTogc3RyaW5nKTogYW55IHtcclxuICAgICAgICBpZiAod2luZG93LmcyRXh0ZW5kSW5pdHMgJiYgd2luZG93LmcyRXh0ZW5kSW5pdHNbXCJkZWZhdWx0XCJdKSB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZzJFeHRlbmRJbml0c1tcImRlZmF1bHRcIl0gJiYgd2luZG93LmcyRXh0ZW5kSW5pdHNbbGF5b3V0Q29kZV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHdpbmRvdy5nMkV4dGVuZEluaXRzW1wiZGVmYXVsdFwiXSwgd2luZG93LmcyRXh0ZW5kSW5pdHNbbGF5b3V0Q29kZV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5nMkV4dGVuZEluaXRzW1wiZGVmYXVsdFwiXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpc0FkZEJvdEluZm9ybWF0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24gPyB0aGlzLmNvbmZpZ3VyYXRpb24uZGV0ZWN0Qm90IDogdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDZHBBcGlVcmwoKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbW1vbkNvbmZpZ0RhdGEuYXBpVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENkcEV2ZW50c1VybCgpIHtcclxuICAgICAgICByZXR1cm4gQ29tbW9uQ29uZmlnRGF0YS5ldmVudHNVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Qm90TW9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uLmRldGVjdEJvdCA/IHRoaXMuY29uZmlndXJhdGlvbi5kZXRlY3RCb3QgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1c3RvbURpbWVuc2lvbnMoKTogYW55IHtcclxuICAgICAgICBsZXQgY3VzdG9tQ2xpZW50Q29uZmlndXJhdGlvbiA9IHRoaXMuZmluZENvbmZpZ3VyYXRpb24odGhpcy5jb25maWd1cmF0aW9uLmxheW91dENvZGUpO1xyXG4gICAgICAgIGlmIChjdXN0b21DbGllbnRDb25maWd1cmF0aW9uICYmIGN1c3RvbUNsaWVudENvbmZpZ3VyYXRpb24uZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFdmFsRGltZW5zaW9uc0Zyb20oY3VzdG9tQ2xpZW50Q29uZmlndXJhdGlvbi5kaW1lbnNpb25zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RXZhbERpbWVuc2lvbnNGcm9tKGRpbWVuc2lvbnM6IE9iamVjdCk6IGFueSB7XHJcbiAgICAgICAgbGV0IGNsaWVudE1vZGVsID0ge307XHJcblxyXG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIGRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgY2xpZW50TW9kZWxbcHJvcGVydHldID0gdGhpcy5nZXRWYWx1ZUJ5UHJvcGVydHlOYW1lKGRpbWVuc2lvbnMsIHByb3BlcnR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjbGllbnRNb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TGF5b3V0Q29kZShsYXlvdXRDb2RlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24uc2V0TGF5b3V0Q29kZShsYXlvdXRDb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2xpZW50Q29uZmlndXJhdGlvbigpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZpbmRDb25maWd1cmF0aW9uKHRoaXMuY29uZmlndXJhdGlvbi5sYXlvdXRDb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFZhbHVlQnlQcm9wZXJ0eU5hbWUoZGltZW5zaW9uczogYW55LCBwcm9wZXJ0eTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGltZW5zaW9ucyAmJiBkaW1lbnNpb25zW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNkaW0gPSBkaW1lbnNpb25zW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2RpbSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNkaW0uY2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZGltID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWV2YWxcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc0Z1bmN0aW9uID0gZXZhbChcIihcIiArIGNkaW0gKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNGdW5jdGlvbi5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRTaXRlRW52aXJvbm1lbnQoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBlbnZpcm9ubWVudCA9ICh0aGlzLmNvbmZpZ3VyYXRpb24gJiYgdGhpcy5jb25maWd1cmF0aW9uLmVudmlyb25tZW50KSA/IHRoaXMuY29uZmlndXJhdGlvbi5lbnZpcm9ubWVudCA6IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHJldHVybiBlbnZpcm9ubWVudC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNpdGVDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc2l0ZUNvZGUgPSAodGhpcy5jb25maWd1cmF0aW9uICYmIHRoaXMuY29uZmlndXJhdGlvbi5zaXRlQ29kZSkgPyB0aGlzLmNvbmZpZ3VyYXRpb24uc2l0ZUNvZGUgOiBcIlVua25vd25cIjtcclxuICAgICAgICByZXR1cm4gc2l0ZUNvZGUudG9VcHBlckNhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDbGllbnRDb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgY2xpZW50Q29kZSA9ICAodGhpcy5jb25maWd1cmF0aW9uICYmIHRoaXMuY29uZmlndXJhdGlvbi5jbGllbnRDb2RlKSA/IHRoaXMuY29uZmlndXJhdGlvbi5jbGllbnRDb2RlIDogXCJVbmtub3duXCI7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudENvZGUudG9VcHBlckNhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDbGllbnRDb2RlRW5jb2RlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmdldENsaWVudENvZGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2l0ZUNvZGVFbmNvZGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0U2l0ZUNvZGUoKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29uZmlnTW9kdWxlID0gbmV3IENvbmZpZ01vZHVsZUNsYXNzKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlLnRzIiwiZXhwb3J0IHR5cGUgQ29sbGVjdG9yVHlwZSA9IFwiQ09OTkVYVFwiIHwgXCJTUFwiIHwgXCJGTElUVFpcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25zdGFudHMge1xyXG4gICAgc3RhdGljIHByZWZhY2UgPSBcIkcySV9cIjtcclxuXHJcbiAgICBzdGF0aWMgY29va2llcyA9IHtcclxuICAgICAgICBMb2dMZXZlbDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImxvZ0xldmVsXCIsXHJcbiAgICAgICAgTG9nRW5hYmxlZDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImxvZ0VuYWJsZWRcIixcclxuICAgICAgICBGaW5nZXJQcmludDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImZpbmdlclByaW50SWRcIixcclxuICAgICAgICBCcm93c2VyU2Vzc2lvbklkOiBDb25zdGFudHMucHJlZmFjZSArIFwiYnJvd3NlclNlc3Npb25JZFwiXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIE5vRXJJbmZvcm1hdGlvbiA9IC0xO1xyXG4gICAgc3RhdGljIEV2ZW50c1NvdXJjZXMgPSB7XHJcbiAgICAgICAgXCJHMkluc2lnaHRzXCI6IFwiZzJpXCIsXHJcbiAgICAgICAgXCJDb25uZXh0XCI6IFwibnh0XCIsXHJcbiAgICAgICAgXCJQYW5lbFwiOiBcInBubFwiLFxyXG4gICAgICAgIFwiV2lkZ2V0XCI6IFwid2lkXCJcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9jb25zdGFudHMvQ29uc3RhbnRzLnRzIiwiZXhwb3J0IHsgTWV0YURhdGFTZXJ2aWNlIH0gZnJvbSBcIi4vTWV0YURhdGFTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IEF6dXJlU2VydmljZSB9IGZyb20gXCIuL0F6dXJlU2VydmljZVwiO1xyXG5leHBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuL1VzZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElVc2VyU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSVVzZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuZXhwb3J0IHsgSVRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuZXhwb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vRXZlbnRTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIi4vU2Vzc2lvblNlcnZpY2VcIjtcclxuZXhwb3J0IHsgSUV2ZW50U2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUV2ZW50U2VydmljZVwiO1xyXG5leHBvcnQgeyBBcHBJbnNpZ2h0c1NlcnZpY2UgfSBmcm9tIFwiLi9BcHBJbnNpZ2h0c1NlcnZpY2VcIjtcclxuZXhwb3J0IHsgSUFwcEluc2lnaHRzU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUFwcEluc2lnaHRzU2VydmljZVwiO1xyXG5leHBvcnQgeyBJRmFpbGVkRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JRmFpbGVkRXZlbnRTZXJ2aWNlXCI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0luZGV4LnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuLy4uLy4uL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vY29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFNlc3Npb25TdG9yYWdlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL3Nlc3Npb24vU2Vzc2lvblN0b3JhZ2VcIjtcclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIEV2ZW50U2VydmljZSBpcyB0aGUgbWFpbiBjbGFzcyBmb3IgYWxsIGRhdGEgdGhhdCBpcyBzZW50LlxyXG4gKiBJdCB3aWxsIHN0b3JlIGNvbW1vbiBkYXRhIGFuZCBoYW5kbGUgZm9yd2FyZGluZyBhbGwgZXZlbnRzIHRvIGFsbCBvdGhlciBhcHByb3ByaWF0ZSBzZXJ2aWNlcyAoR0EsIENEUCwgQXp1cmUpXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU2Vzc2lvblNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiU2Vzc2lvblNlcnZpY2VcIiwgXCIjZGZhODcwXCIpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBzZXNzaW9uU3RvcmFnZTogU2Vzc2lvblN0b3JhZ2U7XHJcbiAgICBwcml2YXRlIGRldmljZUJyb3dzZXJTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIC8vIHB1YmxpYyBEZXZpY2VTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIHB1YmxpYyBQYWdlU2Vzc2lvbklkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHNhdmVkQ2RwTW9kZWw6IENkcEV2ZW50TW9kZWwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBzdGFydFBhZ2VTZXNzaW9uO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkV2ZW50U2VydmljZS5HZXRJbnN0YW5jZS4gTk8gSU5TVEFOQ0UsIENSRUFUSU5HXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFNlc3Npb25TZXJ2aWNlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFdmVudFNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDVE9SXCIpO1xyXG4gICAgICAgIHRoaXMuUGFnZVNlc3Npb25JZCA9IFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TdG9yYWdlID0gbmV3IFNlc3Npb25TdG9yYWdlKCk7XHJcbiAgICAgICAgbGV0IHN0b3JlZEJyb3dzZXJTZXNzaW9uSWQgPSB0aGlzLnNlc3Npb25TdG9yYWdlLmdldChDb25zdGFudHMuY29va2llcy5Ccm93c2VyU2Vzc2lvbklkKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNUT1JcIiwgXCJzdG9yZWRCcm93c2VyU2Vzc2lvbklkXCIsIHN0b3JlZEJyb3dzZXJTZXNzaW9uSWQpO1xyXG4gICAgICAgIGlmICghc3RvcmVkQnJvd3NlclNlc3Npb25JZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZUJyb3dzZXJTZXNzaW9uSWQgPSBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiLCBcIk5PIHN0b3JlZEJyb3dzZXJTZXNzaW9uSWQuLi4gTmV3IGRldmljZUJyb3dzZXJTZXNzaW9uSWRcIiwgdGhpcy5kZXZpY2VCcm93c2VyU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uU3RvcmFnZS5zZXQoQ29uc3RhbnRzLmNvb2tpZXMuQnJvd3NlclNlc3Npb25JZCwgdGhpcy5kZXZpY2VCcm93c2VyU2Vzc2lvbklkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRldmljZUJyb3dzZXJTZXNzaW9uSWQgPSBzdG9yZWRCcm93c2VyU2Vzc2lvbklkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0YXJ0UGFnZVNlc3Npb24gPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdGFydFBhZ2VTZXNzaW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0UGFnZVNlc3Npb247XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3RhcnRQYWdlU2Vzc2lvbihzdGFydFBhZ2VTZXNzaW9uKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFBhZ2VTZXNzaW9uID0gc3RhcnRQYWdlU2Vzc2lvbjtcclxuICAgIH1cclxuXHJcbiAgICBzYXZlUmVxdWlyZWREYXRhKGRhdGE6IENkcEV2ZW50TW9kZWwgfCBDZHBFdmVudE1vZGVsW10pIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVkQ2RwTW9kZWwgPSBkYXRhWzBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZWRDZHBNb2RlbCA9IGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlcXVpcmVkRGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zYXZlZENkcE1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSW5pdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZXZpY2VTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kZXZpY2VCcm93c2VyU2Vzc2lvbklkO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZS50cyIsImltcG9ydCB7IEJvdERldGVjdG9yIH0gZnJvbSBcIkBNb2R1bGVzL2JvdERldGVjdGlvbi9Cb3REZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgU2VuZE9wdGlvbnNNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBIdHRwT3B0aW9ucyB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9odHRwL0h0dHBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdWdUcmFja1V0aWwge1xyXG4gICAgLy8gc3RhdGljIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJCdWdUcmFja1V0aWxcIik7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBldmVudHNMb2cgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXZlbnRzRmlyZWQgPSAwO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXZlbnRzU2VuZGVkID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIGlzTmVlZENvbGxlY3QgPSBmYWxzZTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBsb2dQcmVmaXg6IHN0cmluZyA9IFwiRmFpbGVkRXZlbnRMb2dfXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBmYWlsZWRFdmVudHNMb2c6IHN0cmluZztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBndWlkTG9nID0gXCJcIjtcclxuICAgIHByaXZhdGUgc3RhdGljIGxvZ0NvdW50ID0gMDtcclxuXHJcbiAgICBzdGF0aWMgYWRkQm90SW5mb0hlYWRlcihvcHRpb25zOiBIdHRwT3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zLCBoZWFkZXI6IHN0cmluZyA9IFwiYm90aW5mb1wiKTogSHR0cE9wdGlvbnMge1xyXG4gICAgICAgIGxldCBib3REZXRlY3RvciA9IG5ldyBCb3REZXRlY3RvcigpO1xyXG4gICAgICAgIGxldCBkZXRlY3RCb3QgPSBib3REZXRlY3Rvci5nZXREZXRlY3RCb3QoKTtcclxuXHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgIGlmIChkZXRlY3RCb3QpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0gPSBKU09OLnN0cmluZ2lmeShkZXRlY3RCb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkSW5pdFNldHRpbmdzSGVhZGVyKG9wdGlvbnM6IEh0dHBPcHRpb25zID0ge30gYXMgSHR0cE9wdGlvbnMsIGhlYWRlcjogc3RyaW5nID0gXCJpbml0c2V0dGluZ3NcIik6IEh0dHBPcHRpb25zIHtcclxuICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XHJcbiAgICAgICAgaWYgKENvbmZpZ01vZHVsZS5nZXRTaXRlQ29kZSgpLnRvTG93ZXJDYXNlKCkgPT09IFwidW5rbm93blwiKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IENvbmZpZ01vZHVsZS5nZXRJbml0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gT2JqZWN0LmtleXMoY29uZmlnLmRpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICAvLyBzZXJ2ZXJzIGhhcyBoZWFkZXJzIHNpemUgbGltaXQgfjhrYlxyXG4gICAgICAgICAgICBvcHRpb25zLmhlYWRlcnNbaGVhZGVyXSA9IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGxvYWRlckluZm86IFV0aWxzLmdldExvYWRlclZlcnNpb25JbmZvKCksXHJcbiAgICAgICAgICAgICAgICBpbml0T3B0aW9uczogSlNPTi5zdHJpbmdpZnkoQ29uZmlnTW9kdWxlLmdldEluaXRPcHRpb25zKCkpLnN1YnN0cmluZygwLCAxMDAwKSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZywgeyBkaW1lbnNpb25zOiBkaW1lbnNpb25zIH0pKS5zdWJzdHJpbmcoMCwgMTAwMClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0YXRpYyBhZGRSZXF1ZXN0SGVhZGVyKHhocjogWE1MSHR0cFJlcXVlc3QsIG1vZGVsOiBDZHBFdmVudE1vZGVsKTogYW55IHtcclxuICAgIC8vICAgICBsZXQgbG9nID0gdGhpcy5nZXRVc2VyUmVxTG9nKCk7XHJcbiAgICAvLyAgICAgbG9nICs9IHRoaXMuZ2V0SHR0cE5vdEpzb24oKTtcclxuICAgIC8vICAgICBsb2cgKz0gdGhpcy5nZXRTdG9yYWdlUHJvbG9uZ2F0aW9uKCk7XHJcbiAgICAvLyAgICAgbG9nICs9IHRoaXMuZ2V0RzJpVW5saW5raW5nKCk7XHJcbiAgICAvLyAgICAgbG9nICs9IHRoaXMuZ2V0UmVzZW5kUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAvLyAgICAgbG9nICs9IHRoaXMuZ2V0UmVnZW5lcmF0aW9uUXVldWUoKTtcclxuICAgIC8vICAgICBsb2cgKz0gdGhpcy5nZXRBcGlEbFN0YXR1cyhmYWxzZSk7XHJcbiAgICAvLyAgICAgLy8gbGV0IGxvZyA9IHRoaXMuZ2V0RXZldG5Mb2coKTtcclxuICAgIC8vICAgICAvLyBsb2cgKz0gdGhpcy5nZXRFdmVudHNDYWxsKCk7XHJcbiAgICAvLyAgICAgLy8gbG9nICs9IHRoaXMuZ2V0R3VpZExvZygpO1xyXG4gICAgLy8gICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiZzJpLXJlcWlkXCIsIGxvZyk7XHJcbiAgICAvLyAgICAgcmV0dXJuIHhocjtcclxuICAgIC8vIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0QmVhY29uUmVxdWVzdFVybFBhcmFtKG1vZGVsOiBDZHBFdmVudE1vZGVsKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gdGhpcy5nZXRVc2VyUmVxTG9nKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0SHR0cE5vdEpzb24oKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRTdG9yYWdlUHJvbG9uZ2F0aW9uKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0RzJpVW5saW5raW5nKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0UmVzZW5kUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0UmVnZW5lcmF0aW9uUXVldWUoKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRBcGlEbFN0YXR1cyhmYWxzZSk7XHJcbiAgICAgICAgLy8gbG9nICs9IHRoaXMuZ2V0RXZldG5Mb2coKTtcclxuICAgICAgICAvLyBsb2cgKz0gdGhpcy5jcmVhdGVFdmVudENhbGwobW9kZWwuSWQpO1xyXG4gICAgICAgIC8vIGxvZyArPSB0aGlzLmdldEd1aWRMb2coKTtcclxuICAgICAgICBsb2cgPSBlbmNvZGVVUklDb21wb25lbnQobG9nLnN1YnN0cmluZygwLCAyMDAwKSk7XHJcbiAgICAgICAgcmV0dXJuIGBnMmktcmVxaWQ9JHtsb2d9YDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkRmV0Y2hFdmVudHNMb2dIZWFkZXIob3B0aW9uczogYW55ID0ge30sIGhlYWRlcjogc3RyaW5nID0gXCJnMmktcmVxaWRcIik6IGFueSB7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgIGxldCBsb2cgPSB0aGlzLmdldFVzZXJSZXFMb2coKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRIdHRwTm90SnNvbigpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldFN0b3JhZ2VQcm9sb25nYXRpb24oKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRHMmlVbmxpbmtpbmcoKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRSZXNlbmRSZWdlbmVyYXRpb24oKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRSZWdlbmVyYXRpb25RdWV1ZSgpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldEFwaURsU3RhdHVzKGZhbHNlKTtcclxuICAgICAgICAvLyBsb2cgKz0gdGhpcy5nZXRFdmV0bkxvZygpO1xyXG4gICAgICAgIC8vIGxvZyArPSB0aGlzLmdldEV2ZW50c0NhbGwoKTtcclxuICAgICAgICAvLyBsb2cgKz0gdGhpcy5nZXRHdWlkTG9nKCk7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0gPSBsb2c7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEZldGNoTG9nSGVhZGVyKGhlYWRlcnM6IEhlYWRlcnMsIGZldGNoVVJMOiBVUkwsIGcyaVJlcUlkSGVhZGVyOiBzdHJpbmcgPSBcImcyaS1yZXFpZFwiKTogYW55IHtcclxuICAgICAgICBpZiAoIWhlYWRlcnMuaGFzKGcyaVJlcUlkSGVhZGVyKSkge1xyXG4gICAgICAgICAgICBjb25zdCBndWlkID0gVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgICAgICAgICBjb25zdCBwc2lkID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2UuUGFnZVNlc3Npb25JZDtcclxuICAgICAgICAgICAgY29uc3QgbG9nID0gYGlkPSR7Z3VpZH0sdGltZT0ke0RhdGUubm93KCl9LHBzaWQ6JHtwc2lkfWA7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKGcyaVJlcUlkSGVhZGVyLCBsb2cpO1xyXG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBgYmVmLWZldDpwYXRoPSR7ZmV0Y2hVUkwucGF0aG5hbWV9K2lkPSR7Z3VpZH1gO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvZ0V2ZW50RmlyZShldmVudE1vZGVsOiBDZHBFdmVudE1vZGVsLCBpc1ZhbGlkOiBib29sZWFuLCBmaXJlZEV2ZW50czogYW55W10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmV2ZW50c0ZpcmVkKys7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNOZWVkQ29sbGVjdCB8fCAhaXNWYWxpZCB8fCBmaXJlZEV2ZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5pc05lZWRDb2xsZWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNMb2cgKz0gYCoqKkZJUkVEKioqaXY6JHtpc1ZhbGlkfSxmZWw6JHtmaXJlZEV2ZW50cy5sZW5ndGh9LGRhdGE6JHt0aGlzLmdldEV2ZW50TW9kZWxEYXRhKFtldmVudE1vZGVsXSl9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGxvZ1NlbmRFdmVudChldmVudE1vZGVsczogQ2RwRXZlbnRNb2RlbFtdLCBvcHRpb25zPzogU2VuZE9wdGlvbnNNb2RlbCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzTG9nICs9IGAqKipSRVA6JHtvcHRpb25zPy5Jc1Jlc2VuZCB8fCBmYWxzZX0sUFNJRDoke1Nlc3Npb25TZXJ2aWNlLkluc3RhbmNlLlBhZ2VTZXNzaW9uSWR9KioqYDtcclxuICAgICAgICB0aGlzLmV2ZW50c1NlbmRlZCsrO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTmVlZENvbGxlY3QgfHwgZXZlbnRNb2RlbHMubGVuZ3RoID4gMSB8fCB0aGlzLmV2ZW50c0ZpcmVkICE9PSB0aGlzLmV2ZW50c1NlbmRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmlzTmVlZENvbGxlY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c0xvZyArPSBgKioqU0VORCoqKmVmL2VzOiR7dGhpcy5ldmVudHNGaXJlZH0vJHt0aGlzLmV2ZW50c1NlbmRlZH0sZGF0YToke3RoaXMuZ2V0RXZlbnRNb2RlbERhdGEoZXZlbnRNb2RlbHMpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2dQcmV2ZW50RHVwbGljYXRlKGV2ZW50SWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzTG9nICs9IGAqKipTVE9QX0RVUEw6JHtldmVudElkfSoqKmA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEV2ZW50TW9kZWxEYXRhKGV2ZW50TW9kZWxzOiBDZHBFdmVudE1vZGVsW10pOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGV2ZW50TW9kZWxzLmZvckVhY2goKG1vZGVsOiBDZHBFdmVudE1vZGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBJZDogbW9kZWwuSWQsXHJcbiAgICAgICAgICAgICAgICBFVDogbW9kZWwuRXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgRElkOiBtb2RlbC5EZXZpY2VJZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RXZldG5Mb2coKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gYCR7dGhpcy5sb2dDb3VudCsrfXwke1V0aWxzLmNyZWF0ZUdVSUQoKX18JHtVdGlscy5jcmVhdGVHVUlEKCl9fCR7bmV3IERhdGUoKS52YWx1ZU9mKCl9YDtcclxuICAgICAgICBpZiAodGhpcy5ldmVudHNMb2cubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGxvZyArPSBgfCR7dGhpcy5ldmVudHNMb2cuc3Vic3RyaW5nKDAsIDEwMDApfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsb2c7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEV2ZW50c0NhbGwoZGF0YTogQ2RwRXZlbnRNb2RlbCwgc3RhdHVzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmxvZ1ByZWZpeCArIGRhdGEuSWQ7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RWYWx1ZTogc3RyaW5nICA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChleGlzdFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBgJHtleGlzdFZhbHVlfSAke3N0YXR1c31gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgc3RhdHVzKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRFdmVudHNDYWxsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFpbGVkRXZlbnRzTG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVFdmVudHNDYWxsKCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBsb2cgPSBcIlwiO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ga2V5LnN0YXJ0c1dpdGgodGhpcy5sb2dQcmVmaXgpKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWU6IHN0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJSRVNPTFZFX1NVQ0NFU1NcIikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZyArPSBga2V5OiR7a2V5fSx2YWx1ZToke3ZhbHVlfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGxvZykge1xyXG4gICAgICAgICAgICBsb2cgPSBcInwqKipGQUlMRURfRVZFTlRTKioqXCIgKyBsb2cuc3Vic3RyaW5nKDAsIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsZWFuRXZlbnRzQ2FsbCgpO1xyXG4gICAgICAgIHRoaXMuZmFpbGVkRXZlbnRzTG9nID0gbG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGVFdmVudENhbGwoZXZlbnRJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gXCIqKipCRUFDT04qKipcIjtcclxuICAgICAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGtleS5zdGFydHNXaXRoKHRoaXMubG9nUHJlZml4KSAmJiBrZXkuaW5kZXhPZihldmVudElkKSAhPT0gLTEpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBsb2cgKz0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSArIFwifFwiO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGxvZztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xlYW5FdmVudHNDYWxsKCk6IHZvaWQge1xyXG4gICAgICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ga2V5LnN0YXJ0c1dpdGgodGhpcy5sb2dQcmVmaXgpKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEV4aXN0aW5nR3VpZExvZyhleGlzdGluZ0d1aWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ3VpZExvZyArPSBgJHtleGlzdGluZ0d1aWR9fGA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEd1aWRMb2coKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgbG9nID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5ndWlkTG9nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsb2cgKz0gYCoqKkdVSURfTE9HKioqfCR7dGhpcy5ndWlkTG9nLnN1YnN0cigtMTgwKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRSZXBlYXREZWxheShkZWxheTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ndWlkTG9nICs9IGAqREVMQVk6JHtkZWxheX0qYDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyB1c2VyUmVxUmVhc29ucyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyB1c2VyUmVxRXJFeHBpcmVEYXRlcyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyB1c2VyRXJSZXFpZHMgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdXNlclJlcUFsbG93ZWRTZW5kID0gZmFsc2U7XHJcblxyXG4gICAgc3RhdGljIGFkZFVzZXJSZXFBbGxvd2VkU2VuZCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnVzZXJSZXFBbGxvd2VkU2VuZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZFVzZXJSZXFSZWFzb25zKHJlYXNvbjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlYXNvbjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudXNlclJlcVJlYXNvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy51c2VyUmVxUmVhc29ucyArPSBcIixcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51c2VyUmVxUmVhc29ucyArPSByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZFVzZXJFclJlcWlkKHJlcUlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXJlcUlkKSB7XHJcbiAgICAgICAgICAgIHJlcUlkID0gXCJlbXB0eVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy51c2VyRXJSZXFpZHMpIHtcclxuICAgICAgICAgICAgdGhpcy51c2VyRXJSZXFpZHMgKz0gXCIsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXNlckVyUmVxaWRzICs9IHJlcUlkO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRVc2VyUmVxRXJFeHBpcmVEYXRlKGVyX2V4cGlyZV9kYXRlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gZXJfZXhwaXJlX2RhdGUgPyBlcl9leHBpcmVfZGF0ZSArIFwiXCIgOiBcImVtcHR5XCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZXJSZXFFckV4cGlyZURhdGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclJlcUVyRXhwaXJlRGF0ZXMgKz0gXCIsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXNlclJlcUVyRXhwaXJlRGF0ZXMgKz0gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRVc2VyUmVxTG9nKGNsZWFyID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy51c2VyUmVxQWxsb3dlZFNlbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZXJSZXFSZWFzb25zKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGBVU0VSX1JFUTpycy0ke3RoaXMudXNlclJlcVJlYXNvbnN9KmR0LSR7dGhpcy51c2VyUmVxRXJFeHBpcmVEYXRlc30qaWQtJHt0aGlzLnVzZXJFclJlcWlkc318YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJSZXFSZWFzb25zID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy51c2VyUmVxRXJFeHBpcmVEYXRlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMudXNlckVyUmVxaWRzID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy51c2VyUmVxQWxsb3dlZFNlbmQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaHR0cFJlc3BOb3RKc29uID0gXCJcIjtcclxuXHJcbiAgICBzdGF0aWMgYWRkSHR0cE5vdEpzb24odGV4dDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5odHRwUmVzcE5vdEpzb24gPSB0ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRIdHRwTm90SnNvbihjbGVhciA9IHRydWUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5odHRwUmVzcE5vdEpzb24pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYEhUVFBfTk9UX0pTT046JHt0aGlzLmh0dHBSZXNwTm90SnNvbi5zdWJzdHJpbmcoMCwgMTgwKX18YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLmh0dHBSZXNwTm90SnNvbiA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHN0b3JhZ2VQcm9sb25nYXRpb24gPSBcIlwiO1xyXG5cclxuICAgIHN0YXRpYyBhZGRTdG9yYWdlUHJvbG9uZ2F0aW9uKGN1cnJlbnRUaW1lc3RhbXA6IG51bWJlciwgdXBkYXRlZFRpbWVzdGFtcDogbnVtYmVyLCByZWdlbmVyYXRlSnNvbjogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlUHJvbG9uZ2F0aW9uID0gYG9sZF90aW1lLSR7Y3VycmVudFRpbWVzdGFtcH0qbmV3X3RpbWUtJHt1cGRhdGVkVGltZXN0YW1wfSpqc29uLSR7SlNPTi5zdHJpbmdpZnkocmVnZW5lcmF0ZUpzb24pfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFN0b3JhZ2VQcm9sb25nYXRpb24oY2xlYXIgPSB0cnVlKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZVByb2xvbmdhdGlvbikge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBgU1RPUkVfUFJPTE9ORzoke3RoaXMuc3RvcmFnZVByb2xvbmdhdGlvbn18YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JhZ2VQcm9sb25nYXRpb24gPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnMmlVbmxpbmtpbmcgPSBcIlwiO1xyXG5cclxuICAgIHN0YXRpYyBhZGRHMmlVbmxpbmtpbmcoY3VycmVudEcyaTogc3RyaW5nLCB1cGRhdGVkRzJpOiBzdHJpbmcsIGRldmljZUlkOiBzdHJpbmcsIGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGxldCBvYmogPSBcIlwiO1xyXG4gICAgICAgIGlmICh1cGRhdGVkRzJpICYmIHVwZGF0ZWRHMmkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgb2JqID0gXCJ2YWxpZFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSAoZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogU3RyaW5nKGRhdGEpKS5zdWJzdHJpbmcoMCwgMjAwKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIG9iaiA9IFwicGFyc2VfZXJyb3JcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmcyaVVubGlua2luZyA9IGBnMmktb2xkLSR7Y3VycmVudEcyaX0qZzJpLW5ldy0ke3VwZGF0ZWRHMml9KmRpZC0ke2RldmljZUlkfSpvYmotJHtvYmp9YDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RzJpVW5saW5raW5nKGNsZWFyID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmcyaVVubGlua2luZykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBgRzJJX1VOTElOSzoke3RoaXMuZzJpVW5saW5raW5nfXxgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNsZWFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZzJpVW5saW5raW5nID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVzZW5kUmVnZW5lcmF0aW9uID0gXCJcIjtcclxuXHJcbiAgICBzdGF0aWMgYWRkUmVzZW5kUmVnZW5lcmF0aW9uU3RhdHVzKHN0YXR1czogYm9vbGVhbiwgcmVnZW5lcmF0aW9uOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2VuZFJlZ2VuZXJhdGlvbiA9IGBzdGF0dXMtJHtzdGF0dXN9KmRhdGEtJHtKU09OLnN0cmluZ2lmeShyZWdlbmVyYXRpb24pfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFJlc2VuZFJlZ2VuZXJhdGlvbihjbGVhciA9IHRydWUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZXNlbmRSZWdlbmVyYXRpb24pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYFJHTlJUX1JFU0VORDoke3RoaXMucmVzZW5kUmVnZW5lcmF0aW9ufXxgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNsZWFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZW5kUmVnZW5lcmF0aW9uID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnZW5lcmF0aW9uUXVldWUgPSBcIlwiO1xyXG5cclxuICAgIHN0YXRpYyBhZGRSZWdlbmVyYXRpb25RdWV1ZShxdWV1ZTogYW55W10pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlZ2VuZXJhdGlvblF1ZXVlID0gYHF1ZXVlLSR7SlNPTi5zdHJpbmdpZnkocXVldWUpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFJlZ2VuZXJhdGlvblF1ZXVlKGNsZWFyID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlZ2VuZXJhdGlvblF1ZXVlKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGBSR05SVF9SRVNFTkQ6JHt0aGlzLnJlZ2VuZXJhdGlvblF1ZXVlfXxgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNsZWFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnZW5lcmF0aW9uUXVldWUgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBlcl9zdGF0dXMgPSBbXTtcclxuICAgIHByaXZhdGUgc3RhdGljIGcyaV9zdGF0dXMgPSBbXTtcclxuICAgIHByaXZhdGUgc3RhdGljIGFwaWRsX3N0YXR1c19oaXN0b3J5ID0gW107XHJcblxyXG4gICAgc3RhdGljIGFkZEVyU3RhdHVzKHN0YXR1czogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXJfc3RhdHVzW3RoaXMuZXJfc3RhdHVzLmxlbmd0aCAtIDFdICE9PSBzdGF0dXMpIHtcclxuICAgICAgICAgICAgdGhpcy5lcl9zdGF0dXMucHVzaChzdGF0dXMpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEFwaURsU3RhdHVzKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRHMmlTdGF0dXMoc3RhdHVzOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5nMmlfc3RhdHVzW3RoaXMuZzJpX3N0YXR1cy5sZW5ndGggLSAxXSAhPT0gc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZzJpX3N0YXR1cy5wdXNoKHN0YXR1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQXBpRGxTdGF0dXMoc3RhdHVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEFwaURsU3RhdHVzKHN0YXR1czogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5hcGlkbF9zdGF0dXNfaGlzdG9yeS5wdXNoKHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEFwaURsU3RhdHVzKGNsZWFyID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmFwaWRsX3N0YXR1c19oaXN0b3J5KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGBBUElETF9TVEFUVVM6JHt0aGlzLmFwaWRsX3N0YXR1c19oaXN0b3J5LmpvaW4oXCIsXCIpfXxgO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNsZWFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXBpZGxfc3RhdHVzX2hpc3RvcnkgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL3V0aWxzL0J1Z1RyYWNrVXRpbC50cyIsImltcG9ydCB7IENkcERhdGFMYXllciB9IGZyb20gXCIuL0NkcERhdGFMYXllclwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgRXJJbnRlcnByZXRhdGlvbiB9IGZyb20gXCIuL0VySW50ZXJwcmV0YXRpb25cIjtcclxuaW1wb3J0IHsgVXNlckludGVyZXN0cyB9IGZyb20gXCIuL1VzZXJJbnRlcmVzdHNcIjtcclxuaW1wb3J0IHsgRGxTdG9yYWdlSW50ZXJmYWNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9EbFN0b3JhZ2VJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IFJlY29tbWVuZGF0aW9ucyB9IGZyb20gXCIuL1JlY29tZW5kYXRpb25zXCI7XHJcbmltcG9ydCB7IEh0dHAgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvaHR0cC9IdHRwXCI7XHJcbmltcG9ydCB7IEFwaURsUmVzcG9uc2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0FwaURsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2RwTW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQ2RwTW9kdWxlXCIpO1xyXG5cclxuICAgIHB1YmxpYyBzZXREbEluZm9ybWF0aW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpLnRoZW4oKGRldmljZUlkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRGV2aWNlSWRcIiwgZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLnNldEluZm9ybWF0aW9uKGRldmljZUlkKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXREbENvbGxlY3RlZEluZm9ybWF0aW9uKGFwaURsRGF0YTogQXBpRGxSZXNwb25zZSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZURldGVjdG9yLmdldERldmljZUlkKCkudGhlbigoZGV2aWNlSWQpID0+IHtcclxuICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkRldmljZUlkXCIsIGRldmljZUlkKTtcclxuICAgICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmhhbmRsZUNkcERsUmVzcG9uY2UoYXBpRGxEYXRhLCBkZXZpY2VJZCk7XHJcbiAgICAgICB9KVxyXG4gICB9XHJcblxyXG4gICAgcHVibGljIGdldERsSW5mb3JtYXRpb24oKTogUHJvbWlzZTxBcGlEbFJlc3BvbnNlPiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZURldGVjdG9yLmdldERldmljZUlkKCkudGhlbigoZGV2aWNlSWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJEZXZpY2VJZFwiLCBkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuZ2V0Q2RwRGwoZGV2aWNlSWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShkZXZpY2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfdXBkYXRlX2xzPSR7ZGV2aWNlSWR9YCk7XHJcbiAgICAgICAgQ2RwRGF0YUxheWVyLnVwZGF0ZURldmljZUlkSW5DZHBEbFN0b3JhZ2UoZGV2aWNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVyQ29kZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuZ2V0RXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFcnBDb2RlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5nZXRFcnAoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDckNvZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldENyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3JwQ29kZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuZ2V0Q3JwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGV2aWNlSWRGcm9tU3RvcmFnZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuZ2V0RGV2aWNlSWRGcm9tU3RvcmFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVySW50ZXJwcmV0YXRpb24oKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gRXJJbnRlcnByZXRhdGlvbi5zZXRJbmZvcm1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbnRlcmVzdHNTdGF0cygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBVc2VySW50ZXJlc3RzLmdldERlYnVnRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFwaVZlcnNpb24oKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBzZW5kVXJsID0gQ29uZmlnTW9kdWxlLmdldENkcEFwaVVybCgpICsgXCJ2ZXJzaW9uXCI7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBIdHRwKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QuZ2V0KHNlbmRVcmwpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVjb21tZW5kYXRpb25zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIFJlY29tbWVuZGF0aW9ucy5nZXRMaXN0QXJ0aWNsZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZWNvbW1lbmRhdGlvbnNTdGF0cygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBSZWNvbW1lbmRhdGlvbnMuZ2V0QXJ0aWNsZXNXaXRoQ2F0ZWdvcmllcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEcyaURldmljZUlkKCkge1xyXG4gICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuZ2V0RzJpRGV2aWNlSWQoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENkcE1vZHVsZSA9IG5ldyBDZHBNb2R1bGVDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlLnRzIiwiaW1wb3J0IHsgTG9nTGV2ZWwsIExvZ0xldmVscyB9IGZyb20gXCIuL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi4vLi4vY29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IENvb2tpZXNTdG9yYWdlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvQ29va2llc1N0b3JhZ2VcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgTG9nZ2VyU2VydmljZVNpbmdsZXRvbiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTG9nZ2VyU2VydmljZVNpbmdsZXRvbjtcclxuICAgIHByaXZhdGUgX2xvZ2dlcnM6IE1hcDxzdHJpbmcsIExvZ2dlcj47XHJcbiAgICBwcml2YXRlIF9sb2dMZXZlbDogTG9nTGV2ZWwgPSBMb2dMZXZlbC5EZWJ1ZztcclxuICAgIHByaXZhdGUgX2xvZ0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlLiBOTyBJTlNUQU5DRSwgQ1JFQVRJTkdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgTG9nZ2VyU2VydmljZVNpbmdsZXRvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlLl9sb2dnZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlTG9nZ2VyKG5hbWU6IHN0cmluZywgc3R5bGU/OiBzdHJpbmcpOiBMb2dnZXIge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjcmVhdGluZyBMb2dnZXInLCBuYW1lKTtcclxuICAgICAgICBpZiAoQ29va2llc1N0b3JhZ2UuZ2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiUlJSUgaGFzIGxvZ2xldmVsIGNvb2tpZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBMb2dMZXZlbHMuRnJvbVN0cmluZyhDb29raWVzU3RvcmFnZS5nZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nTGV2ZWwpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBsb2dFbmFibGVkID0gQ29va2llc1N0b3JhZ2UuZ2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0VuYWJsZWQpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbG9nRW5hYmxlZCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBpZiAobG9nRW5hYmxlZC50b0xvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBsb2dnZXIgPSBuZXcgTG9nZ2VyKG5hbWUsIHRoaXMuX2xvZ0VuYWJsZWQsIHRoaXMuX2xvZ0xldmVsLCBzdHlsZSk7XHJcbiAgICAgICAgdGhpcy5fbG9nZ2Vycy5zZXQobmFtZSwgbG9nZ2VyKTtcclxuICAgICAgICByZXR1cm4gbG9nZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRFbmFibGVkKHZhbDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTE9HR0VSIFNFUlZJQ0Uuc2V0RW5hYmxlZFwiLCB2YWwpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0VuYWJsZWQgPSB2YWw7XHJcbiAgICAgICAgQ29va2llc1N0b3JhZ2Uuc2V0KENvbnN0YW50cy5jb29raWVzLkxvZ0VuYWJsZWQsIHZhbC50b1N0cmluZygpKTtcclxuICAgICAgICB0aGlzLl9sb2dnZXJzLmZvckVhY2goKGxvZ2dlciwga2V5LCBtYXApID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xvZ2dlcicsIGxvZ2dlciwgJ2tleScsIGtleSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci5zZXRFbmFibGVkKHZhbCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldExldmVsKHN0ckxvZ0xldmVsOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxPR0dFUiBTRVJWSUNFLnNldExldmVsXCIsIHN0ckxvZ0xldmVsKTtcclxuICAgICAgICAgICAgLy8gc2VlIGlmIHBhc3NlZCBpbiBzdHJpbmcgaXMgYSB2YWxpZCBMb2dMZXZlbFxyXG4gICAgICAgICAgICBDb29raWVzU3RvcmFnZS5zZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nTGV2ZWwsIHN0ckxvZ0xldmVsKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBMb2dMZXZlbHMuRnJvbVN0cmluZyhzdHJMb2dMZXZlbCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzZXRMZXZlbC4uLkZyb21TdHJpbmcgPSAnLCBzdHJMb2dMZXZlbCwgJyAtLSAgbGV2ZWw9JywgbG9nTGV2ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dnZXJzLmZvckVhY2goKHZhbHVlLCBrZXksIG1hcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuc2V0TG9nTGV2ZWwoTG9nTGV2ZWxzLkZyb21TdHJpbmcoc3RyTG9nTGV2ZWwpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdMT0dHRVIgU0VSVklDRS5zZXRMZXZlbCcsIGxldmVsKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGxldCBMb2dnZXJTZXJ2aWNlID0gTG9nZ2VyU2VydmljZVNpbmdsZXRvbi5JbnN0YW5jZTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlLnRzIiwiXHJcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIi4uLy4uL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBTcEV2ZW50IGV4dGVuZHMgQ2RwRXZlbnQge1xyXG4gICAgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJvdGVjdGVkIGN1cnJlbnRFdmVudE5hbWU7IC8vIGZvciBtdWx0eSBvcmlnaW4gZXZlbnRcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UgPSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiUmVnaXN0ZXJpbmcgU1AgRXZlbnRMaXN0ZW5lclwiLCBcImV2ZW50XCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnROYW1lcyAmJiB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5mb3JFYWNoKChldmVudE5hbWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiTm8gZXZlbnQgTmFtZSBpbiBPYmplY3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiYWRkU1BDb2xsZWN0b3JFdmVudExpc3RlbmVyLkVycm9yXCIsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuRXZlbnQoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJSZWdpc3RlcmluZyBTUCBFdmVudExpc3RlbmVyXCIsIFwiZXZlbnRcIiwgZXZlbnROYW1lKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBrby5wb3N0Ym94LnN1YnNjcmliZShldmVudE5hbWUsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NFdmVudERhdGEoZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJhZGRTUENvbGxlY3RvckV2ZW50TGlzdGVuZXIuRXJyb3JcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9jZXNzRXZlbnREYXRhKGV2ZW50TmFtZTogc3RyaW5nLCBkYXRhOiBhbnkpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkZpcmluZ1wiLCBldmVudE5hbWUsIFwiZGF0YVwiLCBkYXRhKTtcclxuICAgICAgICB0aGlzLmNsZWFyUHJldmlvdXNEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRFdmVudE1vZGVsKCk6IENkcEV2ZW50TW9kZWwge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbCA9IHN1cGVyLmdldEV2ZW50TW9kZWwoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRTb3VyY2UgPSAgQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuUGFuZWw7XHJcbiAgICAgICAgdGhpcy5hZGRQYW5lbFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDZHBFdmVudE1vZGVsKHRoaXMuZXZlbnRNb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUGFuZWxWZXJzaW9uSW5mbygpe1xyXG4gICAgICAgIGNvbnN0IHBhbmVsQ29uZmlnID0gKHdpbmRvdyBhcyBhbnkpLmNvbmZpZztcclxuICAgICAgICBjb25zdCBwYW5lbFZlcnNpb24gPSBwYW5lbENvbmZpZyAmJiBwYW5lbENvbmZpZy5CdWlsZEluZm8gPyBwYW5lbENvbmZpZy5CdWlsZEluZm8uVmVyc2lvbjogJ1Vua25vd24nO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJTb3VyY2VWZXJzaW9uXCIsIFZhbHVlOiBwYW5lbFZlcnNpb24gfSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudC50cyIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBHdG1UYWdFdmVudCB9IGZyb20gXCIuLi8uLi9HdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRHdG1UYWdFdmVudCBleHRlbmRzIEd0bVRhZ0V2ZW50IHtcclxuICAgIHByb3RlY3RlZCBmaWx0ZXJGdW5jdGlvbjogRnVuY3Rpb24gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWUgfTtcclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnROYW1lICkge1xyXG4gICAgICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZENvbnRpbnVlID0gdGhpcy5maWx0ZXJGdW5jdGlvbi5jYWxsKHRoaXMsIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmVlZENvbnRpbnVlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShlLmRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kVGFnVG9BbmFsaXRjcygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBIdHRwLCBIdHRwT3B0aW9ucyB9IGZyb20gXCIuLi8uLi9jb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cFwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZVwiO1xyXG5cclxuY2xhc3MgSHR0cFNlcnZpY2VDbGFzcyB7XHJcbiAgICBwcml2YXRlIGh0dHA6IEh0dHA7XHJcbiAgICBwcml2YXRlIEFQSV9QQVRIOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5odHRwID0gbmV3IEh0dHAoKTtcclxuICAgfVxyXG5cclxuICAgcHVibGljIGdldCh1cmw6IHN0cmluZywgcGF5bG9hZDogYW55PSB7fSwgb3B0aW9uczogSHR0cE9wdGlvbnMgPSB7fSBhcyBIdHRwT3B0aW9ucywgYXBpUGF0aD86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZU1vZHVsZS5nZXREZXZpY2VJZFRvQXBpKCkudGhlbigoZGV2aWNlSWQpID0+IHtcclxuICAgICAgICAgICAgcGF5bG9hZFtcImRldmljZWlkXCJdID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGwoXCJnZXRcIiwgdXJsLCBwYXlsb2FkLCBvcHRpb25zLCBhcGlQYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgcGF5bG9hZDogYW55LCBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zLCBhcGlQYXRoPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKFwicG9zdFwiLCB1cmwsIHBheWxvYWQsIG9wdGlvbnMsIGFwaVBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsbChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBheWxvYWQ/OiBhbnksIG9wdGlvbnM6IEh0dHBPcHRpb25zID0ge30gYXMgSHR0cE9wdGlvbnMsIGFwaVBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHRoaXMuQVBJX1BBVEggPSBhcGlQYXRoIHx8IENvbmZpZ01vZHVsZS5nZXRDZHBBcGlVcmwoKTtcclxuICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwge307XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzW1wiU2l0ZS1Db2RlXCJdID0gQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKCk7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzW1wiQ2xpZW50LUNvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHBbbWV0aG9kXSh0aGlzLkFQSV9QQVRIICsgdXJsLCBwYXlsb2FkLCBvcHRpb25zKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEh0dHBTZXJ2aWNlID0gbmV3IEh0dHBTZXJ2aWNlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvbW9kdWxlcy9IdHRwU2VydmljZS50cyIsInR5cGUgT3BlcmF0aW5nU3lzdGVtID1cclxuICAgIHwgXCJpT1NcIlxyXG4gICAgfCBcIkFuZHJvaWQgT1NcIlxyXG4gICAgfCBcIkJsYWNrQmVycnkgT1NcIlxyXG4gICAgfCBcIldpbmRvd3MgTW9iaWxlXCJcclxuICAgIHwgXCJBbWF6b24gT1NcIlxyXG4gICAgfCBcIldpbmRvd3MgMy4xMVwiXHJcbiAgICB8IFwiV2luZG93cyA5NVwiXHJcbiAgICB8IFwiV2luZG93cyA5OFwiXHJcbiAgICB8IFwiV2luZG93cyAyMDAwXCJcclxuICAgIHwgXCJXaW5kb3dzIFhQXCJcclxuICAgIHwgXCJXaW5kb3dzIFNlcnZlciAyMDAzXCJcclxuICAgIHwgXCJXaW5kb3dzIFZpc3RhXCJcclxuICAgIHwgXCJXaW5kb3dzIDdcIlxyXG4gICAgfCBcIldpbmRvd3MgOFwiXHJcbiAgICB8IFwiV2luZG93cyA4LjFcIlxyXG4gICAgfCBcIldpbmRvd3MgMTBcIlxyXG4gICAgfCBcIldpbmRvd3MgTUVcIlxyXG4gICAgfCBcIk9wZW4gQlNEXCJcclxuICAgIHwgXCJTdW4gT1NcIlxyXG4gICAgfCBcIkxpbnV4XCJcclxuICAgIHwgXCJNYWMgT1NcIlxyXG4gICAgfCBcIlFOWFwiXHJcbiAgICB8IFwiQmVPU1wiXHJcbiAgICB8IFwiT1MvMlwiXHJcbiAgICB8IFwiQ2hyb21lIE9TXCI7XHJcblxyXG50eXBlIEJyb3dzZXIgPVxyXG4gICAgfCBcIkFvbFwiXHJcbiAgICB8IFwiRWRnZVwiXHJcbiAgICB8IFwiWWFuZGV4YnJvd3NlclwiXHJcbiAgICB8IFwiVml2YWxkaVwiXHJcbiAgICB8IFwiS2FrYW90YWxrXCJcclxuICAgIHwgXCJTYW1zdW5nXCJcclxuICAgIHwgXCJTaWxrXCJcclxuICAgIHwgXCJNaXVpXCJcclxuICAgIHwgXCJCZWFrZXJcIlxyXG4gICAgfCBcIkVkZ2UtY2hyb21pdW1cIlxyXG4gICAgfCBcIkNocm9tZVwiXHJcbiAgICB8IFwiQ2hyb21pdW0td2Vidmlld1wiXHJcbiAgICB8IFwiUGhhbnRvbWpzXCJcclxuICAgIHwgXCJDcmlvc1wiXHJcbiAgICB8IFwiRmlyZWZveFwiXHJcbiAgICB8IFwiRnhpb3NcIlxyXG4gICAgfCBcIk9wZXJhLW1pbmlcIlxyXG4gICAgfCBcIk9wZXJhXCJcclxuICAgIHwgXCJJRVwiXHJcbiAgICB8IFwiQmIxMFwiXHJcbiAgICB8IFwiQW5kcm9pZFwiXHJcbiAgICB8IFwiSW9zXCJcclxuICAgIHwgXCJTYWZhcmlcIlxyXG4gICAgfCBcIkZhY2Vib29rXCJcclxuICAgIHwgXCJJbnN0YWdyYW1cIlxyXG4gICAgfCBcIklvcy13ZWJ2aWV3XCJcclxuICAgIHwgXCJVQ0Jyb3dzZXJcIjtcclxudHlwZSBVc2VyQWdlbnRSdWxlID0gW0Jyb3dzZXIsIFJlZ0V4cF07XHJcblxyXG5jb25zdCBVc2VyQWdlbnRSdWxlczogVXNlckFnZW50UnVsZVtdID0gW1xyXG4gICAgW1wiQW9sXCIsIC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxcclxuICAgIFtcIkVkZ2VcIiwgL0VkZ2VcXC8oWzAtOVxcLl9dKykvXSxcclxuICAgIFtcIllhbmRleGJyb3dzZXJcIiwgL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFxyXG4gICAgW1wiVml2YWxkaVwiLCAvVml2YWxkaVxcLyhbMC05XFwuXSspL10sXHJcbiAgICBbXCJLYWthb3RhbGtcIiwgL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sXHJcbiAgICBbXCJTYW1zdW5nXCIsIC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sXHJcbiAgICBbXCJTaWxrXCIsIC9cXGJTaWxrXFwvKFswLTkuXy1dKylcXGIvXSxcclxuICAgIFtcIk1pdWlcIiwgL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sXHJcbiAgICBbXCJCZWFrZXJcIiwgL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiRWRnZS1jaHJvbWl1bVwiLCAvRWRnXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIkNocm9taXVtLXdlYnZpZXdcIiwgLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcclxuICAgIFtcIkNocm9tZVwiLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbXCJQaGFudG9tanNcIiwgL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbXCJDcmlvc1wiLCAvQ3JpT1NcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiRmlyZWZveFwiLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXHJcbiAgICBbXCJGeGlvc1wiLCAvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiT3BlcmEtbWluaVwiLCAvT3BlcmEgTWluaS4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sXHJcbiAgICBbXCJPcGVyYVwiLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxyXG4gICAgW1wiT3BlcmFcIiwgL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbXCJJRVwiLCAvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC9dLFxyXG4gICAgW1wiSUVcIiwgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sXHJcbiAgICBbXCJJRVwiLCAvTVNJRVxccyg3XFwuMCkvXSxcclxuICAgIFtcIkJiMTBcIiwgL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiVUNCcm93c2VyXCIsIC8oPzpVQ1dFQnxVQ0Jyb3dzZXJcXC8pKFtcXGRcXC5dKykvXSxcclxuICAgIFtcIkFuZHJvaWRcIiwgL0FuZHJvaWRcXHMoWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiSW9zXCIsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipNb2JpbGUuKlNhZmFyaS4qL10sXHJcbiAgICBbXCJTYWZhcmlcIiwgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxyXG4gICAgW1wiRmFjZWJvb2tcIiwgL0ZCQVZcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiSW5zdGFncmFtXCIsIC9JbnN0YWdyYW1cXHMoWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiSW9zLXdlYnZpZXdcIiwgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxyXG4gICAgW1wiSW9zLXdlYnZpZXdcIiwgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKkdlY2tvXFwpJC9dXHJcbl07XHJcblxyXG50eXBlIE9wZXJhdGluZ1N5c3RlbVJ1bGUgPSBbT3BlcmF0aW5nU3lzdGVtLCBSZWdFeHBdO1xyXG5cclxuY29uc3QgT3BlcmF0aW5nU3lzdGVtUnVsZXM6IE9wZXJhdGluZ1N5c3RlbVJ1bGVbXSA9IFtcclxuICAgIFtcImlPU1wiLCAvaVAoaG9uZXxvZHxhZCkvXSxcclxuICAgIFtcIkFuZHJvaWQgT1NcIiwgL0FuZHJvaWQvXSxcclxuICAgIFtcIkJsYWNrQmVycnkgT1NcIiwgL0JsYWNrQmVycnl8QkIxMC9dLFxyXG4gICAgW1wiV2luZG93cyBNb2JpbGVcIiwgL0lFTW9iaWxlL10sXHJcbiAgICBbXCJBbWF6b24gT1NcIiwgL0tpbmRsZS9dLFxyXG4gICAgW1wiV2luZG93cyAzLjExXCIsIC9XaW4xNi9dLFxyXG4gICAgW1wiV2luZG93cyA5NVwiLCAvKFdpbmRvd3MgOTUpfChXaW45NSl8KFdpbmRvd3NfOTUpL10sXHJcbiAgICBbXCJXaW5kb3dzIDk4XCIsIC8oV2luZG93cyA5OCl8KFdpbjk4KS9dLFxyXG4gICAgW1wiV2luZG93cyAyMDAwXCIsIC8oV2luZG93cyBOVCA1LjApfChXaW5kb3dzIDIwMDApL10sXHJcbiAgICBbXCJXaW5kb3dzIFhQXCIsIC8oV2luZG93cyBOVCA1LjEpfChXaW5kb3dzIFhQKS9dLFxyXG4gICAgW1wiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLCAvKFdpbmRvd3MgTlQgNS4yKS9dLFxyXG4gICAgW1wiV2luZG93cyBWaXN0YVwiLCAvKFdpbmRvd3MgTlQgNi4wKS9dLFxyXG4gICAgW1wiV2luZG93cyA3XCIsIC8oV2luZG93cyBOVCA2LjEpL10sXHJcbiAgICBbXCJXaW5kb3dzIDhcIiwgLyhXaW5kb3dzIE5UIDYuMikvXSxcclxuICAgIFtcIldpbmRvd3MgOC4xXCIsIC8oV2luZG93cyBOVCA2LjMpL10sXHJcbiAgICBbXCJXaW5kb3dzIDEwXCIsIC8oV2luZG93cyBOVCAxMC4wKS9dLFxyXG4gICAgW1wiV2luZG93cyBNRVwiLCAvV2luZG93cyBNRS9dLFxyXG4gICAgW1wiT3BlbiBCU0RcIiwgL09wZW5CU0QvXSxcclxuICAgIFtcIlN1biBPU1wiLCAvU3VuT1MvXSxcclxuICAgIFtcIkNocm9tZSBPU1wiLCAvQ3JPUy9dLFxyXG4gICAgW1wiTGludXhcIiwgLyhMaW51eCl8KFgxMSkvXSxcclxuICAgIFtcIk1hYyBPU1wiLCAvKE1hY19Qb3dlclBDKXwoTWFjaW50b3NoKS9dLFxyXG4gICAgW1wiUU5YXCIsIC9RTlgvXSxcclxuICAgIFtcIkJlT1NcIiwgL0JlT1MvXSxcclxuICAgIFtcIk9TLzJcIiwgL09TXFwvMi9dXHJcbl07XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIERldmljZURldGVjdG9yQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSB1c2VyQWdlbnQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgY2FsY3VsYXRlRGV2aWNlSWQ6IHN0cmluZyA9IG51bGw7XHJcbiAgICBwcml2YXRlIGluaXRQcm9taXNlID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFVzZXJBZ2VudCh1c2VyQWdlbnQ6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMudXNlckFnZW50ID0gdXNlckFnZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlzSGFzTGVhdmVQYWdlUHJvYmxlbXMoKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5EZXZpY2VEZXRlY3Rvcikge1xyXG4gICAgICAgICAgICBjb25zdCBicm93c2VyTmFtZSA9IHRoaXMuZ2V0QnJvd3NlcigpID8gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5icm93c2VyLm5hbWUudG9Mb3dlckNhc2UoKSA6IFwiXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGNocm9tZVByb2JsZW0gPSBicm93c2VyTmFtZSA9PT0gXCJjaHJvbWVcIiAmJiBwYXJzZUludCh0aGlzLmdldEJyb3dzZXJWZXJzaW9uKCkpID49IDgwO1xyXG4gICAgICAgICAgICBjb25zdCBvcGVyYVByb2JsZW0gPSBicm93c2VyTmFtZSA9PT0gXCJvcGVyYVwiICYmIHBhcnNlSW50KHRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKSkgPj0gNjc7XHJcbiAgICAgICAgICAgIHJldHVybiBjaHJvbWVQcm9ibGVtIHx8IG9wZXJhUHJvYmxlbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEJyb3dzZXJWZXJzaW9uKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuRGV2aWNlRGV0ZWN0b3IgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZSAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLmJyb3dzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UuYnJvd3Nlci52ZXJzaW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnJvd3NlcigpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgICAgICBpZiAod2luZG93LkRldmljZURldGVjdG9yICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5icm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLmJyb3dzZXIubmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGJyb3dzZXJJbmRleCA9IDA7IGJyb3dzZXJJbmRleCA8IFVzZXJBZ2VudFJ1bGVzLmxlbmd0aDsgYnJvd3NlckluZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoVXNlckFnZW50UnVsZXNbYnJvd3NlckluZGV4XVsxXSkudGVzdCh0aGlzLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBVc2VyQWdlbnRSdWxlc1ticm93c2VySW5kZXhdWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T3MoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5EZXZpY2VEZXRlY3RvciAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2Uub3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2Uub3MubmFtZSArIFwiIFwiICsgKHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2Uub3MudmVyc2lvbiB8fCBcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IG9zSW5kZXggPSAwOyBvc0luZGV4IDwgT3BlcmF0aW5nU3lzdGVtUnVsZXMubGVuZ3RoOyBvc0luZGV4KyspIHtcclxuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoT3BlcmF0aW5nU3lzdGVtUnVsZXNbb3NJbmRleF1bMV0pLnRlc3QodGhpcy51c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT3BlcmF0aW5nU3lzdGVtUnVsZXNbb3NJbmRleF1bMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc01vYmlsZSgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgbW9iaWxlUkUgPSAvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXNbNDZdMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWluby9pXHJcbiAgICAgICAgcmV0dXJuIG1vYmlsZVJFLnRlc3QodGhpcy51c2VyQWdlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXZpY2VUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5EZXZpY2VEZXRlY3RvciAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UucGxhdGZvcm0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UucGxhdGZvcm0udHlwZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTW9iaWxlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTW9iaWxlXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHRhYmxldFJFID0gLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzWzQ2XTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgKGNlfHBob25lKXx4ZGF8eGlpbm98YW5kcm9pZHxpcGFkfHBsYXlib29rfHNpbGsvaVxyXG4gICAgICAgICAgICBpZiAodGFibGV0UkUudGVzdCh0aGlzLnVzZXJBZ2VudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlRhYmxldFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXCJEZXNrdG9wXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1ldGFEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEJyb3dzZXI6IHRoaXMuZ2V0QnJvd3NlcigpLFxyXG4gICAgICAgICAgICBPUzogdGhpcy5nZXRPcygpLFxyXG4gICAgICAgICAgICBEZXZpY2VUeXBlOiB0aGlzLmdldERldmljZVR5cGUoKSxcclxuICAgICAgICAgICAgVVJMOiB3aW5kb3cubG9jYXRpb24uaHJlZlxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGluaXREZXZpY2VJZChtb2NrT2xkSWZOZWVkOiAodjogc3RyaW5nKSA9PiBQcm9taXNlPHN0cmluZz4pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGlmICghdGhpcy5pbml0UHJvbWlzZSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRQcm9taXNlID0gdGhpcy5nZXREZXZpY2VJZEZyb21GUCgpXHJcbiAgICAgICAgICAgIC50aGVuKChkZXZpY2VJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDYWxjdWxhdGVkRGV2aWNlSWQoZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldmljZUlkO1xyXG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICB9KS50aGVuKGRldmljZUlkID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb2NrT2xkSWZOZWVkKGRldmljZUlkKTtcclxuICAgICAgICAgICAgfSkudGhlbihtYXliZU1vY2tlZFZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldENhbGN1bGF0ZWREZXZpY2VJZChtYXliZU1vY2tlZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXliZU1vY2tlZFZhbHVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdFByb21pc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBnZXREZXZpY2VJZCgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIC8vIHZhbHVlIGluIGluaXRQcm9taXNlIGNhbiBiZSB1cGRhdGVkXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdFByb21pc2UudGhlbigoKSA9PiB0aGlzLmNhbGN1bGF0ZURldmljZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZXZpY2VJZEZyb21GUCgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIGNvbnN0IGZpbmdlclByaW50ID0gd2luZG93LkZpbmdlcnByaW50O1xyXG4gICAgICAgIGlmIChmaW5nZXJQcmludCAmJiB0eXBlb2YgZmluZ2VyUHJpbnQuZ2V0RGV2aWNlSUQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkZpbmdlcnByaW50LmdldERldmljZUlEKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlSWRGcm9tT2xkVmVyc2lvbkZQKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREZXZpY2VJZEZyb21PbGRWZXJzaW9uRlAoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxjdWxhdGVEZXZpY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmNhbGN1bGF0ZURldmljZUlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGZwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmluZ2VyUHJpbnQgPSB0aGlzLmdldEZpbmdlclByaW50QWNjZXNzKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmluZ2VyUHJpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGV2aWNlSWQgPSBmaW5nZXJQcmludC5nZXREZXZpY2VJZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZURldmljZUlkID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZnBJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FsY3VsYXRlRGV2aWNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGZwSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZQIGlzIG5vdCBhdmFpbGFibGUgb3IgY2FuIG5vdCBjYWxjdWxhdGUgZGV2aWNlSWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGUCBzaG91bGQgYmUgb24gcGFnZSBiZWZvcmUgaW5pdFxyXG4gICAgICAgICAgICAvLyBhbmQgb2xkIEZQIGlzIG5vdCB1c2VyIGZvciBjdXJyZW50IHBsdWdpbiB2ZXJzaW9uXHJcbiAgICAgICAgICAgIC8vIHNvIHJlbW92ZSBkZWxheSBmb3IgY2FzZSBibG9ja2VkIEZQXHJcbiAgICAgICAgICAgIH0sIDM1MDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZpbmdlclByaW50QWNjZXNzKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuRnByaW50aW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRnByaW50aW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aW5kb3cuRmluZ2VycHJpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5GaW5nZXJwcmludDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FsY3VsYXRlZERldmljZUlkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZURldmljZUlkO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRDYWxjdWxhdGVkRGV2aWNlSWQoY2FsY3VsYXRlRGV2aWNlSWQpIHtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZURldmljZUlkID0gY2FsY3VsYXRlRGV2aWNlSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q2FsY3VsYXRlZERldmljZUlkKGNhbGN1bGF0ZURldmljZUlkKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0Q2FsY3VsYXRlZERldmljZUlkKGNhbGN1bGF0ZURldmljZUlkKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERldmljZURldGVjdG9yID0gbmV3IERldmljZURldGVjdG9yQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL3V0aWxzL0RldmljZURldGVjdG9yLnRzIiwiZXhwb3J0IGNvbnN0IFBsdWdpbklubmVyRXZlbnRzID0ge1xyXG4gICAgRGxDZHBHZXRTdWNjZXNzOiBcImcyaURsRmluaXNoZWRcIixcclxuICAgIERsQ2RwR2V0RmFpbDogXCJnMmlEbEVycm9yXCIsXHJcbiAgICBHZXRJbnRlcmVzdHNTdGF0czogXCJnMmlESW50ZXJlc3RzU3RhdHNGaW5pc2hlZFwiLFxyXG4gICAgR2V0SW50ZXJlc3RzU3RhdHNFcnJvcjogXCJnMmlESW50ZXJlc3RzU3RhdHNFcnJvclwiLFxyXG4gICAgR2V0RXJJbnRlcnByZXRhdGlvbjogXCJvbkcySVNldEVySW50ZXJwcmV0YXRpb25cIixcclxuICAgIEdldEVySW50ZXJwcmV0YXRpb25FcnJvcjogXCJvbkcySUVycm9yU2V0RXJJbnRlcnByZXRhdGlvblwiLFxyXG4gICAgRGxSZWNvbW1lbmRhdGlvbnNGaW5pc2hlZDogXCJnMmlEbFJlY29tbWVuZGF0aW9uc0ZpbmlzaGVkXCIsXHJcbiAgICBEbFJlY29tbWVuZGF0aW9uc0Vycm9yOiBcImcyaURsUmVjb21tZW5kYXRpb25zRXJyb3JcIixcclxuICAgIERsUmVjb21tZW5kYXRpb25zU3RhdHNGaW5pc2hlZDogXCJnMmlEbFJlY29tbWVuZGF0aW9uc1N0YXRzRmluaXNoZWRcIixcclxuICAgIERsUmVjb21tZW5kYXRpb25zU3RhdHNFcnJvcjogXCJnMmlEbFJlY29tbWVuZGF0aW9uc1N0YXRzRXJyb3JcIixcclxuICAgIElubmVyQ2xpY2s6IFwib25Jbm5lckNsaWNrXCIsXHJcbiAgICBSZWdlbmVyZXJhdGlvblJlc2VuZFN1Y2Nlc3M6IFwiZzJpUmVnZW5lcmVyYXRpb25SZXNlbmRTdWNjZXNzXCIsXHJcbiAgICBHMklBZnRlclNldEluaXRPcHRpb25zOiBcImcyaUFmdGVyU2V0SW5pdE9wdGlvbnNcIlxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50cy50cyIsImltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWwgfSBmcm9tIFwiLi9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbFwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBEYXRhQ29sbGVjdG9yIH0gZnJvbSBcIkBNb2R1bGVzL2RhdGFDb2xsZWN0b3IvRGF0YUNvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9tb2RlbHMvQ2RwRXZlbnRNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5pbXBvcnQgeyBGYWlsZWRFdmVudFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvRmFpbGVkRXZlbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgSHR0cE9wdGlvbnMgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvaHR0cC9IdHRwXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50SW50ZXJmYWNlIH0gZnJvbSBcIi4vQ2RwRXZlbnRJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDZHBFdmVudHNNYW5hZ2VyQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQ2RwTW9kdWxlXCIpO1xyXG4gICAgcHJpdmF0ZSBzZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgcHVibGljIENvbGxlY3RNZXRhVGFnczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHVibGljIGZpcmVkRXZlbnRzOiBDZHBFdmVudEludGVyZmFjZVtdID0gW107XHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50c0RlbGF5ID0gMDtcclxuICAgIHByaXZhdGUgaXNDbG9zZVBhZ2VGbGFnID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGxhc3RTZW5kZWRJZHM6IHN0cmluZ1tdID0gW107XHJcbiAgICBwcml2YXRlIG5lZWRFeGNsdWRlT3B0aW9uYWxGaWVsZHMgPSBmYWxzZTtcclxuXHJcbiAgICBzZXRDbG9zZVBhZ2VGbGFnKGNsb3NlRmxhZzogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuaXNDbG9zZVBhZ2VGbGFnID0gY2xvc2VGbGFnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENsb3NlUGFnZUZsYWcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDbG9zZVBhZ2VGbGFnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VudFF1ZXJ5RXZlbnRzKHVwZGF0ZWREYXRhOiBDZHBFdmVudE1vZGVsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlyZWRFdmVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVkRXZlbnRzLmZvckVhY2goKGZpcmVkRXZlbnQ6IENkcEV2ZW50SW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmaXJlZEV2ZW50LnVwZGF0ZUV2ZW50TW9kZWwoKTtcclxuICAgICAgICAgICAgICAgIGZpcmVkRXZlbnQudXBkYXRlRXZlbnREYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBmaXJlZEV2ZW50LnVwZGF0ZVJlcXVpcmVkRmllbGRzKHVwZGF0ZWREYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcmVkRGF0YSA9IGZpcmVkRXZlbnQuZ2V0Q2FsY3VsYXRlTW9kZWwoKSBhcyBDZHBFdmVudE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgRGF0YUNvbGxlY3Rvci5hZGRFdmVudEluQ29sbGVjdG9yKGZpcmVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoZmlyZWREYXRhLCBmaXJlZEV2ZW50LmdldEV2ZW50T3B0aW9ucygpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZWRFdmVudHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUcySURldmljZUlkKCkge1xyXG4gICAgICAgIHRoaXMubmVlZEV4Y2x1ZGVPcHRpb25hbEZpZWxkcyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlyZWRFdmVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGhhc19ldmVudHNfcXVldWU9JHt0aGlzLmZpcmVkRXZlbnRzLmxlbmd0aH1gKTtcclxuICAgICAgICAgICAgdGhpcy5maXJlZEV2ZW50cy5mb3JFYWNoKChjZHBFdmVudDogQ2RwRXZlbnRJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBjZHBFdmVudC5pc1ZhbGlkKHRoaXMubmVlZEV4Y2x1ZGVPcHRpb25hbEZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbmREYXRhID0gY2RwRXZlbnQuZ2V0Q2FsY3VsYXRlTW9kZWwoKSBhcyBDZHBFdmVudE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2Uuc2F2ZVJlcXVpcmVkRGF0YShzZW5kRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uUmVxdWlyZWREYXRhOiBDZHBFdmVudE1vZGVsID0gdGhpcy5zZXNzaW9uU2VydmljZS5nZXRSZXF1aXJlZERhdGEoKTtcclxuICAgICAgICAgICAgaWYgKHNlc3Npb25SZXF1aXJlZERhdGEpIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImhhc192YWxpZF9ldmVudFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VudFF1ZXJ5RXZlbnRzKHNlc3Npb25SZXF1aXJlZERhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEV2ZW50ID0gdGhpcy5maXJlZEV2ZW50c1t0aGlzLmZpcmVkRXZlbnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlGaWVsZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxhc3RFdmVudC5yZXF1aXJlZEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+ICFsYXN0RXZlbnRbZmllbGRdICYmIGVtcHR5RmllbGRzLnB1c2goZmllbGQpKTtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgbWlzc2VkX3JlcXVpcmVkX2ZpZWxkczogJHtlbXB0eUZpZWxkcy50b1N0cmluZygpfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBldmVudEZpcmUoaW5wdXQ6IGFueSkge1xyXG4gICAgICAgIGNvbnN0IGNkcEV2ZW50ID0gaW5wdXQgYXMgQ2RwRXZlbnRJbnRlcmZhY2U7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmVudEZpcmUgRXZlbnRNb2RlbCAtIFwiLCBjZHBFdmVudC5ldmVudE1vZGVsKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2ZW50RmlyZSBFdmVudFR5cGUgLSBcIiwgY2RwRXZlbnQuZXZlbnRNb2RlbC5FdmVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZXZlbnRGaXJlIERldmljZUlkIC0gXCIsIGNkcEV2ZW50LmV2ZW50TW9kZWwuRGV2aWNlSWQpO1xyXG4gICAgICAgIGxldCBzZW5kRGF0YSA9IGNkcEV2ZW50LmdldEV2ZW50TW9kZWwoKSBhcyBDZHBFdmVudE1vZGVsO1xyXG4gICAgICAgIGlmICghc2VuZERhdGEpIHJldHVybjtcclxuICAgICAgICBsZXQgc2Vzc2lvblJlcXVpcmVkRGF0YTogQ2RwRXZlbnRNb2RlbCA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0UmVxdWlyZWREYXRhKCk7XHJcbiAgICAgICAgbGV0IGlzVmFsaWQgPSBjZHBFdmVudC5pc1ZhbGlkKHRoaXMubmVlZEV4Y2x1ZGVPcHRpb25hbEZpZWxkcyk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmxvZ0V2ZW50RmlyZShzZW5kRGF0YSwgaXNWYWxpZCwgdGhpcy5maXJlZEV2ZW50cyk7XHJcblxyXG4gICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZXZlbnRGaXJlIEV2ZW50VHlwZSAtIFwiICsgY2RwRXZlbnQuZXZlbnRNb2RlbC5FdmVudFR5cGUgKyBcIiBpc1ZhbGlkXCIpO1xyXG4gICAgICAgICAgICBpZiAoIXNlc3Npb25SZXF1aXJlZERhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2Uuc2F2ZVJlcXVpcmVkRGF0YShzZW5kRGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnRRdWVyeUV2ZW50cyhzZW5kRGF0YSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnRRdWVyeUV2ZW50cyhzZXNzaW9uUmVxdWlyZWREYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBEYXRhQ29sbGVjdG9yLmFkZEV2ZW50SW5Db2xsZWN0b3IoY2RwRXZlbnQgYXMgQ2RwRXZlbnRJbnRlcmZhY2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRFdmVudChzZW5kRGF0YSwgY2RwRXZlbnQuZ2V0RXZlbnRPcHRpb25zKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZXZlbnRGaXJlIEV2ZW50VHlwZSAtIFwiICsgY2RwRXZlbnQuZXZlbnRNb2RlbC5FdmVudFR5cGUgKyBcIiBpcyBub3QgaXNWYWxpZFwiKTtcclxuICAgICAgICAgICAgaWYgKHNlc3Npb25SZXF1aXJlZERhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNkcEV2ZW50LnVwZGF0ZVJlcXVpcmVkRmllbGRzKHNlc3Npb25SZXF1aXJlZERhdGEpO1xyXG4gICAgICAgICAgICAgICAgRGF0YUNvbGxlY3Rvci5hZGRFdmVudEluQ29sbGVjdG9yKGNkcEV2ZW50IGFzIENkcEV2ZW50SW50ZXJmYWNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KGNkcEV2ZW50LmdldENhbGN1bGF0ZU1vZGVsKCkgYXMgQ2RwRXZlbnRNb2RlbCwgY2RwRXZlbnQuZ2V0RXZlbnRPcHRpb25zKCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlZEV2ZW50cy5wdXNoKGNkcEV2ZW50IGFzIENkcEV2ZW50SW50ZXJmYWNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiYWRkIEV2ZW50IGluIHF1ZXJ5IC0gXCIgKyBjZHBFdmVudC5ldmVudE1vZGVsLkV2ZW50VHlwZSArIFwiIGlzIG5vdCBpc1ZhbGlkXCIsIHRoaXMuZmlyZWRFdmVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZEV2ZW50KHNlbmREYXRhOiBDZHBFdmVudE1vZGVsIHwgQ2RwRXZlbnRNb2RlbFtdLCBvcHRpb25zPzogU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzZW5kRGF0YSkpIHtcclxuICAgICAgICAgICAgc2VuZERhdGEgPSBbc2VuZERhdGFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNlbmRBcnJheURhdGFcIiwgc2VuZERhdGEpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5sb2dTZW5kRXZlbnQoc2VuZERhdGEsIG9wdGlvbnMgYXMgU2VuZE9wdGlvbnNNb2RlbCk7XHJcbiAgICAgICAgc2VuZERhdGEuZm9yRWFjaCgoZGF0YTogQ2RwRXZlbnRNb2RlbCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudElkID0gZGF0YS5JZDtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNlbmRlZElkcy5pbmRleE9mKGV2ZW50SWQpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U2VuZGVkSWRzLnB1c2goKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNlbmRlZElkcyA9IHRoaXMubGFzdFNlbmRlZElkcy5zbGljZSgtMTApOyAvLyBzdG9yZSBsYXN0IDEwXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNCZWFjb25TdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2RwU2VuZEJlYWNvbihkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kRGF0YUZldGNoKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmxvZ1ByZXZlbnREdXBsaWNhdGUoZXZlbnRJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb3VsZCByZXR1cm4gZmFsc2Ugd2hlbiByZXF1ZXN0IGlzIHZhbGlkLCBzbyB3ZSBzdG9wIHVzZSB0aGlzIHZhbHVlXHJcbiAgICBwcml2YXRlIGNkcFNlbmRCZWFjb24oY2RwRGF0YTogQ2RwRXZlbnRNb2RlbEludGVyZmFjZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Q29uZmlnTW9kdWxlLmdldENkcEV2ZW50c1VybCgpfT8ke0J1Z1RyYWNrVXRpbC5nZXRCZWFjb25SZXF1ZXN0VXJsUGFyYW0oY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsKX1gO1xyXG4gICAgICAgIHN1Y2Nlc3MgPSBuYXZpZ2F0b3Iuc2VuZEJlYWNvbih1cmwsIEpTT04uc3RyaW5naWZ5KGNkcERhdGEpKTtcclxuICAgICAgICByZXR1cm4gc3VjY2VzcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzQmVhY29uU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VuZEJlYWNvbiA/IHRydWUgOiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmREYXRhRmV0Y2goY2RwRGF0YTogQ2RwRXZlbnRNb2RlbEludGVyZmFjZSk6IHZvaWQge1xyXG4gICAgICAgIC8vIHdlIGhhdmVuJ3QgYmVhY29uIHNvIHJlc2VuZCBldmVudHMgb24gbmV4dCBwYWdlbG9hZCBhZnRlciBvbmxvYWQgZXZlbnRcclxuICAgICAgICBpZiAodGhpcy5nZXRDbG9zZVBhZ2VGbGFnKCkpIHtcclxuICAgICAgICAgICAgRmFpbGVkRXZlbnRTZXJ2aWNlLkluc3RhbmNlLnN0YXNoKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHdlIGNhbid0IHdhaXQgZm9yIHN1Y2Nlc3MvZmFpbCBjYWxsYmFja1xyXG4gICAgICAgIC8vIGFuZCB3ZSBkb24ndCB0cnVzdCBmYWlsIGNhbGxiYWNrXHJcbiAgICAgICAgRmFpbGVkRXZlbnRTZXJ2aWNlLkluc3RhbmNlLmRyb3AoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsKTtcclxuXHJcbiAgICAgICAgbGV0IGZldGNoT3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zO1xyXG4gICAgICAgIGZldGNoT3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRGZXRjaEV2ZW50c0xvZ0hlYWRlcihmZXRjaE9wdGlvbnMpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFdmVudHNDYWxsKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCwgXCJCRUJPUkVfU0VORFwiKTtcclxuXHJcbiAgICAgICAgSHR0cFNlcnZpY2UucG9zdChcIlwiLCBjZHBEYXRhLCBmZXRjaE9wdGlvbnMsIENvbmZpZ01vZHVsZS5nZXRDZHBFdmVudHNVcmwoKSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIlRIRU5fRkVUQ0hcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFdmVudHNDYWxsKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCwgYENBVENIX0ZFVENIICR7U3RyaW5nKGVycm9yKX1gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIkFGVEVSX1NFTkRcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBFdmVudHNNYW5hZ2VyID0gbmV3IENkcEV2ZW50c01hbmFnZXJDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyLnRzIiwiaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiLi4vLi4vQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRFdmVudCBleHRlbmRzIENkcEV2ZW50IHtcclxuICAgIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UgPSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFdmVudE1vZGVsKCk6IENkcEV2ZW50TW9kZWwge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbCA9IHN1cGVyLmdldEV2ZW50TW9kZWwoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRTb3VyY2UgPSBDb25zdGFudHMuRXZlbnRzU291cmNlcy5Db25uZXh0O1xyXG4gICAgICAgIHRoaXMuYWRkQ29ubmV4dFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkNvbmZpZ0NvZGUgPSBDb25uZXh0TW9kdWxlLmdldENvbmZpZ0NvZGUoKTtcclxuICAgICAgICByZXR1cm4gbmV3IENkcEV2ZW50TW9kZWwodGhpcy5ldmVudE1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDb25uZXh0VmVyc2lvbkluZm8oKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiBcIlNvdXJjZVZlcnNpb25cIiwgVmFsdWU6IENvbm5leHRNb2R1bGUuZ2V0VmVyc2lvbkluZm8oKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCk6IHZvaWQgeyB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dEV2ZW50LnRzIiwiaW1wb3J0IHsgR2VuZXJpY1RhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvc3AvdGFncy9UYWdNb2RlbHNcIjtcclxuaW1wb3J0IHsgR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi8uLi9HdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNwR3RtVGFnRXZlbnQgZXh0ZW5kcyBHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZXMgPSBbXTtcclxuICAgIGN1cnJlbnRFdmVudE5hbWVcclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnROYW1lcyAmJiB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5mb3JFYWNoKChldmVudE5hbWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiTm8gZXZlbnQgTmFtZSBpbiBPYmplY3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiYWRkU1BUYWdzLkVycm9yXCIsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuRXZlbnQoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJSZWdpc3RlcmluZyBTUCBUYWdzXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGtvLnBvc3Rib3guc3Vic2NyaWJlKGV2ZW50TmFtZSwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRmlyaW5nXCIsIGV2ZW50TmFtZSwgXCJkYXRhXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRhZ1RvQW5hbGl0Y3MoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcImFkZFNQVGFncy5FcnJvclwiLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFRhZ1RvQW5hbGl0Y3ModGFnTmFtZT8sIHRhZ0RhdGE/KSB7XHJcbiAgICAgICAgdGhpcy5ldmVudFNlcnZpY2Uuc2VuZEV2ZW50KHRhZ05hbWUgfHwgdGhpcy5nZXRTZW5kVGFnTmFtZSgpLCB0YWdEYXRhIHx8IHRoaXMuZ2V0U2VuZFRhZ0RhdGEoKSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKTogYW55IHtcclxuICAgICAgICBsZXQgdGFnRXZlbnROYW1lID0gdGhpcy5nZXRTZW5kVGFnTmFtZSgpO1xyXG4gICAgICAgIGlmICh0YWdFdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxHZW5lcmljVGFnPnt9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9TcEd0bVRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBQcm94eVNldHRpbmdzTW9kZWwgfSBmcm9tIFwiQFV0aWxzL3Byb3h5L21vZGVsc1wiO1xyXG5pbXBvcnQgeyBQcm94eVNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL3Byb3h5L1Byb3h5U2VydmljZVwiO1xyXG5pbXBvcnQgeyBGTE9XX01PREVfVFlQRVMgfSBmcm9tIFwiLi9tb2RlbHNcIjtcclxuaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuXHJcbmNvbnN0IEVOR0FHRV9BTExPV0VEX0VWRU5UUyA9IHtcclxuICAgIENvbm5leHRQYWdlVmlldzogXCJDb25uZXh0UGFnZVZpZXdcIixcclxuICAgIEFjdGlvblNob3duOiBcIkFjdGlvblNob3duXCIsXHJcbiAgICBDbGljazogXCJDbGlja1wiLFxyXG4gICAgQ3JlYXRlQWNjb3VudDogXCJDcmVhdGVBY2NvdW50XCIsXHJcbiAgICBMb2dpbjogXCJMb2dpblwiLFxyXG4gICAgQWN0aXZhdGVTdWNjZXNzOiBcIkFjdGl2YXRlU3VjY2Vzc1wiLFxyXG4gICAgTmV3c2xldHRlclNpZ251cDogXCJOZXdzbGV0dGVyU2lnbnVwXCJcclxufTtcclxuXHJcbmNvbnN0IFNQX0FMTE9XRURfRVZFTlRTID0ge1xyXG4gICAgQ2hlY2tvdXRTdGFydDogXCJDaGVja291dFN0YXJ0XCIsXHJcbiAgICBDcmVhdGVkTmV3VXNlcjogXCJDcmVhdGVkTmV3VXNlclwiLFxyXG4gICAgU3Vic2NyaXB0aW9uU3VjY2VzczogXCJTdWJzY3JpcHRpb25TdWNjZXNzXCIsXHJcbiAgICBBYmFuZG9uUHJlc2VudGVkOiBcIkFiYW5kb25QcmVzZW50ZWRcIlxyXG59O1xyXG5cclxuY29uc3QgQ09NTU9OX0FMTE9XRURfRVZFTlRTID0ge1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFJFSkVDVEVEX1NFUlZJQ0VTID0ge1xyXG4gICAgQ29udGVudFNlcnZpY2U6IFtcImNvbnRlbnRFeGlzdHNJbkNkcFwiLCBcInNlbmRDb250ZW50SW5DZHBcIiwgXCJnZXRBcnRpY2xlU3RhdHNcIl0sXHJcbiAgICBSZWNvbW1lbmRhdGlvbnM6IFtcImdldEFydGljbGVzV2l0aENhdGVnb3JpZXNcIiwgXCJnZXRMaXN0QXJ0aWNsZXNcIl1cclxufTtcclxuXHJcbmNsYXNzIFdvcmtmbG93TW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiV29ya2Zsb3dNb2R1bGVcIik7XHJcbiAgICBwcml2YXRlIG1vZGVzOiBGTE9XX01PREVfVFlQRVNbXSA9IFtdO1xyXG5cclxuICAgIHNldE1vZGVzKGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW9kZXMgPSB0aGlzLnBhcnNlTW9kZXMoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TW9kZXMoKTogRkxPV19NT0RFX1RZUEVTW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGxpbWl0RW5nYWdlRXZlbnRzKGV2ZW50czogb2JqZWN0KTogb2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdEV2ZW50cyhldmVudHMsIEVOR0FHRV9BTExPV0VEX0VWRU5UUyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGltaXRTUEV2ZW50cyhldmVudHM6IG9iamVjdCk6IG9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGltaXRFdmVudHMoZXZlbnRzLCBTUF9BTExPV0VEX0VWRU5UUyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGltaXRDb21tb25FdmVudHMoZXZlbnRzOiBvYmplY3QsIGV4Y2x1ZGVkRXZlbnRzOiBzdHJpbmdbXSk6IG9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGltaXRFdmVudHMoZXZlbnRzLCBDT01NT05fQUxMT1dFRF9FVkVOVFMsIGV4Y2x1ZGVkRXZlbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxpbWl0RXZlbnRzKGV2ZW50czogb2JqZWN0LCBhbGxvd2VkTGlzdDogb2JqZWN0ID0ge30sIGV4Y2x1ZGVkRXZlbnRzOiBzdHJpbmdbXSA9IFtdKTogb2JqZWN0IHtcclxuICAgICAgICBsZXQgYWxsb3dlZEtleXMgPSBbXTtcclxuICAgICAgICBjb25zdCBpbml0TW9kZWwgPSBDb25maWdNb2R1bGUuZ2V0SW5pdENvbmZpZ3VyYXRpb24oKTtcclxuICAgICAgICBpZiAoIWluaXRNb2RlbC5jZHA/LmVuYWJsZWRcclxuICAgICAgICAgICAgJiYgIXRoaXMuZ2V0TW9kZUVuYWJsZWQoRkxPV19NT0RFX1RZUEVTLkludGVyZXN0c1JlY29tbWVuZGF0aW9ucylcclxuICAgICAgICAgICAgJiYgdGhpcy5nZXRNb2RlRW5hYmxlZChGTE9XX01PREVfVFlQRVMuRW5nYWdlQUJFeHBlcmltZW50cykpIHtcclxuICAgICAgICAgICAgYWxsb3dlZEtleXMgPSBPYmplY3Qua2V5cyhhbGxvd2VkTGlzdCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbml0TW9kZWwuY2RwPy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGFsbG93ZWRLZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBmaWx0ZXJlZEV2ZW50cyA9IHt9O1xyXG4gICAgICAgIGFsbG93ZWRLZXlzLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChleGNsdWRlZEV2ZW50cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEV2ZW50c1trZXldID0gZXZlbnRzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcImxpbWl0RXZlbnRzIGJlZm9yZSBhbmQgYWZ0ZXJcIiwgZXZlbnRzLCBmaWx0ZXJlZEV2ZW50cyk7XHJcblxyXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZEV2ZW50cztcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVJlamVjdHModGFyZ2V0OiBvYmplY3QsICBtZXRob2RzOiBzdHJpbmdbXSA9IFtdKTogYW55IHtcclxuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgbWV0aG9kcy5mb3JFYWNoKChtZXRob2Q6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nczogUHJveHlTZXR0aW5nc01vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2QsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAob3JpZ2luYWxNZXRob2Q6IEZ1bmN0aW9uLCAuLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZ2V0TW9kZUVuYWJsZWQoRkxPV19NT0RFX1RZUEVTLkludGVyZXN0c1JlY29tbWVuZGF0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWV0aG9kLmFwcGx5KG51bGwsIGFyZ3MpOyAvLyBjb250ZXh0IGFscmVhZHkgYmluZFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgUHJveHlTZXJ2aWNlLmFwcGx5KHRhcmdldCwgc2V0dGluZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TW9kZUVuYWJsZWQobW9kZTogRkxPV19NT0RFX1RZUEVTKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZXMuaW5kZXhPZihtb2RlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgcGFyc2VNb2Rlcyhtb2Rlczogc3RyaW5nKTogRkxPV19NT0RFX1RZUEVTW10ge1xyXG4gICAgICAgIGlmIChtb2Rlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kZXMuc3BsaXQoXCIsXCIpLm1hcChtb2RlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZE1vZGUgPSBGTE9XX01PREVfVFlQRVNbbW9kZS50cmltKCldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJmbG93IG1vZGUgbm90IHJlY29nbml6ZWRcIiwgbW9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkTW9kZTtcclxuICAgICAgICAgICAgfSkuZmlsdGVyKG0gPT4gbSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFdvcmtmbG93TW9kdWxlID0gbmV3IFdvcmtmbG93TW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25UeXBlLCBDb2xsZWN0ZWREaW1lbnNpb25zIH0gZnJvbSBcIi4uL21vZGVscy9JbmRleFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGFEYXRhU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiTWV0YURhdGFTZXJ2aWNlXCIpO1xyXG4gICAgLy8gaG9sZHMgY3VzdG9tIGRpbWVuc2lvbnMgdG8gZXZhbHVhdGVcclxuICAgIHByaXZhdGUgY3VzdG9tRGltZW5zaW9uczogYW55O1xyXG4gICAgcHJpdmF0ZSBjdXN0b21Db2xsZWN0ZWREaW1lbnNpb25zID0gW107XHJcbiAgICBwdWJsaWMgZGltZW5zaW9uc1RvQ29sbGVjdDogQXJyYXk8RGltZW5zaW9uVHlwZT4gPSBbXTtcclxuICAgIHB1YmxpYyBjb2xsZWN0YWJsZURpbWVuc2lvbnM6IEFycmF5PERpbWVuc2lvblR5cGU+ID0gW107XHJcbiAgICBwdWJsaWMgYW5hbHl0aWNzRGltZW5zaW9uczogQ29sbGVjdGVkRGltZW5zaW9ucztcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkRpbWVuc2lvblNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBNZXRhRGF0YVNlcnZpY2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkRpbWVuc2lvblNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDVE9SXCIpO1xyXG4gICAgICAgIHRoaXMuYW5hbHl0aWNzRGltZW5zaW9ucyA9IDxDb2xsZWN0ZWREaW1lbnNpb25zPnt9O1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdERpbWVuc2lvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0dXAoZGltZW5zaW9ucz86IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByb2Nlc3MoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJQcm9jZXNzaW5nLi4uLlwiLCB0aGlzLmN1c3RvbURpbWVuc2lvbnMsIFwiZGltZW5zaW9uc1RvQ29sbGVjdFwiLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGN1c3RvbSBkaW1lbnNpb25zIHBhc3NlZCBpbiwgc28gcHJvY2VzcyB0aGVtIGZpcnN0LlxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXN0b21EaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBldmFsIHBhc3NlZCBpbiBjdXN0b20gZGltZW5zaW9ucy5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXZhbEN1c3RvbURpbWVuc2lvbnModGhpcy5jdXN0b21EaW1lbnNpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyByZWdhcmRsZXNzIGlmIHdlIGhhdmUgY3VzdG9tIGRpbWVuc2lvbnMgcGFzc2VkIGluLCB3ZSBjb2xsZWN0IG1ldGEgdGFncy5cclxuICAgICAgICAgICAgdGhpcy5sb2FkTWV0YVRhZ3MoKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJjb2xsZWN0ZWREaW1lbnNpb25zXCIsIHRoaXMuYW5hbHl0aWNzRGltZW5zaW9ucyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldHMgdGhlIGRlZmF1bHQgdGFncyB0aGF0IHNob3VsZCBiZSBjb2xsZWN0ZWQuXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXREZWZhdWx0RGltZW5zaW9ucygpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgRGVmYXVsdCBEaW1lbnNpb25zXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJjb250ZW50VHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJDb250ZW50VHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcInR5cGVcIiwgXCJvZzp0eXBlXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJrZXl3b3Jkc1wiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJLZXl3b3Jkc1wiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcImtleXdvcmRzXCIsIFwib2c6a2V5d29yZHNcIiwgXCJidDprZXl3b3Jkc1wiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwic2VjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJTZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1wic2VjdGlvblwiLCBcIm9nOnNlY3Rpb25cIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcImF1dGhvclwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJBdXRob3JcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJieWxpbmVcIiwgXCJhdXRob3JcIiwgXCJidDphdXRob3JcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcInRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1widGl0bGVcIiwgXCJvZzp0aXRsZVwiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwidGFnc1wiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJUYWdzXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcInRhZ3NcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcImNvbnRlbnRJZFwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJDb250ZW50SWRcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1wiY29udGVudGlkXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJwdWJsaXNoRGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJQdWJsaXNoRGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJwdWJsaXNoRGF0ZVwiLCBcInB1YmRhdGVcIiwgXCJvZzpwZXJzX3JlY19maXJzdF9wdWJfZGF0ZVwiLCBcImJ0OnB1YkRhdGVcIl1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlRleHRcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIEV4Y2x1ZGVGcm9tQW5hbHl0aWNzOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwibGVhZFRleHRcIixcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiTGVhZFRleHRcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIEV4Y2x1ZGVGcm9tQW5hbHl0aWNzOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBtYWtlIGNvcHkgb2YgYXJyYXkuXHJcbiAgICAgICAgICAgIC8vIHdlIHVzZSBjb2xsZWN0YWJsZURpbWVuc2lvbnMgdG8gdXNlIGluIENEUCBzbyB3ZSBjYW4gc2V0IG51bGwgc3RyaW5ncy5cclxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0YWJsZURpbWVuc2lvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuY29sbGVjdGFibGVEaW1lbnNpb25zLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldEN1c3RvbURpbWVuc2lvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tQ29sbGVjdGVkRGltZW5zaW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXZhbEN1c3RvbURpbWVuc2lvbnMoZGltZW5zaW9uczogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJldmFsQ3VzdG9tRGltZW5zaW9ucyBTVEFSVFwiLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkaW1lbnNpb25zKS5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAga2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2RpbSA9IGRpbWVuc2lvbnNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhrZXksIGNkaW0sIHR5cGVvZiBjZGltKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNkaW0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIklzIEZ1bmN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGltVmFsID0gY2RpbS5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSXMgRnVuY3Rpb24gVkFMVUVcIiwgZGltVmFsKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdERpbWVuc2lvbkZvckFuYWx5dGljcyhrZXksIGRpbVZhbCk7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbUNvbGxlY3RlZERpbWVuc2lvbnNba2V5XSA9IGRpbVZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LmZpbmRJbmRleChkID0+IGQuSWQgPT09IGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMga2V5IGlzIGluIGRpbWVuc2lvbnNUb0NvbGxlY3QuIE5lZWQgdGhpcyBpbiBjYXNlIGNsaWVudCBhZGRzIG5vbi1zdXBwb3J0ZWQgZGltZW5zaW9uIGluIGRpbWVuc2lvbnMgaW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmFsQ0QgSW5kZXhcIiwgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0W2luZGV4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3RbaW5kZXhdLkNvbGxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRNZXRhVGFncygpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkxvYWRpbmcgTWV0YSBUYWdzXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBtZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIm1ldGFcIik7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTG9hZGluZyBNZXRhIFRhZ3MuIE1FVEFcIiwgbWV0YSk7XHJcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgbWV0YSBub2Rlc1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG1ldGEsIChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk1ldGFUYWcuRWFjaFwiLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIC8vIGdldCBkYXRhIGZyb20gdGhpcyBub2RlIChoYW5kbGVzIGxvZ2ljIGZvciBuYW1lL3Byb3BlcnkvdmFsdWUgZXRjLi4uKVxyXG4gICAgICAgICAgICAgICAgbGV0IG1ldGFEYXRhID0gPENvbGxlY3RlZERpbWVuc2lvbnM+dGhpcy5nZXRNZXRhRGF0YShub2RlKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiKioqKiogbWV0YSBkYXRhXCIsIG1ldGFEYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChtZXRhRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwibWV0YURhdGFcIiwgbWV0YURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgbWV0YURhdGEgc28gY2hlY2sgaWYgd2Ugc2hvdWxkIGNvbGxlY3QgdGhpcy5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmVlbkRhdGEobWV0YURhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3RcIiwgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0KTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ0aGlzLmNvbGxlY3RhYmxlRGltZW5zaW9uc1wiLCB0aGlzLmNvbGxlY3RhYmxlRGltZW5zaW9ucyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNZXRhRGF0YShtZXRhVGFnKTogQ29sbGVjdGVkRGltZW5zaW9ucyB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IG1ldGFQcm9wZXJ0eSA9IChtZXRhVGFnLmF0dHJpYnV0ZXNbXCJwcm9wZXJ0eVwiXSA/IG1ldGFUYWcuYXR0cmlidXRlc1tcInByb3BlcnR5XCJdLnZhbHVlIDogXCJcIik7XHJcbiAgICAgICAgICAgIGxldCBtZXRhTmFtZSA9IChtZXRhVGFnLmF0dHJpYnV0ZXNbXCJuYW1lXCJdID8gbWV0YVRhZy5hdHRyaWJ1dGVzW1wibmFtZVwiXS52YWx1ZSA6IFwiXCIpO1xyXG4gICAgICAgICAgICBsZXQgbWV0YVByb3BDbGVhbmVkID0gbWV0YU5hbWUgfHwgbWV0YVByb3BlcnR5O1xyXG4gICAgICAgICAgICBpZiAobWV0YVByb3BDbGVhbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWV0YVZhbHVlID0gbWV0YVRhZy5hdHRyaWJ1dGVzW1widmFsdWVcIl0gfHwgbWV0YVRhZy5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKG1ldGFWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWcgPSA8Q29sbGVjdGVkRGltZW5zaW9ucz57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWU6IG1ldGFQcm9wQ2xlYW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG1ldGFWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCIrKysrKysrKysrIGdldE1ldGFEYXRhXCIsIHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVGhpcyB0YWtlcyBhbiBJQ29sbGVjdGVkTWV0YVRhZyBhbmQgc2NyZWVucyBpdCBhZ2FpbnN0IHRoZSBkYXRhIHdlIGFyZSBhbGxvd2VkIHRvIGNvbGxlY3QgYXMgd2VsbCBhcyBkYXRhIHdlIGFscmVhZHkgY29sbGVjdGVkLlxyXG4gICAgKiBAcGFyYW0gbWV0YVRhZ1xyXG4gICAgKi9cclxuICAgIHByaXZhdGUgc2NyZWVuRGF0YShtZXRhVGFnOiBDb2xsZWN0ZWREaW1lbnNpb25zKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGZuTmFtZSA9IFwic2NyZWVuRGF0YVwiO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiTWV0YVRhZ1wiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICAvLyAvLyB0aGlzLm4rKztcclxuICAgICAgICAgICAgLy8gLy8gLy8gdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LmZvckVhY2goKGRpbSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAvLyAvLyAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImRpbS5FQUNIXCIsIGRpbSk7XHJcbiAgICAgICAgICAgIC8vIC8vIC8vICAgICBpZiAoIWRpbS5Db2xsZWN0ZWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIC8vIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyAvLyBsZXQgYWxsb3dlZFRhZ0RhdGEgPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmlsdGVyKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IHtcclxuICAgICAgICAgICAgLy8gLy8gICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImZpbHRlclwiLCBcImVsZW1lbnRcIiwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICBsZXQgaXNBbGxvd2VkID0gPGJvb2xlYW4+ZWxlbWVudC5NZXRhVGFnTmFtZXMuc29tZSh4ID0+IHggPT09IG1ldGFUYWcuTmFtZSk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICBpZiAoaXNBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImZpbHRlclwiLCBcImVsZW1lbnRcIiwgZWxlbWVudCwgXCIqKiBJUyAqKiBBbGxvd2VkXCIpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoXCImJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmIFNEIFRhZ0FsbG93ZWRcIiwgbWV0YVRhZyk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy90aGlzIHRhZyBpcyBhbGxvd2VkLiBjaGVjayBpZiB3ZSBhbHJlYWR5IGNvbGxlY3RlZCB0aGlzIGJ5IGFsbG93ZWREYXRhLkRhdGFOYW1lXHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gbGV0IGFscmVhZHlDb2xsZWN0ZWQgPSA8Ym9vbGVhbj50aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc29tZSh4ID0+IHguTmFtZSA9PT0gZWxlbWVudC5JZCk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gbGV0IGFscmVhZHlDb2xsZWN0ZWQyID0gPGJvb2xlYW4+dGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnNvbWUoeCA9PiB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJSUlJSUlJSUlJSUlJSUgc2NyZWVuRGF0YVwiLCBcImFscmVhZHlDb2xsZWN0ZWQuU09NRVwiLCBcInggPT5cIiwgeCwgXCJlbGVtZW50XCIsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vICAgICByZXR1cm4gKHguTmFtZSA9PT0gZWxlbWVudC5JZCAmJiBlbGVtZW50LkNvbGxlY3RlZCA9PSB0cnVlKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiIyMjIyMjIyMjIyMjIyMjIyMgKioqKioqKiBTRCBUYWdBbGxvd2VkIC0tIE5vdCBDb2xsZWN0ZWRcIiwgZWxlbWVudCwgbWV0YVRhZywgXCJhbHJlYWR5Q29sbGVjdGVkMlwiLCBhbHJlYWR5Q29sbGVjdGVkMik7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gaWYgKCFhbHJlYWR5Q29sbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmluZm8oXCImJiYmJiAqKioqKioqIFNEIFRhZ0FsbG93ZWQgLS0gTm90IENvbGxlY3RlZFwiLCBlbGVtZW50LCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyAgICAgdGhpcy5jb2xsZWN0ZWREaW1lbnNpb25zW2VsZW1lbnQuSWRdID0gbWV0YVRhZy5WYWx1ZTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmICoqKioqKiogU0QgVGFnQWxsb3dlZCAtLSBBbHJlYWR5IENvbGxlY3RlZFwiLCBhbHJlYWR5Q29sbGVjdGVkKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoXCImJiYmJiYmJiYgeHh4eCBTRCBOT1QgQUxMT1dFRFwiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZmlsdGVyXCIsIFwiZWxlbWVudFwiLCBlbGVtZW50LCBcIioqIE5PVCAqKiBBbGxvd2VkXCIpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAvLyAgICAgaSsrO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgdGhpcy5uKys7XHJcbiAgICAgICAgICAgIC8vIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyAvLyB0aGlzLmkrKztcclxuICAgICAgICAgICAgLy8gLy8gdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcIiMjIyMjIyMjIyMjIyMgXCIsIGkpO1xyXG4gICAgICAgICAgICBsZXQgYWxsb3dlZFRhZ0RhdGEgPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmlsdGVyKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiU0QgYWxsb3dlZFRhZ0RhdGEuIEVMRU1FTlRcIiwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBpZighZWxlbWVudCB8fCAhZWxlbWVudC5NZXRhVGFnTmFtZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbG93ZWQgPSA8Ym9vbGVhbj5lbGVtZW50Lk1ldGFUYWdOYW1lcy5zb21lKHggPT4geCA9PT0gbWV0YVRhZy5OYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0FsbG93ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYgU0QgVGFnQWxsb3dlZFwiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRhZyBpcyBhbGxvd2VkLiBjaGVjayBpZiB3ZSBhbHJlYWR5IGNvbGxlY3RlZCB0aGlzIGJ5IGFsbG93ZWREYXRhLkRhdGFOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFscmVhZHlDb2xsZWN0ZWQgPSA8Ym9vbGVhbj50aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc29tZSh4ID0+IHguTmFtZSA9PT0gZWxlbWVudC5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGFscmVhZHlDb2xsZWN0ZWQyID0gPGJvb2xlYW4+dGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnNvbWUoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJSUlJSUlJSUlJSUlJSUgc2NyZWVuRGF0YVwiLCBcImFscmVhZHlDb2xsZWN0ZWQuU09NRVwiLCBcInggPT5cIiwgeCwgXCJlbGVtZW50XCIsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXR1cm4gKHguTmFtZSA9PT0gZWxlbWVudC5JZCAmJiBlbGVtZW50LkNvbGxlY3RlZCA9PSB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiIyMjIyMjIyMjIyMjIyMjIyMgKioqKioqKiBTRCBUYWdBbGxvd2VkIC0tIE5vdCBDb2xsZWN0ZWRcIiwgZWxlbWVudCwgbWV0YVRhZywgXCJhbHJlYWR5Q29sbGVjdGVkMlwiLCBhbHJlYWR5Q29sbGVjdGVkMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5Q29sbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCImJiYmJiAqKioqKioqIFNEIFRhZ0FsbG93ZWQgLS0gTm90IENvbGxlY3RlZFwiLCBlbGVtZW50LCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmFseXRpY3NEaW1lbnNpb25zW2VsZW1lbnQuSWRdID0gbWV0YVRhZy5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmICoqKioqKiogU0QgVGFnQWxsb3dlZCAtLSBBbHJlYWR5IENvbGxlY3RlZFwiLCBhbHJlYWR5Q29sbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJiYmJiYmJiYmIHh4eHggU0QgTk9UIEFMTE9XRURcIiwgbWV0YVRhZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3REaW1lbnNpb25Gb3JBbmFseXRpY3MoZGltZW5zaW9uTmFtZSwgZGltVmFsKXtcclxuICAgICAgICBjb25zdCBjb2xsZWN0RGltZW5zaW9uPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmluZChkID0+IGQuTmFtZSA9PT0gZGltZW5zaW9uTmFtZSk7XHJcbiAgICAgICAgaWYoY29sbGVjdERpbWVuc2lvbiAmJiAhY29sbGVjdERpbWVuc2lvbi5FeGNsdWRlRnJvbUFuYWx5dGljcyl7XHJcbiAgICAgICAgICAgICB0aGlzLmFuYWx5dGljc0RpbWVuc2lvbnNbY29sbGVjdERpbWVuc2lvbi5JZF0gPSBkaW1WYWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL01ldGFEYXRhU2VydmljZS50cyIsImV4cG9ydCBjbGFzcyBEYXRlVXRpbCB7XHJcbiAgICBzdGF0aWMgZ2V0Tm93RGF0ZUluU2VjKCkge1xyXG4gICAgICAgIHJldHVybiBEYXRlVXRpbC5nZXREYXRlSW5TZWMobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXREYXRlSW5TZWMoZGF0ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRhdGUudG9TdHJpbmcoKS5zbGljZSgwLCAtIDMpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SVNPRm9ybWF0KGRhdGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gMjAxOTA0MjZUMTI6MjE6MThaXHJcbiAgICAgICAgY29uc3QgaXNvUmVneHAgPSBuZXcgUmVnRXhwKC9eKC0/KD86WzEtOV1bMC05XSopP1swLTldezR9KSgxWzAtMl18MFsxLTldKSgzWzAxXXwwWzEtOV18WzEyXVswLTldKVQoMlswLTNdfFswMV1bMC05XSk6KFswLTVdWzAtOV0pKC5bMC05XSspPyhaKT8kLyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGlzb1JlZ3hwLnRlc3QoZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBkYXRlLm1hdGNoKGlzb1JlZ3hwKTtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtYXRjaGVzWzFdICsgXCItXCIgKyBtYXRjaGVzWzJdICsgXCItXCIgKyBtYXRjaGVzWzNdICsgXCJUXCIgKyBtYXRjaGVzWzRdICsgXCI6XCIgKyBtYXRjaGVzWzVdICsgbWF0Y2hlc1s2XSArIFwiWlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWREYXRlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRlID0gdGhpcy5nZXRDb3JyZWN0RGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSVNPU3RyaW5nKHBhcnNlZERhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldElTT0Zvcm1hdFwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNJc29Gb3JtYXQoc3RyaW5nRGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBzdHJpbmdEYXRlLnRlc3QoL14oLT8oPzpbMS05XVswLTldKik/WzAtOV17NH0pKDFbMC0yXXwwWzEtOV0pKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pVCgyWzAtM118WzAxXVswLTldKTooWzAtNV1bMC05XSkoLlswLTldKyk/KFopPyQvKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNWYWxpZERhdGUoZGF0ZVN0cjogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IERhdGUucGFyc2UoZGF0ZVN0cik7XHJcbiAgICAgICAgcmV0dXJuICFpc05hTih0aW1lc3RhbXApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDb3JyZWN0RGF0ZShkYXRlOiBzdHJpbmcpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBwYXJzZWREYXRlOiBEYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNVbml4VGltZVJhbmdlKHBhcnNlZERhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWREYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNVbml4VGltZVJhbmdlKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpID49IDE5NzA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBhZCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjBcIiArIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRvSVNPU3RyaW5nKGRhdGU6IERhdGUpIHtcclxuICAgICAgICAvLyAyMDE5MDYwMVQxMzoxNDoxNVpcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpICtcclxuICAgICAgICAgICAgXCJcIiArIHRoaXMucGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICtcclxuICAgICAgICAgICAgXCJcIiArIHRoaXMucGFkKGRhdGUuZ2V0VVRDRGF0ZSgpKSArXHJcbiAgICAgICAgICAgIFwiVFwiICsgdGhpcy5wYWQoZGF0ZS5nZXRVVENIb3VycygpKSArXHJcbiAgICAgICAgICAgIFwiOlwiICsgdGhpcy5wYWQoZGF0ZS5nZXRVVENNaW51dGVzKCkpICtcclxuICAgICAgICAgICAgXCI6XCIgKyB0aGlzLnBhZChkYXRlLmdldFVUQ1NlY29uZHMoKSkgK1xyXG4gICAgICAgICAgICBcIlpcIjtcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGdldFRpbWVzdGFtcChldmVudFRpbWVzdGFtcD86IGFueSk6IG51bWJlciB7XHJcblxyXG4gICAgICAgIGlmICghZXZlbnRUaW1lc3RhbXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm93RGF0ZUluU2VjKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0aW1lc3RhbXBQYXJ0ID0gKFwiXCIgKyBldmVudFRpbWVzdGFtcCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuXHJcbiAgICAgICAgbGV0IGluZGV4UG9pbnQgPSB0aW1lc3RhbXBQYXJ0LmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgIGlmIChpbmRleFBvaW50ID4gLSAxKSB7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcnQgPSBldmVudFRpbWVzdGFtcC5yZXBsYWNlKC9cXC4vZywgXCJcIik7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcnQgPSAoXCJcIiArIHRpbWVzdGFtcFBhcnQpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaW50UGFydCA9IHBhcnNlSW50KHRpbWVzdGFtcFBhcnQpO1xyXG4gICAgICAgIGlmIChpbnRQYXJ0LnRvU3RyaW5nKCkubGVuZ3RoICE9PSAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXROb3dEYXRlSW5TZWMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50UGFydDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZERheXModGhlRGF0ZTogRGF0ZSwgZGF5czogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhlRGF0ZS5nZXRUaW1lKCkgKyBkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkudmFsdWVPZigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRIb3Vycyh0aGVEYXRlOiBEYXRlLCBob3VyczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhlRGF0ZS5nZXRUaW1lKCkgKyBob3VycyAqIDYwICogNjAgKiAxMDAwKS52YWx1ZU9mKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERhdGVWYWx1ZUZyb21UaW1lc3RhbXAodGltZXN0YW1wOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aW1lc3RhbXAgKiAxMDAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkYXlzRGlmZihzdGFydERhdGVWYWx1ZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigobmV3IERhdGUoKS52YWx1ZU9mKCkgLSArc3RhcnREYXRlVmFsdWUpIC8gODY0MDAwMDApO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvRGF0ZVV0aWwudHMiLCJpbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZW5kT3B0aW9uc01vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsXCI7XHJcbmltcG9ydCB7IEJvdERldGVjdG9yIH0gZnJvbSBcIkBNb2R1bGVzL2JvdERldGVjdGlvbi9Cb3REZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRJbnRlcmZhY2UgfSBmcm9tIFwiLi9DZHBFdmVudEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IENvbm5leHRNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29ubmV4dE1vZHVsZS9Db25uZXh0TW9kdWxlXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2RwRXZlbnQgaW1wbGVtZW50cyBDZHBFdmVudEludGVyZmFjZSB7XHJcbiAgICBldmVudE1vZGVsOiBDZHBFdmVudE1vZGVsO1xyXG4gICAgSXNBc3luYzogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcm90ZWN0ZWQgb3JpZ2luYWxFdmVudE5hbWU7XHJcbiAgICBwcm90ZWN0ZWQgb3JpZ2luYWxFdmVudE5hbWVzID0gW107XHJcbiAgICBwcm90ZWN0ZWQgb3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICBwdWJsaWMgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkNkcEV2ZW50XCIpO1xyXG4gICAgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJvdGVjdGVkIGN1cnJlbnRFdmVudE5hbWU7IC8vIGZvciBtdWx0eSBvcmlnaW4gZXZlbnRcclxuICAgIHJlYWRvbmx5IHJlcXVpcmVkRmllbGRzID0gW1wiRGV2aWNlSWRcIiwgXCJTaXRlQ29kZVwiLCBcIkNsaWVudENvZGVcIiwgXCJDb25maWdDb2RlXCJdO1xyXG4gICAgcmVhZG9ubHkgb3B0aW9uYWxGaWVsZHMgPSBbXCJHMklkZXZpY2VpZFwiXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBuZXcgQ2RwRXZlbnRNb2RlbChudWxsKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5jbGVhclByZXZpb3VzRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEV2ZW50T3B0aW9ucygpOiBTZW5kT3B0aW9uc01vZGVsSW50ZXJmYWNlIHtcclxuICAgICAgICBsZXQgc2VuZE9wdGlvbnMgPSBuZXcgU2VuZE9wdGlvbnNNb2RlbCgpO1xyXG4gICAgICAgIHNlbmRPcHRpb25zLklzQXN5bmMgPSB0aGlzLklzQXN5bmM7XHJcbiAgICAgICAgcmV0dXJuIHNlbmRPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsaXN0ZW4oKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJSZWdpc3RlcmluZyBFdmVudExpc3RlbmVyXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnROYW1lcyAmJiB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lcy5mb3JFYWNoKChldmVudE5hbWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQoZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuRXZlbnQodGhpcy5vcmlnaW5hbEV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiTm8gZXZlbnQgTmFtZSBpbiBPYmplY3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiYWRkQ29sbGVjdG9yRXZlbnRMaXN0ZW5lci5FcnJvclwiLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdGVuRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImFkZEV2ZW50TGlzdGVuZXIuLi5cIiwgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgZXZlbnROYW1lLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiRmlyaW5nXCIsIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclByZXZpb3VzRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShlLmRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudE5hbWUgPSBldmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLmV2ZW50RmlyZSh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtRXZlbnREYXRhKHRyYW5zZm9ybURhdGE/OiBhbnkpIHtcclxuICAgICAgICBsZXQgb3JpZ2luYWxFdmVudERhdGEgPSB0aGlzLmdldE9yaWdpbmFsRXZlbnREYXRhKCk7XHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHRyYW5zZm9ybURhdGEgfHwgb3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhIHx8IHt9O1xyXG4gICAgICAgIGxldCBkYXRhT2JqZWN0VG9BcnJheSA9IFV0aWxzLkFycmF5VG9EaWN0aW9uYXJ5UmVjdXJzaXZlKGV2ZW50RGF0YSwgW10pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEgPSB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLmNvbmNhdCh0aGlzLmNvbnZlcnREYXRhVmFsdWVUb1N0cmluZyhkYXRhT2JqZWN0VG9BcnJheSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUV2ZW50RGF0YSgpIHtcclxuICAgICAgICBjb25zdCBmaXJlZERhdGEgPSB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLmFkZFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5hZGRCb3RJbmZvKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgZmlyZWREYXRhLmZvckVhY2goZmQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzYW1lS2V5RGF0YSA9IHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEuZmluZChjZCA9PiBjZC5LZXkgPT09IGZkLktleSk7XHJcbiAgICAgICAgICAgIGlmIChzYW1lS2V5RGF0YSAmJiBzYW1lS2V5RGF0YS5WYWx1ZSAhPT0gZmQuVmFsdWUgJiYgZmQuVmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgdXBkYXRlX2V2ZW50X2RhdGE6ICR7SlNPTi5zdHJpbmdpZnkoc2FtZUtleURhdGEpfSAtPiAke0pTT04uc3RyaW5naWZ5KGZkKX1gKTtcclxuICAgICAgICAgICAgICAgIHNhbWVLZXlEYXRhLlZhbHVlID0gZmQuVmFsdWU7ICAgLy8gdXBkYXRlIHZhbHVlcyBvbiBwcmV2aW91c1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzYW1lS2V5RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKGZkKTsgLy8gaWRrIGlmIGl0J3MgcG9zc2libGVcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgcHVzaF9ldmVudF9kYXRhOiAke0pTT04uc3RyaW5naWZ5KGZkKX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUV2ZW50TW9kZWwoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkcySWRldmljZWlkID0gdGhpcy5ldmVudE1vZGVsLkcySWRldmljZWlkIHx8IENkcE1vZHVsZS5nZXRHMmlEZXZpY2VJZCgpIHx8IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQm90SW5mbygpIHtcclxuICAgICAgICBpZiAoQ29uZmlnTW9kdWxlLmlzQWRkQm90SW5mb3JtYXRpb24oKSkge1xyXG4gICAgICAgICAgICBsZXQgYm90RGV0ZWN0b3IgPSBuZXcgQm90RGV0ZWN0b3IoKTtcclxuICAgICAgICAgICAgbGV0IGRldGVjdEJvdCA9IGJvdERldGVjdG9yLmdldERldGVjdEJvdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRldGVjdEJvdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiBcIkJvdE5hbWVcIiwgVmFsdWU6IGRldGVjdEJvdC5uYW1lIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiBcIkJvdENhdGVnb3J5XCIsIFZhbHVlOiBkZXRlY3RCb3QuY2F0ZWdvcnkgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IFwiVXNlckJvdFwiLCBWYWx1ZTogXCJmYWxzZVwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEV2ZW50TW9kZWwoKTogQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gbmV3IENkcEV2ZW50TW9kZWwobnVsbCk7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRXZlbnREYXRhID0gdGhpcy5nZXRPcmlnaW5hbEV2ZW50RGF0YSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5QYWdlU2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkIHx8IHRoaXMuZ2V0RXZlbnRQYWdlU2Vzc2lvbklkKG9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRGV2aWNlQnJvd3NlclNlc3Npb25JZCA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0RGV2aWNlU2Vzc2lvbklkKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VGltZXN0YW1wID0gRGF0ZVV0aWwuZ2V0Tm93RGF0ZUluU2VjKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLlNpdGVFbnZpcm9ubWVudCA9IENvbmZpZ01vZHVsZS5nZXRTaXRlRW52aXJvbm1lbnQoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuQ2xpZW50Q29kZSA9IENvbmZpZ01vZHVsZS5nZXRDbGllbnRDb2RlKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLlNpdGVDb2RlID0gQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkRldmljZUlkID0gRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkcySWRldmljZWlkID0gQ2RwTW9kdWxlLmdldEcyaURldmljZUlkKCkgfHwgXCJcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuQ29uZmlnQ29kZSA9IENvbm5leHRNb2R1bGUuZ2V0Q29uZmlnQ29kZSgpIHx8IFwiVW5rbm93blwiO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5hZGRCb3RJbmZvKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRNb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCk6IHZvaWQgeyB9XHJcblxyXG4gICAgYWRkVmVyc2lvbkluZm8oKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiBcIlZlcnNpb25cIiwgVmFsdWU6IFV0aWxzLmdldFZlcnNpb24oKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEV2ZW50UGFnZVNlc3Npb25JZChvcmlnaW5hbEV2ZW50RGF0YSkge1xyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEV2ZW50RGF0YS5FdmVudEluZm8gPyBvcmlnaW5hbEV2ZW50RGF0YS5FdmVudEluZm8uU2Vzc2lvbklkIDogVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb252ZXJ0RGF0YVZhbHVlVG9TdHJpbmcoZGF0YTogYW55KTogYW55IHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImV2ZW50RGF0YVZhbHVlVG9TdHJpbmdcIiwgXCJldmVudERhdGFWYWx1ZVRvU3RyaW5nXCIsIGRhdGEpO1xyXG4gICAgICAgIGxldCBjbGVhbmVkID0gW107XHJcbiAgICAgICAgZGF0YS5tYXAoZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICgodHlwZW9mIGUuVmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgZS5WYWx1ZSAhPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFuZWQucHVzaCh7IFwiS2V5XCI6IGUuS2V5LCBcIlZhbHVlXCI6IGUuVmFsdWUudG9TdHJpbmcoKSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNsZWFuZWQucHVzaCh7IFwiS2V5XCI6IGUuS2V5LCBcIlZhbHVlXCI6IFwiXCIgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImV2ZW50RGF0YVZhbHVlVG9TdHJpbmdcIiwgXCJldmVudERhdGFWYWx1ZVRvU3RyaW5nXCIsIGNsZWFuZWQpO1xyXG4gICAgICAgIHJldHVybiBjbGVhbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVmFsaWQoZXhjbHVkZU9wdGlvbmFsID0gZmFsc2UpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgZmllbGRMZW5ndGggPSB0aGlzLnJlcXVpcmVkRmllbGRzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50TW9kZWxbdGhpcy5yZXF1aXJlZEZpZWxkc1tpXV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWV4Y2x1ZGVPcHRpb25hbCkge1xyXG4gICAgICAgICAgICBsZXQgb3B0aW9uYWxGaWVsZExlbmd0aCA9IHRoaXMub3B0aW9uYWxGaWVsZHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbmFsRmllbGRMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50TW9kZWxbdGhpcy5vcHRpb25hbEZpZWxkc1tpXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVxdWlyZWRGaWVsZHModXBkYXRlVXNlckRhdGFNb2RlbDogQ2RwRXZlbnRNb2RlbCB8IENkcEV2ZW50TW9kZWxbXSwgZXhjbHVkZU9wdGlvbmFsID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cGRhdGVVc2VyRGF0YU1vZGVsKSkge1xyXG4gICAgICAgICAgICB1cGRhdGVVc2VyRGF0YU1vZGVsID0gdXBkYXRlVXNlckRhdGFNb2RlbFswXTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInVwZGF0ZVVzZXJEYXRhTW9kZWxcIiwgdXBkYXRlVXNlckRhdGFNb2RlbClcclxuXHJcbiAgICAgICAgaWYgKCF1cGRhdGVVc2VyRGF0YU1vZGVsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5yZXF1aXJlZEZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWxbZmllbGRdID0gdGhpcy5ldmVudE1vZGVsW2ZpZWxkXSA/IHRoaXMuZXZlbnRNb2RlbFtmaWVsZF0gOiB1cGRhdGVVc2VyRGF0YU1vZGVsW2ZpZWxkXTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKCFleGNsdWRlT3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25hbEZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsW2ZpZWxkXSA9IHRoaXMuZXZlbnRNb2RlbFtmaWVsZF0gPyB0aGlzLmV2ZW50TW9kZWxbZmllbGRdIDogdXBkYXRlVXNlckRhdGFNb2RlbFtmaWVsZF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0cnlVcGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRNb2RlbCAmJiAhdGhpcy5ldmVudE1vZGVsLkRldmljZUlkKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkRldmljZUlkID0gRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldE9yaWdpbmFsRXZlbnREYXRhKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEgfHwge307XHJcbiAgICB9XHJcblxyXG4gICAgc2V0T3JpZ2luYWxFdmVudERhdGEoZXZlbnREYXRhKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclByZXZpb3VzRGF0YSgpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBuZXcgQ2RwRXZlbnRNb2RlbChudWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENhbGN1bGF0ZU1vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnQudHMiLCJleHBvcnQgY29uc3QgRmlyc3RWaXNpdFByb3BlcnRpZXMgPSB7XHJcbiAgICBDb2xsZWN0VGltZTogXCJ0c19kaWZmXCIsXHJcbiAgICBDb3VudENsaWNrOiBcImNudF9jbGlja1wiLFxyXG4gICAgQ291bnRQYWdldmlldzogXCJjbnRfcGFnZXZpZXdcIixcclxuICAgIENvdW50Q3JlYXRlQWNjb3VudEV2ZW50czogXCJjbnRfY3JlYXRlYWNjb3VudFwiLFxyXG4gICAgQ291bnRDaGVja291dFN0YXJ0RXZlbnRzOiBcImNudF9jaGVja291dHN0YXJ0XCJcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXMudHMiLCJpbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvbG9jYWwvTG9jYWxTdG9yYWdlXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlU2VydmljZUNsYXNzIGV4dGVuZHMgTG9jYWxTdG9yYWdlIHtcclxuICAgIHByaXZhdGUgbG9jYWxTdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZSgpO1xyXG5cclxuICAgIGV4cGFuZEtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc2l0ZUNvZGUgPSBDb25maWdNb2R1bGUuZ2V0U2l0ZUNvZGUoKVxyXG4gICAgICAgIGNvbnN0IGNsaWVudENvZGUgPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG5cclxuICAgICAgICBpZiAoIXNpdGVDb2RlIHx8ICFjbGllbnRDb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBleHBhbmRlZEtleSA9IFtcclxuICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICBzaXRlQ29kZSxcclxuICAgICAgICAgICAgY2xpZW50Q29kZVxyXG4gICAgICAgIF0uam9pbihcIl9cIik7XHJcblxyXG4gICAgICAgIHJldHVybiBleHBhbmRlZEtleTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQoa2V5OiBzdHJpbmcsIGV4cGFuZDogYm9vbGVhbiA9IHRydWUpOiBhbnkge1xyXG4gICAgICAgIGtleSA9IGV4cGFuZCA/IHRoaXMuZXhwYW5kS2V5KGtleSkgOiBrZXk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yYWdlLmdldChrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChrZXk6IHN0cmluZywgIHZhbHVlOiBhbnksIGV4cGFuZDogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICBrZXkgPSBleHBhbmQgPyB0aGlzLmV4cGFuZEtleShrZXkpIDoga2V5O1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGtleTogc3RyaW5nLCBleHBhbmQ6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAga2V5ID0gZXhwYW5kID8gdGhpcy5leHBhbmRLZXkoa2V5KSA6IGtleTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFN0b3JhZ2UuZGVsZXRlKGtleSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBMb2NhbFN0b3JhZ2VTZXJ2aWNlID0gbmV3IExvY2FsU3RvcmFnZVNlcnZpY2VDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vZGF0YS9tb2R1bGVzL0xvY2FsU3RvcmFnZVNlcnZpY2UudHMiLCJleHBvcnQgY29uc3QgQ2xpY2tFdmVudE5hbWUgPSB7XHJcbiAgICBMb2dpbjogXCJMb2dpblwiLFxyXG4gICAgQWN0aXZhdGU6IFwiQWN0aXZhdGVcIixcclxuICAgIFVwZ3JhZGU6IFwiVXBncmFkZVwiLFxyXG4gICAgT3RoZXI6IFwiT3RoZXJcIixcclxuICAgIFNpZ25VcDogXCJTaWduVXBcIixcclxuICAgIFNvY2lhbDogXCJTb2NpYWxcIixcclxuICAgIFJlZ2lzdGVyOiBcIlJlZ2lzdGVyXCIsXHJcbiAgICBMb2dvdXQ6IFwiTG9nb3V0XCIsXHJcbiAgICBTdWJzY3JpYmU6IFwiU3Vic2NyaWJlXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50TmFtZSA9IHtcclxuICAgIE1ldGVyTGV2ZWxTZXQ6IFwibWV0ZXJMZXZlbFNldFwiLFxyXG4gICAgQ29udmVyc2F0aW9uRGV0ZXJtaW5lZDogXCJjb252ZXJzYXRpb25EZXRlcm1pbmVkXCIsXHJcbiAgICBNZXRlclN0YXJ0OiBcIm1ldGVyU3RhcnRcIixcclxuICAgIE1ldGVyU3RvcDogXCJtZXRlclN0b3BcIixcclxuICAgIEFjdGlvblNob3duOiBcImFjdGlvblNob3duXCIsXHJcbiAgICAvLyBQYWdlVmlldzogXCJwYWdlVmlld1wiLFxyXG4gICAgTmV3c2xldHRlclNpZ251cDogXCJuZXdzbGV0dGVyU2lnbnVwXCIsXHJcbiAgICAvLyBPbkluaXQ6IFwib25Jbml0XCIsXHJcbiAgICBDaGVja291dFN0YXJ0OiBcIkNoZWNrb3V0U3RhcnRcIixcclxuICAgIE9mZmVyc1ByZXNlbnRlZDogXCJPZmZlcnNQcmVzZW50ZWRcIixcclxuICAgIEJpbGxpbmdBZGRyZXNzOiBcIkJpbGxpbmdBZGRyZXNzXCIsXHJcbiAgICBVc2VySW5mbzogXCJVc2VySW5mb1wiLFxyXG4gICAgQ3JlYXRlZE5ld1VzZXI6IFwiQ3JlYXRlZE5ld1VzZXJcIixcclxuICAgIFBheW1lbnQ6IFwiUGF5bWVudFwiLFxyXG4gICAgRGVsaXZlcnlBZGRyZXNzOiBcIkRlbGl2ZXJ5QWRkcmVzc1wiLFxyXG4gICAgU3Vic2NyaXB0aW9uU3VjY2VzczogXCJTdWJzY3JpcHRpb25TdWNjZXNzXCIsXHJcbiAgICBBYmFuZG9uUHJlc2VudGVkOiBcIkFiYW5kb25QcmVzZW50ZWRcIixcclxuICAgIEFiYW5kb25DbG9zZWQ6IFwiQWJhbmRvbkNsb3NlZFwiLFxyXG4gICAgSWRsZVByZXNlbnRlZDogXCJJZGxlUHJlc2VudGVkXCIsXHJcbiAgICBJZGxlQ2xvc2VkOiBcIklkbGVDbG9zZWRcIixcclxuICAgIFVwc2VsbFNlbGVjdGVkOiBcIlVwc2VsbFNlbGVjdGVkXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50TmFtZXMgPSB7XHJcbiAgICBQYWdlVmlldzogXCJQYWdlVmlld1wiXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY29uc3RhbnRzL0V2ZW50cy50cyIsImltcG9ydCB7IENvbnZlcnNhdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi9jbGFzc2VzL0NvbnZlcnNhdGlvbk1hbmFnZXJcIjtcclxuaW1wb3J0IHsgQWN0aW9uTWFuYWdlciB9IGZyb20gXCIuL2NsYXNzZXMvQWN0aW9uTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDbGlja0FjdGlvbk1vZGVsIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L0NsaWNrQWN0aW9uTW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dE1vZHVsZUNsYXNzIHtcclxuICAgcHJpdmF0ZSBoYXNBZGJsb2NrID0gZmFsc2U7XHJcblxyXG4gICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgdGhpcy5saXN0ZW5FdmVudHMoKTtcclxuICAgfVxyXG5cclxuICAgcHJpdmF0ZSBsaXN0ZW5FdmVudHMoKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuQWRibG9ja0ZvdW5kKCk7XHJcbiAgIH1cclxuXHJcbiAgIHByaXZhdGUgbGlzdGVuQWRibG9ja0ZvdW5kKCkge1xyXG4gICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCBcIm9uQWRibG9ja0ZvdW5kXCIsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICB0aGlzLmhhc0FkYmxvY2sgPSB0cnVlO1xyXG4gICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICBnZXRBZGJsb2NrRGV0ZWN0ZWQoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmhhc0FkYmxvY2s7XHJcbiAgIH1cclxuXHJcbiAgIGdldEN1cnJlbnRDb252ZXJzYXRpb24oKSB7XHJcbiAgICAgIHJldHVybiBDb252ZXJzYXRpb25NYW5hZ2VyLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgfVxyXG5cclxuICAgR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpIHtcclxuICAgICAgcmV0dXJuIENvbnZlcnNhdGlvbk1hbmFnZXIuR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpO1xyXG4gICB9XHJcblxyXG4gICBnZXRBY3Rpb25EYXRhRnJvbUVsZW1lbnQoY2xpY2tlZEVsZW1lbnQpOiBDbGlja0FjdGlvbk1vZGVsIHwgbnVsbCB7XHJcbiAgICAgIHJldHVybiBBY3Rpb25NYW5hZ2VyLmdldEluZm9Gcm9tQ2xpY2tlZEVsZW1lbnQoY2xpY2tlZEVsZW1lbnQpXHJcbiAgIH1cclxuXHJcbiAgIGhhc0Nvbm5leHQoKSB7XHJcbiAgICAgIHJldHVybiAhIXdpbmRvdy5Db25uZXh0O1xyXG4gICB9XHJcblxyXG4gICBnZXRWZXJzaW9uSW5mbygpIHtcclxuICAgICAgaWYgKHdpbmRvdy5Db25uZXh0KSB7XHJcbiAgICAgICAgIHJldHVybiB3aW5kb3cuQ29ubmV4dC5HZXRWZXJzaW9uSW5mbygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIHJldHVybiBcIkNvbm5leHQgaXMgbm90IGRlZmluZWRcIlxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIGdldENvbmZpZ0NvZGUoKSB7XHJcbiAgICAgIGlmICh3aW5kb3cuQ29ubmV4dCAmJiB3aW5kb3cuQ29ubmV4dC5TdG9yYWdlKSB7XHJcbiAgICAgICAgICByZXR1cm4gd2luZG93LkNvbm5leHQuU3RvcmFnZS5HZXRDb25maWdDb2RlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcbiAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvbm5leHRNb2R1bGUgPSBuZXcgQ29ubmV4dE1vZHVsZUNsYXNzKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGUudHMiLCJpbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb21tb25NZXRhRGF0YSB9IGZyb20gXCIuL2NsYXNzZXMvQ29tbW9uTWV0YURhdGFcIjtcclxuaW1wb3J0IHsgc2hhMjU2IH0gZnJvbSBcImpzLXNoYTI1NlwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmNsYXNzIERpbWVuc2lvbnNNb2R1bGVDbGFzcyB7XHJcbiAgICBkaW1lbnNpb25zOiBPYmplY3QgPSB7fTtcclxuICAgIC8vIHRvZG8gbmVlZCBhZGQgdG8gbW9kZWxcclxuICAgIHByb3BlcnRpZXMgPSBbXHJcbiAgICAgICAgXCJUaXRsZVwiLFxyXG4gICAgICAgIFwiS2V5d29yZHNcIixcclxuICAgICAgICBcIlNlY3Rpb25cIixcclxuICAgICAgICBcIlVybFwiLFxyXG4gICAgICAgIFwiQ29udGVudFR5cGVcIixcclxuICAgICAgICBcIkF1dGhvclwiLFxyXG4gICAgICAgIFwiVGFnc1wiLFxyXG4gICAgICAgIFwiQ29udGVudElkXCIsXHJcbiAgICAgICAgXCJQdWJsaXNoRGF0ZVwiLFxyXG4gICAgICAgIFwiTGVhZFRleHRcIixcclxuICAgICAgICBcIlRleHRcIixcclxuICAgICAgICBcIkNhdGVnb3J5XCIsXHJcbiAgICAgICAgXCJEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgIFwiUGljdHVyZXNcIixcclxuICAgICAgICBcIlZpZGVvXCIsXHJcbiAgICAgICAgXCJMaWtlc1wiLFxyXG4gICAgICAgIFwiU2hhcmVzXCIsXHJcbiAgICAgICAgXCJCcmVha2luZ05ld3NcIixcclxuICAgICAgICBcIlByZW1pdW1cIixcclxuICAgICAgICBcIkxhbmd1YWdlXCIsXHJcbiAgICAgICAgXCJSZWNvbW1lbmRlZFwiLFxyXG4gICAgICAgIFwiTGVhZEltYWdlVXJsXCJcclxuICAgIF07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVPdGhlclBsdWdpblN0YXJ0Q2hhbmdlQ29udGVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERpbWVuc2lvbnMoKSB7XHJcbiAgICAgICAgaWYgKCFVdGlscy5pc0VtcHR5KHRoaXMuZGltZW5zaW9ucykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3VzdG9tQ29uZmlnRGltID0gdGhpcy5nZXREaW1lbnNpb25zRnJvbUN1c3RvbUNvbmZpZygpO1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kRGltZW5zaW9ucyhjdXN0b21Db25maWdEaW0pO1xyXG5cclxuICAgICAgICBjb25zdCBpbml0RGltID0gdGhpcy5nZXREaW1lbnNpb25zRnJvbUNsaWVudEluaXQoKTtcclxuICAgICAgICB0aGlzLmV4dGVuZERpbWVuc2lvbnMoaW5pdERpbSk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsbEVtcHR5RGltRnJvbU1ldGEoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucyAmJiAhdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudElkXCJdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRJZFwiXSA9IHRoaXMuZ2V0Q2FsY3VsYXRlQ29udGVudElkKHRoaXMuZGltZW5zaW9uc1tcIlRleHRcIl0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudFR5cGVcIl0gPSB0aGlzLmdldENvbnRlbnRUeXBlKCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVzZXRJbnZhbGlkVmFsdXMoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnRlbnRUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucyAmJiB0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50VHlwZVwiXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudFR5cGVcIl0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwidW5rbm93blwiXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDYWxjdWxhdGVDb250ZW50SWQoYXJ0aWNsZVRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCFhcnRpY2xlVGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzaGEyNTYoYXJ0aWNsZVRleHQucmVwbGFjZSgvXFxzL2csIFwiXCIpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERpbWVuc2lvbnNGcm9tQ3VzdG9tQ29uZmlnKCk6IE9iamVjdCB7XHJcbiAgICAgICAgcmV0dXJuIENvbmZpZ01vZHVsZS5nZXRDdXN0b21EaW1lbnNpb25zKCkgfHwge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREaW1lbnNpb25zRnJvbUNsaWVudEluaXQoKTogT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gQ29uZmlnTW9kdWxlLmdldEluaXREaW1lbnNpb25zKCkgfHwge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaWxsRW1wdHlEaW1Gcm9tTWV0YSgpIHtcclxuICAgICAgICBjb25zdCBkZWZhdWx0RGltID0gQ29tbW9uTWV0YURhdGEuZ2V0RGVmYXVsdE1ldGEoKTtcclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBkZWZhdWx0RGltKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWZhdWx0RGltLmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiAhdGhpcy5kaW1lbnNpb25zW3Byb3BlcnR5XSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zW3Byb3BlcnR5XSA9IGRlZmF1bHREaW1bcHJvcGVydHldKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleHRlbmREaW1lbnNpb25zKGRhdGFNb2RlbDogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhTW9kZWwpIHJldHVybjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gZGF0YU1vZGVsKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhTW9kZWwuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNbcHJvcGVydHldID0gZGF0YU1vZGVsW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RHluYW1pY0RpbWVuc2lvbnMoKSB7XHJcbiAgICAgICAgY29uc3QgZHluYW1pY0RpbWVuc2lvbnMgPSB7fTtcclxuICAgICAgICBjb25zdCBkaW1lbnNpb25zT2JqZWN0ID0gdGhpcy5nZXREaW1lbnNpb25zKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIGRpbWVuc2lvbnNPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKGRpbWVuc2lvbnNPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpICYmIHRoaXMucHJvcGVydGllcy5pbmRleE9mKHByb3BlcnR5KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNEaW1lbnNpb25zW3Byb3BlcnR5XSA9IGRpbWVuc2lvbnNPYmplY3RbcHJvcGVydHldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkeW5hbWljRGltZW5zaW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udGVudElkKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5kaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGltZW5zaW9ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucyAmJiB0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50SWRcIl0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRJZFwiXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3Vic2NyaWJlT3RoZXJQbHVnaW5TdGFydENoYW5nZUNvbnRlbnQoKSB7XHJcbiAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJvbklubmVyQmVmb3JlQ29udGVudENoYW5nZWRcIiwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RGltZW5zaW9ucygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCBcIm9uQ2FtcGFpZ25Gb3VuZFwiLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZXREaW1lbnNpb25zKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc2V0SW52YWxpZFZhbHVzKCkge1xyXG4gICAgICAgIGNvbnN0IGludmFsaWRTdHJpbmdzID0gW1N0cmluZyh1bmRlZmluZWQpLCBTdHJpbmcoTmFOKS50b0xvd2VyQ2FzZSgpLCBTdHJpbmcobnVsbCldO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiB0aGlzLmRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmRpbWVuc2lvbnNbcHJvcGVydHldO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIGludmFsaWRTdHJpbmdzLmluZGV4T2YodmFsdWUudG9Mb3dlckNhc2UoKSkgIT09IC0xIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1twcm9wZXJ0eV0gPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRGltZW5zaW9uc01vZHVsZSA9IG5ldyBEaW1lbnNpb25zTW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9EaW1lbnNpb25zTW9kdWxlLnRzIiwiaW1wb3J0IHsgSHR0cFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9IdHRwU2VydmljZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgRnBEZXZpY2VJbmZvSW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2ludGVyZmFjZXMvRnBEZXZpY2VJbmZvSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcbmltcG9ydCB7IFBsdWdpbklubmVyRXZlbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50c1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgSHR0cE9wdGlvbnMsIEh0dHBSZXNwb25zZSB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9odHRwL0h0dHBcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFJlbmVyZXJhdGlvbk1vZGVsID0ge1xyXG4gICAgbmV3X2RldmljZV9pZDogc3RyaW5nO1xyXG4gICAgb2xkX2RldmljZV9pZDogc3RyaW5nO1xyXG4gICAgZzJpZGV2aWNlaWQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERldmljZU1vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgZmFpbGVkUmVnZW5lcmF0aW9uc0tleSA9IFwiZmFpbGVkUmVnZW5lcmF0aW9uc1wiO1xyXG4gICAgcHJpdmF0ZSBpc0dldFVzZXJGaW5pc2hlZCA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBpc1BlbmRpbmdSZXF1ZXN0ID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGxvY2FsU3RvcmFnZVJlYWR5OiBQcm9taXNlPGFueT47XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jZHBEbERhdGFBdmFpbGFiaWxpdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNkcERsRGF0YUF2YWlsYWJpbGl0eSgpIHtcclxuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZVJlYWR5ID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFBsdWdpbklubmVyRXZlbnRzLkcySUFmdGVyU2V0SW5pdE9wdGlvbnMsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXREZXZpY2VJZCgpIHtcclxuICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuaW5pdERldmljZUlkKChhY3R1YWxEZXZpY2VJZDogc3RyaW5nKSA9PiB0aGlzLmxvY2FsU3RvcmFnZVJlYWR5LnRoZW4oKCkgPT4gdGhpcy5tb2NrT2xkRGV2aWNlSWRJZk5lZWQoYWN0dWFsRGV2aWNlSWQpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQWN0dWFsSWQoZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpLnRoZW4oYWN0dWFsSWQgPT4gYWN0dWFsSWQgPT09IGRldmljZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vY2tPbGREZXZpY2VJZElmTmVlZChhY3R1YWxEZXZpY2VJZDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYWN0dWFsRGV2aWNlSWQ7XHJcbiAgICAgICAgLy8gYWN0dWFsRGV2aWNlSWQgLSBGUCB2YWx1ZVxyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2ZwPSR7cmVzdWx0fWApO1xyXG4gICAgICAgIGNvbnN0IGRpZExzID0gQ2RwTW9kdWxlLmdldERldmljZUlkRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICAvLyBkaWRMcyAtIHZhbHVlIGZyb20gTFNcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGRpZF9scz0ke2RpZExzfWApO1xyXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZmFsbGJhY2tEZXZpY2VJZElmTmVlZChyZXN1bHQsIGRpZExzKTtcclxuICAgICAgICAvLyByZXN1bHQgPSBvcmlnaW5hbCAtPiBMUyAtPiBndWlkXHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5taWdyYXRlUXVldWUocmVzdWx0KTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGRpZF9hY3R1YWw9JHtyZXN1bHR9YCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZhbGxiYWNrRGV2aWNlSWRJZk5lZWQoYWN0dWFsRGV2aWNlSWQ6IHN0cmluZywgZGlkTHM6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChkaWRMcykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGlkTHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCByZXN1bHQgPSAgYWN0dWFsRGV2aWNlSWQ7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gXCJndWlkLVwiICsgVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGRpZF9mYWxsYmFja19ndWlkPSR7cmVzdWx0fWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2ZhbGxiYWNrX2xzPSR7cmVzdWx0fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBDZHBNb2R1bGUudXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShyZXN1bHQpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtaWdyYXRlUXVldWUoYWN0dWFsRlBWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBxdWV1ZSA9IHRoaXMuZ2V0RmFpbGVkUmVnZW5lcmF0aW9ucygpO1xyXG4gICAgICAgIGxldCBvbmVJdGVtOiBSZW5lcmVyYXRpb25Nb2RlbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBvbmVJdGVtID0ge30gYXMgUmVuZXJlcmF0aW9uTW9kZWw7XHJcbiAgICAgICAgICAgIG9uZUl0ZW0ub2xkX2RldmljZV9pZCA9IERldmljZURldGVjdG9yLmdldENhbGN1bGF0ZWREZXZpY2VJZCgpIHx8IHF1ZXVlWzBdLm9sZF9kZXZpY2VfaWQ7IC8vIHJlbW92ZSB3aGVuIGZpeCBpbiBGUD9cclxuICAgICAgICAgICAgb25lSXRlbS5uZXdfZGV2aWNlX2lkID0gcXVldWVbcXVldWUubGVuZ3RoIC0gMV0ubmV3X2RldmljZV9pZDtcclxuICAgICAgICAgICAgaWYgKCFvbmVJdGVtLmcyaWRldmljZWlkKSB7XHJcbiAgICAgICAgICAgICAgICBvbmVJdGVtLmcyaWRldmljZWlkID0gQ2RwTW9kdWxlLmdldEcyaURldmljZUlkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZWxldGVGYWlsZWRSZWdlbmVyYXRpb25zKCk7XHJcbiAgICAgICAgaWYgKG9uZUl0ZW0gIT09IG51bGwgJiYgb25lSXRlbS5vbGRfZGV2aWNlX2lkID09PSBvbmVJdGVtLm5ld19kZXZpY2VfaWQpIHtcclxuICAgICAgICAgICAgb25lSXRlbSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbmVJdGVtICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZUNoYW5nZWREZXZpY2VJZChvbmVJdGVtKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9uZUl0ZW0ub2xkX2RldmljZV9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFjdHVhbEZQVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERldmljZUlkVG9BcGkoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCByZWdlbmVyYXRpb24gPSB0aGlzLmdldE9sZGVzdEZhaWxlZFJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgIGlmIChyZWdlbmVyYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWdlbmVyYXRpb24ub2xkX2RldmljZV9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBzZW5kU2F2ZWRSZWdlbmVyYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pc0dldFVzZXJGaW5pc2hlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gY29uc3QgcXVldWUgPSB0aGlzLmdldEZhaWxlZFJlZ2VuZXJhdGlvbnMoKTtcclxuICAgICAgICAvLyBpZiAocXVldWU/Lmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAvLyAgICAgQnVnVHJhY2tVdGlsLmFkZFJlZ2VuZXJhdGlvblF1ZXVlKHF1ZXVlKTtcclxuICAgICAgICAvLyAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBjaGFuZ2VfZGV2aWNlX2lkX3F1ZXVlPSR7SlNPTi5zdHJpbmdpZnkocXVldWUpfWApO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNQZW5kaW5nUmVxdWVzdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubWlncmF0ZVF1ZXVlKERldmljZURldGVjdG9yLmdldENhbGN1bGF0ZWREZXZpY2VJZCgpKTtcclxuICAgICAgICAgICAgY29uc3QgcmVnZW5lcmF0aW9uID0gdGhpcy5nZXRPbGRlc3RGYWlsZWRSZWdlbmVyYXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHJlZ2VuZXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbmREZXZpY2VJZE5vdGlmeShyZWdlbmVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLlJlZ2VuZXJlcmF0aW9uUmVzZW5kU3VjY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBkZXRhaWw6IHJlZ2VuZXJhdGlvbiB9KTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkUmVzZW5kUmVnZW5lcmF0aW9uU3RhdHVzKHN1Y2Nlc3MsIHJlZ2VuZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBjaGFuZ2VfZGV2aWNlX2lkPSR7c3VjY2Vzc30rJHtKU09OLnN0cmluZ2lmeShyZWdlbmVyYXRpb24pfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaXNQZW5kaW5nUmVxdWVzdCA9IGZhbHNlO1xyXG4gICAgICAgIH0gd2hpbGUgKHN1Y2Nlc3MpO1xyXG5cclxuICAgICAgICBjb25zdCBkaWRBY3R1YWwgPSBEZXZpY2VEZXRlY3Rvci5nZXRDYWxjdWxhdGVkRGV2aWNlSWQoKTtcclxuICAgICAgICBjb25zdCBkaWRMcyA9IENkcE1vZHVsZS5nZXREZXZpY2VJZEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfYWN0dWFsX2FmdGVyPSR7ZGlkQWN0dWFsfWApO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2xzX2FmdGVyPSR7ZGlkTHN9YCk7XHJcbiAgICAgICAgaWYgKGRpZExzICE9PSBudWxsICYmIGRpZEFjdHVhbCAhPT0gZGlkTHMpIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwiZGlkX25vdF9lcXVhbFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRldmljZUlDaGFuZ2VkKG5vdGlmeTogRnBEZXZpY2VJbmZvSW50ZXJmYWNlKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCByZWdlbmVyYXRpb24gPSB0aGlzLm1hcFJlbmVyZXJhdGlvbk1vZGVsKG5vdGlmeSk7XHJcbiAgICAgICAgdGhpcy5zYXZlQ2hhbmdlZERldmljZUlkKHJlZ2VuZXJhdGlvbik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNHZXRVc2VyRmluaXNoZWQgJiYgIXRoaXMuaXNQZW5kaW5nUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLm1pZ3JhdGVRdWV1ZShyZWdlbmVyYXRpb24ubmV3X2RldmljZV9pZCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmRTYXZlZFJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgc2tpcF9zZW5kX2NoYW5nZV9yZXE6cXVldWVfcHJvY2Vzcy0ke3RoaXMuaXNHZXRVc2VyRmluaXNoZWR9K3BlbmRpbmctJHt0aGlzLmlzUGVuZGluZ1JlcXVlc3R9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgc2VuZERldmljZUlkTm90aWZ5KHJlZ2VuZXJhdGlvbjogUmVuZXJlcmF0aW9uTW9kZWwpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VuZEFwaUNoYW5nZURldmljZUlkKHJlZ2VuZXJhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlRmFpbGVkUmVnZW5lcmF0aW9uKHJlZ2VuZXJhdGlvbik7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2JlZm9yZV91cGRhdGVfbG9jYWw9JHtyZWdlbmVyYXRpb24ubmV3X2RldmljZV9pZH1gKTtcclxuICAgICAgICAgICAgRGV2aWNlRGV0ZWN0b3Iuc2V0Q2FsY3VsYXRlZERldmljZUlkKHJlZ2VuZXJhdGlvbi5uZXdfZGV2aWNlX2lkKTtcclxuICAgICAgICAgICAgY29uc3QgZGlkQWN0dWFsID0gRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCk7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2FmdGVyX3VwZGF0ZV9sb2NhbD0ke2RpZEFjdHVhbH1gKTtcclxuICAgICAgICAgICAgaWYgKHJlZ2VuZXJhdGlvbi5uZXdfZGV2aWNlX2lkICE9PSBkaWRBY3R1YWwpIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImRpZF9ub3RfZXF1YWxcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgQ2RwTW9kdWxlLnVwZGF0ZURldmljZUlkSW5DZHBEbFN0b3JhZ2UocmVnZW5lcmF0aW9uLm5ld19kZXZpY2VfaWQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2hhbmdlRGV2aWNlSWRcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZW5kQXBpQ2hhbmdlRGV2aWNlSWQocmVnZW5lcmF0aW9uOiBSZW5lcmVyYXRpb25Nb2RlbCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zO1xyXG4gICAgICAgIG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMgPSBvcHRpb25zLmV4cG9zZWRIZWFkZXJzIHx8IFtdO1xyXG4gICAgICAgIG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMucHVzaChcIngtcmVxdWVzdC1pZFwiKTtcclxuICAgICAgICBvcHRpb25zLnN0YXR1c0NvZGVFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJiZWZvcmVfY2hhbmdlZGV2aWNlaWRcIik7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLnBvc3QoXCJ1c2VyL2NoYW5nZWRldmljZWlkXCIsIHJlZ2VuZXJhdGlvbiwgb3B0aW9ucylcclxuICAgICAgICAgICAgLnRoZW4oKHJlczogSHR0cFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdElkKHJlcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0V4dGVuZGVkTW9kZWwgPSAocmVzIGFzIEh0dHBSZXNwb25zZSkuZGF0YSAmJiAocmVzIGFzIEh0dHBSZXNwb25zZSkuZXhwb3NlZEhlYWRlcnM7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNFeHRlbmRlZE1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja1JlcXVlc3RJZChyZXMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGNhdGNoPSR7KHJlcyBpbnN0YW5jZW9mIEVycm9yID8gcmVzLnRvU3RyaW5nKCkgOiBKU09OLnN0cmluZ2lmeShyZXMpKS5zdWJzdHJpbmcoMCwgNjQpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGlzRXh0ZW5kZWRNb2RlbCA/IHJlcy5kYXRhIDogcmVzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0cmFja1JlcXVlc3RJZChyZXM6IEh0dHBSZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnN0IHJlcWlkID0gcmVzLmV4cG9zZWRIZWFkZXJzW1wieC1yZXF1ZXN0LWlkXCJdIHx8IFwiZzJpX2VtcHR5X2ZhbGxiYWNrXCI7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJFclJlcWlkKHJlcWlkKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGFmdGVyX2NoYW5nZWRldmljZWlkPSR7cmVxaWR9YCk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBzdGF0dXNfY29kZT0ke3Jlcy5zdGF0dXNDb2RlfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbWFwUmVuZXJlcmF0aW9uTW9kZWwobm90aWZ5OiBGcERldmljZUluZm9JbnRlcmZhY2UpOiBSZW5lcmVyYXRpb25Nb2RlbCB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmV3X2RldmljZV9pZDogbm90aWZ5Lm5ld0lkLFxyXG4gICAgICAgICAgICBvbGRfZGV2aWNlX2lkOiBub3RpZnkuaWRcclxuICAgICAgICB9IGFzIFJlbmVyZXJhdGlvbk1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RmFpbGVkUmVnZW5lcmF0aW9ucygpOiBSZW5lcmVyYXRpb25Nb2RlbFtdIHtcclxuICAgICAgICByZXR1cm4gTG9jYWxTdG9yYWdlU2VydmljZS5nZXQodGhpcy5mYWlsZWRSZWdlbmVyYXRpb25zS2V5KSB8fCBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2F2ZUNoYW5nZWREZXZpY2VJZChtb2RlbDogUmVuZXJlcmF0aW9uTW9kZWwpIHtcclxuICAgICAgICBjb25zdCBzYXZlZEl0ZW1zOiBSZW5lcmVyYXRpb25Nb2RlbFtdID0gdGhpcy5nZXRGYWlsZWRSZWdlbmVyYXRpb25zKCk7XHJcbiAgICAgICAgaWYgKCFzYXZlZEl0ZW1zLmZpbmQoKF9pdGVtKSA9PiBfaXRlbS5vbGRfZGV2aWNlX2lkID09PSBtb2RlbC5vbGRfZGV2aWNlX2lkICYmIF9pdGVtLm5ld19kZXZpY2VfaWQgPT09IG1vZGVsLm5ld19kZXZpY2VfaWQpKSB7XHJcbiAgICAgICAgICAgIHNhdmVkSXRlbXMucHVzaChtb2RlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KHRoaXMuZmFpbGVkUmVnZW5lcmF0aW9uc0tleSwgc2F2ZWRJdGVtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE9sZGVzdEZhaWxlZFJlZ2VuZXJhdGlvbigpOiBSZW5lcmVyYXRpb25Nb2RlbCB7XHJcbiAgICAgICAgY29uc3Qgc2F2ZWRJdGVtczogUmVuZXJlcmF0aW9uTW9kZWxbXSA9IHRoaXMuZ2V0RmFpbGVkUmVnZW5lcmF0aW9ucygpO1xyXG4gICAgICAgIHJldHVybiBzYXZlZEl0ZW1zLnNoaWZ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWxldGVGYWlsZWRSZWdlbmVyYXRpb24obW9kZWw6IFJlbmVyZXJhdGlvbk1vZGVsKSB7XHJcbiAgICAgICAgY29uc3Qgc2F2ZWRJdGVtczogUmVuZXJlcmF0aW9uTW9kZWxbXSA9IHRoaXMuZ2V0RmFpbGVkUmVnZW5lcmF0aW9ucygpO1xyXG4gICAgICAgIC8vIHN0cmFuZ2UgY2FzZSBpZiBub3QgYXQgMCBwb3NpdGlvblxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IHNhdmVkSXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLm5ld19kZXZpY2VfaWQgIT09IG1vZGVsLm5ld19kZXZpY2VfaWQpO1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KHRoaXMuZmFpbGVkUmVnZW5lcmF0aW9uc0tleSwgdXBkYXRlZEl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRlbGV0ZUZhaWxlZFJlZ2VuZXJhdGlvbnMoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZGVsZXRlKHRoaXMuZmFpbGVkUmVnZW5lcmF0aW9uc0tleSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEZXZpY2VNb2R1bGUgPSBuZXcgRGV2aWNlTW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZS50cyIsImV4cG9ydCBjbGFzcyBTaG9ydE9mZmVyTW9kZWwge1xyXG4gICAgTmFtZTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLk5hbWUgPSBkYXRhLk5hbWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbC50cyIsImltcG9ydCB7IFN0b3JhZ2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vU3RvcmFnZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNZW1vcnlTdG9yYWdlIH0gZnJvbSBcIi4uL21lbW9yeS9NZW1vcnlTdG9yYWdlXCI7XHJcblxyXG5jbGFzcyBNZW1vcnlQcm94eVN0b3JhZ2VDbGFzcyBpbXBsZW1lbnRzIFN0b3JhZ2VJbnRlcmZhY2Uge1xyXG4gICAgcHJpdmF0ZSBwcm94eU1ldGhvZHMgPSBbXCJnZXRcIiwgXCJzZXRcIiwgXCJkZWxldGVcIiwgXCJjbGVhclwiXTtcclxuICAgIHByaXZhdGUgcHJlZml4TWFwOiB7IF90aGlzOiBvYmplY3QsIHByZWZpeDogc3RyaW5nIH1bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBrZXlzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50Q29udGV4dDogb2JqZWN0O1xyXG5cclxuICAgIGFwcGx5UHJveHkob3JpZ2luYWxUaGlzOiBTdG9yYWdlSW50ZXJmYWNlLCBzdG9yYWdlUHJlZml4OiBzdHJpbmcpOiBTdG9yYWdlSW50ZXJmYWNlIHtcclxuICAgICAgICBpZiAob3JpZ2luYWxUaGlzLmlzU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsVGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wcmVmaXhNYXAucHVzaCh7IF90aGlzOiBvcmlnaW5hbFRoaXMsIHByZWZpeDogc3RvcmFnZVByZWZpeCB9KTtcclxuICAgICAgICBmb3IgKGxldCBtZXRob2Qgb2YgdGhpcy5wcm94eU1ldGhvZHMpIHtcclxuICAgICAgICAgICAgb3JpZ2luYWxUaGlzW21ldGhvZF0gPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29udGV4dCA9IG9yaWdpbmFsVGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW21ldGhvZF0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsVGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KGtleTogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIE1lbW9yeVN0b3JhZ2UuZ2V0KHRoaXMuZ2V0RXhwYW5kS2V5KGtleSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChrZXk6IHN0cmluZywgZGF0YTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZXhwYW5kS2V5ID0gdGhpcy5nZXRFeHBhbmRLZXkoa2V5KTtcclxuICAgICAgICBNZW1vcnlTdG9yYWdlLnNldChleHBhbmRLZXksIGRhdGEpO1xyXG4gICAgICAgIHRoaXMuYWRkS2V5KGV4cGFuZEtleSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZXhwYW5kS2V5ID0gdGhpcy5nZXRFeHBhbmRLZXkoa2V5KTtcclxuICAgICAgICB0aGlzLnJlbW92ZUtleShleHBhbmRLZXkpO1xyXG4gICAgICAgIHJldHVybiBNZW1vcnlTdG9yYWdlLmRlbGV0ZShleHBhbmRLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGZvciAobGV0IGtleSBvZiB0aGlzLmdldEN1cnJlbnRTdG9yYWdlS2V5cygpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RXhwYW5kS2V5KGtleTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBzdG9yYWdlUHJlZml4ID0gdGhpcy5nZXRDdXJyZW50UHJlZml4KCk7XHJcbiAgICAgICAgcmV0dXJuIGAke3N0b3JhZ2VQcmVmaXh9X18ke2tleX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q3VycmVudFByZWZpeCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGNvbnRleHRNYXAgPSB0aGlzLnByZWZpeE1hcC5maW5kKChtYXApID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hcC5fdGhpcyA9PT0gdGhpcy5jdXJyZW50Q29udGV4dDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY29udGV4dE1hcCA/IGNvbnRleHRNYXAucHJlZml4IDogXCJOT1RfRk9VTkRcIjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEN1cnJlbnRTdG9yYWdlS2V5cygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudFByZWZpeCA9IHRoaXMuZ2V0Q3VycmVudFByZWZpeCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmtleXMuZmlsdGVyKChrZXk6IHN0cmluZykgPT4ga2V5LnN0YXJ0c1dpdGgoY3VycmVudFByZWZpeCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkS2V5KGV4cGFuZEtleTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihleHBhbmRLZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlzLnB1c2goZXhwYW5kS2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVLZXkoZXhwYW5kS2V5OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMua2V5cy5pbmRleE9mKGV4cGFuZEtleSk7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLmtleXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBNZW1vcnlQcm94eVN0b3JhZ2UgPSBuZXcgTWVtb3J5UHJveHlTdG9yYWdlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJVXNlclNlcnZpY2UsIFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vSW5kZXhcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0YWlscyB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uL0RldmljZURldGFpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlclNlcnZpY2UgaW1wbGVtZW50cyBJVXNlclNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFVzZXJTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiVXNlclNlcnZpY2VcIik7XHJcbiAgICBwcml2YXRlIHRhZ01hbmFnZXJTZXJ2aWNlOiBUYWdNYW5hZ2VyU2VydmljZTtcclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBEZXZpY2VEZXRhaWxzOiBEZXZpY2VEZXRhaWxzO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNlclNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBVc2VyU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNlclNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZSA9IFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLnNldERldmljZURldGFpbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERldmljZURldGFpbHMoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJzZXREZXZpY2VEZXRhaWxzXCIpO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlRGV0YWlscyA9IERldmljZURldGVjdG9yLmdldE1ldGFEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZXREZXZpY2VEZXRhaWxzXCIsIFwidGhpcy5EZXZpY2VEZXRhaWxzXCIsIHRoaXMuRGV2aWNlRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFVzZXJTdGF0ZSh1c2VyU3RhdGU6IHN0cmluZywgdXNlckRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2V0VXNlclN0YXRlIHVzZXJTdGF0ZSA9PiBcIiwgdXNlclN0YXRlLCBcInVzZXJEYXRhXCIsIHVzZXJEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHVzZXJTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZS5zZXRETFYoXCJ1c2VyU3RhdGVcIiwgdXNlclN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNldFVzZXJTdGF0ZSB1c2VyU3RhdGUgPT4gXCIsIHVzZXJTdGF0ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvVXNlclNlcnZpY2UudHMiLCJpbXBvcnQgeyBDZHBFdmVudEludGVyZmFjZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0RGF0YUNvbGxlY3RvciB9IGZyb20gXCIuL2NsYXNzZXMvRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFDb2xsZWN0b3JDbGFzcyB7XHJcbiAgICBwcml2YXRlIGNvbGxlY3RlZEV2ZW50czogQXJyYXk8Q2RwRXZlbnRJbnRlcmZhY2U+ID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50SW5Db2xsZWN0b3IoZXZlbnQ6IENkcEV2ZW50SW50ZXJmYWNlKSB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgaWYgKGV2ZW50LnVzZUluQ2FsY3VsYXRlRmlyc3RWaXNpdE1vZGVsKCkpIHtcclxuICAgICAgICAgICAgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IuY29sbGVjdENkcEV2ZW50KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpc3RlbkVyQ29kZSgpIHtcclxuICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCBQbHVnaW5Jbm5lckV2ZW50cy5EbENkcEdldFN1Y2Nlc3MsIChldmVudDogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IGV2ZW50RGF0YSA9IGV2ZW50LmRldGFpbDtcclxuICAgICAgICAgICAgaWYgKGV2ZW50RGF0YSAmJiBldmVudERhdGEuZXIgPT0gQ29uc3RhbnRzLk5vRXJJbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgRGF0YUNvbGxlY3Rvci5wcm9jZXNzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBGaXJzdFZpc2l0RGF0YUNvbGxlY3Rvci5jbGVhckRhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzQ29sbGVjdGVkRmlyc3RWaXNpdChjb2xsZWN0ZWRCeUNvbmRpdGlvbj86IGJvb2xlYW4pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IuaXNDb2xsZWN0ZWRGaXJzdFZpc2l0KGNvbGxlY3RlZEJ5Q29uZGl0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29sbGVjdGVkRmlyc3RWaXNpdERhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yLmdldFBhZ2VMb2FkQ29sbGVjdGVkRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcm9jZXNzKCkge1xyXG4gICAgICAgIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yLnByb2Nlc3MoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERhdGFDb2xsZWN0b3IgPSBuZXcgRGF0YUNvbGxlY3RvckNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2RhdGFDb2xsZWN0b3IvRGF0YUNvbGxlY3Rvci50cyIsImltcG9ydCB7IFN0b3JhZ2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vU3RvcmFnZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNZW1vcnlQcm94eVN0b3JhZ2UgfSBmcm9tIFwiLi4vbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlIGltcGxlbWVudHMgU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICByZXR1cm4gTWVtb3J5UHJveHlTdG9yYWdlLmFwcGx5UHJveHkodGhpcywgXCJMb2NhbFN0b3JhZ2VcIikgYXMgTG9jYWxTdG9yYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFwiaXNTdXBwb3J0ZWRMb2NhbFN0b3JhZ2VLZXlcIjtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcImlzU3VwcG9ydGVkTG9jYWxTdG9yYWdlVmFsdWVcIjtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZVxyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQoa2V5OiBzdHJpbmcsIG9iamVjdDogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2xvY2FsL0xvY2FsU3RvcmFnZS50cyIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyTW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL09mZmVyTW9kZWxcIjtcclxuaW1wb3J0IHsgT2ZmZXJJbnB1dEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL09mZmVySW5wdXRJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9mZmVyRXZlbnREYXRhRXZlbnQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVPZmZlckV2ZW50RGF0YShvZmZlcjogT2ZmZXJJbnB1dEludGVyZmFjZSk6IE9mZmVyTW9kZWwge1xyXG4gICAgICAgIGxldCBmbk5hbWUgPSBcIltjcmVhdGVPZmZlckV2ZW50RGF0YV1cIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShmbk5hbWUsIFwiZGF0YVwiLCBvZmZlcik7XHJcbiAgICAgICAgICAgIGxldCBvZmZlckV2ZW50RGF0YSA9IG5ldyBPZmZlck1vZGVsKG9mZmVyKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoZm5OYW1lLCBcImNkcERhdGEgPT4gXCIsIG9mZmVyRXZlbnREYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyRXZlbnREYXRhO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEV2ZW50TW9kZWwoKTogQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICAgICAgc3VwZXIuZ2V0RXZlbnRNb2RlbCgpO1xyXG4gICAgICAgIGxldCBvZmZlckRhdGEgPSB7fTtcclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlcikge1xyXG4gICAgICAgICAgICBvZmZlckRhdGEgPSB0aGlzLmNyZWF0ZU9mZmVyRXZlbnREYXRhKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEob2ZmZXJEYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudE1vZGVsO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvT2ZmZXJFdmVudERhdGFFdmVudC50cyIsImltcG9ydCB7IENvb2tpZU9wdGlvbnMgfSBmcm9tIFwiLi9Db29raWVPcHRpb25zXCI7XHJcbmltcG9ydCB7IEpzQ29va2llIH0gZnJvbSBcIi4vSnNDb29raWVcIjtcclxuaW1wb3J0IHsgU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCIuLi9TdG9yYWdlSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1lbW9yeVByb3h5U3RvcmFnZSB9IGZyb20gXCIuLi9tZW1vcnlQcm94eS9NZW1vcnlQcm94eVN0b3JhZ2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb29raWVzU3RvcmFnZUNsYXNzIGltcGxlbWVudHMgU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICBwcml2YXRlIGNvb2tpZXM6IEpzQ29va2llO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29va2llcyA9IEpzQ29va2llLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgcmV0dXJuIE1lbW9yeVByb3h5U3RvcmFnZS5hcHBseVByb3h5KHRoaXMsIFwiQ29va2llc1N0b3JhZ2VcIikgYXMgQ29va2llc1N0b3JhZ2VDbGFzcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgY29va2llcyA9IEpzQ29va2llLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFwiaXNTdXBwb3J0ZWRDb29raWVLZXlcIjtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcImlzU3VwcG9ydGVkQ29va2llVmFsdWVcIjtcclxuICAgICAgICAgICAgY29va2llcy5zZXQoa2V5LCB2YWx1ZSwgbnVsbCk7XHJcbiAgICAgICAgICAgIGlmIChjb29raWVzLmdldChrZXkpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29va2llcy5yZW1vdmUoa2V5LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZVxyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcsIGNvbnZlcnRlciA9IHt9KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb29raWVzLmdldChrZXksIGNvbnZlcnRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG9iamVjdCwgb3B0aW9ucz86IENvb2tpZU9wdGlvbnMsIGNvbnZlcnRlciA9IHt9KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kYXlzT2ZMaWZlKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBpcmVEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZXhwaXJlRGF0ZS5zZXREYXRlKGV4cGlyZURhdGUuZ2V0RGF0ZSgpICsgb3B0aW9ucy5kYXlzT2ZMaWZlKTtcclxuICAgICAgICAgICAgb3B0aW9ucy5leHBpcmVzID0gZXhwaXJlRGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29va2llcy5zZXQoa2V5LCB2YWx1ZSwgb3B0aW9ucywgY29udmVydGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlKGtleTogc3RyaW5nLCBvcHRpb25zPyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvb2tpZXMucmVtb3ZlKGtleSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvb2tpZXNTdG9yYWdlID0gbmV3IENvb2tpZXNTdG9yYWdlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVzU3RvcmFnZS50cyIsImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgSUV2ZW50U2VydmljZSwgVGFnTWFuYWdlclNlcnZpY2UsIElUYWdNYW5hZ2VyU2VydmljZSwgQXBwSW5zaWdodHNTZXJ2aWNlLCBJQXBwSW5zaWdodHNTZXJ2aWNlLCBBenVyZVNlcnZpY2UgfSBmcm9tIFwiLi9JbmRleFwiO1xyXG5pbXBvcnQgeyBNZXRhRGF0YVNlcnZpY2UgfSBmcm9tIFwiLi9NZXRhRGF0YVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiLi9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgRmFpbGVkRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vRmFpbGVkRXZlbnRTZXJ2aWNlXCI7XHJcblxyXG4vKipcclxuICogRXZlbnRTZXJ2aWNlIGlzIHRoZSBtYWluIGNsYXNzIGZvciBhbGwgZGF0YSB0aGF0IGlzIHNlbnQuXHJcbiAqIEl0IHdpbGwgc3RvcmUgY29tbW9uIGRhdGEgYW5kIGhhbmRsZSBmb3J3YXJkaW5nIGFsbCBldmVudHMgdG8gYWxsIG90aGVyIGFwcHJvcHJpYXRlIHNlcnZpY2VzIChHQSwgQ0RQLCBBenVyZSlcclxuICovXHJcbmV4cG9ydCBjbGFzcyBFdmVudFNlcnZpY2UgaW1wbGVtZW50cyBJRXZlbnRTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkV2ZW50U2VydmljZVwiLCBcIiNmYjliMjVcIik7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEV2ZW50U2VydmljZTtcclxuXHJcbiAgICBwcml2YXRlIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZTtcclxuICAgIHByaXZhdGUgdGFnTWFuYWdlclNlcnZpY2U6IFRhZ01hbmFnZXJTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBhcHBJbnNpZ2h0c1NlcnZpY2U6IElBcHBJbnNpZ2h0c1NlcnZpY2U7XHJcbiAgICBwcml2YXRlIGRpbWVuc2lvblNlcnZpY2U6IE1ldGFEYXRhU2VydmljZTtcclxuICAgIHByaXZhdGUgYXp1cmVTZXJ2aWNlOiBBenVyZVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGZhaWxlZEV2ZW50U2VydmljZTogRmFpbGVkRXZlbnRTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0ZWRFdmVudHMgPSBbXTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFdmVudFNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBFdmVudFNlcnZpY2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkV2ZW50U2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNUT1JcIik7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYXp1cmVTZXJ2aWNlID0gQXp1cmVTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2UgPSBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmFwcEluc2lnaHRzU2VydmljZSA9IEFwcEluc2lnaHRzU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5mYWlsZWRFdmVudFNlcnZpY2UgPSBGYWlsZWRFdmVudFNlcnZpY2UuSW5zdGFuY2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoZWNrUXVlcnlFdmVudHNJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGVjdGVkRXZlbnRzICYmIHRoaXMuY29sbGVjdGVkRXZlbnRzLmxlbmd0aCAmJiB0aGlzLmlzUmVhZHlEZXZpY2VJZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGNoZWNrUXVlcnlFdmVudHNJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUYWdDb2xsZWN0ZWRFdmVudHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRQYXlsb2FkPzogb2JqZWN0LCBza2lwQ29sbGVjdGVkRGltZW5zaW9ucz86IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlYWR5RGV2aWNlSWQoKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0ZWRFdmVudHMgJiYgdGhpcy5jb2xsZWN0ZWRFdmVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBldmVudFBheWxvYWQ6IGV2ZW50UGF5bG9hZCxcclxuICAgICAgICAgICAgICAgICAgICBza2lwQ29sbGVjdGVkRGltZW5zaW9uczogc2tpcENvbGxlY3RlZERpbWVuc2lvbnNcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kVGFnQ29sbGVjdGVkRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuc2VuZEFwcHJvdmVkRXZlbnQoZXZlbnROYW1lLCBldmVudFBheWxvYWQsIHNraXBDb2xsZWN0ZWREaW1lbnNpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdGVkRXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBldmVudFBheWxvYWQ6IGV2ZW50UGF5bG9hZCxcclxuICAgICAgICAgICAgICAgIHNraXBDb2xsZWN0ZWREaW1lbnNpb25zOiBza2lwQ29sbGVjdGVkRGltZW5zaW9uc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpc1JlYWR5RGV2aWNlSWQoKSB7XHJcbiAgICAgICAgaWYgKERldmljZURldGVjdG9yLmdldENhbGN1bGF0ZWREZXZpY2VJZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFRhZ0NvbGxlY3RlZEV2ZW50cygpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY29sbGVjdGVkRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMuZm9yRWFjaCgoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRBcHByb3ZlZEV2ZW50KGV2ZW50LmV2ZW50TmFtZSwgZXZlbnQuZXZlbnRQYXlsb2FkLCBldmVudC5za2lwQ29sbGVjdGVkRGltZW5zaW9ucyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGVjdGVkRXZlbnRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogZW5oYW5jZSB0aGlzIHRvIGJldHRlciBoYW5kbGUgZGlmZmVyZW50IGRhdGEgZGVzdGluYXRpb25zLlxyXG4gICAgLy8gICAgICAxLiBQb3NzaWJseSBtYWtlIGNvcHkgb2YgZXZlbnRQYXlsb2FkIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIGFueSBvYmplY3RzLlxyXG4gICAgLy8gICAgICAyLiBNb3ZlIGFzc2lnbmluZyBjb2xsZWN0ZWREaW1lbnNpb25zIHRvIFRhZ01hbmFnZXJTZXJ2aWNlXHJcbiAgICBwdWJsaWMgc2VuZEFwcHJvdmVkRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50UGF5bG9hZD86IG9iamVjdCwgc2tpcENvbGxlY3RlZERpbWVuc2lvbnM/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJzZW5kRXZlbnQuLi5cIiwgZXZlbnROYW1lLCBldmVudFBheWxvYWQsIFwiUGFnZVNlc3Npb25JZCA9PT4gXCIsIHRoaXMucGFnZVNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCJzZW5kRXZlbnQuLi50aGlzLnBhZ2VTZXJ2aWNlLlBhZ2VTZXNzaW9uSWRcIiwgdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIj8/Pz8/Pz8/Pz8/Pz8/PyBzZW5kRXZlbnQuLi50aGlzLnBhZ2VTZXJ2aWNlLkRldmljZVNlc3Npb25JZFwiLCB0aGlzLnNlc3Npb25TZXJ2aWNlLkRldmljZVNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRXZlbnRTZXJ2aWNlLnNlbmRFdmVudC4uLlwiLCBldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuY2RwU2VydmljZS5zZW5kRGF0YShldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXp1cmVTZXJ2aWNlLnNlbmREYXRhKGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgLy8gYWRkIHRoZSBjb2xsZWN0ZWQgZGltZW5zaW9ucyB0byB0aGUgZXZlbnRQYXlsb2FkLlxyXG4gICAgICAgICAgICAvLyBOT1RFOiBjb21tZW50ZWQgYmVjYXVzZSBJIHRoaW5rIG1lcmdpbmcgdGhpcyBpcyBub3QgdGhlIGJlc3QgYXBwcm9hY2gsIGluc3RlYWQgSSBzaG91bGQgbG9vcCB0aHJvdWdoIHRoZXNlIHByb3BzIGFuZCBzZXQgdGhlIERMViBmb3IgZWFjaC5cclxuICAgICAgICAgICAgaWYgKCFza2lwQ29sbGVjdGVkRGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFldmVudFBheWxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFBheWxvYWQgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpbWVuc2lvblNlcnZpY2UgJiYgdGhpcy5kaW1lbnNpb25TZXJ2aWNlLmFuYWx5dGljc0RpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFBheWxvYWQgPSBPYmplY3QuYXNzaWduKGV2ZW50UGF5bG9hZCwgdGhpcy5kaW1lbnNpb25TZXJ2aWNlLmFuYWx5dGljc0RpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2Uuc2VuZFRhZyhldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudFBheWxvYWRbXCJndG0udW5pcXVlRXZlbnRJZFwiXTtcclxuICAgICAgICAgICAgLy8gTk9URTogY29tbWVudGluZyBvdXQgYmVjYXVzZSBpZiBpIHJlbW92ZSB0aGlzIHRoZW4gR1RNIFByZXZpZXdlciBkb2Vzbid0IGtub3cgd2hpY2ggZXZlbnRzIHdlcmUgZmlyZWQuXHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBldmVudFBheWxvYWRbJ2V2ZW50J107XHJcbiAgICAgICAgICAgIHRoaXMuYXBwSW5zaWdodHNTZXJ2aWNlLnRyYWNrRXZlbnQoZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2VuZEZhaWxlZEV2ZW50cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmZhaWxlZEV2ZW50U2VydmljZS5jbGVhbigpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0V2ZW50U2VydmljZS50cyIsImV4cG9ydCBjbGFzcyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIHtcclxuICAgIG1pc2NLZXk6IHN0cmluZztcclxuICAgIHZhbHVlOiBhbnk7XHJcbiAgICBlbmFibGVHQTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtaXNjS2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIGVuYWJsZUdBOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLm1pc2NLZXkgPSBtaXNjS2V5O1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmVuYWJsZUdBID0gZW5hYmxlR0EgfHwgZmFsc2U7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvQ2FsY3VsYXRpb25SZXN1bHRNb2RlbC50cyIsImltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBIdHRwSW50ZXJmYWNlIH0gZnJvbSBcIi4vSHR0cEludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgSHR0cE9wdGlvbnMgPSB7XHJcbiAgICBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfTtcclxuICAgIGNvbnRlbnRUeXBlOiBzdHJpbmc7XHJcbiAgICBleHBvc2VkSGVhZGVycz86IHN0cmluZ1tdO1xyXG4gICAgc3RhdHVzQ29kZUVuYWJsZWQ/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBIdHRwUmVzcG9uc2UgPSB7XHJcbiAgICBkYXRhOiBhbnk7XHJcbiAgICBleHBvc2VkSGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH07XHJcbiAgICBzdGF0dXNDb2RlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIdHRwIGltcGxlbWVudHMgSHR0cEludGVyZmFjZSB7XHJcbiAgICBwdWJsaWMgZ2V0KHVybDogc3RyaW5nLCBwYXlsb2FkPzogYW55LCBvcHRpb25zPzogYW55KTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWxsKFwiR0VUXCIsIHVybCwgcGF5bG9hZCwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIHBheWxvYWQ/OiBhbnksIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoXCJQT1NUXCIsIHVybCwgcGF5bG9hZCwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxsKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGF5bG9hZDogYW55ID0ge30sIG9wdGlvbnM6IEh0dHBPcHRpb25zID0ge30gYXMgSHR0cE9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGxldCBmZXRjaFVSTCA9IG5ldyBVUkwodXJsKTtcclxuICAgICAgICBsZXQgZmV0Y2hPcHRpb25zID0ge307XHJcblxyXG4gICAgICAgIGNvbnN0IGd1aWQgPSBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycyk7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIG9wdGlvbnMuY29udGVudFR5cGUgPyBvcHRpb25zLmNvbnRlbnRUeXBlIDogXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChcIkFjY2VwdFwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRGZXRjaExvZ0hlYWRlcihoZWFkZXJzLCBmZXRjaFVSTCk7XHJcbiAgICAgICAgICAgIGZldGNoT3B0aW9uc1tcImhlYWRlcnNcIl0gPSBoZWFkZXJzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmV0Y2hPcHRpb25zW1wibWV0aG9kXCJdID0gbWV0aG9kO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIikge1xyXG4gICAgICAgICAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGF5bG9hZCkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hVUkwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHBheWxvYWRba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZldGNoT3B0aW9uc1tcImJvZHlcIl0gPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmZXRjaChmZXRjaFVSTC5ocmVmLCBmZXRjaE9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHREYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGxldCBqc29uRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dERhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhjbHVkZWRTdGF0dXNlcyA9IFs0MDQsIDUwMCwgNTAyXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZWRTdGF0dXNlcy5pbmRleE9mKHJlc3BvbnNlLnN0YXR1cykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRIdHRwTm90SnNvbihKU09OLnN0cmluZ2lmeSh7IGVycm9yOiB0ZXh0LCBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cywgdXJsOiBmZXRjaFVSTC5ocmVmIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRleHREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIGNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25EYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge31cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGV4dERhdGEgfHwganNvbkRhdGEgfHwgeyBjdXN0b21fZXJyb3I6IFwiZXJyb3IgZm9yIGxvZ1wiIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXNwb25zZSwgZGF0YSB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigoeyByZXNwb25zZSwgZGF0YSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjZHBSZXFJZEhlYWRlciA9IFwieC1yZXF1ZXN0LWlkXCI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBgYWZ0LWZldDppZD0ke2d1aWQuc3Vic3RyKDAsIDQpfS0+JHtyZXNwb25zZS5oZWFkZXJzLmdldChjZHBSZXFJZEhlYWRlcil9YDtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhzdGF0dXMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBuZWVkVXNlRXhwb3NlZEhlYWRlcnMgPSAhIW9wdGlvbnMuZXhwb3NlZEhlYWRlcnM/Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGxldCBuZWVkVXNlU3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZUVuYWJsZWQgPT09IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmVlZFVzZUV4dGVuZE1vZGVsID0gbmVlZFVzZUV4cG9zZWRIZWFkZXJzIHx8IG5lZWRVc2VTdGF0dXNDb2RlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaHR0cFJlc3BvbnNlID0geyBkYXRhOiBkYXRhIH0gYXMgSHR0cFJlc3BvbnNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZWVkVXNlRXhwb3NlZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBodHRwUmVzcG9uc2UuZXhwb3NlZEhlYWRlcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmV4cG9zZWRIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFJlc3BvbnNlLmV4cG9zZWRIZWFkZXJzW2hlYWRlcl0gPSByZXNwb25zZS5oZWFkZXJzLmdldChoZWFkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZWVkVXNlU3RhdHVzQ29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlID0gcmVzcG9uc2Uuc3RhdHVzICsgXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZWVkVXNlRXh0ZW5kTW9kZWwgPyBodHRwUmVzcG9uc2UgOiBodHRwUmVzcG9uc2UuZGF0YTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9odHRwL0h0dHAudHMiLCJpbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IElGYWlsZWRFdmVudFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvY29udHJhY3RzL0lGYWlsZWRFdmVudFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0xvY2FsU3RvcmFnZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgU2VuZE9wdGlvbnNNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbFwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGYWlsZWRFdmVudFNlcnZpY2UgaW1wbGVtZW50cyBJRmFpbGVkRXZlbnRTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBGYWlsZWRFdmVudFNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGZhaWxlZEV2ZW50U3RvcmFnZVByZWZpeDogc3RyaW5nID0gXCJGYWlsZWRFdmVudF9cIjtcclxuICAgIHByaXZhdGUgbXV0ZXhLZXk6IHN0cmluZyA9IFwiRmFpbGVkRXZlbnRNdXRleFwiO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiRmFpbGVkRXZlbnRTZXJ2aWNlXCIpO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgRmFpbGVkRXZlbnRTZXJ2aWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXNoKGRhdGE6IENkcEV2ZW50TW9kZWwpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmdldEZhaWxlZEV2ZW50S2V5KGRhdGEpO1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KGtleSwgZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic3Rhc2hcIiwga2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBkcm9wKGRhdGE6IENkcEV2ZW50TW9kZWwpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmdldEZhaWxlZEV2ZW50S2V5KGRhdGEpO1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2UuZGVsZXRlKGtleSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZHJvcFwiLCBrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFuKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gVXRpbHMuZ2V0UmFuZG9tSW50ZWdlckluUmFuZ2UoMCwgMTAwMCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRSZXBlYXREZWxheShkZWxheSk7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5jcmVhdGVFdmVudHNDYWxsKCk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJvY2Vzc2VkIGJ5IGFub3RoZXIgdGFiXHJcbiAgICAgICAgICAgICAgICBjb25zdCBtdXRleElkID0gdGhpcy5nZXRNdXRleElkKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobXV0ZXhJZCAmJiBtdXRleElkICE9PSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZS5QYWdlU2Vzc2lvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmVyeSBvbGQgbXV0ZXhcclxuICAgICAgICAgICAgICAgICAgICBpZiAoRGF0ZVV0aWwuZGF5c0RpZmYodGhpcy5nZXRNdXRleERhdGUoKSkgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU11dGV4KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE11dGV4KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldEZhaWxlZEV2ZW50S2V5cygpLmZvckVhY2goKGV4cGFuZGVkS2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBDZHBFdmVudE1vZGVsID0gTG9jYWxTdG9yYWdlU2VydmljZS5nZXQoZXhwYW5kZWRLZXksIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IG5ldyBTZW5kT3B0aW9uc01vZGVsKHsgSXNBc3luYzogdHJ1ZSwgSXNSZXNlbmQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5zZW5kRXZlbnQoZGF0YSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcm9wKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIC8vIGd1YXJhbnRlZSBvZiByZW1vdmFsIG11dGV4XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZU11dGV4KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBkZWxheSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNdXRleElkKCkge1xyXG4gICAgICAgIGNvbnN0IG11dGV4VmFsdWUgPSBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0aGlzLm11dGV4S2V5LCBmYWxzZSk7XHJcbiAgICAgICAgaWYgKCFtdXRleFZhbHVlKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBjb25zdCBbaWQsIGRhdGVdID0gbXV0ZXhWYWx1ZS5zcGxpdChcIl9fXCIpO1xyXG4gICAgICAgIHJldHVybiBpZDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE11dGV4RGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBtdXRleFZhbHVlID0gTG9jYWxTdG9yYWdlU2VydmljZS5nZXQodGhpcy5tdXRleEtleSwgZmFsc2UpO1xyXG4gICAgICAgIGlmICghbXV0ZXhWYWx1ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgW2lkLCBkYXRlXSA9IG11dGV4VmFsdWUuc3BsaXQoXCJfX1wiKTtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldE11dGV4KCkge1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KHRoaXMubXV0ZXhLZXksIGAke1Nlc3Npb25TZXJ2aWNlLkluc3RhbmNlLlBhZ2VTZXNzaW9uSWR9X18ke25ldyBEYXRlKCkudmFsdWVPZigpfWAsIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRlbGV0ZU11dGV4KCkge1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2UuZGVsZXRlKHRoaXMubXV0ZXhLZXksIGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEZhaWxlZEV2ZW50S2V5KGRhdGE6IENkcEV2ZW50TW9kZWwpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZhaWxlZEV2ZW50U3RvcmFnZVByZWZpeCArIGRhdGEuSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGYWlsZWRFdmVudEtleXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGtleS5zdGFydHNXaXRoKHRoaXMuZmFpbGVkRXZlbnRTdG9yYWdlUHJlZml4KSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9GYWlsZWRFdmVudFNlcnZpY2UudHMiLCIvLyBpbXBvcnQge0xvZ0xldmVsfSBmcm9tIFwiLi9Mb2dnZXJPcHRpb25zXCI7XHJcbi8vIGltcG9ydCB7TE9HX0xFVkVMX1NUWUxFfSBmcm9tIFwiLi9Mb2dnZXJPcHRpb25zXCI7XHJcbmltcG9ydCB7IExvZ0xldmVsLCBMT0dfTEVWRUxfU1RZTEUsIExPR19MRVZFTF9TVFlMRTIgfSBmcm9tIFwiLi9Mb2dnZXIuQ29yZVwiO1xyXG5jb25zdCBub29wID0gKCk6IGFueSA9PiB1bmRlZmluZWQ7XHJcbmV4cG9ydCBjbGFzcyBMb2dnZXIge1xyXG4gICAgcHJpdmF0ZSBfbG9nUHJlZml4ID0gXCIlYzw8RzJBbmFseXRpY3M+PlwiO1xyXG4gICAgcHJpdmF0ZSBfY2xhc3NOYW1lOiBzdHJpbmcgPSBcIkdlbmVyYWxcIjtcclxuICAgIHByaXZhdGUgX2VuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBfbG9nTGV2ZWw6IExvZ0xldmVsID0gTG9nTGV2ZWwuRGVidWc7XHJcbiAgICBwcml2YXRlIF9zdHlsZTogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjbGFzc05hbWU6IHN0cmluZywgZW5hYmxlZDogYm9vbGVhbiwgbG9nTGV2ZWw6IExvZ0xldmVsLCBzdHlsZT86IGFueSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyLkNUT1JcIiwgY2xhc3NOYW1lLCBlbmFibGVkLCBsb2dMZXZlbCwgc3R5bGUpO1xyXG4gICAgICAgIHRoaXMuX2NsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgICAgICB0aGlzLl9lbmFibGVkID0gZW5hYmxlZDtcclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IGxvZ0xldmVsO1xyXG4gICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEVuYWJsZWQodmFsOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGNsc05hbWUgPSB0aGlzLl9jbGFzc05hbWU7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xvZ2dlci5zZXRFbmFibGVkID09ICcsIGNsc05hbWUsIHZhbCk7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TG9nTGV2ZWwobGV2ZWw6IExvZ0xldmVsKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xvZ2dlci5zZXRMb2dMZXZlbCA9PSAnLCB0aGlzLl9jbGFzc05hbWUsIGxldmVsKTtcclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IGxldmVsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZm9ybWF0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2dQcmVmaXggKyBcIltcIiArIHRoaXMuX2NsYXNzTmFtZSArIFwiXSBcIjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFN0eWxlKGxvZ0xldmVsOiBMb2dMZXZlbCkge1xyXG4gICAgICAgIGxldCBzdHlsZTtcclxuICAgICAgICBsZXQgYmcgPSBcIm5vbmVcIjtcclxuICAgICAgICBpZiAodGhpcy5fc3R5bGUpIHtcclxuICAgICAgICAgICAgc3R5bGUgPSB0aGlzLl9zdHlsZVxyXG4gICAgICAgICAgICBiZyA9IExPR19MRVZFTF9TVFlMRTJbbG9nTGV2ZWxdLmJnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0eWxlID0gTE9HX0xFVkVMX1NUWUxFW2xvZ0xldmVsXTtcclxuICAgICAgICAgICAgYmcgPSBMT0dfTEVWRUxfU1RZTEUyW2xvZ0xldmVsXS5iZztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJiZ1wiLCBiZyk7XHJcbiAgICAgICAgcmV0dXJuIFtcImNvbG9yOlwiICsgc3R5bGUgKyBcIjtmb250LXdlaWdodDpib2xkO1wiXTtcclxuICAgICAgICAvLyByZXR1cm4gW1wiY29sb3I6XCIgKyBzdHlsZSArIFwiO2ZvbnQtd2VpZ2h0OmJvbGQ7YmFja2dyb3VuZDpcIiArIGJnICsgXCI7XCJdO1xyXG4gICAgICAgIC8vIHJldHVybiBbXCJjb2xvcjojMDA0MDAwO2ZvbnQtd2VpZ2h0OmJvbGQ7YmFja2dyb3VuZDpyZ2JhKDUxLCAxNzAsIDUxLCAuMSlcIl07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGRlYnVnKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChMb2dMZXZlbC5EZWJ1ZykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlLCB0aGlzLmZvcm1hdCgpLCB0aGlzLmdldFN0eWxlKExvZ0xldmVsLkRlYnVnKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbmZvKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChMb2dMZXZlbC5JbmZvKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5JbmZvKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB3YXJuKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChMb2dMZXZlbC5XYXJuKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5XYXJuKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBlcnJvcigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuRXJyb3IpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5FcnJvcikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmF0YWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKExvZ0xldmVsLkZhdGFsKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuRmF0YWwpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRyYWNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChMb2dMZXZlbC5UcmFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlLCB0aGlzLmZvcm1hdCgpLCB0aGlzLmdldFN0eWxlKExvZ0xldmVsLlRyYWNlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIFBSSVZBVEUgKi9cclxuICAgIC8qVE9ETzogQ3JlYXRlIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB0aGUgcHJlZmFjZSBhbmQgYWxzbyBoYW5kbGVzIGNvbnNvbGUgY29sb3JpemUgZGVwZW5kaW5nIG9uIGJyb3dzZXIgKElFIGRvZXMgbm90IHN1cHBvcnQgY29sb3JzLCBzbyBzdHlsZSBpcyBwcmludGVkKSAqL1xyXG4gICAgcHJpdmF0ZSBpc0VuYWJsZWQobG9nTGV2ZWw6IExvZ0xldmVsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGxvZ0xldmVsID49IHRoaXMuX2xvZ0xldmVsICYmIHRoaXMuX2VuYWJsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlci50cyIsImltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIi4vQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IEFCTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2FiTW9kdWxlL0VuZ2FnZUFCTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGVjdG9yIHtcclxuICAgIGV2ZW50cztcclxuICAgIHByb3RlY3RlZCBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQ29sbGVjdG9yXCIpO1xyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVycyA9IFtdO1xyXG5cclxuICAgIHJlZ2lzdGVyRXZlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKTtcclxuXHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goKGV2ZW50TmFtZSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50TGlzdGVuZXI6IENkcEV2ZW50ID0gbmV3IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBBQk1vZHVsZS5hZGRNaXNjKGV2ZW50TGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5saXN0ZW4oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgaXNIYXZlUGFnZVZpZXdFdmVudCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgSW5wdXRBZGRyZXNzTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9JbnB1dEFkZHJlc3NNb2RlbEludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFkZHJlc3NNb2RlbCB7XHJcbiAgICBGaXJzdE5hbWU6IHN0cmluZztcclxuICAgIExhc3ROYW1lOiBzdHJpbmc7XHJcbiAgICBBZGRyZXNzOiBzdHJpbmc7XHJcbiAgICBQaG9uZTogYW55O1xyXG4gICAgQXB0VW5pdDogYW55O1xyXG4gICAgWmlwY29kZTogYW55O1xyXG4gICAgQ2l0eTogc3RyaW5nO1xyXG4gICAgU3RhdGU6IHN0cmluZztcclxuICAgIENvdW50cnk6IHN0cmluZztcclxuICAgIE5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBJbnB1dEFkZHJlc3NNb2RlbEludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuRmlyc3ROYW1lID0gZGF0YS5maXJzdE5hbWU7XHJcbiAgICAgICAgdGhpcy5MYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7XHJcbiAgICAgICAgdGhpcy5BZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xyXG4gICAgICAgIHRoaXMuUGhvbmUgPSBkYXRhLnBob25lO1xyXG4gICAgICAgIHRoaXMuQXB0VW5pdCA9IGRhdGEuYXB0VW5pdDtcclxuICAgICAgICB0aGlzLlppcGNvZGUgPSBkYXRhLnppcENvZGU7XHJcbiAgICAgICAgdGhpcy5DaXR5ID0gZGF0YS5jaXR5O1xyXG4gICAgICAgIHRoaXMuU3RhdGUgPSBkYXRhLnN0YXRlO1xyXG4gICAgICAgIHRoaXMuQ291bnRyeSA9IGRhdGEuY291bnRyeTtcclxuICAgICAgICB0aGlzLk5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL0FkZHJlc3NNb2RlbC50cyIsImltcG9ydCB7IElucHV0VXNlckluZm9ybWF0aW9uSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvSW5wdXRVc2VySW5mb3JtYXRpb25JbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mb3JtYXRpb25Nb2RlbCB7XHJcbiAgICBFbWFpbDogc3RyaW5nO1xyXG4gICAgRGlzcGxheU5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBJbnB1dFVzZXJJbmZvcm1hdGlvbkludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuRW1haWwgPSBkYXRhLmVtYWlsO1xyXG4gICAgICAgIHRoaXMuRGlzcGxheU5hbWUgPSBkYXRhLmRpc3BsYXlOYW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbC50cyIsImltcG9ydCB7IENkcEV2ZW50RGF0YU1vZGVsIH0gZnJvbSBcIi4vQ2RwRXZlbnREYXRhTW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbi8vIGltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICBJZDogc3RyaW5nID0gVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgRXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgICBFdmVudFR5cGU6IHN0cmluZztcclxuICAgIEV2ZW50VGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBEZXZpY2VJZDogc3RyaW5nO1xyXG4gICAgRzJJZGV2aWNlaWQ6IHN0cmluZztcclxuICAgIERldmljZUJyb3dzZXJTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIFBhZ2VTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIFNpdGVFbnZpcm9ubWVudDogc3RyaW5nO1xyXG4gICAgQ29uZmlnQ29kZT86IHN0cmluZztcclxuICAgIFNpdGVDb2RlPzogc3RyaW5nO1xyXG4gICAgQ2xpZW50Q29kZT86IHN0cmluZztcclxuICAgIEV2ZW50U291cmNlOiBzdHJpbmc7XHJcbiAgICBFdmVudERhdGE6IEFycmF5PENkcEV2ZW50RGF0YU1vZGVsPiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIC8vIEJ1Z1RyYWNrVXRpbC5hZGRFeGlzdGluZ0d1aWRMb2codGhpcy5JZCk7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5FdmVudE5hbWUgPSBkYXRhLkV2ZW50TmFtZTtcclxuICAgICAgICB0aGlzLkV2ZW50VHlwZSA9IGRhdGEuRXZlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuRXZlbnRUaW1lc3RhbXAgPSBkYXRhLkV2ZW50VGltZXN0YW1wO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlSWQgPSBkYXRhLkRldmljZUlkO1xyXG4gICAgICAgIHRoaXMuRzJJZGV2aWNlaWQgPSBkYXRhLkcySWRldmljZWlkO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlQnJvd3NlclNlc3Npb25JZCA9IGRhdGEuRGV2aWNlQnJvd3NlclNlc3Npb25JZDtcclxuICAgICAgICB0aGlzLlBhZ2VTZXNzaW9uSWQgPSBkYXRhLlBhZ2VTZXNzaW9uSWQ7XHJcbiAgICAgICAgdGhpcy5Db25maWdDb2RlID0gZGF0YS5Db25maWdDb2RlO1xyXG4gICAgICAgIHRoaXMuU2l0ZUNvZGUgPSBkYXRhLlNpdGVDb2RlO1xyXG4gICAgICAgIHRoaXMuQ2xpZW50Q29kZSA9IGRhdGEuQ2xpZW50Q29kZTtcclxuICAgICAgICB0aGlzLlNpdGVFbnZpcm9ubWVudCA9IGRhdGEuU2l0ZUVudmlyb25tZW50IHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHRoaXMuRXZlbnRTb3VyY2UgPSBkYXRhLkV2ZW50U291cmNlIHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHRoaXMuRXZlbnREYXRhID0gZGF0YS5FdmVudERhdGE7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWwudHMiLCJleHBvcnQgY2xhc3MgU2VuZE9wdGlvbnNNb2RlbCB7XHJcbiAgICBJc0FzeW5jOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBJc1Jlc2VuZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE/KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Jc0FzeW5jID0gZGF0YS5Jc0FzeW5jO1xyXG4gICAgICAgIHRoaXMuSXNSZXNlbmQgPSBkYXRhLklzUmVzZW5kO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsLnRzIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERldmljZU1vZGVsIHtcclxuICAgIEJyb3dzZXI6IHN0cmluZztcclxuICAgIFR5cGU6IHN0cmluZztcclxuICAgIE9TOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgY29uc3QgdXNlck1ldGEgPSBEZXZpY2VEZXRlY3Rvci5nZXRNZXRhRGF0YSgpO1xyXG5cclxuICAgICAgICB0aGlzLkJyb3dzZXIgPSB1c2VyTWV0YS5Ccm93c2VyO1xyXG4gICAgICAgIHRoaXMuVHlwZSA9IHVzZXJNZXRhLkRldmljZVR5cGU7XHJcbiAgICAgICAgdGhpcy5PUyA9IHVzZXJNZXRhLk9TO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9EZXZpY2VNb2RlbC50cyIsImltcG9ydCB7IE9mZmVySW5wdXRJbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvaW50ZXJmYWNlcy9PZmZlcklucHV0SW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJUYWdNb2RlbCB7XHJcbiAgICBJZDogc3RyaW5nO1xyXG4gICAgUGxhbk5hbWU6IHN0cmluZztcclxuICAgIFRvdGFsUHJpY2U6IG51bWJlcjtcclxuICAgIFR5cGU6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvZmZlcjogT2ZmZXJJbnB1dEludGVyZmFjZSkge1xyXG4gICAgICAgIHRoaXMuSWQgPSB0aGlzLmdldE9mZmVySWQob2ZmZXIpO1xyXG4gICAgICAgIHRoaXMuUGxhbk5hbWUgPSBvZmZlci5OYW1lLFxyXG4gICAgICAgIHRoaXMuVG90YWxQcmljZSA9IG9mZmVyLlRvdGFsUHJpY2U7XHJcbiAgICAgICAgdGhpcy5UeXBlID0gdGhpcy5nZXRPZmZlclR5cGUob2ZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0T2ZmZXJJZChvZmZlcjogT2ZmZXJJbnB1dEludGVyZmFjZSl7XHJcbiAgICAgICAgaWYob2ZmZXIuT2ZmZXJJZCl7XHJcbiAgICAgICAgICAgIHJldHVybiBvZmZlci5PZmZlcklkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmKG9mZmVyLlBsYW5JZCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2ZmZXIuUGxhbklkLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRPZmZlclR5cGUob2ZmZXI6IE9mZmVySW5wdXRJbnRlcmZhY2Upe1xyXG4gICAgICAgIGlmICgob2ZmZXIuSXNEaWdpdGFsIHx8IG9mZmVyLklzRWVkaXRpb24pICYmIG9mZmVyLklzUHJpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiQm90aFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2ZmZXIuSXNEaWdpdGFsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIkRpZ2l0YWxcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKG9mZmVyLklzUHJpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiUHJpbnRcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJVbmtub3duXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvc3AvT2ZmZXJUYWdNb2RlbC50cyIsImV4cG9ydCBjb25zdCBVc2VyU3RhdGUgPSB7XHJcbiAgICBcIkxvZ2dlZEluXCI6IFwiS25vd25cIixcclxuICAgIFwiU3Vic2NyaWJlclwiOiBcIlN1YnNjcmliZXJcIixcclxuICAgIFwiVW5rbm93blwiOiBcIlVua25vd25cIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29ubmV4dFVzZXJTdGF0ZSA9IHtcclxuICAgIFwibm90QXV0aG9yaXplZFwiOiBVc2VyU3RhdGUuVW5rbm93bixcclxuICAgIFwiYXV0aG9yaXplZFwiOiBVc2VyU3RhdGUuTG9nZ2VkSW4sXHJcbiAgICBcImhhc0FjY2Vzc1wiOiBVc2VyU3RhdGUuU3Vic2NyaWJlclxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsLnRzIiwiZXhwb3J0IGludGVyZmFjZSBBY3Rpb25EYXRhIHtcclxuICAgIEFjdGlvblR5cGVJZDogbnVtYmVyO1xyXG4gICAgQWN0aW9uVHlwZTogc3RyaW5nO1xyXG4gICAgQXJ0aWNsZXNMZWZ0OiBudW1iZXI7XHJcbiAgICBBcnRpY2xlc1ZpZXdlZDogbnVtYmVyO1xyXG4gICAgRGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIFVzZXJEZWZpbmVkRGF0YTogc3RyaW5nO1xyXG4gICAgTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQWN0aW9uVHlwZURpY3QgPSB7XHJcbiAgICAxOiBcIkJhbm5lclwiLFxyXG4gICAgNDogXCJJbmxpbmVcIixcclxuICAgIDI6IFwiTW9kYWxcIixcclxuICAgIDM6IFwiUGF5d2FsbFwiLFxyXG4gICAgNjogXCJTbWFsbEluZm9Cb3hcIixcclxuICAgIDc6IFwiSlNcIixcclxuICAgIDExOiBcIk5ld3NsZXR0ZXJcIixcclxuICAgIDE2OiBcIkluc2lnaHRzUmVjb21tZW5kYXRpb25cIlxyXG59XHJcblxyXG4vLyBleHBvcnQgY29uc3QgQWN0aW9uVHlwZSA9IHtcclxuLy8gICAgIFwiQmFubmVyXCI6IEFjdGlvblR5cGVEaWN0W1wiMVwiXSxcclxuLy8gICAgIFwiSW5saW5lXCI6IEFjdGlvblR5cGVEaWN0W1wiNFwiXSxcclxuLy8gICAgIFwiTW9kYWxcIjogQWN0aW9uVHlwZURpY3RbXCIyXCJdLFxyXG4vLyAgICAgXCJQYXl3YWxsXCI6IEFjdGlvblR5cGVEaWN0W1wiM1wiXSxcclxuLy8gICAgIFwiU21hbGxJbmZvQm94XCI6IEFjdGlvblR5cGVEaWN0W1wiNlwiXSxcclxuLy8gICAgIFwiSlNcIjogQWN0aW9uVHlwZURpY3RbXCI3XCJdLFxyXG4vLyAgICAgXCJOZXdzbGV0dGVyXCI6IEFjdGlvblR5cGVEaWN0W1wiMTFcIl1cclxuLy8gfVxyXG5cclxuZXhwb3J0IGNvbnN0IEFjdGlvblR5cGVzID0ge1xyXG4gICAgXCJCYW5uZXJcIjogXCJCYW5uZXJcIixcclxuICAgIFwiSW5saW5lXCI6IFwiSW5saW5lXCIsXHJcbiAgICBcIk1vZGFsXCI6IFwiTW9kYWxcIixcclxuICAgIFwiUGF5d2FsbFwiOiBcIlBheXdhbGxcIixcclxuICAgIFwiU21hbGxJbmZvQm94XCI6IFwiU21hbGxJbmZvQm94XCIsXHJcbiAgICBcIkpTXCI6IFwiSlNcIixcclxuICAgIFwiTmV3c2xldHRlclwiOiBcIk5ld3NsZXR0ZXJcIixcclxuICAgIFwiSW5zaWdodHNSZWNvbW1lbmRhdGlvblwiOiBcIkluc2lnaHRzUmVjb21tZW5kYXRpb25cIlxyXG59XHJcblxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIEFjdGlvblR5cGV7XHJcbi8vICAgICBCYW5uZXI6IHN0cmluZztcclxuLy8gICAgIElubGluZTogc3RyaW5nO1xyXG4vLyAgICAgTW9kYWw6IHN0cmluZztcclxuLy8gICAgIFBheXdhbGw6IHN0cmluZztcclxuLy8gICAgIFNtYWxsSW5mb0JveDogc3RyaW5nO1xyXG4vLyAgICAgSlM6IHN0cmluZztcclxuLy8gICAgIE5ld3NsZXR0ZXI6IHN0cmluZztcclxuLy8gfVxyXG5cclxuZXhwb3J0IHR5cGUgQWN0aW9uVHlwZSA9IFwiQmFubmVyXCIgfCBcIklubGluZVwiIHwgXCJNb2RhbFwiIHwgXCJQYXl3YWxsXCIgfCBcIlNtYWxsSW5mb0JveFwiIHwgXCJKU1wiIHwgXCJOZXdzbGV0dGVyXCI7XHJcblxyXG4vLyBleHBvcnQgZW51bSBBY3Rpb25UeXBlIHtcclxuLy8gICAgIFwiQmFubmVyXCIgPSBcIkJhbm5lclwiLFxyXG4vLyAgICAgXCJJbmxpbmVcIiA9IFwiSW5saW5lXCIsXHJcbi8vICAgICBcIk1vZGFsXCIgPSBcIk1vZGFsXCIsXHJcbi8vICAgICBcIlBheXdhbGxcIiA9IFwiUGF5d2FsbFwiLFxyXG4vLyAgICAgXCJTbWFsbEluZm9Cb3hcIiA9IFwiU21hbGxJbmZvQm94XCIsXHJcbi8vICAgICBcIkpTXCIgPSBcIkpTXCIsXHJcbi8vICAgICBcIk5ld3NsZXR0ZXJcIiA9IFwiTmV3c2xldHRlclwiXHJcbi8vIH1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2RhdGEvbW9kZWxzL2Nvbm5leHQvQWN0aW9uTW9kZWxzLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJQXp1cmVTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JQXp1cmVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIi4vSW5kZXhcIjtcclxuaW1wb3J0IHsgQW5hbHlzaXNPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9BbmFseXNpc09wdGlvbnNJbnRlcmZhY2VcIjtcclxuXHJcbi8vIGltcG9ydCB7IEJhc2VEYXRhU2VydmljZSB9IGZyb20gXCIuL2Jhc2UvQmFzZURhdGFTZXJ2aWNlXCI7XHJcbi8vIGltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIi4vU2Vzc2lvblNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBenVyZVNlcnZpY2UgaW1wbGVtZW50cyBJQXp1cmVTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBBenVyZVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZTtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkF6dXJlU2VydmljZVwiLCBcIiNiMjcwZGZcIik7XHJcbiAgICAvLyBwcml2YXRlIGV2ZW50U2VydmljZTogRXZlbnRTZXJ2aWNlO1xyXG4gICAgLy8gcHVibGljIHBhZ2VTZXNzaW9uSWQyOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIE9QVElPTlM6IEFuYWx5c2lzT3B0aW9uc0ludGVyZmFjZSA9IHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJBenVyZVNlcnZpY2UuR2V0SW5zdGFuY2VcIik7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXp1cmVTZXJ2aWNlLk5FVyBJbnN0YW5jZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBBenVyZVNlcnZpY2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkF6dXJlU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNUT1JcIik7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIC8vIHRoaXMuZXZlbnRTZXJ2aWNlID0gRXZlbnRTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNldE9wdGlvbnMob3B0czogQW5hbHlzaXNPcHRpb25zKVxyXG5cclxuICAgIHNldHVwKG9wdHM6IEFuYWx5c2lzT3B0aW9uc0ludGVyZmFjZSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwic2V0T3B0aW9uc1wiLCBvcHRzKTtcclxuICAgICAgICAgICAgdGhpcy5PUFRJT05TID0gb3B0cztcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVBheWxvYWQoZXZlbnROYW1lOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXiBjcmVhdGVQYXlsb2FkXCIsIGV2ZW50TmFtZSwgXCIgLS0tLS0gIFNlc3Npb25JZCA9PT5cIiwgdGhpcy5CYXNlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgbGV0IGVudGl0eSA9IHtcclxuICAgICAgICAgICAgICAgIFBhcnRpdGlvbktleTogZXZlbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgUm93S2V5OiBVdGlscy5jcmVhdGVHVUlEKCksXHJcbiAgICAgICAgICAgICAgICBTZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvblNlcnZpY2UuUGFnZVNlc3Npb25JZCxcclxuICAgICAgICAgICAgICAgIEFpQXZhaWw6IFV0aWxzLklzQXBwSW5zaWdodHNBdmFpbCgpLFxyXG4gICAgICAgICAgICAgICAgR2FBdmFpbDogVXRpbHMuSXNHb29nbGVBbmFseXRpY3NBdmFpbCgpLFxyXG4gICAgICAgICAgICAgICAgR3RtQXZhaWw6IFV0aWxzLklzR1RNQXZhaWwoKSxcclxuICAgICAgICAgICAgICAgIEN4dEF2YWlsOiBVdGlscy5Jc0Nvbm5leHRBdmFpbCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdmFyIGVudGl0eSA9IHtcclxuICAgICAgICAgICAgLy8gICAgIFBhcnRpdGlvbktleTogZXZlbnROYW1lLFxyXG4gICAgICAgICAgICAvLyAgICAgUm93S2V5OiBVdGlscy5jcmVhdGVHVUlEKCksXHJcbiAgICAgICAgICAgIC8vICAgICBBaUF2YWlsOiBVdGlscy5Jc0FwcEluc2lnaHRzQXZhaWwoKSxcclxuICAgICAgICAgICAgLy8gICAgIEdhQXZhaWw6IFV0aWxzLklzR29vZ2xlQW5hbHl0aWNzQXZhaWwoKSxcclxuICAgICAgICAgICAgLy8gICAgIEd0bUF2YWlsOiBVdGlscy5Jc0dUTUF2YWlsKCksXHJcbiAgICAgICAgICAgIC8vICAgICBDeHRBdmFpbDogVXRpbHMuSXNDb25uZXh0QXZhaWwoKSxcclxuICAgICAgICAgICAgLy8gICAgIFNlc3Npb25JZDogdGhpcy5faW5pdE9wdGlvbnMuc2Vzc2lvbklkLFxyXG4gICAgICAgICAgICAvLyAgICAgVGltZXNwYW46IHRpbWVJbml0LFxyXG4gICAgICAgICAgICAvLyAgICAgRG9tYWluOiBsb2NhdGlvbi5ob3N0bmFtZSxcclxuICAgICAgICAgICAgLy8gICAgIEJyb3dzZXI6IHVzZXJNZXRhRGF0YS5Ccm93c2VyLFxyXG4gICAgICAgICAgICAvLyAgICAgT1M6IHVzZXJNZXRhRGF0YS5PUyxcclxuICAgICAgICAgICAgLy8gICAgIFBhZ2U6IGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoXCIsXCIsIFwiXlwiKSxcclxuICAgICAgICAgICAgLy8gICAgIEZQSWQ6IGZpbmdlclByaW50SWRcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICByZXR1cm4gZW50aXR5O1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbmREYXRhKGV2ZW50TmFtZTogc3RyaW5nLCBldmVudERhdGE/OiBvYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuT1BUSU9OUy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcInNlbmREYXRhXCIsIFwiTk9UIEVOQUJMRURcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcInNlbmREYXRhIHRoaXMucGFnZVNlcnZpY2UuUGFnZVNlc3Npb25JZFwiLCB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMuY3JlYXRlUGF5bG9hZChldmVudE5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNlbmREYXRhXCIsIFwiRXZlbnROYW1lID0+IFwiLCBldmVudE5hbWUsIFwiRXZlbnREYXRhID0+IFwiLCBldmVudERhdGEsIFwiUGF5bG9hZCA9PiBcIiwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgLy8gY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIC8vIHRyeSB7XHJcbiAgICAgICAgICAgIC8vICAgICB4aHIub3BlbigncG9zdCcsIHRoaXMuT1BUSU9OUy51cmwsIHRydWUpO1xyXG4gICAgICAgICAgICAvLyAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoXCJBenVyZSBEYXRhIExvYWRlZFwiLCBlLmN1cnJlbnRUYXJnZXRbJ3N0YXR1c1RleHQnXSk7XHJcbiAgICAgICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAgICAgLy8gICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgICAgICAvLyAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoZW50aXR5KSk7XHJcbiAgICAgICAgICAgIC8vIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLkxvZ2dlci5lcnJvcihcIkVycm9yIFNlbmRpbmcgQXp1cmUgRGF0YVwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9BenVyZVNlcnZpY2UudHMiLCJpbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IElUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSVRhZ01hbmFnZXJTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBEYXRhTGF5ZXJNb2RlbCA9IEFycmF5PG9iamVjdD47XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnTWFuYWdlclNlcnZpY2UgaW1wbGVtZW50cyBJVGFnTWFuYWdlclNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFRhZ01hbmFnZXJTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBfZGF0YUxheWVyOiBEYXRhTGF5ZXJNb2RlbDtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlRhZ01hbmFnZXJTZXJ2aWNlXCIsIFwiI2QyMzRjM1wiKTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUYWdNYW5hZ2VyU2VydmljZS5HZXRJbnN0YW5jZS4gTk8gSU5TVEFOQ0UsIENSRUFUSU5HXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFRhZ01hbmFnZXJTZXJ2aWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuX2RhdGFMYXllciA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVGFnTWFuYWdlclNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIERhdGFMYXllclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0RGF0YUxheWVyKCk6IERhdGFMYXllck1vZGVsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YUxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwKGNvbnRhaW5lcklkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkluaXRpYWxpemluZyBUYWdNYW5hZ2VyIFdpdGggQ29udGFpbmVySWQ6IFwiLCBjb250YWluZXJJZCk7XHJcbiAgICAgICAgICAgIChmdW5jdGlvbiAod2luZG93QXJnLCBkb2N1bWVudEFyZywgc2NyaXB0QXJnLCBkYXRhTGF5ZXJBcmcsIEdUTUlkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2luRGF0YUxheWVyID0gd2luZG93QXJnW1wiRzJBbmFseXRpY3NcIl0uRGF0YUxheWVyO1xyXG4gICAgICAgICAgICAgICAgd2luZG93QXJnW2RhdGFMYXllckFyZ10gPSB3aW5EYXRhTGF5ZXIgfHwgW107XHJcbiAgICAgICAgICAgICAgICB3aW5kb3dBcmdbZGF0YUxheWVyQXJnXS5wdXNoKHsgXCJndG0uc3RhcnRcIjogbmV3IERhdGUoKS5nZXRUaW1lKCksIGV2ZW50OiBcImd0bS5qc1wiIH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGYgPSBkb2N1bWVudEFyZy5nZXRFbGVtZW50c0J5VGFnTmFtZShzY3JpcHRBcmcpWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IGogPSA8SFRNTFNjcmlwdEVsZW1lbnQ+ZG9jdW1lbnRBcmcuY3JlYXRlRWxlbWVudChzY3JpcHRBcmcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRsID0gZGF0YUxheWVyQXJnICE9PSBcImRhdGFMYXllclwiID8gXCImbD1cIiArIGRhdGFMYXllckFyZyA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBqLmFzeW5jID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGouc3JjID0gXCJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndG0uanM/aWQ9XCIgKyBHVE1JZCArIGRsO1xyXG4gICAgICAgICAgICAgICAgZi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqLCBmKTtcclxuICAgICAgICAgICAgfSkod2luZG93LCBkb2N1bWVudCwgXCJzY3JpcHRcIiwgXCJNRzJETFwiLCBjb250YWluZXJJZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFRhZyhldmVudE5hbWU6IHN0cmluZywgZXZlbnRQYXlsb2FkPzogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZXZlbnRQYXlsb2FkW1wiZXZlbnRcIl0gPSBldmVudE5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJTZW5kaW5nIFRhZy4uLi4gXCIsIGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIlNlbmRpbmcgVGFnIFBheWxvYWQgXCIsIGV2ZW50UGF5bG9hZCwgdGhpcy5fZGF0YUxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YUxheWVyLnB1c2goZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RExWKHZhck5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2V0RExWXCIsIHZhck5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgbGV0IG9iaiA9IHt9O1xyXG4gICAgICAgICAgICBvYmpbdmFyTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YUxheWVyLnB1c2gob2JqKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBleHBvcnQgbGV0IFRhZ01hbmFnZXIgPSBUYWdNYW5hZ2VyU2luZ2xldG9uLkluc3RhbmNlO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9UYWdNYW5hZ2VyU2VydmljZS50cyIsImltcG9ydCB7IEJvdE1vZGVsIH0gZnJvbSBcIi4vQm90TW9kZWxcIjtcclxuaW1wb3J0IHsgQm90TGlzdCB9IGZyb20gXCIuL0JvdExpc3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCb3REZXRlY3RvciB7XHJcbiAgICBkZXRlY3RCb3Q6IEJvdE1vZGVsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVzZXJBZ2VudEluZm8/KSB7XHJcbiAgICAgICAgaWYod2luZG93LkRldmljZURldGVjdG9yICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2Upe1xyXG4gICAgICAgICAgICB0aGlzLmRldGVjdEJvdCA9IHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UuYm90O1xyXG4gICAgICAgICAgICByZXR1cm4gXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXNlckFnZW50ID0gdXNlckFnZW50SW5mbyB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgICAgIGxldCBib3RSZWdFeHBMZW5ndGggPSBCb3RMaXN0Lmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvdFJlZ0V4cExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKEJvdExpc3RbaV0ucmVnZXgpLnRlc3QodXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXRlY3RCb3QgPSBuZXcgQm90TW9kZWwoQm90TGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGV0ZWN0Qm90KCk6IEJvdE1vZGVsfG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRldGVjdEJvdCB8fCBudWxsO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2JvdERldGVjdGlvbi9Cb3REZXRlY3Rvci50cyIsImltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgRGF0YUNvbGxlY3RvciB9IGZyb20gXCJATW9kdWxlcy9kYXRhQ29sbGVjdG9yL0RhdGFDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IERsU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvRGxTdG9yYWdlSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQXBpRGxSZXNwb25zZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvQXBpRGxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgRGF0ZVV0aWwgfSBmcm9tIFwiQFV0aWxzL0RhdGVVdGlsXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0luZGV4XCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcbmltcG9ydCB7IEh0dHBSZXNwb25zZSB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9odHRwL0h0dHBcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IERldmljZU1vZHVsZSwgUmVuZXJlcmF0aW9uTW9kZWwgfSBmcm9tIFwiQE1vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhTGF5ZXJDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJEYXRhIExheWVyXCIpO1xyXG4gICAgcHJpdmF0ZSBkbFN0b3JhZ2VLZXkgPSBcImNkcC1kbFwiO1xyXG4gICAgcHJpdmF0ZSBzZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgcHJpdmF0ZSBkbERhdGE6IEFwaURsUmVzcG9uc2U7XHJcbiAgICBwcml2YXRlIGhhc05ldHdvcmtFcnJvciA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2V0TG9jYWxEbERhdGEoKTtcclxuICAgICAgICB0aGlzLmxpc3RlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0TG9jYWxEbERhdGEoKSB7XHJcbiAgICAgICAgY29uc3QgbG9jYWxEbDogRGxTdG9yYWdlSW50ZXJmYWNlID0gdGhpcy5nZXRDZHBEbEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgaWYgKGxvY2FsRGwgJiYgbG9jYWxEbC5hcGlEbCkge1xyXG4gICAgICAgICAgICB0aGlzLmRsRGF0YSA9IGxvY2FsRGwuYXBpRGw7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcInVwZGF0ZV9sb2NhbF92YWx1ZVwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRsRGF0YSA9IHt9IGFzIEFwaURsUmVzcG9uc2U7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcInNldF9sb2NhbF9kZWZhdWx0XCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SW5mb3JtYXRpb24oZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2RwRGwoZGV2aWNlSWQpXHJcbiAgICAgICAgICAgIC50aGVuKChhcGlEbERhdGE6IEFwaURsUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBEYXRhQ29sbGVjdG9yLmxpc3RlbkVyQ29kZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmhhbmRsZUNkcERsUmVzcG9uY2UoYXBpRGxEYXRhLCBkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJlcyhhcGlEbERhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICBEYXRhQ29sbGVjdG9yLmxpc3RlbkVyQ29kZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDZHBEbFJlc3BvbmNlKGFwaURsRGF0YSwgZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxDZHBHZXRTdWNjZXNzLCB7IGRldGFpbDogdGhpcy5nZXREbERhdGEoKSB9KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2RwRGxSZXNwb25jZShudWxsLCBkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChQbHVnaW5Jbm5lckV2ZW50cy5EbENkcEdldEZhaWwsIHsgZGV0YWlsOiBlcnJvciB9KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIERldmljZU1vZHVsZS5zZW5kU2F2ZWRSZWdlbmVyYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIudXBkYXRlRzJJRGV2aWNlSWQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhbmRsZUNkcERsUmVzcG9uY2UoYXBpRGxEYXRhOiBBcGlEbFJlc3BvbnNlLCBkZXZpY2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5zZXRDZHBEbFRvU3RvcmFnZShhcGlEbERhdGEsIGRldmljZUlkKTtcclxuICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJzZXRDZHBEbFwiLCAgdGhpcy5nZXRFckZvckdBKCkgKyBcIlwiKTtcclxuICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJzZXRDZHBEbEVyXCIsICB0aGlzLmdldEVyKCkgKyBcIlwiKTtcclxuICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJzZXRDZHBEbEVycFwiLCAgdGhpcy5nZXRFcnAoKSArIFwiXCIpO1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcInNldENkcERsQ3JcIiwgIHRoaXMuZ2V0Q3IoKSArIFwiXCIpO1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcInNldENkcERsQ3JwXCIsICB0aGlzLmdldENycCgpICsgXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERsRGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kbERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFckZvckdBKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9ICB0aGlzLmdldERsRGF0YSgpLmVyIHx8IG51bGw7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEVyU3RhdHVzKGBnYS1lcj0ke3Jlc3VsdH1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q3JGb3JHQSgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSAgdGhpcy5nZXREbERhdGEoKS5jciB8fCBudWxsO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZ2EtY2g9JHtyZXN1bHR9YCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RzJpRGV2aWNlSWQoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gIHRoaXMuZ2V0RGxEYXRhKCkuZzJpZGV2aWNlaWQgfHwgbnVsbDtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkRzJpU3RhdHVzKGBnMmk9JHtyZXN1bHR9YCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGxEYXRhKCkuZXIgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXJwKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldERsRGF0YSgpLmVycCB8fCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREbERhdGEoKS5jciB8fCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDcnAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGxEYXRhKCkuY3JwIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldERldmljZUlkRnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgZGxPYmplY3Q6IERsU3RvcmFnZUludGVyZmFjZSA9IHRoaXMuZ2V0Q2RwRGxGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIHJldHVybiBkbE9iamVjdCA/IGRsT2JqZWN0LmRldmljZUlkIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzVmFsaWRMb2NhbEluZm9ybWF0aW9uKGxvY2FsRGw6IERsU3RvcmFnZUludGVyZmFjZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGlzSW5DdXJyZW50RGV2aWNlU2Vzc2lvbiA9IGxvY2FsRGwgJiYgKGxvY2FsRGwuYnJvd3NlclNlc3Npb24gPT09IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0RGV2aWNlU2Vzc2lvbklkKCkpO1xyXG4gICAgICAgIGlmIChpc0luQ3VycmVudERldmljZVNlc3Npb24gJiYgdGhpcy5pc0FjdHVhbENkcERsU3RvcmFnZShsb2NhbERsKSkge1xyXG4gICAgICAgICAgICBpZiAobG9jYWxEbC5hcGlEbCAmJiBsb2NhbERsLmFwaURsLmVyICE9PSBDb25zdGFudHMuTm9FckluZm9ybWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDZHBEbChkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxBcGlEbFJlc3BvbnNlPiB7XHJcbiAgICAgICAgY29uc3QgbG9jYWxEbDogRGxTdG9yYWdlSW50ZXJmYWNlID0gdGhpcy5nZXRDZHBEbEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZExvY2FsSW5mb3JtYXRpb24obG9jYWxEbCkpIHtcclxuICAgICAgICAgICAgaWYgKGxvY2FsRGwuYXBpRGwuZXJfZXhwaXJlX2RhdGUgJiYgbG9jYWxEbC5hcGlEbC5nMmlkZXZpY2VpZCkge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwidmFsaWRcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGVtcHR5X2RhdGE9JHtKU09OLnN0cmluZ2lmeShsb2NhbERsLmFwaURsKX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxvY2FsRGwuYXBpRGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9jYWxEbCkge1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkVXNlclJlcVJlYXNvbnMoXCJleHBpcmVkXCIpO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJleHBpcmVkXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRVc2VyUmVxUmVhc29ucyhcImVtcHR5XCIpO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJlbXB0eVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2RwRGxGcm9tQXBpKGRldmljZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q2RwRGxGcm9tU3RvcmFnZSgpOiBEbFN0b3JhZ2VJbnRlcmZhY2UgfCBudWxsIHtcclxuICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0aGlzLmRsU3RvcmFnZUtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZURldmljZUlkSW5DZHBEbFN0b3JhZ2UoZGV2aWNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGRsRGF0YTogRGxTdG9yYWdlSW50ZXJmYWNlID0gTG9jYWxTdG9yYWdlU2VydmljZS5nZXQodGhpcy5kbFN0b3JhZ2VLZXkpO1xyXG4gICAgICAgIGlmIChkbERhdGEpIHtcclxuICAgICAgICAgICAgZGxEYXRhLmRldmljZUlkID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KHRoaXMuZGxTdG9yYWdlS2V5LCBkbERhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlQ2RwRGxTdG9yYWdlKCk6IHZvaWQge1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2UuZGVsZXRlKHRoaXMuZGxTdG9yYWdlS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpcmVHMmlDaGFuZ2VFdmVudElmTmVlZChkbEluZm9ybWF0aW9uOiBBcGlEbFJlc3BvbnNlLCBkZXZpY2VJZDogc3RyaW5nLCBpc1NraXBwZWQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCBzdG9yZWREYXRhOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSB0aGlzLmdldENkcERsRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICBjb25zdCBzdG9yZWRHMmkgPSBzdG9yZWREYXRhPy5hcGlEbD8uZzJpZGV2aWNlaWQ7XHJcbiAgICAgICAgaWYgKHN0b3JlZEcyaSAmJiBzdG9yZWRHMmkgIT09IGRsSW5mb3JtYXRpb24/LmcyaWRldmljZWlkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIE9sZEcyaTogc3RvcmVkRzJpLFxyXG4gICAgICAgICAgICAgICAgTmV3RzJpOiBkbEluZm9ybWF0aW9uPy5nMmlkZXZpY2VpZCxcclxuICAgICAgICAgICAgICAgIEJyb3dzZXJDYWNoZTogc3RvcmVkRGF0YSxcclxuICAgICAgICAgICAgICAgIFJlc3Bvc2VEYXRhOiBkbEluZm9ybWF0aW9uLFxyXG4gICAgICAgICAgICAgICAgU2tpcHBlZDogaXNTa2lwcGVkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcIm9uRzJpRGV2aWNlSWRDaGFuZ2VcIiwgeyBkZXRhaWw6IGV2ZW50RGF0YSB9KTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRHMmlVbmxpbmtpbmcoc3RvcmVkRzJpLCBkbEluZm9ybWF0aW9uPy5nMmlkZXZpY2VpZCwgZGV2aWNlSWQsIGRsSW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJiZWZvcmVfc2V0X2xzX3VubGlua1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtZXJnZURhdGEocmVzOiBBcGlEbFJlc3BvbnNlKTogQXBpRGxSZXNwb25zZSB7XHJcbiAgICAgICAgaWYgKCFyZXM/LmcyaWRldmljZWlkKSB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcInRyeV9zZXRfbHNfZW1wdHlcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGE6IEFwaURsUmVzcG9uc2UgPSB0aGlzLmdldENkcERsRnJvbVN0b3JhZ2UoKT8uYXBpRGw7XHJcbiAgICAgICAgY29uc3QgZXJyb3JDb2RlcyA9IHtcclxuICAgICAgICAgICAgTmV0d29ya0Vycm9yOiAtNTEsXHJcbiAgICAgICAgICAgIEVtcHR5UmVzcG9uc2U6IC01MlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2tDb2RlID0gdGhpcy5oYXNOZXR3b3JrRXJyb3IgPyBlcnJvckNvZGVzLk5ldHdvcmtFcnJvciA6IGVycm9yQ29kZXMuRW1wdHlSZXNwb25zZTtcclxuICAgICAgICBjb25zdCBmYWxsYmFja0RhdGE6IEFwaURsUmVzcG9uc2UgPSB7XHJcbiAgICAgICAgICAgIGVyOiBmYWxsYmFja0NvZGUsXHJcbiAgICAgICAgICAgIGVycDogZmFsbGJhY2tDb2RlLFxyXG4gICAgICAgICAgICBjcjogZmFsbGJhY2tDb2RlLFxyXG4gICAgICAgICAgICBjcnA6IGZhbGxiYWNrQ29kZSxcclxuICAgICAgICAgICAgZzJpZGV2aWNlaWQ6IFN0cmluZyhmYWxsYmFja0NvZGUpLFxyXG4gICAgICAgICAgICBlcl9leHBpcmVfZGF0ZTogRGF0ZVV0aWwuZ2V0Tm93RGF0ZUluU2VjKCkgKyAxLCAvLyB0byBwcmV2ZW50IGFkZCAxIGRheSBmb3IgZXhwaXJlZCBkYXRlIGNhc2VcclxuICAgICAgICAgICAgaW50ZXJlc3RzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgb21pdEVtcHR5ID0gKG9iaiA9IHt9KSA9PiB7XHJcbiAgICAgICAgICAgIG9iaiA9IHsuLi5vYmp9O1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopLmZpbHRlcihrID0+IG9ialtrXSA9PT0gbnVsbCB8fCBvYmpba10gPT09IHVuZGVmaW5lZCkuZm9yRWFjaChrID0+IGRlbGV0ZShvYmpba10pKVxyXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi5mYWxsYmFja0RhdGEsIC4uLm9taXRFbXB0eShzdG9yZWREYXRhKSwgLi4ub21pdEVtcHR5KHJlcykgfTtcclxuICAgICAgICAvLyBjb25zdCBsb2cgPSAoZGF0YSkgPT4gSlNPTi5zdHJpbmdpZnkoey4uLm9taXRFbXB0eShkYXRhKSwgaW50ZXJlc3RzOiB1bmRlZmluZWQgfSk7XHJcbiAgICAgICAgLy8gQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBzdG9yZWRfZGF0YToke2xvZyhzdG9yZWREYXRhKX0scmVzX2RhdGE6JHtsb2cocmVzKX0sbWVyZ2VkX2RhdGE6JHtsb2cocmVzdWx0KX1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q2RwRGxUb1N0b3JhZ2UoZGxJbmZvcm1hdGlvbjogQXBpRGxSZXNwb25zZSwgZGV2aWNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIGRsSW5mb3JtYXRpb24gPSB0aGlzLm1lcmdlRGF0YShkbEluZm9ybWF0aW9uKTtcclxuICAgICAgICBpZiAoIWRsSW5mb3JtYXRpb24uZXJfZXhwaXJlX2RhdGUpIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJSZXFFckV4cGlyZURhdGUoZGxJbmZvcm1hdGlvbi5lcl9leHBpcmVfZGF0ZSk7XHJcbiAgICAgICAgICAgIGRsSW5mb3JtYXRpb24uZXJfZXhwaXJlX2RhdGUgPSBEYXRlVXRpbC5nZXREYXRlSW5TZWMoRGF0ZVV0aWwuYWRkRGF5cyhuZXcgRGF0ZSgpLCAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNhdmVEbDogRGxTdG9yYWdlSW50ZXJmYWNlID0ge1xyXG4gICAgICAgICAgICBhcGlEbDogZGxJbmZvcm1hdGlvbixcclxuICAgICAgICAgICAgZGV2aWNlSWQ6IGRldmljZUlkLFxyXG4gICAgICAgICAgICBicm93c2VyU2Vzc2lvbjogdGhpcy5zZXNzaW9uU2VydmljZS5nZXREZXZpY2VTZXNzaW9uSWQoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0dWFsQ2RwRGxTdG9yYWdlKHNhdmVEbCkpIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJSZXFFckV4cGlyZURhdGUoc2F2ZURsLmFwaURsLmVyX2V4cGlyZV9kYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZmlyZUcyaUNoYW5nZUV2ZW50SWZOZWVkKGRsSW5mb3JtYXRpb24sIGRldmljZUlkLCBmYWxzZSk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJSZXFBbGxvd2VkU2VuZCgpO1xyXG5cclxuICAgICAgICBjb25zdCBpc1NldCA9IExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KHRoaXMuZGxTdG9yYWdlS2V5LCBzYXZlRGwpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgc2V0X2xzX3N1Y2Nlc3M9JHtpc1NldH1gKTtcclxuICAgICAgICBjb25zdCBkaWRMcyA9IHRoaXMuZ2V0RGV2aWNlSWRGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2xzX29udXBkYXRlPSR7ZGlkTHN9YCk7XHJcbiAgICAgICAgdGhpcy5zZXRMb2NhbERsRGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBY3R1YWxDZHBEbFN0b3JhZ2UoY2RwU3RvcmFnZTogRGxTdG9yYWdlSW50ZXJmYWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIChEYXRlLm5vdygpIC0gRGF0ZVV0aWwuZ2V0RGF0ZVZhbHVlRnJvbVRpbWVzdGFtcChjZHBTdG9yYWdlLmFwaURsLmVyX2V4cGlyZV9kYXRlKSA8IDApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGlzdGVuKCkge1xyXG4gICAgICAgIHRoaXMucHJvbG9uZ2F0ZVVzZXJTdG9yYWdlSWZOZWVkKCk7XHJcbiAgICAgICAgdGhpcy5jZHBEbERhdGFBdmFpbGFiaWxpdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb2xvbmdhdGVVc2VyU3RvcmFnZUlmTmVlZCgpOiB2b2lkIHtcclxuICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCBQbHVnaW5Jbm5lckV2ZW50cy5SZWdlbmVyZXJhdGlvblJlc2VuZFN1Y2Nlc3MsIChldmVudDogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlZ2VuZXJhdGU6IFJlbmVyZXJhdGlvbk1vZGVsID0gZXZlbnQuZGV0YWlsO1xyXG4gICAgICAgICAgICBjb25zdCBjZHBTdG9yYWdlOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSB0aGlzLmdldENkcERsRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgY29uc3QgYXBpRGwgPSBjZHBTdG9yYWdlPy5hcGlEbDtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGFwaURsPy5lcl9leHBpcmVfZGF0ZTtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZUluSG91ciA9IERhdGVVdGlsLmdldERhdGVJblNlYyhEYXRlVXRpbC5hZGRIb3VycyhuZXcgRGF0ZSgpLCAxKSk7XHJcbiAgICAgICAgICAgIC8vIGxlc3MgdGhlbiBob3VyXHJcbiAgICAgICAgICAgIGlmIChkYXRlICYmIGRhdGUgPCBkYXRlSW5Ib3VyKSB7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkU3RvcmFnZVByb2xvbmdhdGlvbihkYXRlLCBkYXRlSW5Ib3VyLCByZWdlbmVyYXRlKTtcclxuICAgICAgICAgICAgICAgIGFwaURsLmVyX2V4cGlyZV9kYXRlID0gZGF0ZUluSG91cjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2RwRGxUb1N0b3JhZ2UoYXBpRGwsIHJlZ2VuZXJhdGUubmV3X2RldmljZV9pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNkcERsRGF0YUF2YWlsYWJpbGl0eSgpIHtcclxuICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCBQbHVnaW5Jbm5lckV2ZW50cy5HMklBZnRlclNldEluaXRPcHRpb25zLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRMb2NhbERsRGF0YSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q2RwRGxGcm9tQXBpKGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaURsUmVzcG9uc2U+IHtcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRCb3RJbmZvSGVhZGVyKCk7XHJcbiAgICAgICAgb3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRJbml0U2V0dGluZ3NIZWFkZXIob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycyA9IG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMgfHwgW107XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycy5wdXNoKFwieC1yZXF1ZXN0LWlkXCIpO1xyXG4gICAgICAgIG9wdGlvbnMuc3RhdHVzQ29kZUVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImJlZm9yZV9nZXRfdXNlclwiKTtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwidXNlclwiLCB7fSwgb3B0aW9ucylcclxuICAgICAgICAgICAgLnRoZW4oKHJlczogSHR0cFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdElkKHJlcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0V4dGVuZGVkTW9kZWwgPSAocmVzIGFzIEh0dHBSZXNwb25zZSkuZGF0YSAmJiAocmVzIGFzIEh0dHBSZXNwb25zZSkuZXhwb3NlZEhlYWRlcnM7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNFeHRlbmRlZE1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja1JlcXVlc3RJZChyZXMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGNhdGNoPSR7KHJlcyBpbnN0YW5jZW9mIEVycm9yID8gcmVzLnRvU3RyaW5nKCkgOiBKU09OLnN0cmluZ2lmeShyZXMpKS5zdWJzdHJpbmcoMCwgNjQpfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwicmVzZW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXJcIiwge30sIG9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlczogSHR0cFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tSZXF1ZXN0SWQocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTmV0d29ya0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNFeHRlbmRlZE1vZGVsID0gKHJlcyBhcyBIdHRwUmVzcG9uc2UpLmRhdGEgJiYgKHJlcyBhcyBIdHRwUmVzcG9uc2UpLmV4cG9zZWRIZWFkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFeHRlbmRlZE1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdElkKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGNhdGNoPSR7KHJlcyBpbnN0YW5jZW9mIEVycm9yID8gcmVzLnRvU3RyaW5nKCkgOiBKU09OLnN0cmluZ2lmeShyZXMpKS5zdWJzdHJpbmcoMCwgNjQpfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImRvdWJsZV9mYWlsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChpc0V4dGVuZGVkTW9kZWwgPyByZXMuZGF0YSA6IHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdHJhY2tSZXF1ZXN0SWQocmVzOiBIdHRwUmVzcG9uc2UpIHtcclxuICAgICAgICBjb25zdCByZXFpZCA9IHJlcy5leHBvc2VkSGVhZGVyc1tcIngtcmVxdWVzdC1pZFwiXSB8fCBcImcyaV9lbXB0eV9mYWxsYmFja1wiO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRVc2VyRXJSZXFpZChyZXFpZCk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBhZnRlcl9nZXRfdXNlcj0ke3JlcWlkfWApO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgc3RhdHVzX2NvZGU9JHtyZXMuc3RhdHVzQ29kZX1gKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENkcERhdGFMYXllciA9IG5ldyBEYXRhTGF5ZXJDbGFzcygpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL0NkcERhdGFMYXllci50cyIsImV4cG9ydCB7IEZMT1dfTU9ERV9UWVBFUyB9IGZyb20gXCIuL01vZGVUeXBlc1wiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvbW9kZWxzL2luZGV4LnRzIiwiaW1wb3J0IHsgUHJveHlTZXR0aW5nc01vZGVsIH0gZnJvbSBcIi4vbW9kZWxzXCI7XHJcblxyXG5jbGFzcyBQcm94eVNlcnZpY2VDbGFzcyB7XHJcbiAgICBhcHBseShjb250ZXh0OiBvYmplY3QsIGhhbmRsZXJTZXR0aW5nOiBQcm94eVNldHRpbmdzTW9kZWwpOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWV0aG9kID0gY29udGV4dFtoYW5kbGVyU2V0dGluZy50YXJnZXRdLmJpbmQoY29udGV4dCk7XHJcbiAgICAgICAgY29udGV4dFtoYW5kbGVyU2V0dGluZy50YXJnZXRdID0gKC4uLmFyZ3M6IGFueSkgPT4gaGFuZGxlclNldHRpbmcuaGFuZGxlci5hcHBseShjb250ZXh0LCBbb3JpZ2luYWxNZXRob2QsIC4uLmFyZ3NdKTtcclxuICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFByb3h5U2VydmljZSA9IG5ldyBQcm94eVNlcnZpY2VDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvcHJveHkvUHJveHlTZXJ2aWNlLnRzIiwiLy8gcHJldmVudCBmYWlsZWQgaW4gdGVzdHMgLSB1c2UgdmFsaWQgVVJMXHJcbmNvbnN0IGlzUmVwbGFjZWRCeUNJID0gKHJlcGxhY2VkQ0lQYXR0ZXJuOiBzdHJpbmcpID0+ICFyZXBsYWNlZENJUGF0dGVybi5zdGFydHNXaXRoKFwiI1wiKSAmJiAhcmVwbGFjZWRDSVBhdHRlcm4uZW5kc1dpdGgoXCIjXCIpO1xyXG5cclxuY29uc3QgZXZlbnRzVXJsQ0kgPSBcIiN7X19tbC1hcGktZXZlbnRzLXVybF9ffSNcIjtcclxuY29uc3QgZXZlbnRzVXJsRmFsbGJhY2sgPSBcImh0dHBzOi8vZXZlbnRzLm1nMmluc2lnaHRzLmNvbVwiO1xyXG5sZXQgZXZlbnRzVXJsID0gaXNSZXBsYWNlZEJ5Q0koZXZlbnRzVXJsQ0kpID8gZXZlbnRzVXJsQ0kgOiBldmVudHNVcmxGYWxsYmFjaztcclxuXHJcbmNvbnN0IGFwaVVybENJID0gXCIje19fbWwtYXBpLXVybF9ffSNcIjtcclxuY29uc3QgYXBpVXJsRmFsbGJhY2sgPSBcImh0dHBzOi8vYXBpLm1nMmluc2lnaHRzLmNvbVwiO1xyXG5sZXQgYXBpVXJsID0gaXNSZXBsYWNlZEJ5Q0koYXBpVXJsQ0kpID8gYXBpVXJsQ0kgOiBhcGlVcmxGYWxsYmFjaztcclxuXHJcbmV4cG9ydCBjb25zdCBDb21tb25Db25maWdEYXRhID0ge1xyXG4gICAgZXZlbnRzVXJsOiAgZXZlbnRzVXJsICsgXCIvZXZlbnRzXCIsXHJcbiAgICBhcGlVcmw6ICBhcGlVcmwgKyBcIi9cIlxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vY29uZmlnL0NvbW1vbkNvbmZpZ0RhdGEudHMiLCJpbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIi4uLy4uLy4uL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiLi4vU3BFdmVudFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgT2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvT2ZmZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9mZmVyc0V2ZW50RGF0YUV2ZW50IGV4dGVuZHMgU3BFdmVudCB7XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBzdXBlci5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgbGV0IGNkcERhdGFMaXN0ID0gdGhpcy5nZXRFdmVudE1vZGVsc0J5T2ZmZXJzKHRoaXMuZXZlbnRNb2RlbCk7XHJcbiAgICAgICAgcmV0dXJuIGNkcERhdGFMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEV2ZW50TW9kZWxzQnlPZmZlcnMoc2hhcmVFdmVudE1vZGVsOiBDZHBFdmVudE1vZGVsKTogYW55IHtcclxuICAgICAgICBsZXQgY2RwRGF0YUxpc3QgPSBbXTtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICAgICAgaWYgKGRhdGEub2ZmZXJzKSB7XHJcbiAgICAgICAgICAgIGRhdGEub2ZmZXJzLmZvckVhY2goKG9mZmVyOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzZW5kT2ZmZXJNb2RlbCA9IG5ldyBPZmZlck1vZGVsKG9mZmVyKTtcclxuICAgICAgICAgICAgICAgIGxldCBjbG9uZVNoYXJlRXZlbnRNb2RlbCA9IE9iamVjdC5hc3NpZ24oe30sIHNoYXJlRXZlbnRNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBjbG9uZVNoYXJlRXZlbnRNb2RlbC5JZCA9IFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwidHJhbnNmb3JtRXZlbnREYXRhXCIsIFwib2ZmZXIgPT4gXCIsIHNlbmRPZmZlck1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGxldCBldmVudERhdGEgPSB0aGlzLmNvbnZlcnREYXRhVmFsdWVUb1N0cmluZyhVdGlscy5vYmplY3RUb0FycmF5RGljdChzZW5kT2ZmZXJNb2RlbCkpO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVTaGFyZUV2ZW50TW9kZWwuRXZlbnREYXRhID0gY2xvbmVTaGFyZUV2ZW50TW9kZWwuRXZlbnREYXRhLmNvbmNhdChldmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgY2RwRGF0YUxpc3QucHVzaChjbG9uZVNoYXJlRXZlbnRNb2RlbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gY2RwRGF0YUxpc3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL09mZmVyc0V2ZW50RGF0YUV2ZW50LnRzIiwiaW1wb3J0IHsgT2ZmZXJJbnB1dEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL09mZmVySW5wdXRJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlck1vZGVsIHtcclxuICAgIE9mZmVyTmFtZTogc3RyaW5nO1xyXG4gICAgT2ZmZXJNYXJrZXRpbmdUZXh0OiBzdHJpbmc7XHJcbiAgICBPZmZlclRleHQ6IHN0cmluZztcclxuICAgIE9mZmVySW1hZ2VEZXNjcmlwdGlvbjogYW55O1xyXG4gICAgT2ZmZXJJc0Jlc3RQbGFuOiBhbnk7XHJcbiAgICBPZmZlckRpc3BsYXlPcmRlcjogYW55O1xyXG4gICAgT2ZmZXJJc0RpZ2l0YWw6IGFueTtcclxuICAgIE9mZmVySXNFZWRpdGlvbjogYW55O1xyXG4gICAgT2ZmZXJJc0V6UGF5OiBhbnk7XHJcbiAgICBPZmZlcklzRXpQYXlPcHRpb25hbDogYW55O1xyXG4gICAgT2ZmZXJJc1ByaW50OiBhbnk7XHJcbiAgICBPZmZlclBhc3NPclRyaWFsRGF5czogYW55O1xyXG4gICAgT2ZmZXJBbW91bnQ6IGFueTtcclxuICAgIE9mZmVyUXVhbnRpdHk6IGFueTtcclxuICAgIE9mZmVyQ2l0eVRheDogYW55O1xyXG4gICAgT2ZmZXJTdGF0ZVRheDogYW55O1xyXG4gICAgT2ZmZXJDb3VudHlUYXg6IGFueTtcclxuICAgIE9mZmVyVGF4QW1vdW50OiBhbnk7XHJcbiAgICBPZmZlckFjdGl2YXRpb25GZWU6IGFueTtcclxuICAgIE9mZmVyUHJpY2VTdWZmaXg6IGFueTtcclxuICAgIE9mZmVyUHJlbWl1bXM6IGFueTtcclxuICAgIE9mZmVyVG90YWxQcmljZTogYW55O1xyXG4gICAgT2ZmZXJBbGxvd1ByZXZpb3VzU3VuZGF5OiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3Iob2ZmZXI6IE9mZmVySW5wdXRJbnRlcmZhY2UpIHtcclxuICAgICAgICB0aGlzLk9mZmVyTmFtZSA9IG9mZmVyLk5hbWU7XHJcbiAgICAgICAgdGhpcy5PZmZlck1hcmtldGluZ1RleHQgPSB0aGlzLmdldE1hcmtldGluZ1RleHQob2ZmZXIpLFxyXG4gICAgICAgICAgICB0aGlzLk9mZmVyVGV4dCA9IHRoaXMuZ2V0T2ZmZXJUZXh0KG9mZmVyKTtcclxuICAgICAgICB0aGlzLk9mZmVySW1hZ2VEZXNjcmlwdGlvbiA9IChvZmZlci5JbWFnZSkgPyBvZmZlci5JbWFnZS5JbWFnZURlc2NyaXB0aW9uIDogXCJcIjtcclxuICAgICAgICB0aGlzLk9mZmVySXNCZXN0UGxhbiA9IG9mZmVyLklzQmVzdFBsYW47XHJcbiAgICAgICAgdGhpcy5PZmZlckRpc3BsYXlPcmRlciA9IG9mZmVyLkRpc3BsYXlPcmRlcjtcclxuICAgICAgICB0aGlzLk9mZmVySXNEaWdpdGFsID0gb2ZmZXIuSXNEaWdpdGFsO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJc0VlZGl0aW9uID0gb2ZmZXIuSXNFZWRpdGlvbjtcclxuICAgICAgICB0aGlzLk9mZmVySXNFelBheSA9IG9mZmVyLklzRXpQYXk7XHJcbiAgICAgICAgdGhpcy5PZmZlcklzRXpQYXlPcHRpb25hbCA9IG9mZmVyLklzRXpQYXlPcHRpb25hbDtcclxuICAgICAgICB0aGlzLk9mZmVySXNQcmludCA9IG9mZmVyLklzUHJpbnQ7XHJcbiAgICAgICAgdGhpcy5PZmZlclBhc3NPclRyaWFsRGF5cyA9IG9mZmVyLlBhc3NPclRyaWFsRGF5cztcclxuICAgICAgICB0aGlzLk9mZmVyQW1vdW50ID0gb2ZmZXIuQW1vdW50O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJRdWFudGl0eSA9IG9mZmVyLlF1YW50aXR5O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJDaXR5VGF4ID0gb2ZmZXIuQ2l0eVRheDtcclxuICAgICAgICB0aGlzLk9mZmVyU3RhdGVUYXggPSBvZmZlci5TdGF0ZVRheDtcclxuICAgICAgICB0aGlzLk9mZmVyQ291bnR5VGF4ID0gb2ZmZXIuQ291bnR5VGF4O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJUYXhBbW91bnQgPSBvZmZlci5UYXhBbW91bnQ7XHJcbiAgICAgICAgdGhpcy5PZmZlckFjdGl2YXRpb25GZWUgPSBvZmZlci5BY3RpdmF0aW9uRmVlO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJQcmljZVN1ZmZpeCA9IG9mZmVyLlByaWNlU3VmZml4O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJQcmVtaXVtcyA9IChvZmZlci5QcmVtaXVtcyAmJiBvZmZlci5QcmVtaXVtcy5sZW5ndGggPiAwKSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLk9mZmVyVG90YWxQcmljZSA9IG9mZmVyLlRvdGFsUHJpY2U7XHJcbiAgICAgICAgdGhpcy5PZmZlckFsbG93UHJldmlvdXNTdW5kYXkgPSBvZmZlci5BbGxvd1ByZXZpb3VzU3VuZGF5IHx8IFwiVW5rbm93blwiO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TWFya2V0aW5nVGV4dChvZmZlcik6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKG9mZmVyLk1hcmtldGluZykgeyAvLyB2Mz5cclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyLk1hcmtldGluZy5Cb2R5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvZmZlci5NYXJrZXRpbmdUZXh0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE9mZmVyVGV4dChvZmZlcik6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKG9mZmVyLk1hcmtldGluZykgeyAvLyB2Mz5cclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyLk1hcmtldGluZy5OYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvZmZlci5PZmZlclRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvT2ZmZXJNb2RlbC50cyIsImV4cG9ydCBjbGFzcyBMb2NhdGlvbk1vZGVsIHtcclxuICAgIENpdHk/OiBzdHJpbmc7XHJcbiAgICBDb250aW5lbnRDb2RlPzogc3RyaW5nO1xyXG4gICAgQ291bnRyeUNvZGU/OiBzdHJpbmc7XHJcbiAgICBMYXQ6IG51bWJlcjtcclxuICAgIExvbmc6IG51bWJlcjtcclxuICAgIFN0YXRlPzogc3RyaW5nO1xyXG4gICAgWmlwPzogc3RyaW5nIHwgbnVtYmVyO1xyXG4gICAgSXBBZGRyZXNzPzogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLkNpdHkgPSBkYXRhLkNpdHk7XHJcbiAgICAgICAgdGhpcy5Db250aW5lbnRDb2RlID0gZGF0YS5Db250aW5lbnRDb2RlO1xyXG4gICAgICAgIHRoaXMuQ291bnRyeUNvZGUgPSBkYXRhLkNvdW50cnlDb2RlO1xyXG4gICAgICAgIHRoaXMuTGF0ID0gZGF0YS5MYXQ7XHJcbiAgICAgICAgdGhpcy5Mb25nID0gZGF0YS5Mb25nO1xyXG4gICAgICAgIHRoaXMuU3RhdGUgPSBkYXRhLlN0YXRlO1xyXG4gICAgICAgIHRoaXMuWmlwID0gZGF0YS5aaXA7XHJcbiAgICAgICAgdGhpcy5JcEFkZHJlc3MgPSBkYXRhLklwQWRkcmVzcztcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvTG9jYXRpb25Nb2RlbC50cyIsImltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5pbXBvcnQgeyBQYWdlTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VNb2RlbCB7XHJcbiAgICBLZXl3b3Jkcz86IHN0cmluZztcclxuICAgIFRpdGxlPzogc3RyaW5nO1xyXG4gICAgVXJsPzogc3RyaW5nO1xyXG4gICAgU2VjdGlvbj86IHN0cmluZztcclxuICAgIEF1dGhvcj86IHN0cmluZztcclxuICAgIFRhZ3M/OiBzdHJpbmc7XHJcbiAgICBDb250ZW50SWQ/OiBzdHJpbmc7XHJcbiAgICBQdWJsaXNoRGF0ZT86IHN0cmluZztcclxuICAgIENvbnRlbnRUeXBlPzogc3RyaW5nO1xyXG4gICAgUmVjb21tZW5kZWQ/OiBhbnk7XHJcblxyXG4gICAgLypAZGF0YSAtIEV2ZW50RGF0YSovXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RHluYW1pY1Byb3BlcnR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuS2V5d29yZHMgPSBkYXRhLktleXdvcmRzICYmIEFycmF5LmlzQXJyYXkoIGRhdGEuS2V5d29yZHMpID8gZGF0YS5LZXl3b3Jkcy5qb2luKFwiLFwiKTogZGF0YS5LZXl3b3JkcztcclxuICAgICAgICB0aGlzLlRpdGxlID0gZGF0YS5UaXRsZTtcclxuICAgICAgICB0aGlzLlVybCA9IGRhdGEuVXJsO1xyXG4gICAgICAgIHRoaXMuU2VjdGlvbiA9IGRhdGEuU2VjdGlvbjtcclxuICAgICAgICB0aGlzLkF1dGhvciA9IGRhdGEuQXV0aG9yO1xyXG4gICAgICAgIHRoaXMuVGFncyA9IGRhdGEuVGFncyAmJiBBcnJheS5pc0FycmF5KCBkYXRhLlRhZ3MpID8gZGF0YS5UYWdzLmpvaW4oXCIsXCIpOiBkYXRhLlRhZ3M7O1xyXG4gICAgICAgIHRoaXMuQ29udGVudElkID0gZGF0YS5Db250ZW50SWQ7XHJcbiAgICAgICAgdGhpcy5QdWJsaXNoRGF0ZSA9IERhdGVVdGlsLmdldElTT0Zvcm1hdChkYXRhLlB1Ymxpc2hEYXRlKTtcclxuICAgICAgICB0aGlzLkNvbnRlbnRUeXBlID0gZGF0YS5Db250ZW50VHlwZTtcclxuICAgICAgICB0aGlzLlJlY29tbWVuZGVkID0gZGF0YS5SZWNvbW1lbmRlZDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXREeW5hbWljUHJvcGVydHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREeW5hbWljUHJvcGVydHkoKSB7XHJcbiAgICAgICAgY29uc3QgZHluYW1pY0RpbWVuc2lvbnM6IGFueSA9IERpbWVuc2lvbnNNb2R1bGUuZ2V0RHluYW1pY0RpbWVuc2lvbnMoKVxyXG4gICAgICAgIHRoaXMuZXh0ZW5kQ3VycmVudE1vZGVsKGR5bmFtaWNEaW1lbnNpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBleHRlbmRDdXJyZW50TW9kZWwoZGF0YU1vZGVsOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGFNb2RlbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBkYXRhTW9kZWwpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0gZGF0YU1vZGVsW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvUGFnZU1vZGVsLnRzIiwiZXhwb3J0IGNvbnN0IENvbGxlY3RvclR5cGVzID0ge1xyXG4gICAgQ29ubmV4dDogXCJDb25uZXh0XCIsXHJcbiAgICBTUDogXCJTUFwiLFxyXG4gICAgRmxpdHR6OiBcIkZsaXR0elwiXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDb2xUeXBlID0ge1xyXG4gICAgXCJDb25uZXh0XCI6IFwiQ29ubmV4dFwiLFxyXG4gICAgXCJTUFwiOiBcIlNQXCIsXHJcbiAgICBcIkZsaXR0elwiOiBcIkZsaXR0elwiXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NvbnN0YW50cy9Db2xsZWN0b3JUeXBlcy50cyIsImV4cG9ydCBjb25zdCBQYXltZW50VHlwZXMgPSB7XHJcbiAgICBcImNyZWRpdF9jYXJkX2NvbXBsZXRlZF9lXCI6IFwiQ3JlZGl0IENhcmRcIixcclxuICAgIFwiYmFua19hY2NvdW50X2NvbXBsZXRlZF9lXCI6IFwiQmFuayBBY2NvdW50XCIsXHJcbiAgICBcImJpbGxfbWVfY29tcGxldGVkX2VcIjogXCJCaWxsIE1lXCIsXHJcbiAgICBcImFwcGxlX3BheV9jb21wbGV0ZWRfZVwiOiBcIkFwcGxlIFBheVwiLFxyXG4gICAgXCJwYXlwYWxfY29tcGxldGVkX2VcIjogXCJQYXlwYWxcIlxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NvbnN0YW50cy9QYXltZW50VHlwZXMudHMiLCJpbXBvcnQgeyBHdG1UYWdFdmVudCB9IGZyb20gXCIuL0d0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0NvbGxlY3RvciB7XHJcbiAgICBldmVudHM7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJHdG1UYWdDb2xsZWN0b3Igc3RhcnRcIik7XHJcblxyXG4gICAgcmVnaXN0ZXJUYWdFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lcjogR3RtVGFnRXZlbnQgPSBuZXcgdGhpcy5ldmVudHNbZXZlbnROYW1lXSgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5saXN0ZW4oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdDb2xsZWN0b3IudHMiLCJpbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvRXZlbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0V2ZW50IHtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50TmFtZTtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50RGF0YTtcclxuICAgIHB1YmxpYyBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiR3RtVGFnRXZlbnRcIik7XHJcbiAgICBzZW5kVGFnTmFtZTtcclxuICAgIGV2ZW50U2VydmljZTogRXZlbnRTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlID0gRXZlbnRTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlbigpIHsgfVxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhOiBhbnkpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZW5kVGFnTmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kVGFnTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS5zZW5kRXZlbnQodGFnTmFtZSB8fCB0aGlzLmdldFNlbmRUYWdOYW1lKCksIHRhZ0RhdGEgfHwgdGhpcy5nZXRTZW5kVGFnRGF0YSgpKTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL0d0bVRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGVyU3RhcnRUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwibWV0ZXJTdGFydFwiO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9NZXRlclN0YXJ0VGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDb25uZXh0R3RtVGFnRXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWV0ZXJTdG9wVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm1ldGVyU3RvcFwiO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9NZXRlclN0b3BUYWdFdmVudC50cyIsImltcG9ydCB7IElGYWN0b3J5IH0gZnJvbSBcIi4vSUZhY3RvcnlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGYWN0b3J5IGltcGxlbWVudHMgSUZhY3RvcnkgeyB9XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb3JlL2Jhc2UvZmFjdG9yeS9GYWN0b3J5LnRzIiwiaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZSB9IGZyb20gXCIuLi9sb2NhbC9Mb2NhbFN0b3JhZ2VcIjtcclxuXHJcbmNsYXNzIENvb2tpZUR1YmxpY2F0b3Ige1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBzYWZhcmlDb29raWVNYXhBZ2UgPSA2MDQ4MDAwMDA7IC8vIDcgZGF5c1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcmVmaXggPSBcIkNvb2tpZV9cIjtcclxuICAgIHByaXZhdGUgbG9jYWxTdG9yYWdlOiBMb2NhbFN0b3JhZ2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBuZXcgTG9jYWxTdG9yYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGR1YmxpY2F0ZUNvb2tpZVRvTG9jYWxTdG9yYWdlSWZJdE5lZWQoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGF0dHJpYnV0ZXM6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0R1YmxpY2F0ZVRvTG9jYWxTdG9yYWdlKGtleSwgdmFsdWUsIGF0dHJpYnV0ZXMpIHx8ICF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZS5kZWxldGUodGhpcy5wcmVmaXggKyBrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb29raWUgPSBPYmplY3QuYXNzaWduKHt9LCBhdHRyaWJ1dGVzKTtcclxuICAgICAgICBjb29raWVbXCJrZXlcIl0gPSBrZXk7XHJcbiAgICAgICAgY29va2llW1widmFsdWVcIl0gPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZS5zZXQodGhpcy5wcmVmaXggKyBrZXksIGNvb2tpZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGR1YmxpY2F0ZUxvY2FsU3RvcmFnZVRvQ29va2llSWZJdE5lZWQoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEdWJsaWNhdGVUb0Nvb2tpZShrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvb2tpZSxcclxuICAgICAgICAgICAgY29va2llQWdlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvb2tpZSA9IHRoaXMubG9jYWxTdG9yYWdlLmdldCh0aGlzLnByZWZpeCArIGtleSk7XHJcbiAgICAgICAgICAgIGNvb2tpZUFnZSA9IG5ldyBEYXRlKGNvb2tpZS5leHBpcmVzKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLmRlbGV0ZSh0aGlzLnByZWZpeCArIGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPdXREYXRlZExvY2FsU3RvcmFnZShjb29raWVBZ2UpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLmRlbGV0ZSh0aGlzLnByZWZpeCArIGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGVzKGNvb2tpZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0R1YmxpY2F0ZVRvQ29va2llKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYWZhcmkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRHVibGljYXRlVG9Mb2NhbFN0b3JhZ2Uoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGF0dHJpYnV0ZXM6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU2FmYXJpKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNEdWJsaWNhdGVTYWZhcmkobmV3IERhdGUoYXR0cmlidXRlcy5leHBpcmVzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRHVibGljYXRlU2FmYXJpKGNvb2tpZUFnZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBjb29raWVBZ2UuZ2V0VGltZSgpID4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIHRoaXMuc2FmYXJpQ29va2llTWF4QWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RyaW5naWZ5QXR0cmlidXRlcyhhdHRyaWJ1dGVzOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLmtleSArIFwiPVwiICsgYXR0cmlidXRlcy52YWx1ZTtcclxuICAgICAgICBkZWxldGUgYXR0cmlidXRlcy5rZXk7XHJcbiAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXMudmFsdWU7XHJcbiAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9IFwiOyBcIiArIGF0dHJpYnV0ZU5hbWU7XHJcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gXCI9XCIgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRBdHRyaWJ1dGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNPdXREYXRlZExvY2FsU3RvcmFnZShjb29raWVBZ2UpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKS5nZXRUaW1lKCkgPj0gY29va2llQWdlLmdldFRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzU2FmYXJpKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXRCcm93c2VyKCkgPT09IFwiU2FmYXJpXCI7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvb2tpZUR1YmxpY2F0b3IgPSBuZXcgQ29va2llRHVibGljYXRvcigpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9jb29raWVzL0Nvb2tpZUR1YmxpY2F0b3IudHMiLCJpbXBvcnQgeyBjb29raWVEdWJsaWNhdG9yIH0gZnJvbSBcIi4vQ29va2llRHVibGljYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEpzQ29va2llIHtcclxuXHJcbiAgICBwcml2YXRlIGRlZmF1bHRzO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEpzQ29va2llO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogSnNDb29raWUge1xyXG4gICAgICAgIGlmICghSnNDb29raWUuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgSnNDb29raWUuaW5zdGFuY2UgPSBuZXcgSnNDb29raWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEpzQ29va2llLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdHMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGV4dGVuZCguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgcmVzdWx0ID0ge307XHJcbiAgICAgICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVzID0gYXJnc1tpXTtcclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gYXR0cmlidXRlc1trZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzLCBjb252ZXJ0ZXI6IGFueSA9IHt9KTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF0dHJpYnV0ZXMgPSB0aGlzLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIHBhdGg6IFwiL1wiXHJcbiAgICAgICAgfSwgdGhpcy5kZWZhdWx0cywgYXR0cmlidXRlcyk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBpcmVzID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZXhwaXJlcy5zZXRNaWxsaXNlY29uZHMoZXhwaXJlcy5nZXRNaWxsaXNlY29uZHMoKSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGV4cGlyZXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXZSdyZSB1c2luZyBcImV4cGlyZXNcIiBiZWNhdXNlIFwibWF4LWFnZVwiIGlzIG5vdCBzdXBwb3J0ZWQgYnkgSUVcclxuICAgICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBhdHRyaWJ1dGVzLmV4cGlyZXMgPyBhdHRyaWJ1dGVzLmV4cGlyZXMudG9VVENTdHJpbmcoKSA6IFwiXCI7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKC9eW1xce1xcW10vLnRlc3QocmVzdWx0KSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7IH1cclxuXHJcbiAgICAgICAgaWYgKCFjb252ZXJ0ZXIud3JpdGUpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKHZhbHVlKSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gY29udmVydGVyLndyaXRlKHZhbHVlLCBrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAga2V5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhrZXkpKTtcclxuICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnw1RXw2MHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgvW1xcKFxcKV0vZywgZXNjYXBlKTtcclxuXHJcbiAgICAgICAgbGV0IHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9IFwiXCI7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSBcIjsgXCIgKyBhdHRyaWJ1dGVOYW1lO1xyXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9IFwiPVwiICsgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvb2tpZUR1YmxpY2F0b3IuZHVibGljYXRlQ29va2llVG9Mb2NhbFN0b3JhZ2VJZkl0TmVlZChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0ga2V5ICsgXCI9XCIgKyB2YWx1ZSArIHN0cmluZ2lmaWVkQXR0cmlidXRlcztcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0KGtleSwgY29udmVydGVyOiBhbnkgPSB7fSwganNvbjogYm9vbGVhbiA9IGZhbHNlKTogYW55IHtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFrZXkpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb29raWVEdWJsaWNhdG9yLmR1YmxpY2F0ZUxvY2FsU3RvcmFnZVRvQ29va2llSWZJdE5lZWQoa2V5KTtcclxuXHJcbiAgICAgICAgbGV0IGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7IFwiKSA6IFtdO1xyXG4gICAgICAgIGxldCByZGVjb2RlID0gLyglWzAtOUEtWl17Mn0pKy9nO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuXHJcbiAgICAgICAgZm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgICAgICBsZXQgY29va2llID0gcGFydHMuc2xpY2UoMSkuam9pbihcIj1cIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWpzb24gJiYgY29va2llLmNoYXJBdCgwKSA9PT0gXCJcXFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IHBhcnRzWzBdLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIGNvb2tpZSA9IGNvbnZlcnRlci5yZWFkID8gY29udmVydGVyLnJlYWQoY29va2llLCBuYW1lKSA6IGNvb2tpZS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGNvb2tpZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGNvb2tpZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRKc29uKGtleSwgY29udmVydGVyOiBhbnkgPSB7fSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldChrZXksIGNvbnZlcnRlciwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZShrZXksIGF0dHJpYnV0ZXMpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXQoa2V5LCBcIlwiLCB0aGlzLmV4dGVuZChhdHRyaWJ1dGVzLCB7XHJcbiAgICAgICAgICAgIGV4cGlyZXM6IC0xXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvSnNDb29raWUudHMiLCJpbXBvcnQgeyBTdG9yYWdlSW50ZXJmYWNlIH0gZnJvbSBcIi4uL1N0b3JhZ2VJbnRlcmZhY2VcIjtcclxuXHJcbmNsYXNzIE1lbW9yeVN0b3JhZ2VDbGFzcyBpbXBsZW1lbnRzIFN0b3JhZ2VJbnRlcmZhY2Uge1xyXG4gICAgcHJpdmF0ZSBfa2V5czogc3RyaW5nW107XHJcbiAgICBwcml2YXRlIF9tZW1vcnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2tleXMgPSBbXTtcclxuICAgICAgICB0aGlzLl9tZW1vcnkgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldChrZXk6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lbW9yeS5oYXNPd25Qcm9wZXJ0eShrZXkpID8gdGhpcy5fbWVtb3J5W2tleV0gOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICB0aGlzLl9tZW1vcnlba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh0aGlzLl9rZXlzLmluZGV4T2Yoa2V5KSA8IDApIHtcclxuICAgICAgICAgIHRoaXMuX2tleXMucHVzaChrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX21lbW9yeVtrZXldO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fa2V5cy5pbmRleE9mKGtleSk7XHJcbiAgICAgICAgaWYgKGluZGV4IDwgMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2tleXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gTk9URTogbm8gZXZlbnQgc3VwcG9ydFxyXG4gICAgICAgIHRoaXMuX21lbW9yeSA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2tleXMgPSBbXTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1lbW9yeVN0b3JhZ2UgPSBuZXcgTWVtb3J5U3RvcmFnZUNsYXNzKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9tZW1vcnkvTWVtb3J5U3RvcmFnZS50cyIsImltcG9ydCB7IFN0b3JhZ2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vU3RvcmFnZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNZW1vcnlQcm94eVN0b3JhZ2UgfSBmcm9tIFwiLi4vbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2Vzc2lvblN0b3JhZ2UgaW1wbGVtZW50cyBTdG9yYWdlSW50ZXJmYWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiBNZW1vcnlQcm94eVN0b3JhZ2UuYXBwbHlQcm94eSh0aGlzLCBcIlNlc3Npb25TdG9yYWdlXCIpIGFzIFNlc3Npb25TdG9yYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFwiaXNTdXBwb3J0ZWRTZXNzaW9uU3RvcmFnZUtleVwiO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwiaXNTdXBwb3J0ZWRTZXNzaW9uU3RvcmFnZVZhbHVlXCI7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2VcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0KGtleTogc3RyaW5nKTogYW55IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0KGtleTogc3RyaW5nLCBkYXRhOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgc3VjY2VzcztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlbGV0ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBzdWNjZXNzO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9zZXNzaW9uL1Nlc3Npb25TdG9yYWdlLnRzIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJQXBwSW5zaWdodHNTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JQXBwSW5zaWdodHNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCIuL01ldGFEYXRhU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFwcEluc2lnaHRzU2VydmljZSBpbXBsZW1lbnRzIElBcHBJbnNpZ2h0c1NlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEFwcEluc2lnaHRzU2VydmljZTtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkFwcEluc2lnaHRzU2VydmljZVwiKTtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG5cclxuICAgIHByaXZhdGUgYWlBdmFpbGFibGU6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXBwSW5zaWdodHNTZXJ2aWNlLkdldEluc3RhbmNlLiBOTyBJTlNUQU5DRSwgQ1JFQVRJTkdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgQXBwSW5zaWdodHNTZXJ2aWNlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBcHBJbnNpZ2h0c1NlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25TZXJ2aWNlID0gTWV0YURhdGFTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0cmFja0V2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudFBheWxvYWQ6IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCJeXl4gMS4uLi4gXCIsIGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIl5eXl5eIDIuLi4uIFwiLCB0aGlzLmRpbWVuc2lvblNlcnZpY2UuY29sbGVjdGVkRGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgIC8vIGxldCBjb21iaW5lZFBheWxvYWQgPSBPYmplY3QuYXNzaWduKGV2ZW50UGF5bG9hZCwgdGhpcy5kaW1lbnNpb25TZXJ2aWNlLmNvbGxlY3RlZERpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiXl5eXl5eXl5eXl4gMy4uLi4gXCIsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCJeXl5eXl5eXl5eXl5eXl5eXl5eXl4gNC4uLi4gXCIsIGNvbWJpbmVkUGF5bG9hZCk7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3dbXCJnMmlBcHBJbnNpZ2h0c1wiXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIl5eXl5eXl5eXl5eXl5eXl5eXl5eXlwiLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93W1wiZzJpQXBwSW5zaWdodHNcIl0udHJhY2tFdmVudChldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYWlBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5haUF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyYWNrUGFnZVZpZXcocGFnZU5hbWU6IHN0cmluZywgcGFnZURhdGE/OiBvYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInRyYWNrUGFnZVZpZXdcIiwgcGFnZU5hbWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0FwcEluc2lnaHRzU2VydmljZS50cyIsIi8vIGh0dHBzOi8vd3d3LmRpc3RpbG5ldHdvcmtzLmNvbS9cclxuXHJcbmV4cG9ydCBjb25zdCBCb3RMaXN0ID0gW1xyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIjM2MFNwaWRlcigtSW1hZ2V8LVZpZGVvKT9cIixcclxuICAgICAgICBuYW1lOiBcIjM2MFNwaWRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBib3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGVib3QoLU1vYmlsZXwtSW1hZ2V8LVZpZGVvfC1OZXdzKT98RmVlZGZldGNoZXItR29vZ2xlfEdvb2dsZS1UZXN0fEdvb2dsZS1TaXRlLVZlcmlmaWNhdGlvbnxHb29nbGUgV2ViIFByZXZpZXd8QWRzQm90LUdvb2dsZSgtTW9iaWxlKT98R29vZ2xlLUFkd29yZHMtSW5zdGFudHxNZWRpYXBhcnRuZXJzLUdvb2dsZXxHb29nbGUuKi9cXCsvd2ViL3NuaXBwZXR8R29vZ2xlUHJvZHVjZXJ8R29vZ2xlWyAtXVB1Ymxpc2hlclsgLV1QbHVnaW58R29vZ2xlLVNob3BwaW5nLVF1YWxpdHl8R29vZ2xlLUFkd29yZHMtRGlzcGxheUFkc3xHb29nbGUtQXNzZXNzfEdvb2dsZS1BZFdvcmRzLUV4cHJlc3N8R29vZ2xlLXNwZWFrcnxHb29nbGVEb2NzXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGVib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggYm90XCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiZ29vZ2xld2VibGlnaHR8R29vZ2xlIFBhZ2UgU3BlZWQgSW5zaWdodHN8R29vZ2xlIFBQIERlZmF1bHR8R29vZ2xlIFNlYXJjaCBDb25zb2xlfEdvb2dsZSBXZWIgUHJldmlld3xHb29nbGUgV2ViIFByZXZpZXcgQW5hbHl0aWNzfEdvb2dsZV9BbmFseXRpY3NfU25pcHBldF9WYWxpZGF0b3J8R29vZ2xlLUFkd29yZHMtRGlzcGxheUFkcy1XZWJSZW5kZXJ8R29vZ2xlLUFkV29yZHMtRXhwcmVzc3xHb29nbGUtQWR3b3Jkcy1JbnN0YW50fEdvb2dsZS1DYWxlbmRhci1JbXBvcnRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtU2VhcmNoQnlJbWFnZXxHb29nbGVib3QtSW1hZ2VcIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZS1TZWFyY2hCeUltYWdlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtU2l0ZS1WZXJpZmljYXRpb25cIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZS1TaXRlLVZlcmlmaWNhdGlvblwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUgRGVza3RvcFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlIERlc2t0b3BcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBydjo2LjApIEdlY2tvLzIwMTEwODE0IEZpcmVmb3gvNi4wXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgUGx1cyBTaGFyZVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlcnZpY2UgQWdlbnRcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNb3ppbGxhLzUuMCAoaVBhZDsgQ1BVIE9TIDVfMF8xIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzUzNC40NiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNS4xIE1vYmlsZS85QTQwNSBTYWZhcmkvNzUzNC40OC4zLGd6aXAoZ2ZlKSAodmlhIHRyYW5zbGF0ZS5nb29nbGUuY29tKVwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlIFRyYW5zbGF0ZVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlcnZpY2UgQWdlbnRcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtU3RydWN0dXJlZC1EYXRhLVRlc3RpbmctVG9vbFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlLVN0cnVjdHVyZWQtRGF0YS1UZXN0aW5nLVRvb2xcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZSBGYXZpY29uXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgRmF2aWNvblwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTmV1c3RhciBXUE1cIixcclxuICAgICAgICBuYW1lOiBcIk5ldXN0YXIgV1BNXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUgS2V5d29yZCBTdWdnZXN0aW9uXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgS2V5d29yZCBTdWdnZXN0aW9uXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJJbmJ5Qm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJJbmJ5Qm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHZXRMaW5rSW5mb1wiLFxyXG4gICAgICAgIG5hbWU6IFwiR2V0TGlua0luZm9cIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImRvd25mb3JldmVyeW9uZW9yanVzdG1lXCIsXHJcbiAgICAgICAgbmFtZTogXCJkb3duZm9yZXZlcnlvbmVvcmp1c3RtZVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNpdGUgTW9uaXRvclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkROUy1EaWdnZXItRXhwbG9yZXJcIixcclxuICAgICAgICBuYW1lOiBcIkROUy1EaWdnZXItRXhwbG9yZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk5ldFNlZXJcIixcclxuICAgICAgICBuYW1lOiBcIk5ldFNlZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJsZWtrb2JvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQmxla2tvYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tLysvd2ViL3NuaXBwZXRcIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZWJvdCBzbmlwcGV0XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtUHVibGlzaGVyLVBsdWdpblwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcInByb3hpbWljXCIsXHJcbiAgICAgICAgbmFtZTogXCJDb21zY29yZSBDcmF3bGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIGJvdFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNpcmRhdGFCb3RcIixcclxuICAgICAgICBuYW1lOiBcIlNpcmRhdGFCb3RcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ2xpY2thZ3kgSW50ZWxsaWdlbmNlIEJvdCB2MnxDbGlja2FneVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2xpY2thZ3kgSW50ZWxsaWdlbmNlIEJvdCB2MlwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkJhZCBCb3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJiYWlkdXNwaWRlcigtaW1hZ2UpP3xiYWlkdSBUcmFuc2NvZGVyfGJhaWR1LipzcGlkZXJcIixcclxuICAgICAgICBuYW1lOiBcIkJhaWR1IFNwaWRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkJhZCBCb3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJkb3Rib3RcIixcclxuICAgICAgICBuYW1lOiBcIkRvdEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHaWZ0R2hvc3RCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkdpZnRHaG9zdEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiR3JhcGVzaG90Q3Jhd2xlcnxncmFwZUZYfGdyYXBlc2hvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR3JhcGVzaG90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNlem5hbUJvdHxTa2xpa0JvdHxTZXpuYW0gc2NyZWVuc2hvdC1nZW5lcmF0b3JcIixcclxuICAgICAgICBuYW1lOiBcIlNlem5hbSBCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTWV0YVVSSVwiLFxyXG4gICAgICAgIG5hbWU6IFwiTWV0YVVSSVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJQYXBlckxpQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJQYXBlckxpQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdlbmllb1wiLFxyXG4gICAgICAgIG5hbWU6IFwiR2VuaWVvIFdlYiBmaWx0ZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYS5wci1jeS5ydVwiLFxyXG4gICAgICAgIG5hbWU6IFwiYS5wci1jeS5ydVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJDbGlxemJvdHxDbGlxelwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2xpcXpib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQm9tYm9yYUJvdHxib21ib3JhXCIsXHJcbiAgICAgICAgbmFtZTogXCJCb21ib3JhQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkE2LUluZGV4ZXJ8Ym9tYm9yYVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQTYtSW5kZXhlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJBaHJlZnMoQm90fFNpdGVBdWRpdClcIixcclxuICAgICAgICBuYW1lOiBcIkFocmVmc0JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHZW5pZW9cIixcclxuICAgICAgICBuYW1lOiBcIkdlbmllb1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJCYWlkdXNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiQmFpZHVzcGlkZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYmluZ2JvdHxCaW5nUHJldmlld1wiLFxyXG4gICAgICAgIG5hbWU6IFwiQmluZ1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJZYW5kZXgoU3ByYXZCb3R8U2NyZWVuc2hvdEJvdHxNb2JpbGVCb3R8QWNjZXNzaWJpbGl0eUJvdHxGb3JEb21haW58VmVydGlzfE1hcmtldHxDYXRhbG9nfENhbGVuZGFyfFNpdGVsaW5rc3xBZE5ldHxQYWdlY2hlY2tlcnxXZWJtYXN0ZXJ8TWVkaWF8VmlkZW98Qm90fEltYWdlc3xBbnRpdmlydXN8RGlyZWN0fEJsb2dzfEZhdmljb25zfEltYWdlUmVzaXplcnxWZXJ0aWNhbHN8TmV3cyhsaW5rcyk/fE1ldHJpa2F8XFwuR2F6ZXRhIEJvdCl8WWFEaXJlY3RGZXRjaGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJZYW5kZXhCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ0NCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkNDQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJZaXNvdVNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiWWlzb3VTcGlkZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2x1cnB8WWFob28hLUFkQ3Jhd2xlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiWWFob28hIFNsdXJwXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllhaG9vIFBpcGVzXCIsXHJcbiAgICAgICAgbmFtZTogXCJZYWhvbyBQaXBlc1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZWQgRmV0Y2hlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlkhSlwiLFxyXG4gICAgICAgIG5hbWU6IFwiWSFKLUJSSi9ZQVRTIENyYXdsZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiMDA4LzAuODVcIixcclxuICAgICAgICBuYW1lOiBcIjAwOC8wLjg1XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTb2dvdVwiLFxyXG4gICAgICAgIG5hbWU6IFwiU29nb3VcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiVVJMQXBwZW5kQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJVUkxBcHBlbmRCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRG9tYWluQXBwZW5kZXJcIixcclxuICAgICAgICBuYW1lOiBcIkRvbWFpbkFwcGVuZGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJtc25ib3RcIixcclxuICAgICAgICBuYW1lOiBcIm1zbmJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJEdWNrRHVja0JvdHxEdWNrRHVja0dvLUZhdmljb25zLUJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiRHVja0R1Y2tCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImFjZWJvb2tleHRlcm5hbGhpdHxmYWNlYm9va2V4dGVybmFsaGl0XCIsXHJcbiAgICAgICAgbmFtZTogXCJmYWNlYm9va2V4dGVybmFsaGl0XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJmYWNlYm9va3BsYXRmb3JtfEZhY2Vib3R8VmlzaW9udXRpbHN8ZGF0YWduaW9uYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJGYWNlYm9va1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRXhhYm90fEV4YWJvdC1JbWFnZXN8RXhhYm90LVRodW1ibmFpbHN8S29ucXVlcm9yfEV4YWxlYWRDbG91ZHZpZXdcIixcclxuICAgICAgICBuYW1lOiBcIkV4YUxlYWQgYnkgRGFzc2F1bHQgU3lzdGVtZXNcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiaWFfYXJjaGl2ZXJ8YWxleGFib3R8dmVyaWZ5Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJJbnRlcm5ldCBBcmNoaXZlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJsaW5rZGV4Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJMaW5rZGV4IExpbWl0ZWRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiY29udHhib3RcIixcclxuICAgICAgICBuYW1lOiBcIkNvbnR4Ym90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllvZGFvQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJZb3VkYW8gXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcInNwYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJMaW5rIFByb2ZpbGVyIFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNSjEyYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJNSjEyYm90IFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNYWlsLlJVX0JvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiTWFpbC5SVV9Cb3QgXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJVYmlOR1wiLFxyXG4gICAgICAgIG5hbWU6IFwiVW5pdmVyc2l0YSBEZWxnaSBTdHVkaSBEaSBNaWxhbm8gXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTcHV0bmlrQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJPSlNDIFJvc3RlbGVjb20gXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk5lcmR5Qm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJOZXJkeUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJOZXJkeUJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiTmVyZHlCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiT3BlYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJPcGVib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2NyYXB5XCIsXHJcbiAgICAgICAgbmFtZTogXCJTY3JhcHlcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiR2lnYWJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR2lnYWJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJDYXRjaEJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2F0Y2hCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlpldXMgMzIyOTdcIixcclxuICAgICAgICBuYW1lOiBcIlpldXMgMzIyOTdcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNhZmV0eU5ldFwiLFxyXG4gICAgICAgIG5hbWU6IFwiU2FmZXR5TmV0XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImxpbmtsb29rZXJcIixcclxuICAgICAgICBuYW1lOiBcImxpbmtsb29rZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiSU5HUklEXCIsXHJcbiAgICAgICAgbmFtZTogXCJJTkdSSURcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRW5pZ21hQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJFbmlnbWFCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYWRpZHhib3RcIixcclxuICAgICAgICBuYW1lOiBcIkFkdmVydGlzaW5nXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkFNWk5LQXNzb2NCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkFkdmVydGlzaW5nXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllhbmRleERpcmVjdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQWR2ZXJ0aXNpbmdcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYW9sYnVpbGRcIixcclxuICAgICAgICBuYW1lOiBcImFvbGJ1aWxkXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJ1dHRlcmZseVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQnV0dGVyZmx5XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImNnLWV5ZVwiLFxyXG4gICAgICAgIG5hbWU6IFwiY2ctZXllXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImNoYW5nZWRldGVjdGlvblwiLFxyXG4gICAgICAgIG5hbWU6IFwiY2hhbmdlZGV0ZWN0aW9uXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNsaWdvb1JvYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJDbGlnb29Sb2JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJjb2Njb2NcIixcclxuICAgICAgICBuYW1lOiBcImNvY2NvY1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRGF1bW9hXCIsXHJcbiAgICAgICAgbmFtZTogXCJEYXVtb2FcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRGVhbEdhdGVzXCIsXHJcbiAgICAgICAgbmFtZTogXCJEZWFsR2F0ZXNcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRGV1U3VcIixcclxuICAgICAgICBuYW1lOiBcIkRldVN1XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkVsZWZlbnRcIixcclxuICAgICAgICBuYW1lOiBcIkVsZWZlbnRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiZW5sbGVcIixcclxuICAgICAgICBuYW1lOiBcImVubGxlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkZpbmR4Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJGaW5keGJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHaWdhYmxhc3RPcGVuU291cmNlXCIsXHJcbiAgICAgICAgbmFtZTogXCJHaWdhYmxhc3RPcGVuU291cmNlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlZvaWxhQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJWb2lsYUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJwYW5zY2llbnQuY29tXCIsXHJcbiAgICAgICAgbmFtZTogXCJwYW5zY2llbnQuY29tXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlBpbnRlcmVzdC9cXGRcXC5cXGQuKnd3d1xcLnBpbnRlcmVzdFxcLmNvbS4qXCIsXHJcbiAgICAgICAgbmFtZTogXCJQaW50ZXJlc3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNoYXJsb3R0ZVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2hhcmxvdHRlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlR3aXR0ZXJib3RcIixcclxuICAgICAgICBuYW1lOiBcIlR3aXR0ZXJib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTW9uVG9vbHNcIixcclxuICAgICAgICBuYW1lOiBcIlNpdGUgTW9uaXRvclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNpdGUgTW9uaXRvclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkxpbmtXYWxrZXJcIixcclxuICAgICAgICBuYW1lOiBcIkxpbmtXYWxrZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2xhY2tib3R8U2xhY2stSW1nUHJveHlcIixcclxuICAgICAgICBuYW1lOiBcIlNsYWNrYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkFkTWFudFguKmFkbWFudHhcXC5jb21cIixcclxuICAgICAgICBuYW1lOiBcIkFETWFudFhcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRW52b2xrXCIsXHJcbiAgICAgICAgbmFtZTogXCJFbnZvbGtcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkZsaWdodERlY2tSZXBvcnRzQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJGbGlnaHREZWNrUmVwb3J0c0JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQWRkU2VhcmNoQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJBZGRTZWFyY2hCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImZpbmRsaW5rXCIsXHJcbiAgICAgICAgbmFtZTogXCJmaW5kbGlua1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiSmlrZVNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiUGVvcGxlJ3MgRGFpbHkgTmV3c3BhcGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlRlbGVncmFtQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJUZWxlZ3JhbUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJ5YWN5Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJ5YWN5Ym90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNhbGlwZXJib3RcIixcclxuICAgICAgICBuYW1lOiBcIkNhbGlwZXJib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQW55RXZlbnRcIixcclxuICAgICAgICBuYW1lOiBcIkFueUV2ZW50XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImF3ZXNvbWVjcmF3bGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJhd2Vzb21lY3Jhd2xlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCIvYm90fGNyYXdsZXJ8c3BpZGVyfGNyYXdsaW5nL2lcIixcclxuICAgICAgICBuYW1lOiBcIkdlbmVyaWMgQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiR2VuZXJpYyBCb3RcIlxyXG4gICAgfVxyXG5dXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2JvdERldGVjdGlvbi9Cb3RMaXN0LnRzIiwiZXhwb3J0IGNsYXNzIEJvdE1vZGVsIHtcclxuICAgIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBkYXRhLmNhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9ib3REZXRlY3Rpb24vQm90TW9kZWwudHMiLCJpbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRXJJbnRlcnByZXRhdGlvbkNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlVzZXJEYXRhXCIpO1xyXG5cclxuICAgIHB1YmxpYyBzZXRJbmZvcm1hdGlvbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEluZm9ybWF0aW9uRnJvbUFwaSgpXHJcbiAgICAgICAgICAgIC50aGVuKChpbmZvcm1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm9ybWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFciBJbnRlcnByZXRhdGlvbjpcIiwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkdldEVySW50ZXJwcmV0YXRpb24sIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpcmVFdmVudChuYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXIvZXIvc3RhdHNcIilcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuR2V0RXJJbnRlcnByZXRhdGlvbkVycm9yLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRXJJbnRlcnByZXRhdGlvbiA9IG5ldyBFckludGVycHJldGF0aW9uQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL0VySW50ZXJwcmV0YXRpb24udHMiLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFBsdWdpbklubmVyRXZlbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50c1wiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZVwiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFdvcmtmbG93TW9kdWxlLCBSRUpFQ1RFRF9TRVJWSUNFUyB9IGZyb20gXCJATW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvV29ya2Zsb3dNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWNvbW1lbmRhdGlvbnNDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJSZWNvbW1lbmRhdGlvbnNcIik7XHJcblxyXG4gICAgLy8gR2V0IGEgbGlzdCBvZiByZWNvbW1lbmRlZCBhcnRpY2xlcyB3aXRoIHVzZXLigJlzIGNhdGVnb3JpZXMgb2YgaW50ZXJlc3RcclxuICAgIHB1YmxpYyBnZXRBcnRpY2xlc1dpdGhDYXRlZ29yaWVzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKFwidXNlci9yZWNvbW1lbmRhdGlvbnMvc3RhdHNcIilcclxuICAgICAgICAgICAgLnRoZW4oKGluZm9ybWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxpc3Qgb2YgcmVjb21tZW5kZWQgYXJ0aWNsZXMgd2l0aCB1c2Vy4oCZcyBjYXRlZ29yaWVzIG9mIGludGVyZXN0OlwiLCBpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93W1wiZzJpX2RsX3JlY29tbWVuZGF0aW9uc19zdGF0c1wiXSA9IGluZm9ybWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkRsUmVjb21tZW5kYXRpb25zU3RhdHNGaW5pc2hlZCwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkRsUmVjb21tZW5kYXRpb25zU3RhdHNFcnJvciwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgYSBsaXN0IG9mIHJlY29tbWVuZGVkIGFydGljbGVzXHJcbiAgICBwdWJsaWMgZ2V0TGlzdEFydGljbGVzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKFwidXNlci9yZWNvbW1lbmRhdGlvbnNcIilcclxuICAgICAgICAgICAgLnRoZW4oKGluZm9ybWF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdldCBhIGxpc3Qgb2YgcmVjb21tZW5kZWQgYXJ0aWNsZXM6XCIsIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbXCJnMmlfZGxfcmVjb21tZW5kYXRpb25zXCJdID0gaW5mb3JtYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNGaW5pc2hlZCwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlyZUV2ZW50KG5hbWUsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7IGRldGFpbDogZGF0YSB9KTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEluZm9ybWF0aW9uRnJvbUFwaSh1cmw6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudElkID0gRGltZW5zaW9uc01vZHVsZS5nZXRDb250ZW50SWQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldCh1cmwsIHsgY29udGVudF9pZDogY29udGVudElkIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkRsUmVjb21tZW5kYXRpb25zRXJyb3IsIGVycm9yKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBSZWNvbW1lbmRhdGlvbnMgPSBXb3JrZmxvd01vZHVsZS5hcHBseVJlamVjdHMobmV3IFJlY29tbWVuZGF0aW9uc0NsYXNzKCksIFJFSkVDVEVEX1NFUlZJQ0VTLlJlY29tbWVuZGF0aW9ucyk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2NkcE1vZHVsZS9SZWNvbWVuZGF0aW9ucy50cyIsImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW50ZXJlc3RzQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiSW50ZXJlc3RzU3RhdHNcIik7XHJcblxyXG4gICAgcHVibGljIGdldERlYnVnRGF0YSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEluZm9ybWF0aW9uRnJvbUFwaSgpXHJcbiAgICAgICAgICAgIC50aGVuKChpbmZvcm1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm9ybWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKFwiR2V0IGRlYnVnIGRhdGEgZm9yIEludGVyZXN0cyBjYWxjdWxhdGlvbjpcIiwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkdldEludGVyZXN0c1N0YXRzLCBpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaXJlRXZlbnQobmFtZSwgZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZuTmFtZSA9IFwiW2dldFVzZXJJbnRlcmVzdHNCeURldmljZUlkXVwiO1xyXG4gICAgICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwidXNlci9pbnRlcmVzdHMvc3RhdHNcIilcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZm5OYW1lLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudChQbHVnaW5Jbm5lckV2ZW50cy5HZXRJbnRlcmVzdHNTdGF0c0Vycm9yLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFVzZXJJbnRlcmVzdHMgPSBuZXcgVXNlckludGVyZXN0c0NsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2NkcE1vZHVsZS9Vc2VySW50ZXJlc3RzLnRzIiwiZXhwb3J0IGNvbnN0IE1JU0NfVFlQRVMgPSB7XHJcbiAgICBQcm9taXNlOiBcInByb21pc2VcIixcclxuICAgIFNlbGVjdG9yOiBcInNlbGVjdG9yXCIsXHJcbiAgICBKYXZhc2NyaXB0OiBcImphdmFzY3JpcHRcIixcclxuICAgIENvbW1hbmQ6IFwiY29tbWFuZFwiXHJcbn07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1pc2NPcHRpb25zSW50ZXJmYWNlIHtcclxuICAgIHR5cGU6IHN0cmluZztcclxuICAgIGtleTogc3RyaW5nO1xyXG4gICAgdmFsdWU6IGFueTtcclxuICAgIGVuYWJsZUdBPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBDT01NQU5EX1RZUEVTID0ge1xyXG4gICAgR0VUX0NPT0tJRV9CWV9OQU1FOiBcImdldF9jb29raWVfYnlfbmFtZVwiXHJcbn07XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9NaXNjT3B0aW9uc0ludGVyZmFjZS50cyIsImltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIi4vT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDZHBPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIi4vQ2RwT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBBbmFseXNpc09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiLi9BbmFseXNpc09wdGlvbnNJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiLi9NaXNjT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9wdGlvbnNNb2RlbCBpbXBsZW1lbnRzIE9wdGlvbnNJbnRlcmZhY2Uge1xyXG4gICAgZGVidWc/OiBib29sZWFuO1xyXG4gICAgbG9nTGV2ZWw/OiBMb2dMZXZlbDtcclxuICAgIGNvbnRhaW5lcklkOiBzdHJpbmc7XHJcbiAgICBjb2xsZWN0b3JzOiBBcnJheTxhbnk+O1xyXG4gICAgZGltZW5zaW9ucz86IG9iamVjdDtcclxuICAgIGFuYWx5c2lzPzogQW5hbHlzaXNPcHRpb25zSW50ZXJmYWNlO1xyXG4gICAgY2RwPzogQ2RwT3B0aW9uc0ludGVyZmFjZSA9IHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZVxyXG4gICAgfTtcclxuICAgIHNlc3Npb25JZDogc3RyaW5nOyAvLyBmcm9tIGxvYWRlciByZXF1aXJlZFxyXG4gICAgZGV0ZWN0Qm90PzogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBjbGllbnRDb2RlOiBzdHJpbmcgPSBcIiN7Q2xpZW50fSNcIiA7XHJcbiAgICBsYXlvdXRDb2RlPzogc3RyaW5nO1xyXG4gICAgZW52aXJvbm1lbnQ6IHN0cmluZztcclxuICAgIHNpdGVDb2RlOiBzdHJpbmc7XHJcbiAgICBtaXNjOiBNaXNjT3B0aW9uc0ludGVyZmFjZVtdO1xyXG4gICAgZmxvd01vZGVzPzogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLmRlYnVnID0gZGF0YS5kZWJ1ZztcclxuICAgICAgICB0aGlzLmxvZ0xldmVsID0gZGF0YS5sb2dMZXZlbDtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lcklkID0gZGF0YS5jb250YWluZXJJZDtcclxuICAgICAgICB0aGlzLmNvbGxlY3RvcnMgPSBkYXRhLmNvbGxlY3RvcnM7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gZGF0YS5kaW1lbnNpb25zO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzaXMgPSBkYXRhLmFuYWx5c2lzIHx8IHRydWU7XHJcbiAgICAgICAgdGhpcy5jZHAgPSBkYXRhLmNkcDtcclxuICAgICAgICB0aGlzLnNlc3Npb25JZCA9IGRhdGEuc2Vzc2lvbklkO1xyXG4gICAgICAgIHRoaXMuZGV0ZWN0Qm90ID0gZGF0YS5kZXRlY3RCb3QgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmxheW91dENvZGUgPSBkYXRhLmxheW91dENvZGU7XHJcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGRhdGEuZW52aXJvbm1lbnQgfHwgXCJVbmtub3duXCI7XHJcbiAgICAgICAgdGhpcy5zaXRlQ29kZSA9IGRhdGEuc2l0ZUNvZGUgfHwgbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5taXNjID0gZGF0YS5taXNjIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5mbG93TW9kZXMgPSBkYXRhLmZsb3dNb2RlcztcclxuICAgICAgICB0aGlzLmNsaWVudENvZGUgPSBkYXRhLmNsaWVudENvZGUgfHwgdGhpcy5jbGllbnRDb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldExheW91dENvZGUobGF5b3V0Q29kZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sYXlvdXRDb2RlID0gbGF5b3V0Q29kZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZXh0ZW5kTW9kZWwob2JqZWN0KSB7XHJcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBvYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IG9iamVjdFtuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9PcHRpb25zTW9kZWwudHMiLCJleHBvcnQgY2xhc3MgQ29udmVyc2F0aW9uTWFuYWdlckNsYXNzIHtcclxuICAgIGdldEN1cnJlbnRDb252ZXJzYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5Db25uZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q29udmVyc2F0aW9uO1xyXG4gICAgICAgICAgICBpZiAoKDxhbnk+d2luZG93KS5OeHRJbm5lcikge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnZlcnNhdGlvbiA9ICg8YW55PndpbmRvdykuTnh0SW5uZXIuU3RvcmFnZS5HZXRDdXJyZW50Q29udmVyc2F0aW9uKCk7IC8vIHZlcnNpb24gPjIuNVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb252ZXJzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudENvbnZlcnNhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb252ZXJzYXRpb24gPSB3aW5kb3cuQ29ubmV4dC5TdG9yYWdlLkdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29udmVyc2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDb252ZXJzYXRpb247XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuQ25uWHQuU3RvcmFnZS5HZXRDdXJyZW50Q29udmVyc2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpOiBudW1iZXIgfCBudWxsIHtcclxuICAgICAgICBpZiAod2luZG93LkNvbm5leHQpIHtcclxuICAgICAgICAgICAgaWYgKCg8YW55PndpbmRvdykuTnh0SW5uZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoPGFueT53aW5kb3cpLk54dElubmVyLlN0b3JhZ2UuR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpOyAvLyB2ZXJzaW9uID4yLjVcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3c/LkNvbm5leHQ/LlN0b3JhZ2UuR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpIHx8IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETyBuZWVkIHJlZmFjdG9yIC0gZ2V0Q3VycmVudCB2ZXJzaW9uXHJcbiAgICBwdWJsaWMgZ2V0VmVyc2lvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL1srLV0/XFxkKyhcXC5cXGQrKT8vZztcclxuICAgICAgICBjb25zdCBmaW5kTnVtYmVycyA9IHdpbmRvdy5Db25uZXh0LkdldFZlcnNpb24oKS5tYXRjaChyZWdleCk7XHJcbiAgICAgICAgcmV0dXJuIGZpbmROdW1iZXJzID8gZmluZE51bWJlcnNbMF0gOiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29udmVyc2F0aW9uTWFuYWdlciA9IG5ldyBDb252ZXJzYXRpb25NYW5hZ2VyQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvY29ubmV4dE1vZHVsZS9jbGFzc2VzL0NvbnZlcnNhdGlvbk1hbmFnZXIudHMiLCJpbXBvcnQgeyBGaXJzdFZpc2l0RGF0YUNvbGxlY3RvckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0ZpcnN0VmlzaXREYXRhQ29sbGVjdG9ySW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50SW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50SW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IERhdGFUaW1lckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0RhdGFUaW1lckludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0UHJvcGVydGllcyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvRmlyc3RWaXNpdERhdGFNb2RlbFwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBEYXRhVGltZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvRGF0YVRpbWVyTW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IERhdGFDb2xsZWN0b3IgfSBmcm9tIFwiQE1vZHVsZXMvZGF0YUNvbGxlY3Rvci9EYXRhQ29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5pbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvaHR0cC9IdHRwXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JDbGFzcyBpbXBsZW1lbnRzIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9ySW50ZXJmYWNlIHtcclxuICAgIHByaXZhdGUgaXRlcmF0aW9uTWF4RXZlbnRDb3VudDogbnVtYmVyID0gMjA7XHJcbiAgICBwcml2YXRlIGl0ZXJhdGlvbk1heFRpbWVDb2xsZWN0OiBudW1iZXIgPSAzICogNjAgKiAxMDAwOyAvLyAzIG1pblxyXG4gICAgcHJpdmF0ZSB0aW1lcjogRGF0YVRpbWVySW50ZXJmYWNlO1xyXG4gICAgc3RhdGljIGZpcnN0VmlzaXRLZXkgPSBcImZyc3RWaXNpdFwiO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbCA9IG5ldyBGaXJzdFZpc2l0RGF0YU1vZGVsKG51bGwpO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0ZWRFdmVudHM6IEFycmF5PENkcEV2ZW50SW50ZXJmYWNlPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGFydFNhdmVDb2xsZWN0RGF0YTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JcIik7XHJcbiAgICBwcml2YXRlIHBhZ2VMZWF2ZUhhbmRsZXI6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGhhc1ZhbGlkRXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID0gMDtcclxuICAgIHByaXZhdGUgY29sbGVjdFRpbWVDdXJyZW50SXRlcmF0aW9uID0gMDtcclxuICAgIHByaXZhdGUgY29sbGVjdFRpbWVQcmV2SXRlcmF0aW9uID0gMDtcclxuICAgIHByaXZhdGUgcmVzdENvbGxlY3RUaW1lSXRlcmF0aW9uID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc2V0Q29sbGVjdERhdGEoZGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB8IG51bGwpIHtcclxuICAgICAgICB0aGlzLmNvbGxlY3REYXRhID0gbmV3IEZpcnN0VmlzaXREYXRhTW9kZWwoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxlY3RDZHBFdmVudChldmVudDogQ2RwRXZlbnRJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGFydFNhdmVDb2xsZWN0RGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NDZHBFdmVudChldmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2VzcygpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0U2F2ZUNvbGxlY3REYXRhID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5zeW5jQ29sbGVjdERhdGEoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c0NvdW50Q3VycmVudEl0ZXJhdGlvbiA9IHRoaXMuY29sbGVjdERhdGEuZ2V0U3VtRXZlbnRzKCkgJSB0aGlzLml0ZXJhdGlvbk1heEV2ZW50Q291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdFRpbWVQcmV2SXRlcmF0aW9uID0gdGhpcy5jb2xsZWN0RGF0YS5Db2xsZWN0VGltZSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3RDb2xsZWN0VGltZUl0ZXJhdGlvbiA9IE1hdGguYWJzKHRoaXMuaXRlcmF0aW9uTWF4VGltZUNvbGxlY3QgLSAodGhpcy5jb2xsZWN0VGltZVByZXZJdGVyYXRpb24gJSB0aGlzLml0ZXJhdGlvbk1heFRpbWVDb2xsZWN0KSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RUaW1lUHJldkl0ZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdENvbGxlY3RUaW1lSXRlcmF0aW9uID0gdGhpcy5pdGVyYXRpb25NYXhUaW1lQ29sbGVjdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0VGltZUN1cnJlbnRJdGVyYXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0VGltZXIodGhpcy5yZXN0Q29sbGVjdFRpbWVJdGVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc0FscmVhZHlDb2xsZWN0ZWRDZHBFdmVudHMoKTtcclxuICAgICAgICB0aGlzLnNhdmVUaW1lVmlzaXRJZkxlYXZlUGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxlY3RlZEZpcnN0VmlzaXQoY29sbGVjdGVkQnlDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHNhdmVkRmlyc3RWaXNpdERhdGE6IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UgfCBudWxsID0gdGhpcy5nZXRGaXJzdFZpc2l0RnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLnNldENvbGxlY3REYXRhKHNhdmVkRmlyc3RWaXNpdERhdGEpO1xyXG4gICAgICAgIGlmIChzYXZlZEZpcnN0VmlzaXREYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGF0YUNvbGxlY3RlZChjb2xsZWN0ZWRCeUNvbmRpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbGxlY3RlZERhdGEoKTogRmlyc3RWaXNpdERhdGFNb2RlbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyRGF0YSgpIHtcclxuICAgICAgICB0aGlzLmhhc1ZhbGlkRXIgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRTYXZlQ29sbGVjdERhdGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNldENvbGxlY3REYXRhKG51bGwpO1xyXG4gICAgICAgIHRoaXMuc2V0Rmlyc3RWaXNpdFRvU3RvcmFnZShudWxsKTtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb2Nlc3NDZHBFdmVudChldmVudDogQ2RwRXZlbnRJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5zeW5jQ29sbGVjdERhdGEoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFdmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24gPSB0aGlzLmNvbGxlY3REYXRhLmdldFN1bUV2ZW50cygpICUgdGhpcy5pdGVyYXRpb25NYXhFdmVudENvdW50O1xyXG4gICAgICAgICAgICBpZiAobmV3RXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID4gdGhpcy5ldmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID0gbmV3RXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY29sbGVjdEF0dHIgPSBldmVudC5nZXRGaXJzdFZpc2l0UHJvcGVydHkoKTtcclxuICAgICAgICBzd2l0Y2ggKGNvbGxlY3RBdHRyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5Db3VudENyZWF0ZUFjY291bnRFdmVudHMrKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvdW50Q2hlY2tvdXRTdGFydEV2ZW50cysrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24rKztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50Q2xpY2s6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvdW50Q2xpY2srKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudFBhZ2V2aWV3OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5Db3VudFBhZ2V2aWV3Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c0NvdW50Q3VycmVudEl0ZXJhdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFRpbWVyTGVmdCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YSh0aGlzLmlzRGF0YUNvbGxlY3RlZCgpICYmICF0aGlzLmhhc1ZhbGlkRXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvY2Vzc0FscmVhZHlDb2xsZWN0ZWRDZHBFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMuZm9yRWFjaCgoY2RwRXZlbnQ6IENkcEV2ZW50SW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NkcEV2ZW50KGNkcEV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRhQ29sbGVjdGVkQnlUaW1lKGlzUGFnZUxvYWRDb25kaXRpb24pIHx8IHRoaXMuaXNEYXRhQ29sbGVjdGVkQnlFdmVudHMoaXNQYWdlTG9hZENvbmRpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzeW5jQ29sbGVjdERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGlzU3luYyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzYXZlZEZpcnN0VmlzaXREYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIHwgbnVsbCA9IHRoaXMuZ2V0Rmlyc3RWaXNpdEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDb2xsZWN0RGF0YShzYXZlZEZpcnN0VmlzaXREYXRhKTtcclxuICAgICAgICAgICAgaXNTeW5jID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzU3luYztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFRpbWVyKHRpbWVyVGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBuZXcgRGF0YVRpbWVyTW9kZWwoe30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWVyLklzVGltZVVwID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRpbWVyLlN0YXJ0VGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xyXG4gICAgICAgIHRoaXMudGltZXIuSWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50aW1lci5Jc1RpbWVVcCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3luY0NvbGxlY3REYXRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YSh0cnVlKTtcclxuICAgICAgICB9LCB0aW1lclRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkQnlUaW1lKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERhdGEuQ29sbGVjdFRpbWUgLSB0aGlzLmNvbGxlY3RUaW1lUHJldkl0ZXJhdGlvbiA+PSB0aGlzLnJlc3RDb2xsZWN0VGltZUl0ZXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRGF0YUNvbGxlY3RlZEJ5RXZlbnRzKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID49IHRoaXMuaXRlcmF0aW9uTWF4RXZlbnRDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZURhdGEobmVlZFNlbmQgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnN5bmNFckFuZFByZXZlbnRTZW5kKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckRhdGEoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRUaW1lckxlZnQoKTtcclxuICAgICAgICB0aGlzLnNldEZpcnN0VmlzaXRUb1N0b3JhZ2UodGhpcy5jb2xsZWN0RGF0YSk7XHJcbiAgICAgICAgaWYgKG5lZWRTZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbih0aGlzLmNvbGxlY3REYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzeW5jRXJBbmRQcmV2ZW50U2VuZCgpIHtcclxuICAgICAgICBjb25zdCBlciA9IENkcE1vZHVsZS5nZXRFckNvZGUoKTtcclxuICAgICAgICBpZiAoZXIgIT09IG51bGwgJiYgZXIgIT09IENvbnN0YW50cy5Ob0VySW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERsQ29sbGVjdGVkSW5mb3JtYXRpb24oY29sbGVjdGVkRGF0YT86IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpXHJcbiAgICAgICAgICAgIC50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rmlyc3RWaXNpdENkcERsRnJvbUFwaShkZXZpY2VJZCwgdGhpcy5pc05lZWRDb2xsZWN0Rmlyc3RWaXNpdERhdGEoY29sbGVjdGVkRGF0YSkpO1xyXG4gICAgICAgICAgICB9KS50aGVuKChkYXRhOiBhbnkpID0+XHJcbiAgICAgICAgICAgICAgICBDZHBNb2R1bGUuc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbihkYXRhKVxyXG4gICAgICAgICAgICApLmNhdGNoKChlcnJvcjogYW55KSA9PiB0aGlzLkxvZ2dlci5lcnJvcihcInNldERsQ29sbGVjdGVkSW5mb3JtYXRpb25cIiwgZXJyb3IpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzTmVlZENvbGxlY3RGaXJzdFZpc2l0RGF0YShjb2xsZWN0ZWREYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbGxlY3RlZERhdGEgPyBjb2xsZWN0ZWREYXRhIDogRGF0YUNvbGxlY3Rvci5nZXRDb2xsZWN0ZWRGaXJzdFZpc2l0RGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Rmlyc3RWaXNpdENkcERsRnJvbUFwaShkZXZpY2VJZDogc3RyaW5nLCBmVmNvbGxlY3RlZERhdGE/OiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBjb2xsZWN0ZWREYXRhID0gdGhpcy5nZXRNYXBwZWRDb2xsZWN0ZWREYXRhKGZWY29sbGVjdGVkRGF0YSk7XHJcbiAgICAgICAgY29sbGVjdGVkRGF0YVtcImRldmljZWlkXCJdID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgY29sbGVjdGVkRGF0YVtcInNpdGVjb2RlXCJdID0gQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKCk7XHJcbiAgICAgICAgY29sbGVjdGVkRGF0YVtcImNsaWVudGNvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRCb3RJbmZvSGVhZGVyKCk7XHJcbiAgICAgICAgb3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRJbml0U2V0dGluZ3NIZWFkZXIob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycyA9IG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMgfHwgW107XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycy5wdXNoKFwieC1yZXF1ZXN0LWlkXCIpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRVc2VyUmVxUmVhc29ucyhcImZpcnN0LXZpc2l0XCIpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImJlZm9yZV9wb3N0X3VzZXJcIik7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLnBvc3QoXCJ1c2VyXCIsIGNvbGxlY3RlZERhdGEsIG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXM6IEh0dHBSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJFclJlcWlkKHJlcy5leHBvc2VkSGVhZGVyc1tcIngtcmVxdWVzdC1pZFwiXSk7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGFmdGVyX3Bvc3RfdXNlcj0ke3Jlcy5leHBvc2VkSGVhZGVyc1tcIngtcmVxdWVzdC1pZFwiXX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNYXBwZWRDb2xsZWN0ZWREYXRhKGZpcnN0VmlzaXREYXRhPzogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSk6IGFueSB7XHJcbiAgICAgICAgaWYgKGZpcnN0VmlzaXREYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBcInRzX2RpZmZcIjogZmlyc3RWaXNpdERhdGEuQ29sbGVjdFRpbWUsXHJcbiAgICAgICAgICAgICAgICBcImNudF9wYWdldmlld1wiOiBmaXJzdFZpc2l0RGF0YS5Db3VudFBhZ2V2aWV3LFxyXG4gICAgICAgICAgICAgICAgXCJjbnRfY2xpY2tcIjogZmlyc3RWaXNpdERhdGEuQ291bnRDbGljayxcclxuICAgICAgICAgICAgICAgIFwiY250X2NoZWNrb3V0c3RhcnRcIjogZmlyc3RWaXNpdERhdGEuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgXCJjbnRfY3JlYXRlYWNjb3VudFwiOiBmaXJzdFZpc2l0RGF0YS5Db3VudENyZWF0ZUFjY291bnRFdmVudHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGaXJzdFZpc2l0RnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yQ2xhc3MuZmlyc3RWaXNpdEtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRGaXJzdFZpc2l0VG9TdG9yYWdlKHZpc2l0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbCkge1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yQ2xhc3MuZmlyc3RWaXNpdEtleSwgdmlzaXREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNhdmVUaW1lVmlzaXRJZkxlYXZlUGFnZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGFnZUxlYXZlSGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkV2ZW50IFBhZ2VMZWF2ZUV2ZW50IGZpcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jQ29sbGVjdERhdGEoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZXJMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpcnN0VmlzaXRUb1N0b3JhZ2UodGhpcy5jb2xsZWN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5wYWdlTGVhdmVIYW5kbGVyID0gdGhpcy5hZGRQYWdlTGVhdmVFdmVudExpc3RlbmVyKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRQYWdlTGVhdmVFdmVudExpc3RlbmVyKGNhbGxiYWNrOiBGdW5jdGlvbik6IEZ1bmN0aW9uIHtcclxuICAgICAgICBsZXQgZXZlbnROYW1lID0gVXRpbHMuZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZVBhZ2VMZWF2ZUV2ZW50TGlzdGVuZXIoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGV2ZW50TmFtZSA9IFV0aWxzLmdldFBhZ2VMZWF2ZUV2ZW50VHJpZ2dlcigpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpcy5wYWdlTGVhdmVIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFyVGltZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgJiYgdGhpcy50aW1lci5JZCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lci5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZVBhZ2VMZWF2ZUV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFRpbWVyV29yaygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS52YWx1ZU9mKCkgLSB0aGlzLnRpbWVyLlN0YXJ0VGltZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaW1lckxlZnQoKSB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5Db2xsZWN0VGltZSA9IHRoaXMuY29sbGVjdERhdGEuQ29sbGVjdFRpbWUgKyB0aGlzLmdldFRpbWVyV29yaygpIC0gdGhpcy5jb2xsZWN0VGltZUN1cnJlbnRJdGVyYXRpb247XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0VGltZUN1cnJlbnRJdGVyYXRpb24gPSB0aGlzLmdldFRpbWVyV29yaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2VMb2FkQ29sbGVjdGVkRGF0YSgpIHtcclxuICAgICAgICBsZXQgc2F2ZWRGaXJzdFZpc2l0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB8IG51bGwgPSB0aGlzLmdldEZpcnN0VmlzaXRGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sbGVjdERhdGEoc2F2ZWRGaXJzdFZpc2l0RGF0YSk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGlzUGFnZUxvYWRDb25kaXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RhdGFDb2xsZWN0ZWQoaXNQYWdlTG9hZENvbmRpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZEZpcnN0VmlzaXREYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IgPSBuZXcgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JDbGFzcygpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9kYXRhQ29sbGVjdG9yL2NsYXNzZXMvRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IudHMiLCJpbXBvcnQgeyBEYXRhVGltZXJJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9EYXRhVGltZXJJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhVGltZXJNb2RlbCBpbXBsZW1lbnRzIERhdGFUaW1lckludGVyZmFjZSB7XHJcbiAgICBJZDogYW55O1xyXG4gICAgSXNUaW1lVXA6IGJvb2xlYW47XHJcbiAgICBTdGFydFRpbWU6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLklkID0gZGF0YS5JZDtcclxuICAgICAgICB0aGlzLklzVGltZVVwID0gZGF0YS5Jc1RpbWVVcDtcclxuICAgICAgICB0aGlzLlN0YXJ0VGltZSA9IGRhdGEuU3RhcnRUaW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2RhdGFDb2xsZWN0b3IvbW9kZWxzL0RhdGFUaW1lck1vZGVsLnRzIiwiaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0ZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXJzdFZpc2l0RGF0YU1vZGVsIGltcGxlbWVudHMgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB7XHJcbiAgQ29sbGVjdFRpbWU6IG51bWJlciA9IDA7XHJcbiAgQ291bnRDbGljazogbnVtYmVyID0gMDtcclxuICBDb3VudFBhZ2V2aWV3OiBudW1iZXIgPSAwO1xyXG4gIENvdW50Q3JlYXRlQWNjb3VudEV2ZW50czogbnVtYmVyID0gMDtcclxuICBDb3VudENoZWNrb3V0U3RhcnRFdmVudHM6IG51bWJlciA9IDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGE6IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UpIHtcclxuICAgIGlmICghZGF0YSkgcmV0dXJuXHJcbiAgICB0aGlzLkNvdW50Q2xpY2sgPSBkYXRhLkNvdW50Q2xpY2s7XHJcbiAgICB0aGlzLkNvbGxlY3RUaW1lID0gZGF0YS5Db2xsZWN0VGltZTtcclxuICAgIHRoaXMuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzID0gZGF0YS5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM7XHJcbiAgICB0aGlzLkNvdW50UGFnZXZpZXcgPSBkYXRhLkNvdW50UGFnZXZpZXc7XHJcbiAgICB0aGlzLkNvdW50Q3JlYXRlQWNjb3VudEV2ZW50cyA9IGRhdGEuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3VtRXZlbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzICsgdGhpcy5Db3VudENsaWNrICsgdGhpcy5Db3VudENyZWF0ZUFjY291bnRFdmVudHMgKyB0aGlzLkNvdW50UGFnZXZpZXc7XHJcbiAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9kYXRhQ29sbGVjdG9yL21vZGVscy9GaXJzdFZpc2l0RGF0YU1vZGVsLnRzIiwiZXhwb3J0IGNsYXNzIENvbW1vbk1ldGFEYXRhQ2xhc3Mge1xyXG5cclxuICAgIHB1YmxpYyBnZXRLZXl3b3JkcygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1wia2V5d29yZHNcIiwgXCJvZzprZXl3b3Jkc1wiLCBcImJ0OmtleXdvcmRzXCJdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcInRpdGxlXCIsIFwib2c6dGl0bGVcIl0pXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFVybCgpIHtcclxuICAgICAgICByZXR1cm4gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNlY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcInNlY3Rpb25cIiwgXCJvZzpzZWN0aW9uXCJdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXV0aG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJieWxpbmVcIiwgXCJhdXRob3JcIiwgXCJidDphdXRob3JcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUYWdzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJ0YWdzXCJdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udGVudElkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJjb250ZW50aWRcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQdWJsaXNoRGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1wicHVibGlzaERhdGVcIiwgXCJwdWJkYXRlXCIsIFwib2c6cGVyc19yZWNfZmlyc3RfcHViX2RhdGVcIiwgXCJidDpwdWJEYXRlXCJdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udGVudFR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcInR5cGVcIiwgXCJvZzp0eXBlXCJdKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0TWV0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBLZXl3b3JkczogKCkgPT4gdGhpcy5nZXRLZXl3b3JkcygpLFxyXG4gICAgICAgICAgICBUaXRsZTogKCkgPT4gdGhpcy5nZXRUaXRsZSgpLFxyXG4gICAgICAgICAgICBVcmw6ICgpID0+IHRoaXMuZ2V0VXJsKCksXHJcbiAgICAgICAgICAgIFNlY3Rpb246ICgpID0+IHRoaXMuZ2V0U2VjdGlvbigpLFxyXG4gICAgICAgICAgICBBdXRob3I6ICgpID0+IHRoaXMuZ2V0QXV0aG9yKCksXHJcbiAgICAgICAgICAgIFRhZ3M6ICgpID0+IHRoaXMuZ2V0VGFncygpLFxyXG4gICAgICAgICAgICBDb250ZW50SWQ6ICgpID0+IHRoaXMuZ2V0Q29udGVudElkKCksXHJcbiAgICAgICAgICAgIFB1Ymxpc2hEYXRlOiAoKSA9PiB0aGlzLmdldFB1Ymxpc2hEYXRlKCksXHJcbiAgICAgICAgICAgIENvbnRlbnRUeXBlOiAoKSA9PiB0aGlzLmdldENvbnRlbnRUeXBlKCksXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TWV0YUluZm9ybWF0aW9uKG1ldGFEYXRhOiBBcnJheTxhbnk+KSB7XHJcbiAgICAgICAgbGV0IG1ldGFEYXRhTGVuZ3RoID0gbWV0YURhdGEubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWV0YURhdGFMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbWV0YU5hbWUgPSBtZXRhRGF0YVtpXTtcclxuICAgICAgICAgICAgbGV0IG1ldGFWYWx1ZSA9IHRoaXMuZ2V0TWV0YUNvbnRlbnQobWV0YU5hbWUpO1xyXG4gICAgICAgICAgICBpZiAobWV0YVZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0YVZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE1ldGFDb250ZW50KG1ldGFOYW1lKSB7XHJcbiAgICAgICAgbGV0IG1ldGFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIm1ldGFbbmFtZSA9J1wiICsgbWV0YU5hbWUgKyBcIiddLCBtZXRhW3Byb3BlcnR5PSdcIiArIG1ldGFOYW1lICsgXCInXVwiKTtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IG1MZW5ndGggPSBtZXRhcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvciAoaTsgaSA8IG1MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9IG1ldGFzW2ldLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XHJcbiAgICAgICAgICAgIGlmIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDb21tb25NZXRhRGF0YSA9IG5ldyBDb21tb25NZXRhRGF0YUNsYXNzKClcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9jbGFzc2VzL0NvbW1vbk1ldGFEYXRhLnRzIiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UsIE1JU0NfVFlQRVMgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEphdmFzY3JpcHRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9KYXZhc2NyaXB0TW9kZWxcIjtcclxuaW1wb3J0IHsgUHJvbWlzZU1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL1Byb21pc2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZWxlY3Rvck1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL1NlbGVjdG9yTW9kZWxcIjtcclxuaW1wb3J0IHsgQ29tbWFuZE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL0NvbW1hbmRNb2RlbFwiO1xyXG5pbXBvcnQgeyBNaXNjTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9tb2RlbHMvTWlzY01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0luZGV4XCI7XHJcblxyXG5jbGFzcyBNaXNjTW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBtb2RlbHM6IE1pc2NNb2RlbEludGVyZmFjZVtdID0gW107XHJcbiAgICBwcml2YXRlIHJlc3VsdDogb2JqZWN0ID0ge307XHJcblxyXG4gICAgcHJvY2VzcyhvcHRpb25zOiBNaXNjT3B0aW9uc0ludGVyZmFjZVtdID0gW10pIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnM/Lmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubW9kZWxzID0gW107XHJcbiAgICAgICAgdGhpcy5yZXN1bHQgPSB7fTtcclxuICAgICAgICB0aGlzLnNldHVwKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRDb2xsZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwKG9wdGlvbnM6IE1pc2NPcHRpb25zSW50ZXJmYWNlW10pIHtcclxuICAgICAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWw6IE1pc2NNb2RlbEludGVyZmFjZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3B0aW9uLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTUlTQ19UWVBFUy5KYXZhc2NyaXB0OlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbmV3IEphdmFzY3JpcHRNb2RlbChvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNSVNDX1RZUEVTLlByb21pc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgUHJvbWlzZU1vZGVsKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1JU0NfVFlQRVMuU2VsZWN0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgU2VsZWN0b3JNb2RlbChvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNSVNDX1RZUEVTLkNvbW1hbmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgQ29tbWFuZE1vZGVsKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVscy5wdXNoKG1vZGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRDb2xsZWN0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW9kZWxzLmZvckVhY2goKG1vZGVsOiBNaXNjTW9kZWxJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgbW9kZWwuZ2V0RGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGRhdGEudmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShkYXRhLnZhbHVlKSA6IFN0cmluZyhkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0W2RhdGEubWlzY0tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lbmFibGVHQSAmJiBkYXRhLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKGRhdGEubWlzY0tleSwgZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4ge30pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTWlzY01vZHVsZSA9IG5ldyBNaXNjTW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9NaXNjTW9kdWxlLnRzIiwiaW1wb3J0IHsgQ29udGVudFNlcnZpY2UgfSBmcm9tIFwiLi9jbGFzc2VzL0NvbnRlbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbnRlbnRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9Db250ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UsIExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcblxyXG5jbGFzcyBQYWdlTW9kdWxlQ2xhc3Mge1xyXG4gICAgaXNDaGVja2VkQXJ0aWNsZUluQ2RwID0gZmFsc2U7XHJcbiAgICBwYWdlQ29udGVudDogQ29udGVudE1vZGVsO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiUGFnZU1vZHVsZVwiKTtcclxuXHJcbiAgICBwcml2YXRlIHN1YnNjcmliZVBhZ2VMZWF2ZSgpIHtcclxuICAgICAgICBjb25zdCBldmVudE5hbWUgPSBVdGlscy5nZXRQYWdlTGVhdmVFdmVudFRyaWdnZXIoKTtcclxuICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnROYW1lLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ2hlY2tlZEFydGljbGVJbkNkcCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIENvbnRlbnRTZXJ2aWNlLnNlbmRDb250ZW50SW5DZHAodGhpcy5wYWdlQ29udGVudCwgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZENvbnRlbnRUb0NkcCgpIHtcclxuICAgICAgICBsZXQgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZVBhZ2VMZWF2ZSgpO1xyXG4gICAgICAgIHRoaXMucGFnZUNvbnRlbnQgPSBDb250ZW50U2VydmljZS5nZXRQYWdlQ29udGVudCgpO1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VDb250ZW50LmlzQXJ0aWNsZSgpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VDb250ZW50LkNvbnRlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgQ29udGVudFNlcnZpY2UuY29udGVudEV4aXN0c0luQ2RwKHRoaXMucGFnZUNvbnRlbnQuQ29udGVudElkKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0NoZWNrZWRBcnRpY2xlSW5DZHAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5leGlzdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVOb3RFeGlzdEFwcHJvdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNvbnRlbnRbXCJhcnRpY2xlX2lkXCJdID0gcmVzdWx0W1wiYXJ0aWNsZV9pZFwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRlbnRTZXJ2aWNlLnNlbmRDb250ZW50SW5DZHAodGhpcy5wYWdlQ29udGVudCwgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hlY2tlZEFydGljbGVJbkNkcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ2hlY2tlZEFydGljbGVJbkNkcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBDb250ZW50U2VydmljZS5zZW5kQ29udGVudEluQ2RwKHRoaXMucGFnZUNvbnRlbnQsIGFydGljbGVOb3RFeGlzdEFwcHJvdmVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXJ0aWNsZVN0YXRzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgdGhpcy5wYWdlQ29udGVudCA9IENvbnRlbnRTZXJ2aWNlLmdldFBhZ2VDb250ZW50KCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRlbnQuaXNBcnRpY2xlKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRlbnQuQ29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICAgcmV0dXJuIENvbnRlbnRTZXJ2aWNlLmdldEFydGljbGVTdGF0cyh0aGlzLnBhZ2VDb250ZW50LkNvbnRlbnRJZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkNvbnRlbnRJZCBpcyBub3QgZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJUaGlzIHBhZ2UgaXMgbm90IGFydGljbGVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFBhZ2VNb2R1bGUgPSBuZXcgUGFnZU1vZHVsZUNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZS50cyIsImV4cG9ydCBlbnVtIEZMT1dfTU9ERV9UWVBFUyB7XHJcbiAgICBJbnRlcmVzdHNSZWNvbW1lbmRhdGlvbnMgPSBcIkludGVyZXN0c1JlY29tbWVuZGF0aW9uc1wiLFxyXG4gICAgRW5nYWdlQUJFeHBlcmltZW50cyA9IFwiRW5nYWdlQUJFeHBlcmltZW50c1wiXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL21vZGVscy9Nb2RlVHlwZXMudHMiLCJpbXBvcnQgeyBDbGlja0V2ZW50TmFtZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5jbGFzcyBDbGlja1V0aWxzQ2xhc3Mge1xyXG4gICAgcHVibGljIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDbGlja1V0aWxzXCIpO1xyXG5cclxuICAgIGdldEV2ZW50TmFtZShjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5PdGhlcjtcclxuICAgICAgICAvLyBjaGVja2luZyBpZiB0aGlzIG9yIGFueSBwYXJlbnQgZWxlbWVudHMgaGF2ZSBhbiBtZzItYWN0aW9uIHByb3AuXHJcbiAgICAgICAgbGV0IGFjdGlvblR5cGUgPSBVdGlscy5nZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyhjbGlja2VkRWxlbWVudCwgXCJkYXRhLW1nMi1hY3Rpb25cIik7XHJcbiAgICAgICAgaWYgKCFhY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgIC8vIG5vIG1nMiBhY3Rpb24gdHlwZSwgY2hlY2sgZm9yIHNvY2lhbFxyXG4gICAgICAgICAgICAvLyBsZXQgc29jaWNhbEFjdGlvblR5cGUgPSBVdGlscy5nZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyhlbCwgXCJkYXRhLW1nMi1hY3Rpb25cIik7XHJcblxyXG4gICAgICAgICAgICAvLyB3ZSBrbm93IHRoYXQgYW55IHNvY2lhbCBhY3Rpb24gbmVlZHMgdG8gdXNlIGFuIDxhPiBhbmQgYmFzZWQgb24gdGVzdHMgbW9zdCBjbGljayBldmVudHMgaGFwcGVuIG9uIHRoZSA8aT4gb3IgPHNwYW4+IGNoaWxkIG9mIHRoZSA8YT5cclxuICAgICAgICAgICAgLy8gc28gd2UnbGwgcHJvcGFnYXRlIHVwIHRoZSB0cmVlIHVudGlsIHdlIGhpdCBhbiA8YT5cclxuICAgICAgICAgICAgbGV0IHBhcmVudEEgPSBVdGlscy5nZXRQYXJlbnREb21CeVRhZ05hbWUoY2xpY2tlZEVsZW1lbnQsIFwiYVwiKTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudEEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJwYXJlbnRBXCIsIHBhcmVudEEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc29jaWFsVHlwZSA9IHRoaXMuY2hlY2tGb3JTb2NpYWxMaW5rcyhwYXJlbnRBKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJzb2NpYWxBY3Rpb25UeXBlXCIsIHNvY2lhbFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvY2lhbFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgc29jaWFsIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkhBUyBTT0NJQUxcIiwgc29jaWFsVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuU29jaWFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbWFwIHZhbHVlIG9mIGF0dHJiaXV0ZSB0byBuYW1lIG9mIGNkcCBjbGljayBldmVudFxyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb2dpblwiOiB7IHJlc3VsdCA9IENsaWNrRXZlbnROYW1lLkxvZ2luOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFjdGl2YXRpb25cIjogeyByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5BY3RpdmF0ZTsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVnaXN0ZXJcIjogeyByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5SZWdpc3RlcjsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibG9nb3V0XCI6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuTG9nb3V0OyBicmVhazsgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cGdyYWRlXCI6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuVXBncmFkZTsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic3Vic2NyaWJlXCI6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuU3Vic2NyaWJlOyBicmVhazsgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGlja1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzLmNoZWNrRm9yTmV3c2xldHRlclNpZ25VcENsaWNrKGNsaWNrZWRFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5TaWduVXA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuT3RoZXI7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tGb3JTb2NpYWxMaW5rcyhlbDogYW55KTogYW55IHtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImNoZWNrRm9yU29jaWFsTGlua3NcIiwgXCJlbFwiLCBlbCk7XHJcbiAgICAgICAgbGV0IGNscyA9IGVsLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChjbHMpIHtcclxuICAgICAgICAgICAgaWYgKGNscy5pbmNsdWRlcyhcImZhY2Vib29rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJGYWNlYm9va1wiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNscy5pbmNsdWRlcyhcInR3aXR0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlR3aXR0ZXJcIlxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXQgYVRhZyA9IFV0aWxzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKGVsLCBcImFcIik7XHJcbiAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJjaGVja0ZvclNvY2lhbExpbmtzXCIsIFwiYVRhZ1wiLCBhVGFnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENsaWNrVXRpbHMgPSBuZXcgQ2xpY2tVdGlsc0NsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi91dGlscy9DbGlja1V0aWxzLnRzIiwiaW1wb3J0IHsgQ29va2llQXR0cmlidXRlcyB9IGZyb20gXCIuL0Nvb2tpZUF0dHJpYnV0ZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb29raWUge1xyXG5cclxuICAgIHN0YXRpYyBnZXRTdG9yZWRMb2dMZXZlbCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdldFN0b3JlZExvZ0xldmVsXCIpO1xyXG4gICAgICAgIC8vIHJldHVybiAnaW5mbyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc3RyaW5naWZ5QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IGJvb2xlYW4gfCB1bmRlZmluZWQpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdHJpbmdpZmllZCA9IFwiOyBcIiArIG5hbWU7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllZDsgLy8gYm9vbGVhbiBhdHRyaWJ1dGVzIHNob3VsZG4ndCBoYXZlIGEgdmFsdWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkICsgXCI9XCIgKyB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzdHJpbmdpZnlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IENvb2tpZUF0dHJpYnV0ZXMpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBpcmVzID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZXhwaXJlcy5zZXRNaWxsaXNlY29uZHMoZXhwaXJlcy5nZXRNaWxsaXNlY29uZHMoKSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGV4cGlyZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmluZ2lmeUF0dHJpYnV0ZShcIkV4cGlyZXNcIiwgYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiBcIlwiKVxyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlKFwiRG9tYWluXCIsIGF0dHJpYnV0ZXMuZG9tYWluKVxyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlKFwiUGF0aFwiLCBhdHRyaWJ1dGVzLnBhdGgpXHJcbiAgICAgICAgICAgICsgdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGUoXCJTZWN1cmVcIiwgYXR0cmlidXRlcy5zZWN1cmUpXHJcbiAgICAgICAgICAgICsgdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGUoXCJTYW1lU2l0ZVwiLCBhdHRyaWJ1dGVzLnNhbWVTaXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBlbmNvZGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiBDb29raWVBdHRyaWJ1dGVzKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpIC8vIGFsbG93ZWQgc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCgvZywgXCIlMjhcIikucmVwbGFjZSgvXFwpL2csIFwiJTI5XCIpIC8vIHJlcGxhY2Ugb3BlbmluZyBhbmQgY2xvc2luZyBwYXJlbnNcclxuICAgICAgICAgICAgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpIC8vIGFsbG93ZWQgc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgICsgdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHBhcnNlKGNvb2tpZVN0cmluZzogc3RyaW5nKTogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0ge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcbiAgICAgICAgbGV0IGNvb2tpZXMgPSBjb29raWVTdHJpbmcgPyBjb29raWVTdHJpbmcuc3BsaXQoXCI7IFwiKSA6IFtdO1xyXG4gICAgICAgIGxldCByZGVjb2RlID0gLyglWzAtOUEtWl17Mn0pKy9nO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgbGV0IGNvb2tpZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oXCI9XCIpO1xyXG4gICAgICAgICAgICBpZiAoY29va2llLmNoYXJBdCgwKSA9PT0gXCJcXFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gcGFydHNbMF0ucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gY29va2llLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGNvb2tpZXMgd2l0aCBpbnZhbGlkIG5hbWUvdmFsdWUgZW5jb2RpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QWxsKCk6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZShkb2N1bWVudC5jb29raWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0KG5hbWU6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsKClbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBhdHRyaWJ1dGVzPzogQ29va2llQXR0cmlidXRlcyk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IHRoaXMuZW5jb2RlKG5hbWUsIHZhbHVlLCB7IHBhdGg6IFwiL1wiLCAuLi5hdHRyaWJ1dGVzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVtb3ZlKG5hbWU6IHN0cmluZywgYXR0cmlidXRlcz86IENvb2tpZUF0dHJpYnV0ZXMpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldChuYW1lLCBcIlwiLCB7IC4uLmF0dHJpYnV0ZXMsIGV4cGlyZXM6IC0xIH0pO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi91dGlscy9jb29raWUvQ29va2llLnRzIiwiLyoqXHJcbiAqIExvZyBsZXZlbCBmb3IgYSBsb2dnZXIuXHJcbiAqL1xyXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XHJcbiAgICBUcmFjZSxcclxuICAgIERlYnVnLFxyXG4gICAgV2FybixcclxuICAgIEluZm8sXHJcbiAgICBFcnJvcixcclxuICAgIEZhdGFsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBMT0dfTEVWRUxfU1RZTEUgPSB7XHJcbiAgICAwOiBcImdyZWVuXCIsXHJcbiAgICAxOiBcIiM5MGJlOTBcIixcclxuICAgIDI6IFwiI2YxY2U3YVwiLFxyXG4gICAgMzogXCIjMDA5ZmRmXCIsXHJcbiAgICA0OiBcInJlZFwiLFxyXG4gICAgNTogXCJyZWRcIlxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IExPR19MRVZFTF9TVFlMRTIgPSB7XHJcbiAgICAwOiB7IGNvbG9yOiBcImdyZWVuXCIsIGJnOiBcIiNmN2ZiZjdcIiB9LFxyXG4gICAgMTogeyBjb2xvcjogXCJncmVlblwiLCBiZzogXCIjZjdmYmY3XCIgfSxcclxuICAgIDI6IHsgY29sb3I6IFwiZ3JlZW5cIiwgYmc6IFwiI2Y3ZmJmN1wiIH0sXHJcbiAgICAzOiB7IGNvbG9yOiBcImdyZWVuXCIsIGJnOiBcIiNlNWYyZTVcIiB9LFxyXG4gICAgNDogeyBjb2xvcjogXCJncmVlblwiLCBiZzogXCIjZTVmMmU1XCIgfSxcclxuICAgIDU6IHsgY29sb3I6IFwiZ3JlZW5cIiwgYmc6IFwiI2U1ZjJlNVwiIH1cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dMZXZlbHMge1xyXG4gICAgc3RhdGljIEZyb21TdHJpbmcodmFsOiBzdHJpbmcpOiBMb2dMZXZlbCB7XHJcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvZ0xldmVsIHN0cmluZyBtdXN0IGJlIHNldC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodmFsLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlRSQUNFXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9nTGV2ZWwuVHJhY2U7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERUJVR1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkRlYnVnO1xyXG4gICAgICAgICAgICBjYXNlIFwiSU5GT1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkluZm87XHJcbiAgICAgICAgICAgIGNhc2UgXCJXQVJOXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9nTGV2ZWwuV2FybjtcclxuICAgICAgICAgICAgY2FzZSBcIkVSUk9SXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9nTGV2ZWwuRXJyb3I7XHJcbiAgICAgICAgICAgIGNhc2UgXCJGQVRBTFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkZhdGFsO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgTG9nIExldmVsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlck9wdGlvbnMudHMiLCIvKipcbiAqIFtqcy1zaGEyNTZde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbW4xNzgvanMtc2hhMjU2fVxuICpcbiAqIEB2ZXJzaW9uIDAuOS4wXG4gKiBAYXV0aG9yIENoZW4sIFlpLUN5dWFuIFtlbW4xNzhAZ21haWwuY29tXVxuICogQGNvcHlyaWdodCBDaGVuLCBZaS1DeXVhbiAyMDE0LTIwMTdcbiAqIEBsaWNlbnNlIE1JVFxuICovXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIEVSUk9SID0gJ2lucHV0IGlzIGludmFsaWQgdHlwZSc7XG4gIHZhciBXSU5ET1cgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JztcbiAgdmFyIHJvb3QgPSBXSU5ET1cgPyB3aW5kb3cgOiB7fTtcbiAgaWYgKHJvb3QuSlNfU0hBMjU2X05PX1dJTkRPVykge1xuICAgIFdJTkRPVyA9IGZhbHNlO1xuICB9XG4gIHZhciBXRUJfV09SS0VSID0gIVdJTkRPVyAmJiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCc7XG4gIHZhciBOT0RFX0pTID0gIXJvb3QuSlNfU0hBMjU2X05PX05PREVfSlMgJiYgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlO1xuICBpZiAoTk9ERV9KUykge1xuICAgIHJvb3QgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAoV0VCX1dPUktFUikge1xuICAgIHJvb3QgPSBzZWxmO1xuICB9XG4gIHZhciBDT01NT05fSlMgPSAhcm9vdC5KU19TSEEyNTZfTk9fQ09NTU9OX0pTICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzO1xuICB2YXIgQU1EID0gdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kO1xuICB2YXIgQVJSQVlfQlVGRkVSID0gIXJvb3QuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUiAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgSEVYX0NIQVJTID0gJzAxMjM0NTY3ODlhYmNkZWYnLnNwbGl0KCcnKTtcbiAgdmFyIEVYVFJBID0gWy0yMTQ3NDgzNjQ4LCA4Mzg4NjA4LCAzMjc2OCwgMTI4XTtcbiAgdmFyIFNISUZUID0gWzI0LCAxNiwgOCwgMF07XG4gIHZhciBLID0gW1xuICAgIDB4NDI4YTJmOTgsIDB4NzEzNzQ0OTEsIDB4YjVjMGZiY2YsIDB4ZTliNWRiYTUsIDB4Mzk1NmMyNWIsIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsXG4gICAgMHhkODA3YWE5OCwgMHgxMjgzNWIwMSwgMHgyNDMxODViZSwgMHg1NTBjN2RjMywgMHg3MmJlNWQ3NCwgMHg4MGRlYjFmZSwgMHg5YmRjMDZhNywgMHhjMTliZjE3NCxcbiAgICAweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLCAweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLFxuICAgIDB4OTgzZTUxNTIsIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsIDB4MDZjYTYzNTEsIDB4MTQyOTI5NjcsXG4gICAgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYywgMHg1MzM4MGQxMywgMHg2NTBhNzM1NCwgMHg3NjZhMGFiYiwgMHg4MWMyYzkyZSwgMHg5MjcyMmM4NSxcbiAgICAweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLCAweGQxOTJlODE5LCAweGQ2OTkwNjI0LCAweGY0MGUzNTg1LCAweDEwNmFhMDcwLFxuICAgIDB4MTlhNGMxMTYsIDB4MWUzNzZjMDgsIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsIDB4NjgyZTZmZjMsXG4gICAgMHg3NDhmODJlZSwgMHg3OGE1NjM2ZiwgMHg4NGM4NzgxNCwgMHg4Y2M3MDIwOCwgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMlxuICBdO1xuICB2YXIgT1VUUFVUX1RZUEVTID0gWydoZXgnLCAnYXJyYXknLCAnZGlnZXN0JywgJ2FycmF5QnVmZmVyJ107XG5cbiAgdmFyIGJsb2NrcyA9IFtdO1xuXG4gIGlmIChyb290LkpTX1NIQTI1Nl9OT19OT0RFX0pTIHx8ICFBcnJheS5pc0FycmF5KSB7XG4gICAgQXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuICB9XG5cbiAgaWYgKEFSUkFZX0JVRkZFUiAmJiAocm9vdC5KU19TSEEyNTZfTk9fQVJSQVlfQlVGRkVSX0lTX1ZJRVcgfHwgIUFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqLmJ1ZmZlciAmJiBvYmouYnVmZmVyLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcjtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChvdXRwdXRUeXBlLCBpczIyNCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIG5ldyBTaGEyNTYoaXMyMjQsIHRydWUpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChpczIyNCkge1xuICAgIHZhciBtZXRob2QgPSBjcmVhdGVPdXRwdXRNZXRob2QoJ2hleCcsIGlzMjI0KTtcbiAgICBpZiAoTk9ERV9KUykge1xuICAgICAgbWV0aG9kID0gbm9kZVdyYXAobWV0aG9kLCBpczIyNCk7XG4gICAgfVxuICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IFNoYTI1NihpczIyNCk7XG4gICAgfTtcbiAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKCkudXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBPVVRQVVRfVFlQRVMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB0eXBlID0gT1VUUFVUX1RZUEVTW2ldO1xuICAgICAgbWV0aG9kW3R5cGVdID0gY3JlYXRlT3V0cHV0TWV0aG9kKHR5cGUsIGlzMjI0KTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfTtcblxuICB2YXIgbm9kZVdyYXAgPSBmdW5jdGlvbiAobWV0aG9kLCBpczIyNCkge1xuICAgIHZhciBjcnlwdG8gPSBldmFsKFwicmVxdWlyZSgnY3J5cHRvJylcIik7XG4gICAgdmFyIEJ1ZmZlciA9IGV2YWwoXCJyZXF1aXJlKCdidWZmZXInKS5CdWZmZXJcIik7XG4gICAgdmFyIGFsZ29yaXRobSA9IGlzMjI0ID8gJ3NoYTIyNCcgOiAnc2hhMjU2JztcbiAgICB2YXIgbm9kZU1ldGhvZCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pLnVwZGF0ZShtZXNzYWdlLCAndXRmOCcpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gbnVsbCB8fCBtZXNzYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkgfHxcbiAgICAgICAgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pLnVwZGF0ZShuZXcgQnVmZmVyKG1lc3NhZ2UpKS5kaWdlc3QoJ2hleCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBub2RlTWV0aG9kO1xuICB9O1xuXG4gIHZhciBjcmVhdGVIbWFjT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKG91dHB1dFR5cGUsIGlzMjI0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgSG1hY1NoYTI1NihrZXksIGlzMjI0LCB0cnVlKS51cGRhdGUobWVzc2FnZSlbb3V0cHV0VHlwZV0oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVIbWFjTWV0aG9kID0gZnVuY3Rpb24gKGlzMjI0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZUhtYWNPdXRwdXRNZXRob2QoJ2hleCcsIGlzMjI0KTtcbiAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIG5ldyBIbWFjU2hhMjU2KGtleSwgaXMyMjQpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChrZXksIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKGtleSkudXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBPVVRQVVRfVFlQRVMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB0eXBlID0gT1VUUFVUX1RZUEVTW2ldO1xuICAgICAgbWV0aG9kW3R5cGVdID0gY3JlYXRlSG1hY091dHB1dE1ldGhvZCh0eXBlLCBpczIyNCk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2Q7XG4gIH07XG5cbiAgZnVuY3Rpb24gU2hhMjU2KGlzMjI0LCBzaGFyZWRNZW1vcnkpIHtcbiAgICBpZiAoc2hhcmVkTWVtb3J5KSB7XG4gICAgICBibG9ja3NbMF0gPSBibG9ja3NbMTZdID0gYmxvY2tzWzFdID0gYmxvY2tzWzJdID0gYmxvY2tzWzNdID1cbiAgICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgICBibG9ja3NbMTJdID0gYmxvY2tzWzEzXSA9IGJsb2Nrc1sxNF0gPSBibG9ja3NbMTVdID0gMDtcbiAgICAgIHRoaXMuYmxvY2tzID0gYmxvY2tzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJsb2NrcyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICB9XG5cbiAgICBpZiAoaXMyMjQpIHtcbiAgICAgIHRoaXMuaDAgPSAweGMxMDU5ZWQ4O1xuICAgICAgdGhpcy5oMSA9IDB4MzY3Y2Q1MDc7XG4gICAgICB0aGlzLmgyID0gMHgzMDcwZGQxNztcbiAgICAgIHRoaXMuaDMgPSAweGY3MGU1OTM5O1xuICAgICAgdGhpcy5oNCA9IDB4ZmZjMDBiMzE7XG4gICAgICB0aGlzLmg1ID0gMHg2ODU4MTUxMTtcbiAgICAgIHRoaXMuaDYgPSAweDY0Zjk4ZmE3O1xuICAgICAgdGhpcy5oNyA9IDB4YmVmYTRmYTQ7XG4gICAgfSBlbHNlIHsgLy8gMjU2XG4gICAgICB0aGlzLmgwID0gMHg2YTA5ZTY2NztcbiAgICAgIHRoaXMuaDEgPSAweGJiNjdhZTg1O1xuICAgICAgdGhpcy5oMiA9IDB4M2M2ZWYzNzI7XG4gICAgICB0aGlzLmgzID0gMHhhNTRmZjUzYTtcbiAgICAgIHRoaXMuaDQgPSAweDUxMGU1MjdmO1xuICAgICAgdGhpcy5oNSA9IDB4OWIwNTY4OGM7XG4gICAgICB0aGlzLmg2ID0gMHgxZjgzZDlhYjtcbiAgICAgIHRoaXMuaDcgPSAweDViZTBjZDE5O1xuICAgIH1cblxuICAgIHRoaXMuYmxvY2sgPSB0aGlzLnN0YXJ0ID0gdGhpcy5ieXRlcyA9IHRoaXMuaEJ5dGVzID0gMDtcbiAgICB0aGlzLmZpbmFsaXplZCA9IHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJzdCA9IHRydWU7XG4gICAgdGhpcy5pczIyNCA9IGlzMjI0O1xuICB9XG5cbiAgU2hhMjU2LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm90U3RyaW5nLCB0eXBlID0gdHlwZW9mIG1lc3NhZ2U7XG4gICAgaWYgKHR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBtZXNzYWdlLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlKSkge1xuICAgICAgICAgIGlmICghQVJSQVlfQlVGRkVSIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgfVxuICAgICAgbm90U3RyaW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGNvZGUsIGluZGV4ID0gMCwgaSwgbGVuZ3RoID0gbWVzc2FnZS5sZW5ndGgsIGJsb2NrcyA9IHRoaXMuYmxvY2tzO1xuXG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5oYXNoZWQpIHtcbiAgICAgICAgdGhpcy5oYXNoZWQgPSBmYWxzZTtcbiAgICAgICAgYmxvY2tzWzBdID0gdGhpcy5ibG9jaztcbiAgICAgICAgYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9XG4gICAgICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgICAgICBibG9ja3NbOF0gPSBibG9ja3NbOV0gPSBibG9ja3NbMTBdID0gYmxvY2tzWzExXSA9XG4gICAgICAgICAgYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChub3RTdHJpbmcpIHtcbiAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IDY0OyArK2luZGV4KSB7XG4gICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gbWVzc2FnZVtpbmRleF0gPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkge1xuICAgICAgICAgIGNvZGUgPSBtZXNzYWdlLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gY29kZSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4YzAgfCAoY29kZSA+PiA2KSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ZDgwMCB8fCBjb2RlID49IDB4ZTAwMCkge1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZTAgfCAoY29kZSA+PiAxMikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoKGNvZGUgPj4gNikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKG1lc3NhZ2UuY2hhckNvZGVBdCgrK2luZGV4KSAmIDB4M2ZmKSk7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhmMCB8IChjb2RlID4+IDE4KSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFzdEJ5dGVJbmRleCA9IGk7XG4gICAgICB0aGlzLmJ5dGVzICs9IGkgLSB0aGlzLnN0YXJ0O1xuICAgICAgaWYgKGkgPj0gNjQpIHtcbiAgICAgICAgdGhpcy5ibG9jayA9IGJsb2Nrc1sxNl07XG4gICAgICAgIHRoaXMuc3RhcnQgPSBpIC0gNjQ7XG4gICAgICAgIHRoaXMuaGFzaCgpO1xuICAgICAgICB0aGlzLmhhc2hlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuYnl0ZXMgPiA0Mjk0OTY3Mjk1KSB7XG4gICAgICB0aGlzLmhCeXRlcyArPSB0aGlzLmJ5dGVzIC8gNDI5NDk2NzI5NiA8PCAwO1xuICAgICAgdGhpcy5ieXRlcyA9IHRoaXMuYnl0ZXMgJSA0Mjk0OTY3Mjk2O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLmZpbmFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdmFyIGJsb2NrcyA9IHRoaXMuYmxvY2tzLCBpID0gdGhpcy5sYXN0Qnl0ZUluZGV4O1xuICAgIGJsb2Nrc1sxNl0gPSB0aGlzLmJsb2NrO1xuICAgIGJsb2Nrc1tpID4+IDJdIHw9IEVYVFJBW2kgJiAzXTtcbiAgICB0aGlzLmJsb2NrID0gYmxvY2tzWzE2XTtcbiAgICBpZiAoaSA+PSA1Nikge1xuICAgICAgaWYgKCF0aGlzLmhhc2hlZCkge1xuICAgICAgICB0aGlzLmhhc2goKTtcbiAgICAgIH1cbiAgICAgIGJsb2Nrc1swXSA9IHRoaXMuYmxvY2s7XG4gICAgICBibG9ja3NbMTZdID0gYmxvY2tzWzFdID0gYmxvY2tzWzJdID0gYmxvY2tzWzNdID1cbiAgICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgICBibG9ja3NbMTJdID0gYmxvY2tzWzEzXSA9IGJsb2Nrc1sxNF0gPSBibG9ja3NbMTVdID0gMDtcbiAgICB9XG4gICAgYmxvY2tzWzE0XSA9IHRoaXMuaEJ5dGVzIDw8IDMgfCB0aGlzLmJ5dGVzID4+PiAyOTtcbiAgICBibG9ja3NbMTVdID0gdGhpcy5ieXRlcyA8PCAzO1xuICAgIHRoaXMuaGFzaCgpO1xuICB9O1xuXG4gIFNoYTI1Ni5wcm90b3R5cGUuaGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHRoaXMuaDAsIGIgPSB0aGlzLmgxLCBjID0gdGhpcy5oMiwgZCA9IHRoaXMuaDMsIGUgPSB0aGlzLmg0LCBmID0gdGhpcy5oNSwgZyA9IHRoaXMuaDYsXG4gICAgICBoID0gdGhpcy5oNywgYmxvY2tzID0gdGhpcy5ibG9ja3MsIGosIHMwLCBzMSwgbWFqLCB0MSwgdDIsIGNoLCBhYiwgZGEsIGNkLCBiYztcblxuICAgIGZvciAoaiA9IDE2OyBqIDwgNjQ7ICsraikge1xuICAgICAgLy8gcmlnaHRyb3RhdGVcbiAgICAgIHQxID0gYmxvY2tzW2ogLSAxNV07XG4gICAgICBzMCA9ICgodDEgPj4+IDcpIHwgKHQxIDw8IDI1KSkgXiAoKHQxID4+PiAxOCkgfCAodDEgPDwgMTQpKSBeICh0MSA+Pj4gMyk7XG4gICAgICB0MSA9IGJsb2Nrc1tqIC0gMl07XG4gICAgICBzMSA9ICgodDEgPj4+IDE3KSB8ICh0MSA8PCAxNSkpIF4gKCh0MSA+Pj4gMTkpIHwgKHQxIDw8IDEzKSkgXiAodDEgPj4+IDEwKTtcbiAgICAgIGJsb2Nrc1tqXSA9IGJsb2Nrc1tqIC0gMTZdICsgczAgKyBibG9ja3NbaiAtIDddICsgczEgPDwgMDtcbiAgICB9XG5cbiAgICBiYyA9IGIgJiBjO1xuICAgIGZvciAoaiA9IDA7IGogPCA2NDsgaiArPSA0KSB7XG4gICAgICBpZiAodGhpcy5maXJzdCkge1xuICAgICAgICBpZiAodGhpcy5pczIyNCkge1xuICAgICAgICAgIGFiID0gMzAwMDMyO1xuICAgICAgICAgIHQxID0gYmxvY2tzWzBdIC0gMTQxMzI1NzgxOTtcbiAgICAgICAgICBoID0gdDEgLSAxNTAwNTQ1OTkgPDwgMDtcbiAgICAgICAgICBkID0gdDEgKyAyNDE3NzA3NyA8PCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFiID0gNzA0NzUxMTA5O1xuICAgICAgICAgIHQxID0gYmxvY2tzWzBdIC0gMjEwMjQ0MjQ4O1xuICAgICAgICAgIGggPSB0MSAtIDE1MjE0ODY1MzQgPDwgMDtcbiAgICAgICAgICBkID0gdDEgKyAxNDM2OTQ1NjUgPDwgMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9ICgoYSA+Pj4gMikgfCAoYSA8PCAzMCkpIF4gKChhID4+PiAxMykgfCAoYSA8PCAxOSkpIF4gKChhID4+PiAyMikgfCAoYSA8PCAxMCkpO1xuICAgICAgICBzMSA9ICgoZSA+Pj4gNikgfCAoZSA8PCAyNikpIF4gKChlID4+PiAxMSkgfCAoZSA8PCAyMSkpIF4gKChlID4+PiAyNSkgfCAoZSA8PCA3KSk7XG4gICAgICAgIGFiID0gYSAmIGI7XG4gICAgICAgIG1haiA9IGFiIF4gKGEgJiBjKSBeIGJjO1xuICAgICAgICBjaCA9IChlICYgZikgXiAofmUgJiBnKTtcbiAgICAgICAgdDEgPSBoICsgczEgKyBjaCArIEtbal0gKyBibG9ja3Nbal07XG4gICAgICAgIHQyID0gczAgKyBtYWo7XG4gICAgICAgIGggPSBkICsgdDEgPDwgMDtcbiAgICAgICAgZCA9IHQxICsgdDIgPDwgMDtcbiAgICAgIH1cbiAgICAgIHMwID0gKChkID4+PiAyKSB8IChkIDw8IDMwKSkgXiAoKGQgPj4+IDEzKSB8IChkIDw8IDE5KSkgXiAoKGQgPj4+IDIyKSB8IChkIDw8IDEwKSk7XG4gICAgICBzMSA9ICgoaCA+Pj4gNikgfCAoaCA8PCAyNikpIF4gKChoID4+PiAxMSkgfCAoaCA8PCAyMSkpIF4gKChoID4+PiAyNSkgfCAoaCA8PCA3KSk7XG4gICAgICBkYSA9IGQgJiBhO1xuICAgICAgbWFqID0gZGEgXiAoZCAmIGIpIF4gYWI7XG4gICAgICBjaCA9IChoICYgZSkgXiAofmggJiBmKTtcbiAgICAgIHQxID0gZyArIHMxICsgY2ggKyBLW2ogKyAxXSArIGJsb2Nrc1tqICsgMV07XG4gICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgZyA9IGMgKyB0MSA8PCAwO1xuICAgICAgYyA9IHQxICsgdDIgPDwgMDtcbiAgICAgIHMwID0gKChjID4+PiAyKSB8IChjIDw8IDMwKSkgXiAoKGMgPj4+IDEzKSB8IChjIDw8IDE5KSkgXiAoKGMgPj4+IDIyKSB8IChjIDw8IDEwKSk7XG4gICAgICBzMSA9ICgoZyA+Pj4gNikgfCAoZyA8PCAyNikpIF4gKChnID4+PiAxMSkgfCAoZyA8PCAyMSkpIF4gKChnID4+PiAyNSkgfCAoZyA8PCA3KSk7XG4gICAgICBjZCA9IGMgJiBkO1xuICAgICAgbWFqID0gY2QgXiAoYyAmIGEpIF4gZGE7XG4gICAgICBjaCA9IChnICYgaCkgXiAofmcgJiBlKTtcbiAgICAgIHQxID0gZiArIHMxICsgY2ggKyBLW2ogKyAyXSArIGJsb2Nrc1tqICsgMl07XG4gICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgZiA9IGIgKyB0MSA8PCAwO1xuICAgICAgYiA9IHQxICsgdDIgPDwgMDtcbiAgICAgIHMwID0gKChiID4+PiAyKSB8IChiIDw8IDMwKSkgXiAoKGIgPj4+IDEzKSB8IChiIDw8IDE5KSkgXiAoKGIgPj4+IDIyKSB8IChiIDw8IDEwKSk7XG4gICAgICBzMSA9ICgoZiA+Pj4gNikgfCAoZiA8PCAyNikpIF4gKChmID4+PiAxMSkgfCAoZiA8PCAyMSkpIF4gKChmID4+PiAyNSkgfCAoZiA8PCA3KSk7XG4gICAgICBiYyA9IGIgJiBjO1xuICAgICAgbWFqID0gYmMgXiAoYiAmIGQpIF4gY2Q7XG4gICAgICBjaCA9IChmICYgZykgXiAofmYgJiBoKTtcbiAgICAgIHQxID0gZSArIHMxICsgY2ggKyBLW2ogKyAzXSArIGJsb2Nrc1tqICsgM107XG4gICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgZSA9IGEgKyB0MSA8PCAwO1xuICAgICAgYSA9IHQxICsgdDIgPDwgMDtcbiAgICB9XG5cbiAgICB0aGlzLmgwID0gdGhpcy5oMCArIGEgPDwgMDtcbiAgICB0aGlzLmgxID0gdGhpcy5oMSArIGIgPDwgMDtcbiAgICB0aGlzLmgyID0gdGhpcy5oMiArIGMgPDwgMDtcbiAgICB0aGlzLmgzID0gdGhpcy5oMyArIGQgPDwgMDtcbiAgICB0aGlzLmg0ID0gdGhpcy5oNCArIGUgPDwgMDtcbiAgICB0aGlzLmg1ID0gdGhpcy5oNSArIGYgPDwgMDtcbiAgICB0aGlzLmg2ID0gdGhpcy5oNiArIGcgPDwgMDtcbiAgICB0aGlzLmg3ID0gdGhpcy5oNyArIGggPDwgMDtcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLmhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZpbmFsaXplKCk7XG5cbiAgICB2YXIgaDAgPSB0aGlzLmgwLCBoMSA9IHRoaXMuaDEsIGgyID0gdGhpcy5oMiwgaDMgPSB0aGlzLmgzLCBoNCA9IHRoaXMuaDQsIGg1ID0gdGhpcy5oNSxcbiAgICAgIGg2ID0gdGhpcy5oNiwgaDcgPSB0aGlzLmg3O1xuXG4gICAgdmFyIGhleCA9IEhFWF9DSEFSU1soaDAgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMCA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gwICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgxID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDEgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDIgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toMiAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMyA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gzICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDQgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDQgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDQgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg0ID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDQgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNSA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNSA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNSA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDUgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toNSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg2ID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg2ID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg2ID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNiA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2g2ICYgMHgwRl07XG4gICAgaWYgKCF0aGlzLmlzMjI0KSB7XG4gICAgICBoZXggKz0gSEVYX0NIQVJTWyhoNyA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDcgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgICBIRVhfQ0hBUlNbKGg3ID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNyA+PiAxNikgJiAweDBGXSArXG4gICAgICAgIEhFWF9DSEFSU1soaDcgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg3ID4+IDgpICYgMHgwRl0gK1xuICAgICAgICBIRVhfQ0hBUlNbKGg3ID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDcgJiAweDBGXTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLnRvU3RyaW5nID0gU2hhMjU2LnByb3RvdHlwZS5oZXg7XG5cbiAgU2hhMjU2LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMywgaDQgPSB0aGlzLmg0LCBoNSA9IHRoaXMuaDUsXG4gICAgICBoNiA9IHRoaXMuaDYsIGg3ID0gdGhpcy5oNztcblxuICAgIHZhciBhcnIgPSBbXG4gICAgICAoaDAgPj4gMjQpICYgMHhGRiwgKGgwID4+IDE2KSAmIDB4RkYsIChoMCA+PiA4KSAmIDB4RkYsIGgwICYgMHhGRixcbiAgICAgIChoMSA+PiAyNCkgJiAweEZGLCAoaDEgPj4gMTYpICYgMHhGRiwgKGgxID4+IDgpICYgMHhGRiwgaDEgJiAweEZGLFxuICAgICAgKGgyID4+IDI0KSAmIDB4RkYsIChoMiA+PiAxNikgJiAweEZGLCAoaDIgPj4gOCkgJiAweEZGLCBoMiAmIDB4RkYsXG4gICAgICAoaDMgPj4gMjQpICYgMHhGRiwgKGgzID4+IDE2KSAmIDB4RkYsIChoMyA+PiA4KSAmIDB4RkYsIGgzICYgMHhGRixcbiAgICAgIChoNCA+PiAyNCkgJiAweEZGLCAoaDQgPj4gMTYpICYgMHhGRiwgKGg0ID4+IDgpICYgMHhGRiwgaDQgJiAweEZGLFxuICAgICAgKGg1ID4+IDI0KSAmIDB4RkYsIChoNSA+PiAxNikgJiAweEZGLCAoaDUgPj4gOCkgJiAweEZGLCBoNSAmIDB4RkYsXG4gICAgICAoaDYgPj4gMjQpICYgMHhGRiwgKGg2ID4+IDE2KSAmIDB4RkYsIChoNiA+PiA4KSAmIDB4RkYsIGg2ICYgMHhGRlxuICAgIF07XG4gICAgaWYgKCF0aGlzLmlzMjI0KSB7XG4gICAgICBhcnIucHVzaCgoaDcgPj4gMjQpICYgMHhGRiwgKGg3ID4+IDE2KSAmIDB4RkYsIChoNyA+PiA4KSAmIDB4RkYsIGg3ICYgMHhGRik7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH07XG5cbiAgU2hhMjU2LnByb3RvdHlwZS5hcnJheSA9IFNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0O1xuXG4gIFNoYTI1Ni5wcm90b3R5cGUuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmlzMjI0ID8gMjggOiAzMik7XG4gICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDAsIHRoaXMuaDApO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMig0LCB0aGlzLmgxKTtcbiAgICBkYXRhVmlldy5zZXRVaW50MzIoOCwgdGhpcy5oMik7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDEyLCB0aGlzLmgzKTtcbiAgICBkYXRhVmlldy5zZXRVaW50MzIoMTYsIHRoaXMuaDQpO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMigyMCwgdGhpcy5oNSk7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDI0LCB0aGlzLmg2KTtcbiAgICBpZiAoIXRoaXMuaXMyMjQpIHtcbiAgICAgIGRhdGFWaWV3LnNldFVpbnQzMigyOCwgdGhpcy5oNyk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgZnVuY3Rpb24gSG1hY1NoYTI1NihrZXksIGlzMjI0LCBzaGFyZWRNZW1vcnkpIHtcbiAgICB2YXIgaSwgdHlwZSA9IHR5cGVvZiBrZXk7XG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgYnl0ZXMgPSBbXSwgbGVuZ3RoID0ga2V5Lmxlbmd0aCwgaW5kZXggPSAwLCBjb2RlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvZGUgPSBrZXkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSBjb2RlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4YzAgfCAoY29kZSA+PiA2KSk7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSAoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweGUwIHwgKGNvZGUgPj4gMTIpKTtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKGtleS5jaGFyQ29kZUF0KCsraSkgJiAweDNmZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ZjAgfCAoY29kZSA+PiAxOCkpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoKGNvZGUgPj4gMTIpICYgMHgzZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoKGNvZGUgPj4gNikgJiAweDNmKSk7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSAoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBrZXkgPSBieXRlcztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChrZXkgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBrZXkuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAga2V5ID0gbmV3IFVpbnQ4QXJyYXkoa2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5Lmxlbmd0aCA+IDY0KSB7XG4gICAgICBrZXkgPSAobmV3IFNoYTI1NihpczIyNCwgdHJ1ZSkpLnVwZGF0ZShrZXkpLmFycmF5KCk7XG4gICAgfVxuXG4gICAgdmFyIG9LZXlQYWQgPSBbXSwgaUtleVBhZCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgKytpKSB7XG4gICAgICB2YXIgYiA9IGtleVtpXSB8fCAwO1xuICAgICAgb0tleVBhZFtpXSA9IDB4NWMgXiBiO1xuICAgICAgaUtleVBhZFtpXSA9IDB4MzYgXiBiO1xuICAgIH1cblxuICAgIFNoYTI1Ni5jYWxsKHRoaXMsIGlzMjI0LCBzaGFyZWRNZW1vcnkpO1xuXG4gICAgdGhpcy51cGRhdGUoaUtleVBhZCk7XG4gICAgdGhpcy5vS2V5UGFkID0gb0tleVBhZDtcbiAgICB0aGlzLmlubmVyID0gdHJ1ZTtcbiAgICB0aGlzLnNoYXJlZE1lbW9yeSA9IHNoYXJlZE1lbW9yeTtcbiAgfVxuICBIbWFjU2hhMjU2LnByb3RvdHlwZSA9IG5ldyBTaGEyNTYoKTtcblxuICBIbWFjU2hhMjU2LnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBTaGEyNTYucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgaWYgKHRoaXMuaW5uZXIpIHtcbiAgICAgIHRoaXMuaW5uZXIgPSBmYWxzZTtcbiAgICAgIHZhciBpbm5lckhhc2ggPSB0aGlzLmFycmF5KCk7XG4gICAgICBTaGEyNTYuY2FsbCh0aGlzLCB0aGlzLmlzMjI0LCB0aGlzLnNoYXJlZE1lbW9yeSk7XG4gICAgICB0aGlzLnVwZGF0ZSh0aGlzLm9LZXlQYWQpO1xuICAgICAgdGhpcy51cGRhdGUoaW5uZXJIYXNoKTtcbiAgICAgIFNoYTI1Ni5wcm90b3R5cGUuZmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGV4cG9ydHMgPSBjcmVhdGVNZXRob2QoKTtcbiAgZXhwb3J0cy5zaGEyNTYgPSBleHBvcnRzO1xuICBleHBvcnRzLnNoYTIyNCA9IGNyZWF0ZU1ldGhvZCh0cnVlKTtcbiAgZXhwb3J0cy5zaGEyNTYuaG1hYyA9IGNyZWF0ZUhtYWNNZXRob2QoKTtcbiAgZXhwb3J0cy5zaGEyMjQuaG1hYyA9IGNyZWF0ZUhtYWNNZXRob2QodHJ1ZSk7XG5cbiAgaWYgKENPTU1PTl9KUykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiAgfSBlbHNlIHtcbiAgICByb290LnNoYTI1NiA9IGV4cG9ydHMuc2hhMjU2O1xuICAgIHJvb3Quc2hhMjI0ID0gZXhwb3J0cy5zaGEyMjQ7XG4gICAgaWYgKEFNRCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vanMtc2hhMjU2L3NyYy9zaGEyNTYuanNcbi8vIG1vZHVsZSBpZCA9IDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcHJvY2Vzcy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSA5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAgMSAyIDMgNCA1IDYgNyA4IDkgMTAgMTEiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDkxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSIsIi8qIGdsb2JhbHMgX193ZWJwYWNrX2FtZF9vcHRpb25zX18gKi9cclxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vYW1kLW9wdGlvbnMuanNcbi8vIG1vZHVsZSBpZCA9IDkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDUgNiA3IDggOSAxMCAxMSIsImltcG9ydCB7IFB1YmxpY1BsdWdpbiB9IGZyb20gXCIuL3BsdWdpbi9QdWJsaWNQbHVnaW5cIjtcclxuaW1wb3J0IHsgRExDZHBQdWJsaWMgfSBmcm9tIFwiLi9wbHVnaW4vRExDZHBQdWJsaWNcIjtcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAgIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgICAgIENublh0OiBhbnk7XHJcbiAgICAgICAgQ29ubmV4dDogYW55O1xyXG4gICAgICAgIEZwcmludGluZzogYW55O1xyXG4gICAgICAgIEZpbmdlcnByaW50OiBhbnk7XHJcbiAgICAgICAgRmluZ2VycHJpbnQyOiBhbnk7XHJcbiAgICAgICAgZzJpX2RsOiBETENkcFB1YmxpYztcclxuICAgICAgICBnMkV4dGVuZEluaXRzOiBhbnk7XHJcbiAgICAgICAgRGV2aWNlRGV0ZWN0b3I6IERldmljZURldGVjdG9yTGliO1xyXG4gICAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgRGV2aWNlRGV0ZWN0b3JMaWIge1xyXG4gICAgRGV2aWNlOiBhbnksXHJcbiAgICBVQTogYW55LFxyXG4gICAgQnJvd3NlcnM6IEFycmF5PGFueT5cclxuICAgIE9zTGlzdDogIEFycmF5PGFueT4sXHJcbiAgICBQbGF0Zm9ybXM6ICBBcnJheTxhbnk+XHJcbn1cclxuXHJcbmxldCBwbHVnaW5JbnN0YW5jZSA9IG5ldyBQdWJsaWNQbHVnaW4oKTtcclxuKDxhbnk+d2luZG93KS5HMkFuYWx5dGljcyA9IHBsdWdpbkluc3RhbmNlO1xyXG4oPGFueT53aW5kb3cpLkcySW5zaWdodHMgPSBwbHVnaW5JbnN0YW5jZTtcclxuKDxhbnk+d2luZG93KS5NRzJJbnNpZ2h0cyA9IHBsdWdpbkluc3RhbmNlO1xyXG5sZXQgTUcyREwgPSB3aW5kb3dbXCJHMkFuYWx5dGljc1wiXS5EYXRhTGF5ZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL2luZGV4LnRzIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVmYXVsdENkcFNlbGVjdG9ycyB7XHJcbiAgICBwdWJsaWMgZ2V0Q29udGVudFR5cGUoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29udGVudElkKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRpdGxlKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1dGhvcigpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQdWJsaXNoRGF0ZSgpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNb2RpZmljYXRpb25EYXRlKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRleHQoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGVhZFRleHQoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZWN0aW9uKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2F0ZWdvcnkoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRLZXl3b3JkcygpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlc2NyaXB0aW9uKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFncygpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvdW50TGlrZXMoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb3VudFNoYXJlcygpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBpY3R1cmVzKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q291bnRWaWRlbygpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJyZWFraW5nTmV3cygpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldElzUHJlbWl1bSgpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlY29tbWVuZGVkKCkge1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRSZWNvbW1lbmRhdGlvbklkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGFuZ3VhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuICB3aW5kb3cubmF2aWdhdG9yW1widXNlckxhbmd1YWdlXCJdIHx8IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldExlYWRJbWFnZVVybCgpIHtcclxuICAgICAgICBsZXQgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWV0YVtwcm9wZXJ0eT0nb2c6aW1hZ2UnXVwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGdldERhdGFGcm9tTGRKc29uKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBsZEpzb24gPSB7fTtcclxuICAgICAgICAgICAgbGV0IGxkRWxlbWVudHM6IGFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRbdHlwZT0nYXBwbGljYXRpb24vbGQranNvbiddXCIpO1xyXG4gICAgICAgICAgICBpZiAobGRFbGVtZW50cyAmJiBsZEVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGRMZW5ndGggPSBsZEVsZW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGRMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxkSnNvbiA9IE9iamVjdC5hc3NpZ24obGRKc29uLCBKU09OLnBhcnNlKGxkRWxlbWVudHNbaV0uaW5uZXJUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxkSnNvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9jb25maWcvY2xpZW50cy9jbGFzc2VzL0RlZmF1bHRDZHBTZWxlY3RvcnMudHMiLCJpbXBvcnQgeyBDZHBEYXRhTGF5ZXIgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcERhdGFMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlY29tbWVuZGF0aW9uRGVtb0NsYXNzIHtcclxuICAgIHByaXZhdGUgc2F2ZWRGTlB1YmxpY09iamVjdDtcclxuICAgIHByaXZhdGUgZGV2aWNlSWRDb29raWUgPSBcImFub25EZXZpY2VJZFwiO1xyXG4gICAgcHJpdmF0ZSBpc0FjdGl2ZVJlZ2VuZXJhdGlvbkNvb2tpZSA9IFwiaXNBY3RpdmVSZWdlbmVyYXRpb25cIjtcclxuICAgIHB1YmxpYyBEZW1vUHJvZmlsZXMgPSBbXHJcbiAgICAgICAgeyBQcm9maWxlTmFtZTogXCJOYXRpdmVcIiwgRGV2aWNlSUQ6IG51bGwgfSxcclxuICAgICAgICB7IFByb2ZpbGVOYW1lOiBcIlVzZXIgU1wiLCBEZXZpY2VJRDogXCJzcG9ydDExMS1jNGE4LTRhNDQtOGY1NC02ODUzYTZkNmQ4MTVcIiB9LFxyXG4gICAgICAgIHsgUHJvZmlsZU5hbWU6IFwiVXNlciBUXCIsIERldmljZUlEOiBcInBvbGl0aWNzLTFiNmItNDkwOC1iYTg3LWJkY2M1Mzc5YzkyOFwiIH0sXHJcbiAgICAgICAgeyBQcm9maWxlTmFtZTogXCJVc2VyIEdcIiwgRGV2aWNlSUQ6IFwiYXZlcmFnZTEtODVjMy00NTE2LWI4MDYtY2JlYjYyNDRhN2JiXCIgfSxcclxuICAgIF07XHJcblxyXG4gICAgc3RhcnQoKSB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnREZXZpY2VJZCA9IHRoaXMuZ2V0Q29va2llKHRoaXMuZGV2aWNlSWRDb29raWUpO1xyXG4gICAgICAgIGxldCBpc0FjdGl2ZVJlZ2VuZXJhdGlvbiA9ICB0aGlzLmdldEFjdGl2ZVJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgIGxldCBkZW1vQ29va2llID0gSlNPTi5wYXJzZSh0aGlzLmdldENvb2tpZShcIkRlbW9Qcm9maWxlXCIpIHx8IG51bGwpO1xyXG4gICAgICAgIGlmIChkZW1vQ29va2llKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGVtb1Byb2ZpbGVzLnB1c2goZGVtb0Nvb2tpZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNBY3RpdmVSZWdlbmVyYXRpb24gPT09IFwiZmFsc2VcIikge1xyXG4gICAgICAgICAgICB0aGlzLm1vY2tGUFB1YmxpY01ldGhvZHMoY3VycmVudERldmljZUlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJvbkZpbmlzaFwiLCAoZXZlbnREYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdHRhY2hJbkh0bWwoY3VycmVudERldmljZUlkLCBpc0FjdGl2ZVJlZ2VuZXJhdGlvbik7XHJcbiAgICAgICAgICAgIH0sIDEwMClcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFkZFByb2ZpbGUgOiAocHJvZmlsZU5hbWUsIGRldmljZUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZShcIkRlbW9Qcm9maWxlXCIsIEpTT04uc3RyaW5naWZ5KCB7IFByb2ZpbGVOYW1lOiBwcm9maWxlTmFtZSwgRGV2aWNlSUQ6IGRldmljZUlkIH0pLCAxKTtcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRBY3RpdmVSZWdlbmVyYXRpb246ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEFjdGl2ZVJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEFjdGl2ZVJlZ2VuZXJhdGlvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENvb2tpZSh0aGlzLmlzQWN0aXZlUmVnZW5lcmF0aW9uQ29va2llKSB8fCBcInRydWVcIjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBY3RpdmVSZWdlbmVyYXRpb24odmFsdWU6IGJvb2xlYW4gPSBmYWxzZSwgaG91cnM6IG51bWJlciA9IDEpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldENvb2tpZSh0aGlzLmlzQWN0aXZlUmVnZW5lcmF0aW9uQ29va2llLCB2YWx1ZSwgaG91cnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUFjdGl2ZVJlZ2VuZXJhdGlvbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmRlbGV0ZV9jb29raWUodGhpcy5pc0FjdGl2ZVJlZ2VuZXJhdGlvbkNvb2tpZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNoSW5IdG1sKGN1cnJlbnREZXZpY2VJZCwgaXNBY3RpdmVSZWdlbmVyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBzZWxlY3RJbmplY3RQbGFjZSA9IFwiLmRlYnVnX2RldGFpbHNfY29udGVudCB1bFwiO1xyXG5cclxuICAgICAgICBjb25zdCBzZWxlY3RIdG1sID0gdGhpcy5jcmVhdGVTZWxlY3QoY3VycmVudERldmljZUlkKTtcclxuICAgICAgICBjb25zdCBpbnNlcnRUZW1wbGF0ZSA9IGA8bGkgY2xhc3M9XCJkZWJ1Z19kZXRhaWxzX2hlYWRlciBoaWRlX29uX21vYmlsZVwiPlxyXG4gICAgICAgICAgICA8aDQ+RzJJbnNpZ2h0IERlbW88L2g0PlxyXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiUmVnZW5lcmF0aW9uQ2hrXCIgY2xhc3M9XCJvdmVybGF5X2xhYmVsIGNoZWNrXCI+UmVnZW5lcmF0ZSBkZXZpY2VpZDogPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIlJlZ2VuZXJhdGlvbkNoa1wiICR7IGlzQWN0aXZlUmVnZW5lcmF0aW9uID09PSBcInRydWVcIiA/IFwiY2hlY2tlZFwiIDogXCJcIn0gPlxyXG4gICAgICAgICAgICAke3NlbGVjdEh0bWwgfVxyXG4gICAgICAgIDwvbGk+YDtcclxuXHJcbiAgICAgICAgY29uc3QgaW5qZWN0UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdEluamVjdFBsYWNlKTtcclxuICAgICAgICBpZiAoaW5qZWN0UGxhY2UpIHtcclxuICAgICAgICAgICAgaW5qZWN0UGxhY2UuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJiZWdpblwiLCBpbnNlcnRUZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRzJpRGVtbyBpcyBub3QgZmluZCBzZWxlY3RvclwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFkZExpc3RlbmVycygpIHtcclxuICAgICAgICBsZXQgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlJlZ2VuZXJhdGlvbkNoa1wiKTtcclxuXHJcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKChldmVudC50YXJnZXQgYXMgYW55KS5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNkcERlbW9Db29raWVzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVJlZ2VuZXJhdGlvbihmYWxzZSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnMmlQcm9maWxlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSWQgPSAoKGV2ZW50LnRhcmdldCBhcyBhbnkpLnZhbHVlIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZElkID09PSBcIm51bGxcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDZHBEZW1vQ29va2llcygpO1xyXG4gICAgICAgICAgICAgICAgQ2RwRGF0YUxheWVyLmRlbGV0ZUNkcERsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgQ2RwRGF0YUxheWVyLmRlbGV0ZUNkcERsU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVfY29va2llKHRoaXMuZGV2aWNlSWRDb29raWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb29raWUodGhpcy5kZXZpY2VJZENvb2tpZSwgc2VsZWN0ZWRJZCwgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5PZmZSZWdlbmVyYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDZHBEZW1vQ29va2llcygpIHtcclxuICAgICAgICB0aGlzLmRlbGV0ZUFjdGl2ZVJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgIHRoaXMuZGVsZXRlX2Nvb2tpZSh0aGlzLmRldmljZUlkQ29va2llKTtcclxuICAgIH1cclxuXHJcbiAgICB0dXJuT2ZmUmVnZW5lcmF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlUmVnZW5lcmF0aW9uKGZhbHNlLCAxKTtcclxuICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJSZWdlbmVyYXRpb25DaGtcIikgYXMgYW55KS5jaGVja2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGV2aWNlSWRPbkhvdXIoZGV2aWNlSWQpIHtcclxuICAgICAgICB0aGlzLnNldENvb2tpZSh0aGlzLmRldmljZUlkQ29va2llLCBkZXZpY2VJZCwgMSk7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVSZWdlbmVyYXRpb24oZmFsc2UsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENvb2tpZShjbmFtZSwgY3ZhbHVlLCBleEhvdXJzKSB7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArIChleEhvdXJzICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICBsZXQgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjbmFtZSArIFwiPVwiICsgY3ZhbHVlICsgXCI7XCIgKyBleHBpcmVzICsgXCI7cGF0aD0vXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29va2llKGNuYW1lKSB7XHJcbiAgICAgICAgbGV0IG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG4gICAgICAgIGxldCBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgbGV0IGMgPSBjYVtpXTtcclxuICAgICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PT0gXCIgXCIpIHtcclxuICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlX2Nvb2tpZSggbmFtZSApIHtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9O3BhdGg9LztleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPTtwYXRoPS87ZG9tYWluPVwiICsgbG9jYXRpb24uaG9zdCArIFwiO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVRcIjtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9O3BhdGg9Lztkb21haW49LlwiICsgbG9jYXRpb24uaG9zdCArIFwiO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVRcIjtcclxuICAgICAgICBsZXQgYXJyID0gbG9jYXRpb24uaG9zdC5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgbGV0IHJvb3Rkb21haW4gPSBhcnJbYXJyLmxlbmd0aCAtIDJdICsgXCIuXCIgKyBhcnJbYXJyLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj07cGF0aD0vO2RvbWFpbj1cIiArIHJvb3Rkb21haW4gKyBcIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPTtwYXRoPS87ZG9tYWluPS5cIiArIHJvb3Rkb21haW4gKyBcIjtleHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UXCI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG1vY2tGUFB1YmxpY01ldGhvZHMoZGV2aWNlSWQpIHtcclxuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5GaW5nZXJwcmludCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZWRGTlB1YmxpY09iamVjdCA9IHdpbmRvdy5GaW5nZXJwcmludDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LkZpbmdlcnByaW50LmdldERldmljZUlEID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5GaW5nZXJwcmludC5nZXREZXZpY2VJRCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRldmljZUlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBsdWdpbiB1c2Ugb2xkIHZlcnNpb24gRlBcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LkZpbmdlcnByaW50LmdldERldmljZUlkID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5GaW5nZXJwcmludC5nZXREZXZpY2VJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGV2aWNlSWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQbHVnaW4gdXNlIG9sZCB2ZXJzaW9uIEZQXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5GaW5nZXJwcmludC5vbkNoYW5nZWREZXZpY2VJZCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93LkZpbmdlcnByaW50Lm9uQ2hhbmdlZERldmljZUlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGx1Z2luIHVzZSBvbGQgdmVyc2lvbiBGUFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVTZWxlY3Qoc2VsZWN0ZWREZXZpY2VJZCkge1xyXG4gICAgICAgIGxldCBvcHRpb25zSHRtbCA9IGA8c2VsZWN0IGlkPVwiZzJpUHJvZmlsZVwiPmBcclxuICAgICAgICB0aGlzLkRlbW9Qcm9maWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9maWxlRGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWREZXZpY2VJZCA9PT0gcHJvZmlsZURhdGEuRGV2aWNlSUQpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNIdG1sICs9IGA8b3B0aW9uIG5hbWU9XCIke3Byb2ZpbGVEYXRhLlByb2ZpbGVOYW1lfVwiIHZhbHVlPVwiJHtwcm9maWxlRGF0YS5EZXZpY2VJRH1cIiBzZWxlY3RlZD4ke3Byb2ZpbGVEYXRhLlByb2ZpbGVOYW1lfTwvb3B0aW9uPmBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnNIdG1sICs9IGA8b3B0aW9uIG5hbWU9XCIke3Byb2ZpbGVEYXRhLlByb2ZpbGVOYW1lfVwiIHZhbHVlPVwiJHtwcm9maWxlRGF0YS5EZXZpY2VJRH1cIj4ke3Byb2ZpbGVEYXRhLlByb2ZpbGVOYW1lfTwvb3B0aW9uPmA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBvcHRpb25zSHRtbCArIFwiPC9zZWxlY3Q+XCJcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG5leHBvcnQgY29uc3QgUmVjb21tZW5kYXRpb25EZW1vID0gbmV3IFJlY29tbWVuZGF0aW9uRGVtb0NsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vY29uZmlnL2NsaWVudHMvY2xhc3Nlcy9kZW1vL1JlY29tbWVuZGF0aW9uRGVtby50cyIsImltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IEFwaURsUmVzcG9uc2UgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL2ludGVyZmFjZXMvQXBpRGxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgUGFnZU1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9wYWdlTW9kdWxlL1BhZ2VNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBETENkcFB1YmxpYyB7XHJcblxyXG4gICAgcHVibGljIGdldFVzZXJEYXRhKCk6IFByb21pc2U8QXBpRGxSZXNwb25zZT4ge1xyXG4gICAgICAgIHJldHVybiBDZHBNb2R1bGUuZ2V0RGxJbmZvcm1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBcnRpY2xlU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gUGFnZU1vZHVsZS5nZXRBcnRpY2xlU3RhdHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UmVjb21tZW5kYXRpb25zU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gQ2RwTW9kdWxlLmdldFJlY29tbWVuZGF0aW9uc1N0YXRzKClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0UmVjb21tZW5kYXRpb25zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRSZWNvbW1lbmRhdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW50ZXJlc3RzU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gQ2RwTW9kdWxlLmdldFVzZXJJbnRlcmVzdHNTdGF0cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFclN0YXRzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRFckludGVycHJldGF0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFwaVZlcnNpb24oKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gQ2RwTW9kdWxlLmdldEFwaVZlcnNpb24oKS50aGVuKHZlcnNpb25EYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaGUgdmVyc2lvbiBvZiB0aGUgcGxhdGZvcm0gLVwiICsgdmVyc2lvbkRhdGEudmVyc2lvbik7XHJcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIHZlcnNpb24gaXMgbm90IGdldC4gRXJyb3IgLVwiICsgZXJyb3IpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL0RMQ2RwUHVibGljLnRzIiwiaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ2RwQ29sbGVjdG9yTW9kdWxlIH0gZnJvbSBcIi4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBDb2xsZWN0b3JNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IEd0bVRhZ01vZHVsZSB9IGZyb20gXCIuL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vZGF0YS9zZXJ2aWNlcy9UYWdNYW5hZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBJVGFnTWFuYWdlclNlcnZpY2UsIE1ldGFEYXRhU2VydmljZSwgRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vZGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5pbXBvcnQgeyBBenVyZVNlcnZpY2UgfSBmcm9tIFwiLi9kYXRhL3NlcnZpY2VzL0F6dXJlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL2RhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29va2llc1N0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVzU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi9jb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBQYWdlTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgRExDZHBQdWJsaWMgfSBmcm9tIFwiLi9ETENkcFB1YmxpY1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RldmljZU1vZHVsZS9EZXZpY2VNb2R1bGVcIjtcclxuaW1wb3J0IHsgTWlzY01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9taXNjTW9kdWxlL01pc2NNb2R1bGVcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBsdWdpbkNsYXNzIHtcclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBhenVyZVNlcnZpY2U6IEF6dXJlU2VydmljZTtcclxuICAgIHByaXZhdGUgdGFnTWFuYWdlclNlcnZpY2U6IElUYWdNYW5hZ2VyU2VydmljZTtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiUGx1Z2luXCIpO1xyXG4gICAgcHJpdmF0ZSBkZXZpY2VJZDogc3RyaW5nO1xyXG5cclxuICAgIGdldCBEYXRhTGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFnTWFuYWdlclNlcnZpY2UuZ2V0RGF0YUxheWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCIqKioqIEcySW5zaWdodHMgSW5pdGlhbGl6aW5nICoqKipcIik7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYXp1cmVTZXJ2aWNlID0gQXp1cmVTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2UgPSBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBpbml0KG9wdHM6IE9wdGlvbnNJbnRlcmZhY2UpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBEZXZpY2VNb2R1bGUuaW5pdERldmljZUlkKClcclxuICAgICAgICAgICAgLnRoZW4oKGRldmljZUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ01hbmFnZXJTZXJ2aWNlLnNldERMVihcImZpbmdlclByaW50SWRcIiwgZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLkluc3RhbmNlLnNlbmRUYWdDb2xsZWN0ZWRFdmVudHMoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIW9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiTm8gT3B0aW9ucyBQYXNzZWQgSW5cIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuUGx1Z2luc0V2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgQ29uZmlnTW9kdWxlLnNldEluaXRPcHRpb25zKG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGluaXRNb2RlbCA9IENvbmZpZ01vZHVsZS5nZXRJbml0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJJbml0aWFsaXppbmcgRzJBbmFseXRpY3Mgd2l0aCBvcHRpb25zLi4uXCIsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgV29ya2Zsb3dNb2R1bGUuc2V0TW9kZXMoaW5pdE1vZGVsLmZsb3dNb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuSW5zdGFuY2UucmVzZW5kRmFpbGVkRXZlbnRzKCk7IC8vIG11c3QgYmUgYWZ0ZXIgaW5pdCBjb25maWdcclxuICAgICAgICAgICAgICAgIGlmIChpbml0TW9kZWwuZGVidWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIHBhc3NlZCBpbiBkZWJ1ZyBzZXR0aW5nIGFuZCBpdCBpcyB0cnVlLCBzbyBzZXQgY29va2llLlxyXG5cclxuICAgICAgICAgICAgICAgICAgICBDb29raWVzU3RvcmFnZS5zZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nRW5hYmxlZCwgaW5pdE1vZGVsLmRlYnVnLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbml0TW9kZWwuY29udGFpbmVySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIk5vIENvbnRhaW5lciBJZCBTZXRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghaW5pdE1vZGVsLmNvbGxlY3RvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIk5vIENvbGxlY3RvcnMgU2V0XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdE1vZGVsLnNlc3Npb25JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSGFzIFNlc3Npb25JZCBQYWdlU2Vzc2lvbklkIFhYWC4uLi5cIiwgaW5pdE1vZGVsLnNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkID0gaW5pdE1vZGVsLnNlc3Npb25JZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgcGFzc2VkIGluIGFuYWx5c2lzIG9wdGlvbnMsIHNldCB0aGVzZSBvcHRpb25zIHRvIHRoZSBzZXJ2aWNlLlxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uU2VydmljZS5zZXR1cChpbml0TW9kZWwuZGltZW5zaW9ucyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRNb2RlbC5hbmFseXNpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXp1cmVTZXJ2aWNlLnNldHVwKGluaXRNb2RlbC5hbmFseXNpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5qb2huQXp1cmVTZXJ2aWNlLnNldHVwKG9wdHMuYW5hbHlzaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRNb2RlbC5jb2xsZWN0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2RwQ29sbGVjdG9yTW9kdWxlLnNldHVwKGluaXRNb2RlbC5jb2xsZWN0b3JzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdE1vZGVsLmNkcCAmJiBpbml0TW9kZWwuY2RwLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmcyaV9kbCA9IG5ldyBETENkcFB1YmxpYygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDZHBNb2R1bGUuc2V0RGxJbmZvcm1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdlTW9kdWxlLnNlbmRDb250ZW50VG9DZHAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgR3RtVGFnTW9kdWxlLnNldHVwKGluaXRNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRNb2RlbC5taXNjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTWlzY01vZHVsZS5wcm9jZXNzKGluaXRNb2RlbC5taXNjKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGNhbGwgdGhpcyBmaXJzdCBzbyB3ZSBjYW4gbG9hZCBHQSBhbmQgR1RNXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ01hbmFnZXJTZXJ2aWNlLnNldHVwKGluaXRNb2RlbC5jb250YWluZXJJZCk7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICB0aGlzLmF6dXJlU2VydmljZS5zZW5kRGF0YShcImcyaU9uSW5pdFwiKTtcclxuICAgICAgICAgICAgICAgIC8vIC8vIH0sIDMwMDApO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5qb2huQXp1cmVTZXJ2aWNlLnNlbmREYXRhKFwiZzJpT25Jbml0XCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogR2V0L1NldCBGcElkIC0tIG1heWJlIHNldCBmcElkIGluIHVzZXJTZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaXJlIGcyT25Jbml0IHRvIEF6dXJlU2VydmljZSAtLSBzZXJ2aWNlIHdpbGwgdGFrZSBjYXJlIG9mIHNlbmRpbmcgZGF0YSBvciBub3QsIHNvIG5vIG5lZWQgdG8gY2hlY2sgaWYgdGhpcyBpcyBlbmFibGVkIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vIC8vIHZhciBlbnRpdHkgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJQYXJ0aXRpb25LZXlcIjogXCJvbkluaXRcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIlJvd0tleVwiOiBcIjU3NGE0MDFlMzI5YjgwMWZiMjA0NWNiN2FlMGMxNjQzXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJBaUF2YWlsXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJHYUF2YWlsXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJHdG1BdmFpbFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiQ3h0QXZhaWxcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIlNlc3Npb25JZFwiOiBcIjc4ZDU1ZGU0YTBmNTk3YjMzMGQ0ZjJkODhkNzBhOGMxXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJUaW1lc3BhblwiOiAxNTQxODI3MDcwOTk3LFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiRG9tYWluXCI6IFwid3d3LnN0YXRlc21hbi5jb21cIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIkJyb3dzZXJcIjogXCJDaHJvbWVcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIk9TXCI6IFwid2luZG93c1wiLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiUGFnZVwiOiBcIi9lbnRlcnRhaW5tZW50bGlmZS8yMDE4MTEwOS9hdXN0aW5zLWZpcnN0LWhpc3BhbmljLWRldGVjdGl2ZS1zYXctaXQtYWxsXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJGUElkXCI6IFwiNTM2ZWNiMTBlOTkwYzQ1M2U5ZmYzMzMwNTY3NzBlMjJcIlxyXG4gICAgICAgICAgICAgICAgLy8gLy8gfVxyXG4gICAgICAgICAgICAgICAgLy8gLy8gdGhpcy5henVyZVNlcnZpY2Uuc2VuZERhdGEoZW50aXR5KTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29sbGVjdG9yU2VydmljZS5zZXR1cChvcHRzLmNvbGxlY3RvcnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gaWYob3B0cy5kaW1lbnNpb25zKXtcclxuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UucHJvY2VzcyhvcHRzLmRpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5tZXRhVGFnU2VydmljZS5wcm9jZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaXJlIGcyT25GaW5pc2ggdG8gQXp1cmVTZXJ2aWNlIC0tIHNlcnZpY2Ugd2lsbCB0YWtlIGNhcmUgb2Ygc2VuZGluZyBkYXRhIG9yIG5vdCwgc28gbm8gbmVlZCB0byBjaGVjayBpZiB0aGlzIGlzIGVuYWJsZWQgaGVyZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkRvbmUgU2V0dGluZyBVcCBDb2xsZWN0b3JzXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldExvZ2dlckVuYWJsZWQodmFsOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgTG9nZ2VyU2VydmljZS5zZXRFbmFibGVkKHZhbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIEdldEN1cnJlbnRDRFBEYXRhKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmNkcFNlcnZpY2UuQ0RQRGF0YTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBnZXQgQ0RQRGF0YSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5jZHBTZXJ2aWNlLkNEUERhdGE7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gZ2V0IFF1ZXVlZENEUERhdGEoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuY2RwU2VydmljZS5RdWV1ZWRDRFBEYXRhO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGdldCBCcm93c2VyU2Vzc2lvbklkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldERldmljZVNlc3Npb25JZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRMb2dMZXZlbChzdHJMb2dMZXZlbDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgTG9nZ2VyU2VydmljZS5zZXRMZXZlbChzdHJMb2dMZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsaXN0ZW5QbHVnaW5zRXZlbnRzKCkge1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBcIkxvYWRlcjpSZWNhbGN1bGF0ZTpTZXNzaW9uSWRcIiwgKGV2ZW50RGF0YTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkID0gZXZlbnREYXRhLmRldGFpbDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcbmV4cG9ydCBjb25zdCBQbHVnaW4gPSBuZXcgUGx1Z2luQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL1BsdWdpbi50cyIsImltcG9ydCB7IFBsdWdpbiB9IGZyb20gXCIuL1BsdWdpblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFB1YmxpY1BsdWdpbiB7XHJcblxyXG4gICAgaW5pdChpbml0T3B0aW9ucykge1xyXG4gICAgICAgIFBsdWdpbi5pbml0KGluaXRPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgRGF0YUxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiBQbHVnaW4uRGF0YUxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRMb2dnZXJFbmFibGVkKHZhbDogYW55KSB7XHJcbiAgICAgICAgUGx1Z2luLlNldExvZ2dlckVuYWJsZWQodmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TG9nTGV2ZWwoc3RyTG9nTGV2ZWw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIFBsdWdpbi5TZXRMb2dMZXZlbChzdHJMb2dMZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcclxuICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgYXJlIGluc2VydGVkIGJ5IENJIFRva2VuaXplclxyXG4gICAgICAgIHJldHVybiBcIlZlcnNpb246IFwiICsgKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0VmVyc2lvbkluZm8oKTogc3RyaW5nIHtcclxuICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgYXJlIGluc2VydGVkIGJ5IENJIFRva2VuaXplclxyXG4gICAgICAgIHJldHVybiBcIlZlcnNpb246IFwiICsgKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKSArIFwiLCBCdWlsZDogXCIgKyAoXCIje19fQnVpbGQuQnVpbGROdW1iZXJfX30jXCIgfHwgXCJsb2NhbFwiKTtcclxuICAgIH07XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL1B1YmxpY1BsdWdpbi50cyIsImltcG9ydCB7IENvbGxlY3RvckZhY3RvcnkgfSBmcm9tIFwiLi9Db2xsZWN0b3JGYWN0b3J5XCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBDb21tb25FdmVudHNDb2xsZWN0b3IgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29tbW9uRXZlbnRzL0NvbW1vbkV2ZW50c0NvbGxlY3RvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDZHBNb2R1bGVDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDZHBNb2R1bGVcIik7XHJcbiAgICBwdWJsaWMgQ29sbGVjdE1ldGFUYWdzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgZmlyZWRFdmVudHMgPSBbXTtcclxuICAgIHB1YmxpYyBzZW5kRXZlbnRzRGVsYXkgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBzZXR1cChjb2xsZWN0b3JzOiBBcnJheTxzdHJpbmc+KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGlzRXhjbHVkZUNvbW1vblBhZ2VWaWV3OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGNvbGxlY3RvcnMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0b3JUeXBlID0gbmV3IENvbGxlY3RvckZhY3RvcnkoaXRlbSkuY3JlYXRlQ29sbGVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiQCBmb3JFYWNoLkNvbGxlY3RvciA9IGNvbGxlY3RvclR5cGVcIiwgY29sbGVjdG9yVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxlY3RvclR5cGUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3RvclR5cGUucmVnaXN0ZXJFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0b3JUeXBlLmlzSGF2ZVBhZ2VWaWV3RXZlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRXhjbHVkZUNvbW1vblBhZ2VWaWV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY29tbW9uRXZlbnRzID0gbmV3IENvbW1vbkV2ZW50c0NvbGxlY3Rvcihpc0V4Y2x1ZGVDb21tb25QYWdlVmlldyk7XHJcbiAgICAgICAgICAgIGNvbW1vbkV2ZW50cy5yZWdpc3RlckV2ZW50cygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ2RwQ29sbGVjdG9yTW9kdWxlID0gbmV3IENkcE1vZHVsZUNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcENvbGxlY3Rvck1vZHVsZS50cyIsImltcG9ydCB7IENvbGxlY3RvclR5cGVzIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9Db2xsZWN0b3JUeXBlc1wiO1xyXG5pbXBvcnQgeyBDb2xsZWN0b3IgfSBmcm9tIFwiLi9Db2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgQ29ubmV4dENvbGxlY3RvciB9IGZyb20gXCIuL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dENvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBTcENvbGxlY3RvciB9IGZyb20gXCIuL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwQ29sbGVjdG9yXCI7XHJcblxyXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIkBDb3JlL2Jhc2UvZmFjdG9yeS9GYWN0b3J5XCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGVjdG9yRmFjdG9yeSBleHRlbmRzIEZhY3Rvcnkge1xyXG5cclxuICAgIHByaXZhdGUgY29sbGVjdG9yVHlwZTogQ29sbGVjdG9yO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0b3I7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDb2xsZWN0b3JGYWN0b3J5XCIpO1xyXG4gICAgcHVibGljIGNvbGxlY3RNZXRhVGFnczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbGxlY3RvcjogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RvciA9IGNvbGxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29sbGVjdG9yKCk6IENvbGxlY3RvciB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNvbGxlY3RvciA9IHRoaXMuY29sbGVjdG9yO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNyZWF0aW5nIENvbGxlY3RvcjogXCIsIGNvbGxlY3Rvcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29sbGVjdG9yLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuQ29ubmV4dC50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdE1ldGFUYWdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RvclR5cGUgPSBuZXcgQ29ubmV4dENvbGxlY3RvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb2xsZWN0b3JUeXBlcy5TUC50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdE1ldGFUYWdzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0b3JUeXBlID0gbmV3IFNwQ29sbGVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbGxlY3RvclR5cGVzLkZsaXR0ei50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdE1ldGFUYWdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJOb3QgYSB2YWxpZCBjb2xsZWN0b3JcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RvclR5cGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ29sbGVjdG9yRmFjdG9yeS50cyIsImltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9FdmVudFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTWV0YURhdGFTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL01ldGFEYXRhU2VydmljZVwiO1xyXG5pbXBvcnQgeyBDb2xsZWN0b3IgfSBmcm9tIFwiLi8uLi8uLi9Db2xsZWN0b3JcIjtcclxuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gXCIuL2V2ZW50c1wiO1xyXG5pbXBvcnQgeyBXb3JrZmxvd01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvV29ya2Zsb3dNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0Q29sbGVjdG9yIGV4dGVuZHMgQ29sbGVjdG9yIHtcclxuICAgIHByaXZhdGUgbWV0YURhdGFTZXJ2aWNlOiBNZXRhRGF0YVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGV2ZW50U2VydmljZTogRXZlbnRTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5tZXRhRGF0YVNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5ldmVudFNlcnZpY2UgPSBFdmVudFNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5zZW5kTWV0YURhdGEoKTtcclxuICAgICAgICB0aGlzLm1ldGFEYXRhU2VydmljZS5wcm9jZXNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZW5kTWV0YURhdGEoKSB7XHJcbiAgICAgICAgLy8gTk9URTogbm90IHNlbmRpbmcgdGhpcyBldmVudCBiZWNhdXNlIEkgYW0gbm93IGluY2x1ZGluZyB0aGlzIGluIGFsbCBHQSBjYWxscy5cclxuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS5zZW5kRXZlbnQoXCJtZXRhVGFnc0NvbGxlY3RlZFwiLCB0aGlzLm1ldGFEYXRhU2VydmljZS5hbmFseXRpY3NEaW1lbnNpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckV2ZW50cygpIHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZEV2ZW50cyA9IFdvcmtmbG93TW9kdWxlLmxpbWl0RW5nYWdlRXZlbnRzKGV2ZW50cyk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBmaWx0ZXJlZEV2ZW50cztcclxuICAgICAgICBzdXBlci5yZWdpc3RlckV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzSGF2ZVBhZ2VWaWV3RXZlbnQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9Db25uZXh0Q29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgQ29ubmV4dEV2ZW50IH0gZnJvbSBcIi4vLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IEFjdGlvblR5cGVEaWN0IH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L0FjdGlvbk1vZGVsc1wiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9Db25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25TaG93biBleHRlbmRzIENvbm5leHRFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25BY3Rpb25TaG93blwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgbGV0IGFjdGlvblNob3dFdmVudERhdGE6IENvbm5leHRBY3Rpb25Nb2RlbEludGVyZmFjZSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFjdGlvblNob3duXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IGFjdGlvblNob3dFdmVudERhdGEuTmFtZTtcclxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIFR5cGU6IGFjdGlvblNob3dFdmVudERhdGEuQWN0aW9uVHlwZSB8fCBBY3Rpb25UeXBlRGljdFt0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YS5BY3Rpb25UeXBlSWRdLFxyXG4gICAgICAgICAgICBVc2VyRVI6IENkcE1vZHVsZS5nZXRFckNvZGUoKSxcclxuICAgICAgICAgICAgVXNlckVSUDogQ2RwTW9kdWxlLmdldEVycENvZGUoKSxcclxuICAgICAgICAgICAgVXNlckNSOiBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCksXHJcbiAgICAgICAgICAgIFVzZXJDUlA6IENkcE1vZHVsZS5nZXRDcnBDb2RlKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQWN0aW9uU2hvd24udHMiLCJpbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3RpdmF0ZVN1Y2Nlc3MgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aXZhdGlvbkxpbmtTdWNjZXNzU3RlcFNob3duXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBY3RpdmF0ZVN1Y2Nlc3NcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJBY3RpdmF0ZVN1Y2Nlc3NcIjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YSh7fSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQWN0aXZhdGVTdWNjZXNzLnRzIiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IENsaWNrRXZlbnROYW1lIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHNcIjtcclxuaW1wb3J0IHsgQ2xpY2tVdGlscyB9IGZyb20gXCJAVXRpbHMvQ2xpY2tVdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENsaWNrIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIGNsaWNrZWRFbGVtZW50OiBFdmVudFRhcmdldDtcclxuICAgIHNvY2lhbFR5cGUgPSBudWxsO1xyXG4gICAgYWN0aW9uVHlwZTtcclxuXHJcbiAgICBsaXN0ZW4oKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gXCJjbGlja1wiO1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIGV2ZW50TmFtZSwgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkNsaWNrIEV2ZW50XCIsIGV2ZW50LCBcImUudGFyZ2V0XCIsIGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tlZEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50O1xyXG4gICAgICAgICAgICB0aGlzLnNvY2lhbFR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgdGVzdGVyIHBhZ2UsIHNpbmNlIHdlIGRvbid0IHdhbnQgY2VydGFpbiBidXR0b24gY2xpY2tzIHRyaWdnZXJpbmcgQ0RQIGNhbGxzLlxyXG5cclxuICAgICAgICAgICAgaWYgKFV0aWxzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKHRoaXMuY2xpY2tlZEVsZW1lbnQsIFwiZGF0YS1tZzItdGVzdGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImlzIHRlc3RlciwgaWdub3JpbmdcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IENsaWNrVXRpbHMuZ2V0RXZlbnROYW1lKHRoaXMuY2xpY2tlZEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2lhbFR5cGUgPSB0aGlzLmFjdGlvblR5cGUgPT09IENsaWNrRXZlbnROYW1lLlNvY2lhbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiKioqKioqKiogQ2xpY2sgRXZlbnQgXCIsIFwiYWN0aW9uVHlwZT0+XCIsIHRoaXMuYWN0aW9uVHlwZSwgXCIgZWw9PiBcIiwgdGhpcy5jbGlja2VkRWxlbWVudCk7XHJcbiAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ2xpY2tcIjtcclxuICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMuY3JlYXRlRG9tVGFyZ2V0UGF5bG9hZCh0aGlzLmNsaWNrZWRFbGVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy5zb2NpYWxUeXBlKSB7XHJcbiAgICAgICAgICAgIHBheWxvYWRbXCJUYXJnZXRTb2NpYWxOZXR3b3JrXCJdID0gQ2xpY2tVdGlscy5jaGVja0ZvclNvY2lhbExpbmtzKHRoaXMuY2xpY2tlZEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY3Rpb25EYXRhID0gQ29ubmV4dE1vZHVsZS5nZXRBY3Rpb25EYXRhRnJvbUVsZW1lbnQodGhpcy5jbGlja2VkRWxlbWVudCk7XHJcblxyXG4gICAgICAgIGlmIChhY3Rpb25EYXRhKSB7XHJcbiAgICAgICAgICAgIHBheWxvYWRbXCJBY3Rpb25JZFwiXSA9IGFjdGlvbkRhdGFbXCJBY3Rpb25JZFwiXTtcclxuICAgICAgICAgICAgcGF5bG9hZFtcIkFjdGlvbk5hbWVcIl0gPSBhY3Rpb25EYXRhW1wiQWN0aW9uTmFtZVwiXTtcclxuICAgICAgICAgICAgcGF5bG9hZFtcIklzQWN0aW9uQ2xpY2tcIl0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHBheWxvYWQpO1xyXG4gICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJwYXlsb2FkXCIsIHBheWxvYWQpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBVdGlscy50b1RpdGxlQ2FzZSh0aGlzLmFjdGlvblR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRG9tVGFyZ2V0UGF5bG9hZCh0YXJnZXQ6IGFueSk6IGFueSB7XHJcbiAgICAgICAgLy8gbGV0IHBheWxvYWQ6IGFueSA9IHt9O1xyXG4gICAgICAgIGxldCB0YWdOYW1lID0gdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJDbGljayBFdmVudFwiLCBcIlRhZ05hbWVcIiwgdGFnTmFtZSk7XHJcblxyXG4gICAgICAgIGxldCB0YXJnZXRBdHRyaWJ1dGU7XHJcbiAgICAgICAgbGV0IHRhcmdldFZhbHVlO1xyXG4gICAgICAgIGlmICh0YXJnZXQuaWQgJiYgdGFyZ2V0LmlkICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSGFzIElkXCIsIHRhcmdldC5pZCk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiSWRcIjtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQuaWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQubmFtZSAmJiB0YXJnZXQubmFtZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkhhcyBOYW1lXCIsIHRhcmdldC5uYW1lKTtcclxuICAgICAgICAgICAgdGFyZ2V0QXR0cmlidXRlID0gXCJOYW1lXCI7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0Lm5hbWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NOYW1lICYmIHRhcmdldC5jbGFzc05hbWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJIYXMgQ2xhc3NcIiwgdGFyZ2V0LmNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiQ2xhc3NcIjtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQuY2xhc3NOYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRmFsbGJhY2sgTGFiZWxcIiwgdGFyZ2V0LmlubmVyVGV4dCk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiTGFiZWxcIjtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQudGV4dENvbnRlbnQgfHwgdGFyZ2V0LmlubmVyVGV4dDtcclxuICAgICAgICAgICAgc3dpdGNoICh0YWdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW1nXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXVkaW9cIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwic3JjXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFnTmFtZSA9PT0gXCJodG1sXCIpIHtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSBcImh0bWxcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBcIlRhcmdldFR5cGVcIjogdGFnTmFtZSxcclxuICAgICAgICAgICAgXCJUYXJnZXRBdHRyaWJ1dGVcIjogdGFyZ2V0QXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcIlRhcmdldFZhbHVlXCI6IHRhcmdldFZhbHVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcclxuICAgIH1cclxuXHJcbiAgICB1c2VJbkNhbGN1bGF0ZUZpcnN0VmlzaXRNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDbGljaztcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9DbGljay50cyIsImltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IENvbm5leHRQYWdlVmlld0RhdGFNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsXCI7XHJcbmltcG9ydCB7IEV2ZW50TmFtZXMgfSBmcm9tIFwiQENvbGxlY3RvcnMvY29uc3RhbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5pbXBvcnQgeyBNaXNjTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL21pc2NNb2R1bGUvTWlzY01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRQYWdlVmlldyBleHRlbmRzIENvbm5leHRFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25GaW5pc2hcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBFdmVudE5hbWVzLlBhZ2VWaWV3O1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBFdmVudE5hbWVzLlBhZ2VWaWV3O1xyXG4gICAgICAgIENvbmZpZ01vZHVsZS5zZXRMYXlvdXRDb2RlKHRoaXMuZXZlbnRNb2RlbC5TaXRlQ29kZSk7XHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IG5ldyBDb25uZXh0UGFnZVZpZXdEYXRhTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgZXZlbnREYXRhID0gdGhpcy5hZGRNaXNjSW5mbyhldmVudERhdGEpO1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcImVtYWlsaGFzaFwiLCAgZXZlbnREYXRhLkVuY3J5cHRlZEVtYWlsKTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkTWlzY0luZm8oZXZlbnREYXRhOiBDb25uZXh0UGFnZVZpZXdEYXRhTW9kZWwpOiBDb25uZXh0UGFnZVZpZXdEYXRhTW9kZWwge1xyXG4gICAgICAgIGV2ZW50RGF0YS5NaXNjID0gTWlzY01vZHVsZS5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VJbkNhbGN1bGF0ZUZpcnN0VmlzaXRNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRQYWdldmlldztcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9Db25uZXh0UGFnZVZpZXcudHMiLCJpbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlYXRlQWNjb3VudCBleHRlbmRzIENvbm5leHRFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZXMgPSBbXCJvbkFjdGl2YXRpb25BY2NvdW50Q3JlYXRlZFwiLCBcIm9uUmVnaXN0cmF0aW9uU3VjY2Vzc1JlZ2lzdGVyXCJdO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ3JlYXRlQWNjb3VudFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkNyZWF0ZUFjY291bnRcIjtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHt9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50Q3JlYXRlQWNjb3VudEV2ZW50cztcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9DcmVhdGVBY2NvdW50LnRzIiwiXHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3RybEMgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImNvcHlcIjtcclxuXHJcbiAgICBsaXN0ZW4oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIHRoaXMub3JpZ2luYWxFdmVudE5hbWUpO1xyXG4gICAgICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCB0aGlzLm9yaWdpbmFsRXZlbnROYW1lLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiRmlyaW5nXCIsIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGU7XHJcbiAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLmV2ZW50RmlyZSh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJDdHJsQ1wiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkN0cmxDXCI7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe30pO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL0N0cmxDLnRzIiwiaW1wb3J0IHsgQ29ubmV4dEV2ZW50IH0gZnJvbSBcIi4vLi4vQ29ubmV4dEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW4gZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTG9naW5TdWNjZXNzXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJMb2dpblwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkxvZ2luXCI7XHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHt9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL0xvZ2luLnRzIiwiaW1wb3J0IHsgRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0luZGV4XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmV3c2xldHRlckFycml2YWwgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTmV3c2xldHRlckFycml2YWxcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIk5ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiTmV3c2xldHRlckFycml2YWxcIjtcclxuXHJcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICBFbWFpbDogdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGEuRW1haWwsXHJcbiAgICAgICAgICAgIEVuY3J5cHRlZEVtYWlsOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YS5FbmNyeXB0ZWRFbWFpbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwiZW1haWxoYXNoXCIsICBldmVudERhdGEuRW5jcnlwdGVkRW1haWwpO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICAgICAgdGhpcy5maWxsRXZlbnREYXRhQnlQcmVmZXJlbmNlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlsbEV2ZW50RGF0YUJ5UHJlZmVyZW5jZXMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGE7XHJcbiAgICAgICAgaWYgKGV2ZW50RGF0YSAmJiBBcnJheS5pc0FycmF5KGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzKSkge1xyXG5cclxuICAgICAgICAgICAgZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZXMuZm9yRWFjaCgoZW1haWxQcmVmZXJlbmNlOiBFbWFpbFByZWZlcmVuY2VJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goe1wiS2V5XCI6IFwiRW1haWxQcmVmZXJlbmNlc1wiLCBcIlZhbHVlXCI6IFV0aWxzLm9iamVjdFRvQmlnUXVlcnlTdHJpbmcoZW1haWxQcmVmZXJlbmNlKX0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9OZXdzbGV0dGVyQXJyaXZhbC50cyIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBFbWFpbFByZWZlcmVuY2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9FbWFpbFByZWZlcmVuY2VJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTmV3c2xldHRlclNpZ251cEV2ZW50RGF0YUludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL05ld3NsZXR0ZXJTaWdudXBFdmVudERhdGFJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEV2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5ld3NsZXR0ZXJTaWdudXAgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTmV3c2xldHRlclNpZ25VcFwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiTmV3c2xldHRlclNpZ251cFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIk5ld3NsZXR0ZXJTaWdudXBcIjtcclxuICAgICAgICB0aGlzLmZpbGxFdmVudERhdGFCeVByZWZlcmVuY2VzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgZmlsbEV2ZW50RGF0YUJ5UHJlZmVyZW5jZXMoKTogYW55IHtcclxuICAgICAgICBsZXQgZXZlbnREYXRhOiBOZXdzbGV0dGVyU2lnbnVwRXZlbnREYXRhSW50ZXJmYWNlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7XCJLZXlcIjogXCJFbWFpbFwiLCBcIlZhbHVlXCI6IGV2ZW50RGF0YS5FbWFpbH0pO1xyXG4gICAgICAgIGlmIChldmVudERhdGEuRW1haWxQcmVmZXJlbmNlcykge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudERhdGEuRW1haWxQcmVmZXJlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzLmZvckVhY2goKGVtYWlsUHJlZmVyZW5jZTogRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHtcIktleVwiOiBcIkVtYWlsUHJlZmVyZW5jZXNcIiwgXCJWYWx1ZVwiOiBVdGlscy5vYmplY3RUb0JpZ1F1ZXJ5U3RyaW5nKGVtYWlsUHJlZmVyZW5jZSl9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsbEV2ZW50TW9kZWxOeHRWMV83KGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlsbEV2ZW50TW9kZWxOeHRWMV83KGV2ZW50RGF0YSk6IGFueSB7XHJcbiAgICAgICAgbGV0IHNlbmRFdmVudERhdGEgPSB7fTtcclxuICAgICAgICBpZiAoZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZUlkKSB7XHJcbiAgICAgICAgICAgICBzZW5kRXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgUHJlZmVyZW5jZUlkOiBldmVudERhdGEuRW1haWxQcmVmZXJlbmNlSWQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShzZW5kRXZlbnREYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudE1vZGVsO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL05ld3NsZXR0ZXJTaWdudXAudHMiLCJpbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgQWN0aW9uVHlwZURpY3QsIEFjdGlvblR5cGVzIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L0FjdGlvbk1vZGVsc1wiO1xyXG5pbXBvcnQgeyBDb25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9Db25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgVGFnTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSZWNvbW1lbmRhdGlvblNob3duIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkFjdGlvblNob3duXCI7XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBzdXBlci5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiUmVjb21tZW5kYXRpb25Eb25lXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiUmVjb21tZW5kYXRpb25TaG93blwiO1xyXG4gICAgICAgIGxldCBhY3Rpb25TaG93RXZlbnREYXRhOiBDb25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2UgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YTtcclxuICAgICAgICBjb25zdCBhY3Rpb25UeXBlID0gYWN0aW9uU2hvd0V2ZW50RGF0YS5BY3Rpb25UeXBlIHx8IEFjdGlvblR5cGVEaWN0W3RoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhLkFjdGlvblR5cGVJZF07XHJcbiAgICAgICAgaWYgKGFjdGlvblR5cGUgPT09IEFjdGlvblR5cGVzLkluc2lnaHRzUmVjb21tZW5kYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgQXJ0aWNsZXNSZWNvbW1lbmRlZDogdGhpcy5nZXRBcnRpY2xlc1JlY29tbWVuZGVkKCksXHJcbiAgICAgICAgICAgICAgICBSZWNvbW1lbmRhdGlvbklkIDogdGhpcy5nZXRSZWNvbW1lbmRhdGlvbklkKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwicmVjb21tZW5kYXRpb25TaG93blwiLCBldmVudERhdGEuUmVjb21tZW5kYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGl0IGlzIHByZWZlcmFibGUgdG8gYWRkIGEgY2hlY2sgZm9yIGV4aXN0ZW5jZSBpbiBvbmUgLk1nMi1jb25uZXh0IHRlbXBsYXRlXHJcbiAgICBwcml2YXRlIGdldEFydGljbGVzUmVjb21tZW5kZWQoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCB1cmxzID0gdGhpcy5nZXRVcmxzKCk7XHJcbiAgICAgICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJodG1sXCIpO1xyXG4gICAgICAgIGxldCBleGlzdGluZ0FydGljbGVzID0gW107XHJcbiAgICAgICAgdXJscy5mb3JFYWNoKCh1cmw6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaHRtbC5pbm5lckhUTUwuaW5kZXhPZih1cmwpICE9PSAtMSAmJiBpbmRleCA9PT0gZXhpc3RpbmdBcnRpY2xlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFydGljbGVJZCA9IHRoaXMuZ2V0QXJ0aWNsZUlkKHVybCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJ0aWNsZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdBcnRpY2xlcy5wdXNoKGFydGljbGVJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmdBcnRpY2xlcy5qb2luKFwiLFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFJlY29tbWVuZGF0aW9uSWQoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCB1cmxzID0gdGhpcy5nZXRVcmxzKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHVybHMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFV0aWxzLmdldFJlY29tbWVuZGF0aW9uSWQodXJsc1swXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRVcmxzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gd2luZG93W1wiZzJpX2RsX3JlY29tbWVuZGF0aW9uc1wiXTtcclxuICAgICAgICByZXR1cm4gKGRhdGE/LnJlY29tbWVuZGF0aW9ucyB8fCBbXSkubWFwKChyOiB7IHVybDogc3RyaW5nOyB9KSA9PiByLnVybCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRBcnRpY2xlSWQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB3aW5kb3dbXCJnMmlfZGxfcmVjb21tZW5kYXRpb25zXCJdO1xyXG4gICAgICAgIHJldHVybiAoZGF0YT8ucmVjb21tZW5kYXRpb25zIHx8IFtdKVxyXG4gICAgICAgICAgICAuZmlsdGVyKChyOiB7IGFydGljbGVfY29udGVudF9pZDogc3RyaW5nOyB1cmw6IHN0cmluZzsgfSkgPT4gci51cmwgPT09IHVybClcclxuICAgICAgICAgICAgLm1hcCgocjogeyBhcnRpY2xlX2NvbnRlbnRfaWQ6IHN0cmluZyB9KSA9PiByLmFydGljbGVfY29udGVudF9pZClbMF07XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvUmVjb21tZW5kYXRpb25TaG93bi50cyIsImV4cG9ydCB7IEFjdGlvblNob3duIH0gZnJvbSBcIi4vQWN0aW9uU2hvd25cIjtcclxuZXhwb3J0IHsgQWN0aXZhdGVTdWNjZXNzIH0gZnJvbSBcIi4vQWN0aXZhdGVTdWNjZXNzXCI7XHJcbmV4cG9ydCB7IENsaWNrIH0gZnJvbSBcIi4vQ2xpY2tcIjtcclxuZXhwb3J0IHsgQ29ubmV4dFBhZ2VWaWV3IH0gZnJvbSBcIi4vQ29ubmV4dFBhZ2VWaWV3XCI7XHJcbmV4cG9ydCB7IENyZWF0ZUFjY291bnQgfSBmcm9tIFwiLi9DcmVhdGVBY2NvdW50XCI7XHJcbmV4cG9ydCB7IEN0cmxDIH0gZnJvbSBcIi4vQ3RybENcIjtcclxuZXhwb3J0IHsgTG9naW4gfSBmcm9tIFwiLi9Mb2dpblwiO1xyXG5leHBvcnQgeyBOZXdzbGV0dGVyQXJyaXZhbCB9IGZyb20gXCIuL05ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcbmV4cG9ydCB7IE5ld3NsZXR0ZXJTaWdudXAgfSBmcm9tIFwiLi9OZXdzbGV0dGVyU2lnbnVwXCI7XHJcbmV4cG9ydCB7IFJlY29tbWVuZGF0aW9uU2hvd24gfSBmcm9tIFwiLi9SZWNvbW1lbmRhdGlvblNob3duXCI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL2luZGV4LnRzIiwiaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0VXNlck1vZGVsIHtcclxuICAgIElkOiBzdHJpbmcgPSB0aGlzLmdldENvbm5leHRVc2VySWQoKTtcclxuICAgIFN0YXR1czogc3RyaW5nID0gdGhpcy5nZXRDb25uZXh0VXNlclN0YXR1cygpO1xyXG4gICAgRVI6IG51bWJlciA9IENkcE1vZHVsZS5nZXRFckNvZGUoKTtcclxuICAgIEVSUDogYW55ID0gQ2RwTW9kdWxlLmdldEVycENvZGUoKTtcclxuICAgIENSOiBudW1iZXIgPSBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCk7XHJcbiAgICBDUlA6IGFueSA9IENkcE1vZHVsZS5nZXRDcnBDb2RlKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5JZCA9IHRoaXMuZ2V0Q29ubmV4dFVzZXJJZCgpO1xyXG4gICAgICAgIHRoaXMuU3RhdHVzID0gdGhpcy5nZXRDb25uZXh0VXNlclN0YXR1cygpO1xyXG4gICAgICAgIHRoaXMuRVIgPSBDZHBNb2R1bGUuZ2V0RXJDb2RlKCk7XHJcbiAgICAgICAgdGhpcy5FUlAgPSBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpO1xyXG4gICAgICAgIHRoaXMuQ1IgPSBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCk7XHJcbiAgICAgICAgdGhpcy5DUlAgPSBDZHBNb2R1bGUuZ2V0Q3JwQ29kZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbm5leHRVc2VyU3RhdHVzKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuQ25uWHQgJiYgd2luZG93LkNublh0LlVzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5Dbm5YdC5Vc2VyLmdldFVzZXJTdGF0ZSgpIHx8IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aW5kb3cuQ29ubmV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkNvbm5leHQuU3RvcmFnZS5HZXRVc2VyU3RhdGUoKSB8fCBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb25uZXh0VXNlcklkKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuQ25uWHQgJiYgd2luZG93LkNublh0LlVzZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5Dbm5YdC5Vc2VyLmdldE1hc3RlcklkKCkgfHwgXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cuQ29ubmV4dCkge1xyXG4gICAgICAgICAgICBsZXQgdXNlckRhdGEgPSB3aW5kb3cuQ29ubmV4dC5TdG9yYWdlLkdldFVzZXJEYXRhKCk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhLk1hc3RlcklkIHx8IFwiXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL21vZGVscy9Db25uZXh0VXNlck1vZGVsLnRzIiwiaW1wb3J0IHsgQ29sbGVjdG9yIH0gZnJvbSBcIi4vLi4vLi4vQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tIFwiLi9ldmVudHNcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3BDb2xsZWN0b3IgZXh0ZW5kcyBDb2xsZWN0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckV2ZW50cygpIHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZEV2ZW50cyA9IFdvcmtmbG93TW9kdWxlLmxpbWl0U1BFdmVudHMoZXZlbnRzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IGZpbHRlcmVkRXZlbnRzO1xyXG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BDb2xsZWN0b3IudHMiLCJpbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIi4uL1NwRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBYmFuZG9uQ2xvc2VkICBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImFiYW5kb25fY2xvc2VkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFiYW5kb25DbG9zZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJBYmFuZG9uQ2xvc2VkXCI7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe30pO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9BYmFuZG9uQ2xvc2VkLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLy4uL1NwRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBYmFuZG9uUHJlc2VudGVkIGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiYWJhbmRvbl9wcmVzZW50ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQWJhbmRvblByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkFiYW5kb25QcmVzZW50ZWRcIjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YSh7fSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0FiYW5kb25QcmVzZW50ZWQudHMiLCJpbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIi4vLi4vU3BFdmVudFwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0UHJvcGVydGllcyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja291dFN0YXJ0IGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwicHJlc2VudGF0aW9uX2xvYWRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJDaGVja291dFN0YXJ0XCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQ2hlY2tvdXRTdGFydFwiO1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YSh7XHJcbiAgICAgICAgICAgIFVybDogdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS51cmwsXHJcbiAgICAgICAgICAgIFVzZXJFUjogQ2RwTW9kdWxlLmdldEVyQ29kZSgpLFxyXG4gICAgICAgICAgICBVc2VyRVJQOiBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpLFxyXG4gICAgICAgICAgICBVc2VyQ1I6IENkcE1vZHVsZS5nZXRDckNvZGUoKSxcclxuICAgICAgICAgICAgVXNlckNSUDogQ2RwTW9kdWxlLmdldENycENvZGUoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZUluQ2FsY3VsYXRlRmlyc3RWaXNpdE1vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZpcnN0VmlzaXRQcm9wZXJ0eSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0NoZWNrb3V0U3RhcnQudHMiLCJpbXBvcnQgeyBVc2VySW5mb3JtYXRpb25Nb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvVXNlckluZm9ybWF0aW9uTW9kZWxcIjtcclxuaW1wb3J0IHsgU2hvcnRPZmZlck1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9TaG9ydE9mZmVyTW9kZWxcIjtcclxuaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlYXRlZE5ld1VzZXIgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJjcmVhdGVkX25ld191c2VyX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkNyZWF0ZWROZXdVc2VyXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQ3JlYXRlZE5ld1VzZXJcIjtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgVXNlcjogbmV3IFVzZXJJbmZvcm1hdGlvbk1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uKSxcclxuICAgICAgICAgICAgT2ZmZXI6IG5ldyBTaG9ydE9mZmVyTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlciksXHJcbiAgICAgICAgICAgIEN1c3RvbWVyUmVnaXN0cmF0aW9uSWQ6IHRoaXMub3JpZ2luYWxFdmVudERhdGEuY3VzdG9tZXJSZWdpc3RyYXRpb25JZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0NyZWF0ZWROZXdVc2VyLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IEFkZHJlc3NNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvQWRkcmVzc01vZGVsXCI7XHJcbmltcG9ydCB7IFNob3J0T2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvU2hvcnRPZmZlck1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUNvbXBsZXRlZCBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImJpbGxpbmdfYWRkcmVzc19jb21wbGV0ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiRm9ybUNvbXBsZXRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkJpbGxpbmdBZGRyZXNzXCI7XHJcblxyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIEJpbGxpbmc6IG5ldyBBZGRyZXNzTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5iaWxsaW5nQWRkcmVzcyksXHJcbiAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZC50cyIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudFwiO1xyXG5pbXBvcnQgeyBBZGRyZXNzTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL0FkZHJlc3NNb2RlbFwiO1xyXG5pbXBvcnQgeyBTaG9ydE9mZmVyTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1Db21wbGV0ZWREZWxpdmVyeUFkZHJlc3MgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJkZWxpdmVyeV9hZGRyZXNzX2NvbXBsZXRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJGb3JtQ29tcGxldGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiRGVsaXZlcnlBZGRyZXNzXCI7XHJcblxyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIERlbGl2ZXJ5OiBuZXcgQWRkcmVzc01vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEuZGVsaXZlcnlBZGRyZXNzKSxcclxuICAgICAgICAgICAgT2ZmZXI6IG5ldyBTaG9ydE9mZmVyTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlcilcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkRGVsaXZlcnlBZGRyZXNzLnRzIiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IFBheW1lbnRUeXBlcyB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvUGF5bWVudFR5cGVzXCI7XHJcbmltcG9ydCB7IFNob3J0T2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvU2hvcnRPZmZlck1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUNvbXBsZXRlZFBheW1lbnQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lcyA9IE9iamVjdC5rZXlzKFBheW1lbnRUeXBlcyk7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJGb3JtQ29tcGxldGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiUGF5bWVudFwiO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpLFxyXG4gICAgICAgICAgICBQYXltZW50TWV0aG9kTmFtZTogUGF5bWVudFR5cGVzW3RoaXMuY3VycmVudEV2ZW50TmFtZV1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZFBheW1lbnQudHMiLCJpbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvcm1hdGlvbk1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBTaG9ydE9mZmVyTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQ29tcGxldGVkVXNlckluZm8gZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1c2VyX2luZm9fY29tcGxldGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkZvcm1Db21wbGV0ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJVc2VySW5mb1wiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50RGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgVXNlcjogbmV3IFVzZXJJbmZvcm1hdGlvbk1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uKSxcclxuICAgICAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YU9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkVXNlckluZm8udHMiLCJpbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIi4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElkbGVDbG9zZWQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJpZGxlX2Nsb3NlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJJZGxlQ2xvc2VkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiSWRsZUNsb3NlZFwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZUNsb3NlZC50cyIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiLi4vU3BFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIElkbGVQcmVzZW50ZWQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJpZGxlX3ByZXNlbnRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJJZGxlUHJlc2VudGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiSWRsZVByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZVByZXNlbnRlZC50cyIsImV4cG9ydCB7IEFiYW5kb25DbG9zZWR9IGZyb20gXCIuL0FiYW5kb25DbG9zZWRcIjtcclxuZXhwb3J0IHsgQWJhbmRvblByZXNlbnRlZH0gZnJvbSBcIi4vQWJhbmRvblByZXNlbnRlZFwiO1xyXG5leHBvcnQgeyBDaGVja291dFN0YXJ0IH0gZnJvbSBcIi4vQ2hlY2tvdXRTdGFydFwiO1xyXG5leHBvcnQgeyBDcmVhdGVkTmV3VXNlciB9IGZyb20gXCIuL0NyZWF0ZWROZXdVc2VyXCI7XHJcbmV4cG9ydCB7IEZvcm1Db21wbGV0ZWQgfSBmcm9tIFwiLi9Gb3JtQ29tcGxldGVkXCI7XHJcbmV4cG9ydCB7IEZvcm1Db21wbGV0ZWREZWxpdmVyeUFkZHJlc3MgfSBmcm9tIFwiLi9Gb3JtQ29tcGxldGVkRGVsaXZlcnlBZGRyZXNzXCI7XHJcbmV4cG9ydCB7IEZvcm1Db21wbGV0ZWRQYXltZW50IH0gZnJvbSBcIi4vRm9ybUNvbXBsZXRlZFBheW1lbnRcIjtcclxuZXhwb3J0IHsgRm9ybUNvbXBsZXRlZFVzZXJJbmZvIH0gZnJvbSBcIi4vRm9ybUNvbXBsZXRlZFVzZXJJbmZvXCI7XHJcbmV4cG9ydCB7IElkbGVDbG9zZWR9IGZyb20gXCIuL0lkbGVDbG9zZWRcIjtcclxuZXhwb3J0IHsgSWRsZVByZXNlbnRlZH0gZnJvbSBcIi4vSWRsZVByZXNlbnRlZFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9vZmZlckV2ZW50RGF0YS9pbmRleFwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9vZmZlcnNFdmVudERhdGEvaW5kZXhcIjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL2luZGV4LnRzIiwiaW1wb3J0IHsgT2ZmZXJFdmVudERhdGFFdmVudCB9IGZyb20gXCIuLi9PZmZlckV2ZW50RGF0YUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJTZWxlY3RlZCBleHRlbmRzIE9mZmVyRXZlbnREYXRhRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9mZmVyX3NlbGVjdGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIk9mZmVyU2VsZWN0ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlci5OYW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9PZmZlclNlbGVjdGVkLnRzIiwiaW1wb3J0IHsgT2ZmZXJFdmVudERhdGFFdmVudCB9IGZyb20gXCIuLi9PZmZlckV2ZW50RGF0YUV2ZW50XCI7XHJcbmltcG9ydCB7IEFkZHJlc3NNb2RlbCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvQWRkcmVzc01vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvcm1hdGlvbk1vZGVsIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvblN1Y2Nlc3MgZXh0ZW5kcyBPZmZlckV2ZW50RGF0YUV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhZGRfc3Vic2NyaXB0aW9uX3N1Y2Nlc3NfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiU3Vic2NyaXB0aW9uU3VjY2Vzc1wiO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJTdWJzY3JpcHRpb25TdWNjZXNzXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuc3Vic2NyaXB0aW9uIHx8IHt9O1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgRGVsaXZlcnk6IG5ldyBBZGRyZXNzTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5kZWxpdmVyeUFkZHJlc3MpLFxyXG4gICAgICAgICAgICAgICAgQmlsbGluZzogbmV3IEFkZHJlc3NNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmJpbGxpbmdBZGRyZXNzKSxcclxuICAgICAgICAgICAgICAgIFBheW1lbnRNZXRob2ROYW1lOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnBheW1lbnRPcHRpb24sXHJcbiAgICAgICAgICAgICAgICBVc2VyOiBuZXcgVXNlckluZm9ybWF0aW9uTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS51c2VySW5mb3JtYXRpb24pLFxyXG4gICAgICAgICAgICAgICAgVXNlckVSOiBDZHBNb2R1bGUuZ2V0RXJDb2RlKCksXHJcbiAgICAgICAgICAgICAgICBVc2VyRVJQOiBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpLFxyXG4gICAgICAgICAgICAgICAgVXNlckNSOiBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCksXHJcbiAgICAgICAgICAgICAgICBVc2VyQ1JQOiBDZHBNb2R1bGUuZ2V0Q3JwQ29kZSgpLFxyXG4gICAgICAgICAgICAgICAgQ3VzdG9tZXJSZWdpc3RyYXRpb25JZDogdGhpcy5nZXRDdXN0b21lclJlZ2lzdHJhdGlvbklkKCksXHJcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVySWQ6IHN1YnNjcmlwdGlvbi5TdWJzY3JpYmVySUQsXHJcbiAgICAgICAgICAgICAgICBTdWJzY3JpcHRpb25JZDogc3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbklELFxyXG4gICAgICAgICAgICAgICAgQWNjb3VudE51bWJlcjogc3Vic2NyaXB0aW9uLkFjY291bnROdW1iZXJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJTdWJzY3JpcHRpb25TdWNjZXNzXCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VzdG9tZXJSZWdpc3RyYXRpb25JZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS51c2VySW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uLmN1c3RvbWVyUmVnaXN0cmF0aW9uSWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEuY3VzdG9tZXJSZWdpc3RyYXRpb25JZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1N1YnNjcmlwdGlvblN1Y2Nlc3MudHMiLCJpbXBvcnQgeyBPZmZlckV2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcHNlbGxSZW1vdmVkIGV4dGVuZHMgT2ZmZXJFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwidXBzZWxsX3JlbW92ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiVXBzZWxsUmVtb3ZlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyLk5hbWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1Vwc2VsbFJlbW92ZWQudHMiLCJpbXBvcnQgeyBPZmZlckV2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcHNlbGxTZWxlY3RlZCBleHRlbmRzIE9mZmVyRXZlbnREYXRhRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcInVwc2VsbF9zZWxlY3RlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJVcHNlbGxTZWxlY3RlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyLk5hbWU7XHJcbiAgICB9XHJcbiB9XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9VcHNlbGxTZWxlY3RlZC50cyIsImV4cG9ydCB7IE9mZmVyU2VsZWN0ZWQgfSBmcm9tIFwiLi9PZmZlclNlbGVjdGVkXCI7XHJcbmV4cG9ydCB7IFN1YnNjcmlwdGlvblN1Y2Nlc3MgfSBmcm9tIFwiLi9TdWJzY3JpcHRpb25TdWNjZXNzXCI7XHJcbmV4cG9ydCB7IFVwc2VsbFJlbW92ZWQgfSBmcm9tIFwiLi9VcHNlbGxSZW1vdmVkXCI7XHJcbmV4cG9ydCB7IFVwc2VsbFNlbGVjdGVkIH0gZnJvbSBcIi4vVXBzZWxsU2VsZWN0ZWRcIjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL2luZGV4LnRzIiwiaW1wb3J0IHsgT2ZmZXJzRXZlbnREYXRhRXZlbnQgfSBmcm9tIFwiLi4vT2ZmZXJzRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBsZVBheVByZXNlbnRlZCBleHRlbmRzIE9mZmVyc0V2ZW50RGF0YUV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhcHBsZV9wYXlfcHJlc2VudGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFwcGxlUGF5UHJlc2VudGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQXBwbGVQYXlQcmVzZW50ZWRcIjtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJzRXZlbnREYXRhL0FwcGxlUGF5UHJlc2VudGVkLnRzIiwiaW1wb3J0IHsgT2ZmZXJzRXZlbnREYXRhRXZlbnQgfSBmcm9tIFwiLi4vT2ZmZXJzRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlcnNQcmVzZW50ZWQgZXh0ZW5kcyBPZmZlcnNFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib2ZmZXJzX3ByZXNlbnRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJPZmZlcnNQcmVzZW50ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJPZmZlcnNQcmVzZW50ZWRcIjtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJzRXZlbnREYXRhL09mZmVyc1ByZXNlbnRlZC50cyIsImV4cG9ydCB7IEFwcGxlUGF5UHJlc2VudGVkIH0gZnJvbSBcIi4vQXBwbGVQYXlQcmVzZW50ZWRcIjtcclxuZXhwb3J0IHsgT2ZmZXJzUHJlc2VudGVkIH0gZnJvbSBcIi4vT2ZmZXJzUHJlc2VudGVkXCI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlcnNFdmVudERhdGEvaW5kZXgudHMiLCJpbXBvcnQgeyBDb2xsZWN0b3IgfSBmcm9tIFwiLi8uLi9Db2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgRXZlbnROYW1lcyB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tIFwiLi9ldmVudHNcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tbW9uRXZlbnRzQ29sbGVjdG9yIGV4dGVuZHMgQ29sbGVjdG9yIHtcclxuICAgIGlzRXhjbHVkZVBhZ2VWaWV3OiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlzRXhjbHVkZVBhZ2VWaWV3KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmlzRXhjbHVkZVBhZ2VWaWV3ID0gaXNFeGNsdWRlUGFnZVZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgY29uc3QgZXhjbHVkZWRMaXN0ID0gdGhpcy5pc0V4Y2x1ZGVQYWdlVmlldyA/IFtFdmVudE5hbWVzLlBhZ2VWaWV3XSA6IFtdO1xyXG4gICAgICAgIGxldCBmaWx0ZXJlZEV2ZW50cyA9IFdvcmtmbG93TW9kdWxlLmxpbWl0Q29tbW9uRXZlbnRzKGV2ZW50cywgZXhjbHVkZWRMaXN0KTtcclxuXHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBmaWx0ZXJlZEV2ZW50cztcclxuICAgICAgICBzdXBlci5yZWdpc3RlckV2ZW50cygpO1xyXG4gICAgfTtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvQ29tbW9uRXZlbnRzQ29sbGVjdG9yLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgRnBEZXZpY2VJbmZvSW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2ludGVyZmFjZXMvRnBEZXZpY2VJbmZvSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERldmljZUlkQ2hhbmdlIGV4dGVuZHMgQ2RwRXZlbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSA9IFwib25EZXZpY2VJZENoYW5nZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlbkV2ZW50KGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuRmluZ2VycHJpbnQgIT09IHVuZGVmaW5lZCAmJiAgdHlwZW9mIHdpbmRvdy5GaW5nZXJwcmludC5vbkNoYW5nZWREZXZpY2VJZCA9PT0gXCJmdW5jdGlvblwiKSAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5GaW5nZXJwcmludC5vbkNoYW5nZWREZXZpY2VJZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGRldmljZUluZm86IEZwRGV2aWNlSW5mb0ludGVyZmFjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUHJldmlvdXNEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0T3JpZ2luYWxFdmVudERhdGEoZGV2aWNlSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERldmljZU1vZHVsZS5pc0FjdHVhbElkKGRldmljZUluZm8ubmV3SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oKGlzQWN0dWFsOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRldmljZUluZm8gPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNBY3R1YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgb25DaGFuZ2VkRGV2aWNlSWRfc2tpcDoke0pTT04uc3RyaW5naWZ5KGRldmljZUluZm8pfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZXZpY2VNb2R1bGUuZGV2aWNlSUNoYW5nZWQoZGV2aWNlSW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJvbkNoYW5nZWREZXZpY2VJZF9jYXRjaFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJGaW5nZXJwcmludCBpcyB1bmRlZmluZWQuLi4gb3IgdmVyc2lvbiBpcyBub3Qgc3VwcG9ydCByZWdlbmVyYXRlIG9uQ2hhbmdlZERldmljZUlkXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0T3JpZ2luYWxEYXRhKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudERhdGEgPSBldmVudERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJPbkRldmljZUlkQ2hhbmdlXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGU7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuRzJJbnNpZ2h0cztcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRGV2aWNlSWQgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmlkO1xyXG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgTmV3RGV2aWNlSWQ6IHRoaXMub3JpZ2luYWxFdmVudERhdGEubmV3SWQsXHJcbiAgICAgICAgICAgIEcyaURldmljZUlkOiBDZHBNb2R1bGUuZ2V0RzJpRGV2aWNlSWQoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvRGV2aWNlSWRDaGFuZ2UudHMiLCJpbXBvcnQgeyBDZHBFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEcyaURldmljZUlkQ2hhbmdlIGV4dGVuZHMgQ2RwRXZlbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkcyaURldmljZUlkQ2hhbmdlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJPbkRldmljZUlkQ2hhbmdlXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiT25HMmlEZXZpY2VJZENoYW5nZVwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFNvdXJjZSA9IENvbnN0YW50cy5FdmVudHNTb3VyY2VzLkcySW5zaWdodHM7XHJcbiAgICAgICAgY29uc3QgeyBPbGRHMmksIE5ld0cyaSwgQnJvd3NlckNhY2hlLCBSZXNwb3NlRGF0YSwgU2tpcHBlZCB9ID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YTtcclxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIE9sZEcyaSxcclxuICAgICAgICAgICAgTmV3RzJpLFxyXG4gICAgICAgICAgICBCcm93c2VyQ2FjaGU6IEpTT04uc3RyaW5naWZ5KEJyb3dzZXJDYWNoZSksXHJcbiAgICAgICAgICAgIFJlc3Bvc2VEYXRhOiBKU09OLnN0cmluZ2lmeShSZXNwb3NlRGF0YSksXHJcbiAgICAgICAgICAgIFNraXBwZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0cyaURldmljZUlkQ2hhbmdlLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExlYXZlUGFnZUV2ZW50RGF0YUludGVyZmFjZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9pbnRlcmZhY2VzL2V2ZW50RGF0YS9MZWF2ZVBhZ2VFdmVudERhdGFJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IERldmljZU1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9EZXZpY2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb29raWVzU3RvcmFnZSB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9jb29raWVzL0Nvb2tpZXNTdG9yYWdlXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZSB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9sb2NhbC9Mb2NhbFN0b3JhZ2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMZWF2ZVBhZ2UgZXh0ZW5kcyBDZHBFdmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLklzQXN5bmMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lID0gVXRpbHMuZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGxpc3RlbkV2ZW50KGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJGaXJpbmcgZXZlbnROYW1lXCIsIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclByZXZpb3VzRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShlLmRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRFdmVudE5hbWUgPSBldmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLnNldENsb3NlUGFnZUZsYWcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLmV2ZW50RmlyZSh0aGlzKTtcclxuICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRPcmlnaW5hbERhdGEoZXZlbnREYXRhKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbmRQYWdlU2Vzc2lvbigpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFVybCgpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDb25uZXh0KCkge1xyXG4gICAgICAgIHJldHVybiBDb25uZXh0TW9kdWxlLmhhc0Nvbm5leHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEFkYmxvY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbm5leHRNb2R1bGUuZ2V0QWRibG9ja0RldGVjdGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDb29raWVzQmxvY2tlZCgpIHtcclxuICAgICAgICByZXR1cm4gIUNvb2tpZXNTdG9yYWdlLmlzU3VwcG9ydGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRMb2NhbFN0b3JhZ2VCbG9ja2VkKCkge1xyXG4gICAgICAgIHJldHVybiAhbmV3IExvY2FsU3RvcmFnZSgpLmlzU3VwcG9ydGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRCcm93c2VyQ2FjaGVFbmFibGVkKCkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFN0cmluZyh3aW5kb3cucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcInJlc291cmNlXCIpLmZpbHRlcigocjogYW55KSA9PiByLmR1cmF0aW9uID09PSAwICYmIHIudHJhbnNmZXJTaXplICE9PSAwKS5sZW5ndGggIT09IDApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFwid2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUgZG9lcyBub3Qgc3VwcG9ydFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJQYWdlTGVhdmVcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRTb3VyY2UgPSBDb25zdGFudHMuRXZlbnRzU291cmNlcy5HMkluc2lnaHRzO1xyXG5cclxuICAgICAgICBjb25zdCBzdGFydFBhZ2VTZXNzaW9uID0gdGhpcy5zZXNzaW9uU2VydmljZS5nZXRTdGFydFBhZ2VTZXNzaW9uKCk7XHJcbiAgICAgICAgY29uc3QgZW5kUGFnZVNlc3Npb24gPSB0aGlzLmdldEVuZFBhZ2VTZXNzaW9uKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFRpbWVzdGFtcCA9IGVuZFBhZ2VTZXNzaW9uO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSA8TGVhdmVQYWdlRXZlbnREYXRhSW50ZXJmYWNlPntcclxuICAgICAgICAgICAgU3RhcnRTZXNzaW9uOiBzdGFydFBhZ2VTZXNzaW9uLFxyXG4gICAgICAgICAgICBFbmRTZXNzaW9uOiBlbmRQYWdlU2Vzc2lvbixcclxuICAgICAgICAgICAgTGVuZ3RoU2Vzc2lvbjogZW5kUGFnZVNlc3Npb24gLSBzdGFydFBhZ2VTZXNzaW9uLFxyXG4gICAgICAgICAgICBEZXZpY2U6IG5ldyBEZXZpY2VNb2RlbCgpLFxyXG4gICAgICAgICAgICBVcmw6IHRoaXMuZ2V0VXJsKCksXHJcbiAgICAgICAgICAgIEhhc0Nvbm5leHQ6IHRoaXMuZ2V0Q29ubmV4dCgpLFxyXG4gICAgICAgICAgICBBZGJsb2NrRGV0ZWN0ZWQ6IHRoaXMuZ2V0QWRibG9jaygpLFxyXG4gICAgICAgICAgICBDb29raWVzQmxvY2tlZDogdGhpcy5nZXRDb29raWVzQmxvY2tlZCgpLFxyXG4gICAgICAgICAgICBMb2NhbFN0b3JhZ2VCbG9ja2VkOiB0aGlzLmdldExvY2FsU3RvcmFnZUJsb2NrZWQoKSxcclxuICAgICAgICAgICAgQnJvd3NlckNhY2hlRW5hYmxlZDogdGhpcy5nZXRCcm93c2VyQ2FjaGVFbmFibGVkKClcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvTGVhdmVQYWdlLnRzIiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IFBhZ2VWaWV3RGF0YU1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9QYWdlVmlld0RhdGFNb2RlbFwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0UHJvcGVydGllcyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgRXZlbnROYW1lcyB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgVGFnTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlVmlldyBleHRlbmRzIENkcEV2ZW50IHtcclxuICAgIHByaXZhdGUgdXNlclBvc2l0aW9uO1xyXG4gICAgcHJpdmF0ZSBpc1N0b3BMaXN0ZW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLklzQXN5bmMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lID0gVXRpbHMuZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdGVuRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1N0b3BMaXN0ZW4pIHJldHVybjtcclxuXHJcbiAgICAgICAgVXRpbHMuZ2V0VXNlclBvc2l0aW9uKCkudGhlbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgdGhpcy51c2VyUG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdG9wTGlzdGVuKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZyBldmVudE5hbWVcIiwgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUHJldmlvdXNEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9yaWdpbmFsRXZlbnREYXRhKGUuZGV0YWlsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldE9yaWdpbmFsRGF0YShldmVudERhdGEpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZXZlbnREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IEV2ZW50TmFtZXMuUGFnZVZpZXc7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IEV2ZW50TmFtZXMuUGFnZVZpZXc7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuRzJJbnNpZ2h0cztcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUaW1lc3RhbXAgPSBEYXRlVXRpbC5nZXRUaW1lc3RhbXAodGhpcy5zZXNzaW9uU2VydmljZS5nZXRTdGFydFBhZ2VTZXNzaW9uKCkpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSBuZXcgUGFnZVZpZXdEYXRhTW9kZWwoeyBMb2NhdGlvbjogdGhpcy51c2VyUG9zaXRpb24gfSk7XHJcbiAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwiZW1haWxoYXNoXCIsICBldmVudERhdGEuRW5jcnlwdGVkRW1haWwpO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50UGFnZXZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcExpc3RlbigpIHtcclxuICAgICAgICB0aGlzLmlzU3RvcExpc3RlbiA9IHRydWU7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29tbW9uRXZlbnRzL2V2ZW50cy9QYWdlVmlldy50cyIsImV4cG9ydCB7IERldmljZUlkQ2hhbmdlIH0gZnJvbSBcIi4vRGV2aWNlSWRDaGFuZ2VcIjtcclxuZXhwb3J0IHsgRzJpRGV2aWNlSWRDaGFuZ2UgfSBmcm9tIFwiLi9HMmlEZXZpY2VJZENoYW5nZVwiO1xyXG5leHBvcnQgeyBMZWF2ZVBhZ2UgfSBmcm9tIFwiLi9MZWF2ZVBhZ2VcIlxyXG5leHBvcnQgeyBQYWdlVmlldyB9IGZyb20gXCIuL1BhZ2VWaWV3XCI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbW1vbkV2ZW50cy9ldmVudHMvaW5kZXgudHMiLCJpbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduTW9kZWwge1xyXG4gICAgSWQ6IG51bWJlcjtcclxuICAgIE1ldGVyTGV2ZWw6IGFueTtcclxuICAgIENvbnZlcnNhdGlvbklkOiBhbnk7XHJcbiAgICBDb252ZXJzYXRpb25OYW1lOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29ubmV4dEV2ZW50RGF0YSkge1xyXG4gICAgICAgIHRoaXMuSWQgPSBjb25uZXh0RXZlbnREYXRhLkNhbXBhaWduSWQ7XHJcbiAgICAgICAgdGhpcy5NZXRlckxldmVsID0gY29ubmV4dEV2ZW50RGF0YS5NZXRlckxldmVsO1xyXG4gICAgICAgIHRoaXMuQ29udmVyc2F0aW9uSWQgPSB0aGlzLmdldENvbnZlcnNhdGlvbklkKGNvbm5leHRFdmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuQ29udmVyc2F0aW9uTmFtZSA9IHRoaXMuZ2V0Q29udmVyc2F0aW9uTmFtZShjb25uZXh0RXZlbnREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnZlcnNhdGlvbklkKGNvbm5leHRFdmVudERhdGEpOiBzdHJpbmd7XHJcbiAgICAgICAgaWYoY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24gJiYgY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24uSWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24uSWQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgaWYoc3RvcmFnZUNvbnZlcnNhdGlvbil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmFnZUNvbnZlcnNhdGlvbi5JZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnZlcnNhdGlvbk5hbWUoY29ubmV4dEV2ZW50RGF0YSk6IHN0cmluZ3tcclxuICAgICAgICBpZihjb25uZXh0RXZlbnREYXRhLkNvbnZlcnNhdGlvbiAmJiBjb25uZXh0RXZlbnREYXRhLkNvbnZlcnNhdGlvbi5OYW1lKXtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbm5leHRFdmVudERhdGEuQ29udmVyc2F0aW9uLk5hbWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgaWYoc3RvcmFnZUNvbnZlcnNhdGlvbil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmFnZUNvbnZlcnNhdGlvbi5OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0NhbXBhaWduTW9kZWwudHMiLCJpbXBvcnQgeyBQYWdlTW9kZWwgfSBmcm9tIFwiLi9QYWdlTW9kZWxcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kZWwgfSBmcm9tIFwiLi9EZXZpY2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBMb2NhdGlvbk1vZGVsIH0gZnJvbSBcIi4vTG9jYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0VXNlck1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvbW9kZWxzL0Nvbm5leHRVc2VyTW9kZWxcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25Nb2RlbCB9IGZyb20gXCIuL0NhbXBhaWduTW9kZWxcIjtcclxuaW1wb3J0IHsgRGltZW5zaW9uc01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGVcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IERpZ2l0YWxBY2Nlc3NNb2RlbCB9IGZyb20gXCIuL0RpZ2l0YWxBY2Nlc3NNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRQYWdlVmlld0RhdGFNb2RlbCB7XHJcbiAgICBMb2NhdGlvbjogTG9jYXRpb25Nb2RlbDtcclxuICAgIERldmljZTogRGV2aWNlTW9kZWw7XHJcbiAgICBEZXZpY2VCcm93c2VyVXNlckFnZW50OiBzdHJpbmc7XHJcbiAgICBQYWdlOiBQYWdlTW9kZWw7XHJcbiAgICBVc2VyOiBDb25uZXh0VXNlck1vZGVsO1xyXG4gICAgQ2FtcGFpZ246IENhbXBhaWduTW9kZWw7XHJcbiAgICBMb2FkZXJWZXJzaW9uSW5mbzogc3RyaW5nO1xyXG4gICAgRmluZ2VycHJpbnRWZXJzaW9uSW5mbzogc3RyaW5nO1xyXG4gICAgRGVtb01vZGU6IGJvb2xlYW47XHJcbiAgICBFbmNyeXB0ZWRFbWFpbDogc3RyaW5nO1xyXG4gICAgRGlnaXRhbEFjY2VzczogT2JqZWN0O1xyXG4gICAgTWlzYz86IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0gZGF0YS5FdmVudERhdGEgPyBkYXRhLkV2ZW50RGF0YSA6IHt9O1xyXG4gICAgICAgIHRoaXMuTG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlbChldmVudERhdGEuTG9jYXRpb24pO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlID0gbmV3IERldmljZU1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5EZXZpY2VCcm93c2VyVXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICAgICAgICB0aGlzLlBhZ2UgPSBuZXcgUGFnZU1vZGVsKERpbWVuc2lvbnNNb2R1bGUuZ2V0RGltZW5zaW9ucygpKTtcclxuICAgICAgICB0aGlzLlVzZXIgPSBuZXcgQ29ubmV4dFVzZXJNb2RlbCgpO1xyXG4gICAgICAgIHRoaXMuQ2FtcGFpZ24gPSBuZXcgQ2FtcGFpZ25Nb2RlbChkYXRhKTtcclxuICAgICAgICB0aGlzLkxvYWRlclZlcnNpb25JbmZvID0gVXRpbHMuZ2V0TG9hZGVyVmVyc2lvbkluZm8oKTtcclxuICAgICAgICB0aGlzLkZpbmdlcnByaW50VmVyc2lvbkluZm8gPSBVdGlscy5nZXRGaW5nZXJwcmludFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5EZW1vTW9kZSA9IFV0aWxzLmdldERlbW9Nb2RlKCk7XHJcbiAgICAgICAgdGhpcy5FbmNyeXB0ZWRFbWFpbCA9IGV2ZW50RGF0YS5FbmNyeXB0ZWRFbWFpbCB8fCBcIlwiO1xyXG4gICAgICAgIHRoaXMuRGlnaXRhbEFjY2VzcyA9IFV0aWxzLmZsYXRPYmplY3QobmV3IERpZ2l0YWxBY2Nlc3NNb2RlbChkYXRhKSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0Nvbm5leHRQYWdlVmlld0RhdGFNb2RlbC50cyIsImV4cG9ydCBjbGFzcyBEaWdpdGFsQWNjZXNzTW9kZWwge1xyXG4gICAgLy8gQWNjZXNzTGV2ZWw6IEFjY2Vzc0xldmVsTW9kZWw7XHJcbiAgICAvLyBFRWRpdGlvblVybDogc3RyaW5nO1xyXG4gICAgLy8gRXJyb3JzOiBhbnk7XHJcbiAgICAvLyBJc0F1dGhvcml6ZWQ6IGJvb2xlYW47XHJcbiAgICBTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvblB1YmxpY01vZGVsO1xyXG4gICAgLy8gU3VjY2VzczogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcclxuICAgICAgICBkYXRhID0gZGF0YT8uTUcyQWNjb3VudERhdGE/LkRpZ2l0YWxBY2Nlc3M7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgLy8gdGhpcy5BY2Nlc3NMZXZlbCA9IG5ldyBBY2Nlc3NMZXZlbE1vZGVsKGRhdGEuQWNjZXNzTGV2ZWwpO1xyXG4gICAgICAgIC8vIHRoaXMuRUVkaXRpb25VcmwgPSBkYXRhLkVFZGl0aW9uVXJsO1xyXG4gICAgICAgIC8vIHRoaXMuRXJyb3JzID0gZGF0YS5FcnJvcnM7XHJcbiAgICAgICAgLy8gdGhpcy5Jc0F1dGhvcml6ZWQgPSBkYXRhLklzQXV0aG9yaXplZDtcclxuICAgICAgICB0aGlzLlN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb25QdWJsaWNNb2RlbChkYXRhLlN1YnNjcmlwdGlvbik7XHJcbiAgICAgICAgLy8gdGhpcy5TdWNjZXNzID0gZGF0YS5TdWNjZXNzO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBY2Nlc3NMZXZlbE1vZGVsIHtcclxuICAgIElzUHJlbWl1bTogYm9vbGVhbjtcclxuICAgIElzUHVyY2hhc2U6IGJvb2xlYW47XHJcbiAgICBJc1VwZ3JhZGU6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5Jc1ByZW1pdW0gPSBkYXRhLklzUHJlbWl1bTtcclxuICAgICAgICB0aGlzLklzUHVyY2hhc2UgPSBkYXRhLklzUHVyY2hhc2U7XHJcbiAgICAgICAgdGhpcy5Jc1VwZ3JhZGUgPSBkYXRhLklzVXBncmFkZTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU3Vic2NyaXB0aW9uUHVibGljTW9kZWwge1xyXG4gICAgU3Vic2NyaXB0aW9uSWQ6IGFueTtcclxuICAgIEFjY291bnROdW1iZXI6IGFueTtcclxuICAgIC8vIFBhcGVyQ29kZTogYW55O1xyXG4gICAgLy8gSG91c2VIb2xkU3Vic2NyaXB0aW9uTGV2ZWw6IG51bWJlcjtcclxuICAgIC8vIEZpcnN0TmFtZTogc3RyaW5nO1xyXG4gICAgLy8gTGFzdE5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLlN1YnNjcmlwdGlvbklkID0gZGF0YS5TdWJzY3JpcHRpb25JZDtcclxuICAgICAgICB0aGlzLkFjY291bnROdW1iZXIgPSBkYXRhLkFjY291bnROdW1iZXI7XHJcbiAgICAgICAgLy8gdGhpcy5QYXBlckNvZGUgPSBkYXRhLlBhcGVyQ29kZTtcclxuICAgICAgICAvLyB0aGlzLkhvdXNlSG9sZFN1YnNjcmlwdGlvbkxldmVsID0gZGF0YS5Ib3VzZUhvbGRTdWJzY3JpcHRpb25MZXZlbDtcclxuICAgICAgICAvLyB0aGlzLkZpcnN0TmFtZSA9IGRhdGEuRmlyc3ROYW1lO1xyXG4gICAgICAgIC8vIHRoaXMuTGFzdE5hbWUgPSBkYXRhLkxhc3ROYW1lO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9EaWdpdGFsQWNjZXNzTW9kZWwudHMiLCJpbXBvcnQgeyBQYWdlTW9kZWwgfSBmcm9tIFwiLi9QYWdlTW9kZWxcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kZWwgfSBmcm9tIFwiLi9EZXZpY2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBMb2NhdGlvbk1vZGVsIH0gZnJvbSBcIi4vTG9jYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VyTW9kZWwgfSBmcm9tIFwiLi9Vc2VyTW9kZWxcIjtcclxuaW1wb3J0IHsgRGltZW5zaW9uc01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGVcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZVZpZXdEYXRhTW9kZWwge1xyXG4gICAgTG9jYXRpb246IExvY2F0aW9uTW9kZWw7XHJcbiAgICBEZXZpY2U6IERldmljZU1vZGVsO1xyXG4gICAgUGFnZTogUGFnZU1vZGVsO1xyXG4gICAgVXNlcjogVXNlck1vZGVsXHJcbiAgICBEZXZpY2VCcm93c2VyVXNlckFnZW50OiBzdHJpbmc7XHJcbiAgICBMb2FkZXJWZXJzaW9uSW5mbzogc3RyaW5nO1xyXG4gICAgRmluZ2VycHJpbnRWZXJzaW9uSW5mbzogc3RyaW5nO1xyXG4gICAgRGVtb01vZGU6IGJvb2xlYW47XHJcbiAgICBFbmNyeXB0ZWRFbWFpbDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICB0aGlzLkxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZWwoZGF0YS5Mb2NhdGlvbik7XHJcbiAgICAgICAgdGhpcy5EZXZpY2UgPSBuZXcgRGV2aWNlTW9kZWwoKTtcclxuICAgICAgICB0aGlzLkRldmljZUJyb3dzZXJVc2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgICAgIHRoaXMuUGFnZSA9IG5ldyBQYWdlTW9kZWwoRGltZW5zaW9uc01vZHVsZS5nZXREaW1lbnNpb25zKCkpO1xyXG4gICAgICAgIHRoaXMuVXNlciA9IG5ldyBVc2VyTW9kZWwoKTtcclxuICAgICAgICB0aGlzLkxvYWRlclZlcnNpb25JbmZvID0gVXRpbHMuZ2V0TG9hZGVyVmVyc2lvbkluZm8oKTtcclxuICAgICAgICB0aGlzLkZpbmdlcnByaW50VmVyc2lvbkluZm8gPSBVdGlscy5nZXRGaW5nZXJwcmludFZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5EZW1vTW9kZSA9IFV0aWxzLmdldERlbW9Nb2RlKCk7XHJcbiAgICAgICAgdGhpcy5FbmNyeXB0ZWRFbWFpbCA9IFV0aWxzLmdldEVuY3J5cHRlZEVtYWlsKCkgfHwgXCJcIjtcclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1BhZ2VWaWV3RGF0YU1vZGVsLnRzIiwiaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VyTW9kZWwge1xyXG4gICAgSWQ6IHN0cmluZyA9IHRoaXMuZ2V0VXNlcklkKCk7XHJcbiAgICBFUjogYW55ID0gQ2RwTW9kdWxlLmdldEVyQ29kZSgpO1xyXG4gICAgRVJQOiBhbnkgPSBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpO1xyXG4gICAgQ1I6IGFueSA9IENkcE1vZHVsZS5nZXRDckNvZGUoKTtcclxuICAgIENSUDogYW55ID0gQ2RwTW9kdWxlLmdldENycENvZGUoKTtcclxuXHJcbiAgICBnZXRVc2VySWQoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiAoPGFueT53aW5kb3cpLnVzZXJQcm92aWRlcj8uY3VzdG9tZXJSZWdpc3RyYXRpb25JZCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGFueT53aW5kb3cpLnVzZXJQcm92aWRlci5jdXN0b21lclJlZ2lzdHJhdGlvbklkKCkgfHwgXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1VzZXJNb2RlbC50cyIsImltcG9ydCB7IENvbGxlY3RvclR5cGVzIH0gZnJvbSBcIi4vLi4vY29uc3RhbnRzL0NvbGxlY3RvclR5cGVzXCI7XHJcbmltcG9ydCB7IEZhY3RvcnkgfSBmcm9tIFwiQENvcmUvYmFzZS9mYWN0b3J5L0ZhY3RvcnlcIjtcclxuaW1wb3J0IHsgR3RtVGFnQ29sbGVjdG9yIH0gZnJvbSBcIi4vR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnQ29sbGVjdG9yIH0gZnJvbSBcIi4vdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9TcEd0bVRhZ0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25uZXh0R3RtVGFnQ29sbGVjdG9yIH0gZnJvbSBcIi4vdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL0Nvbm5leHRHdG1UYWdDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHdG1UYWdDb2xsZWN0b3JGYWN0b3J5IGV4dGVuZHMgRmFjdG9yeSB7XHJcbiAgICBwcml2YXRlIGNvbGxlY3RvclR5cGU6IEd0bVRhZ0NvbGxlY3RvcjtcclxuICAgIHByaXZhdGUgY29sbGVjdG9yO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQ29sbGVjdG9yRmFjdG9yeVwiKTtcclxuICAgIHB1YmxpYyBjb2xsZWN0TWV0YVRhZ3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xsZWN0b3I6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0b3IgPSBjb2xsZWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZUNvbGxlY3RvcigpOiBHdG1UYWdDb2xsZWN0b3Ige1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjb2xsZWN0b3IgPSB0aGlzLmNvbGxlY3RvcjtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDcmVhdGluZyBDb2xsZWN0b3I6IFwiLCBjb2xsZWN0b3IpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNvbGxlY3Rvci50b1VwcGVyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbGxlY3RvclR5cGVzLkNvbm5leHQudG9VcHBlckNhc2UoKTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RvclR5cGUgPSBuZXcgQ29ubmV4dEd0bVRhZ0NvbGxlY3RvcigpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbGxlY3RvclR5cGVzLlNQLnRvVXBwZXJDYXNlKCk6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0b3JUeXBlID0gbmV3IFNwR3RtVGFnQ29sbGVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTm90IGEgdmFsaWQgY29sbGVjdG9yXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0b3JUeXBlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnQ29sbGVjdG9yRmFjdG9yeS50cyIsImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3JGYWN0b3J5IH0gZnJvbSBcIi4vR3RtVGFnQ29sbGVjdG9yRmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBJbml0T3B0aW9ucyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvSW5pdE9wdGlvbnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHdG1UYWdDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJHdG1UYWdNb2R1bGVcIik7XHJcbiAgICBwdWJsaWMgc2V0dXAob3B0aW9uczogSW5pdE9wdGlvbnMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgY29sbGVjdG9ycyA9IG9wdGlvbnMuY29sbGVjdG9ycztcclxuXHJcbiAgICAgICAgICAgIGNvbGxlY3RvcnMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsZWN0b3JUeXBlID0gbmV3IEd0bVRhZ0NvbGxlY3RvckZhY3RvcnkoaXRlbSkuY3JlYXRlQ29sbGVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiQCBmb3JFYWNoLkNvbGxlY3RvciA9IGNvbGxlY3RvclR5cGVcIiwgY29sbGVjdG9yVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxlY3RvclR5cGUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3RvclR5cGUucmVnaXN0ZXJUYWdFdmVudHMoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBjb25zdCBHdG1UYWdNb2R1bGUgPSBuZXcgR3RtVGFnQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdNb2R1bGUudHMiLCJpbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi4vLi4vR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIFJlZ2lzdGVyZWRUYWdFdmVudHMgZnJvbSBcIi4vZXZlbnRzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0R3RtVGFnQ29sbGVjdG9yIGV4dGVuZHMgR3RtVGFnQ29sbGVjdG9yIHtcclxuICAgIGV2ZW50czogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBSZWdpc3RlcmVkVGFnRXZlbnRzO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL0Nvbm5leHRHdG1UYWdDb2xsZWN0b3IudHMiLCJpbXBvcnQgeyBNZXRlclN0b3BUYWdFdmVudCB9IGZyb20gXCIuL01ldGVyU3RvcFRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBCYXNlQWN0aW9uVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L3RhZ3MvQWN0aW9uVGFnc1wiO1xyXG5pbXBvcnQgeyBBY3Rpb25UeXBlLCBBY3Rpb25UeXBlRGljdCwgQWN0aW9uVHlwZXMgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvQWN0aW9uTW9kZWxzXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25TaG93blRhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkFjdGlvblNob3duXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwiYWN0aW9uU2hvd25cIjtcclxuICAgIHByaXZhdGUgYWN0aW9uVHlwZTtcclxuICAgIHByaXZhdGUgYWN0aW9uU2hvd1RhZztcclxuICAgIHByaXZhdGUgc2VuZERhdGE7XHJcblxyXG4gICAgc2V0T3JpZ2luYWxFdmVudERhdGEoZGF0YTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5zZW5kVGFnTmFtZSA9IFwiYWN0aW9uU2hvd25cIjtcclxuICAgICAgICBzdXBlci5zZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhKTtcclxuICAgICAgICBsZXQgZXZlbnREYXRhID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGE7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25UeXBlID0gdGhpcy5nZXRBY3Rpb25UeXBlKGV2ZW50RGF0YSA/IGV2ZW50RGF0YS5BY3Rpb25UeXBlSWQgOiBcIlwiKTtcclxuICAgICAgICB0aGlzLmFjdGlvblNob3dUYWcgPSB0aGlzLmdldEFjdGlvblNob3dUYWcoKTtcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb25UeXBlID09PSBBY3Rpb25UeXBlcy5QYXl3YWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJJcyBQYXl3YWxsXCIpO1xyXG4gICAgICAgICAgICBuZXcgTWV0ZXJTdG9wVGFnRXZlbnQoKS5zZW5kVGFnVG9BbmFsaXRjcyhudWxsLCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmFjdGlvblNob3dUYWcpKTsgLy8gZ2xvYmFsIGFycmF5IHN0b3JlcyBsaW5rXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2VuZERhdGEgPSB0aGlzLmFjdGlvblNob3dUYWc7XHJcbiAgICB9O1xyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFnTmFtZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb25UeXBlICE9PSBBY3Rpb25UeXBlcy5QYXl3YWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJOT1QgUGF5d2FsbFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFRhZ05hbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRBY3Rpb25TaG93VGFnKCk6IGFueSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInByb2Nlc3NpbmcuLi5cIiwgZXZlbnREYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb25UeXBlID0gZXZlbnREYXRhLkFjdGlvblR5cGUgfHwgdGhpcy5nZXRBY3Rpb25UeXBlKGV2ZW50RGF0YS5BY3Rpb25UeXBlSWQpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci53YXJuKFwiQWN0aW9uVHlwZVwiLCB0aGlzLmFjdGlvblR5cGUpO1xyXG4gICAgICAgICAgICBsZXQgcGFyc2VkVXNlckRlZmluZWREYXRhID0gVXRpbHMucGFyc2VKc29uKGV2ZW50RGF0YS5Vc2VyRGVmaW5lZERhdGEpO1xyXG4gICAgICAgICAgICBsZXQgdXNlckRlZmluZWREYXRhO1xyXG4gICAgICAgICAgICBpZiAocGFyc2VkVXNlckRlZmluZWREYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJEZWZpbmVkRGF0YSA9IHBhcnNlZFVzZXJEZWZpbmVkRGF0YS5kYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBiYXNlIHRhZyBub3csIGFuZCB0aGVuIHdlIGNhbiBwYXNzIHRoaXMgaW50byBlaXRoZXIgaGFuZGxlQWN0aW9uU2hvd24gb3IgaGFuZGxlUGF5d2FsbC5cclxuICAgICAgICAgICAgbGV0IGJhc2VBY3Rpb25TaG93blRhZyA9IDxCYXNlQWN0aW9uVGFnPntcclxuICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IGV2ZW50RGF0YS5OYW1lLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uRGVzY3JpcHRpb246IGV2ZW50RGF0YS5EZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIGFjdGlvblR5cGU6IHRoaXMuYWN0aW9uVHlwZSxcclxuICAgICAgICAgICAgICAgIHVzZXJEZWZpbmVkRGF0YTogSlNPTi5zdHJpbmdpZnkodXNlckRlZmluZWREYXRhKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJCYXNlIEFjdGlvbiBTaG93biBUYWdcIiwgYmFzZUFjdGlvblNob3duVGFnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJhc2VBY3Rpb25TaG93blRhZztcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEFjdGlvblR5cGUodHlwZTogbnVtYmVyKTogQWN0aW9uVHlwZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJnZXRBY3Rpb25UeXBlXCIsIHR5cGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gQWN0aW9uVHlwZURpY3RbdHlwZV07XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL0FjdGlvblNob3duVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDb25uZXh0VXNlclN0YXRlIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRob3JpemVkVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQXV0aG9yaXplZFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLmF1dGhvcml6ZWQ7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImhhbmRsZVVzZXJTdGF0ZVwiLCBcImV2ZW50XCIsIFwiZGF0YVwiLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5zZXRVc2VyU3RhdGUodGhpcy5zZW5kVGFnTmFtZSwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL0F1dGhvcml6ZWRUYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgQ29ubmV4dE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ2xpY2tBY3Rpb25UYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvdGFncy9DbGlja0FjdGlvblRhZ1wiO1xyXG5pbXBvcnQgeyBDbGlja1V0aWxzIH0gZnJvbSBcIkBVdGlscy9DbGlja1V0aWxzXCI7XHJcbmltcG9ydCB7IENsaWNrQWN0aW9uTW9kZWwgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvQ2xpY2tBY3Rpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBDbGlja0V2ZW50TmFtZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2xpY2tUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiY2xpY2tcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJjbGlja1wiO1xyXG4gICAgY2xpY2tlZEVsZW1lbnQ7XHJcbiAgICBtZzJhdHRyOiBzdHJpbmc7XHJcbiAgICBhbGxvd2VkQXR0cnMgPSBbXHJcbiAgICAgICAgQ2xpY2tFdmVudE5hbWUuTG9naW4sXHJcbiAgICAgICAgQ2xpY2tFdmVudE5hbWUuQWN0aXZhdGUsXHJcbiAgICAgICAgQ2xpY2tFdmVudE5hbWUuUmVnaXN0ZXIsXHJcbiAgICAgICAgQ2xpY2tFdmVudE5hbWUuTG9nb3V0LFxyXG4gICAgICAgIENsaWNrRXZlbnROYW1lLlN1YnNjcmliZVxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyRnVuY3Rpb24gPSBmdW5jdGlvbihlOiBDdXN0b21FdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkNsaWNrIEV2ZW50XCIsIGUsIFwiZS50YXJnZXRcIiwgZS50YXJnZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrZWRFbGVtZW50ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMubWcyYXR0ciA9IENsaWNrVXRpbHMuZ2V0RXZlbnROYW1lKHRoaXMuY2xpY2tlZEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxvd2VkQXR0cnMuaW5kZXhPZih0aGlzLm1nMmF0dHIpICE9PSAtMTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCk6IGFueSB7XHJcbiAgICAgICAgbGV0IGFjdGlvbkRhdGE6ICBDbGlja0FjdGlvbk1vZGVsID0gQ29ubmV4dE1vZHVsZS5nZXRBY3Rpb25EYXRhRnJvbUVsZW1lbnQodGhpcy5jbGlja2VkRWxlbWVudCk7XHJcbiAgICAgICAgY29uc3QgY29udmVyc2F0aW9uID0gQ29ubmV4dE1vZHVsZS5nZXRDdXJyZW50Q29udmVyc2F0aW9uKCkgYXMgeyBJZDogbnVtYmVyLCBOYW1lOiBzdHJpbmcgfTtcclxuICAgICAgICBjb25zdCBhcnRpY2xlVmlld3MgPSBDb25uZXh0TW9kdWxlLkdldEN1cnJlbnRDb252ZXJzYXRpb25WaWV3Q291bnQoKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSA8Q2xpY2tBY3Rpb25UYWc+e1xyXG4gICAgICAgICAgICBDbGlja0FjdGlvbjogdGhpcy5tZzJhdHRyLFxyXG4gICAgICAgICAgICBBY3Rpb25OYW1lOiBhY3Rpb25EYXRhPy5BY3Rpb25OYW1lIHx8IG51bGwsXHJcbiAgICAgICAgICAgIEFjdGlvbklkOiBhY3Rpb25EYXRhPy5BY3Rpb25JZCB8fCBudWxsLFxyXG4gICAgICAgICAgICBCdXR0b25UZXh0OiB0aGlzLmNsaWNrZWRFbGVtZW50LnRleHRDb250ZW50IHx8IHRoaXMuY2xpY2tlZEVsZW1lbnQuaW5uZXJUZXh0LFxyXG4gICAgICAgICAgICBDb252ZXJzYXRpb25OYW1lOiBjb252ZXJzYXRpb24uTmFtZSxcclxuICAgICAgICAgICAgQXJ0aWNsZVZpZXdzOiBhcnRpY2xlVmlld3MgIT09IG51bGwgPyBhcnRpY2xlVmlld3MgKyBcIlwiIDogbnVsbFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvQ2xpY2tUYWdFdmVudC50cyIsImltcG9ydCB7IENvbnZlcnNhdGlvblRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC90YWdzL0NvbnZlcnNhdGlvblRhZ1wiO1xyXG5pbXBvcnQgeyBDb25uZXh0R3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgTWV0ZXJTdGFydFRhZ0V2ZW50IH0gZnJvbSBcIi4vTWV0ZXJTdGFydFRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkNvbnZlcnNhdGlvbkRldGVybWluZWRcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJjb252ZXJzYXRpb25EZXRlcm1pbmVkXCI7XHJcbiAgICBwcml2YXRlIGNvbnZlcnNhdGlvblRhZztcclxuICAgIHByaXZhdGUgY29udmVyc2F0aW9uO1xyXG4gICAgcHJpdmF0ZSBwcm9wZXJ0aWVzO1xyXG5cclxuICAgIHNldE9yaWdpbmFsRXZlbnREYXRhKGRhdGEpIHtcclxuICAgICAgICBzdXBlci5zZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInByb2Nlc3NpbmcuLi5cIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udmVyc2F0aW9uVGFnKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTWV0ZXJTdGFydCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXRlclN0YXJ0VGFnKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udmVyc2F0aW9uVGFnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q29udmVyc2F0aW9uVGFnKCk6IGFueSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJzYXRpb24gPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkNvbnZlcnNhdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gdGhpcy5jb252ZXJzYXRpb24gID8gKHRoaXMuY29udmVyc2F0aW9uLlByb3BzIHx8IHRoaXMuY29udmVyc2F0aW9uLlByb3BlcnRpZXMpIDoge307XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiaGFuZGxlQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFwiLCBcImNvbnZlcnNhdGlvbkRhdGFcIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOlxyXG4gICAgICAgICAgICAvLyBsZXQgZGF0YSA9IHRoaXMuY29udmVyc2F0aW9uZGF0YTtcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlU3RhcnRlZCA9IG5ldyBEYXRlKGRhdGEuUHJvcHMuRGF0ZS5zdGFydGVkKTtcclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVFeHBpcmF0aW9uID0gbmV3IERhdGUoZGF0YS5Qcm9wcy5EYXRlLmV4cGlyYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVTdGFydGVkID0gbmV3IERhdGUoZGF0YS5Qcm9wcy5EYXRlLnN0YXJ0ZWQpLnRvTG9jYWxlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlRXhwaXJhdGlvbiA9IG5ldyBEYXRlKGRhdGEuUHJvcHMuRGF0ZS5leHBpcmF0aW9uKS50b0xvY2FsZVN0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVTdGFydGVkID0gXCIyMDE4MDYyNFwiO1xyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZUV4cGlyYXRpb24gPSBcIjIwMTgwNjI2XCI7XHJcbiAgICAgICAgICAgIGxldCBkYXRlU3RhcnRlZCwgZGF0ZUV4cGlyYXRpb247XHJcbiAgICAgICAgICAgIGxldCBkYXRlUHJvcGVydGllcyA9IHRoaXMucHJvcGVydGllcy5EYXRlO1xyXG4gICAgICAgICAgICBpZiAoZGF0ZVByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVTdGFydGVkID0gbmV3IERhdGUoZGF0ZVByb3BlcnRpZXMuU3RhcnRlZCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAtNSkgKyBcIlpcIjtcclxuICAgICAgICAgICAgICAgIGRhdGVFeHBpcmF0aW9uID0gZGF0ZVByb3BlcnRpZXMuRXhwaXJhdGlvbiA/IChuZXcgRGF0ZShkYXRlUHJvcGVydGllcy5FeHBpcmF0aW9uKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIC01KSArIFwiWlwiKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRvVVRDU3RyaW5nKClcclxuICAgICAgICAgICAgLy8gMjAxNi0wMS0xNyAwODo0NDoyOVxyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZVN0YXJ0ZWQgPSBkYXRhLlByb3BzLkRhdGUuc3RhcnRlZDtcclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVFeHBpcmF0aW9uID0gZGF0YS5Qcm9wcy5EYXRlLmV4cGlyYXRpb247XHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgY29udmVyc2F0aW9uVGFnLlxyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvblRhZyA9IDxDb252ZXJzYXRpb25UYWc+e1xyXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uTmFtZTogdGhpcy5jb252ZXJzYXRpb24uTmFtZSxcclxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblZpZXdzOiAodGhpcy5wcm9wZXJ0aWVzLlZpZXdzID09PSAwKSA/IDEgOiB0aGlzLnByb3BlcnRpZXMuVmlld3MsIC8vIGZpeCBmb3IgYSBjb25uZXh0IGJ1ZyB3aGVyZSBpZiBmaXJzdCBjb252ZXJzYXRpb24gdmlldyBpcyBhIG5vbi1tZXRlcmVkIGNvbnZvIHRoZW4gZmlyc3QgbWV0ZXJlZCBjb252byB3aWxsIGhhdmUgYXJ0aWNsZXZpZXcgPSAwLlxyXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uVmlld3NMZWZ0OiB0aGlzLnByb3BlcnRpZXMuQXJ0aWNsZUxlZnQsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25QYXl3YWxsTGltaXQ6IHRoaXMucHJvcGVydGllcy5QYXl3YWxsTGltaXQsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25EYXRlU3RhcnRlZDogZGF0ZVN0YXJ0ZWQsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25EYXRlRXhwaXJhdGF0aW9uOiBkYXRlRXhwaXJhdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJDb252ZXJzYXRpb25UYWdcIiwgdGhpcy5jb252ZXJzYXRpb25UYWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNNZXRlclN0YXJ0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWV3cyA9IHRoaXMucHJvcGVydGllcy5WaWV3cztcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oXCJpc01ldGVyU3RhcnQgLS0gdmlld3NcIiwgZGF0YS5Qcm9wcy52aWV3cy50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIC8vIG9yIHN0YXRlbWVudCBpcyBmaXggZm9yIGEgY29ubmV4dCBidWcgd2hlcmUgaWYgZmlyc3QgY29udmVyc2F0aW9uIHZpZXcgaXMgYSBub24tbWV0ZXJlZCBjb252byB0aGVuIGZpcnN0IG1ldGVyZWQgY29udm8gd2lsbCBoYXZlIGFydGljbGV2aWV3ID0gMC5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoKHZpZXdzID09PSAxIHx8IHZpZXdzID09PSAwKSAmJiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLk1ldGVyTGV2ZWxJZCA9PT0gMikgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VuZE1ldGVyU3RhcnRUYWcoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJoYW5kbGVNZXRlclN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAvLyBzaW5jZSBhbGwgQ29udmVyc2F0aW9uIERMVidzIGFyZSBzZXQgaW4gaGFuZGxlQ29udmVyc2F0aW9uRGV0ZXJtaW5lZCBhbmQgYXMgb2Ygbm93IHdlIGRvbid0IG5lZWQgZXh0cmEgZGF0YSBmb3IgTWV0ZXJTdGFydCwganVzdCBzZW5kIGVtcHR5IHBheWxvYWQuXHJcbiAgICAgICAgICAgIG5ldyBNZXRlclN0YXJ0VGFnRXZlbnQoKS5zZW5kVGFnVG9BbmFsaXRjcygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ29ubmV4dFVzZXJTdGF0ZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9kYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2RhdGEvc2VydmljZXMvVXNlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhhc0FjY2Vzc1RhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkhhc0FjY2Vzc1wiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLmhhc0FjY2VzcztcclxuICAgIHByaXZhdGUgdXNlclNlcnZpY2U6IFVzZXJTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy51c2VyU2VydmljZSA9IFVzZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRUYWdUb0FuYWxpdGNzKHRhZ05hbWU/LCB0YWdEYXRhPykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiaGFuZGxlVXNlclN0YXRlXCIsIFwiZXZlbnRcIiwgXCJkYXRhXCIsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJTZXJ2aWNlLnNldFVzZXJTdGF0ZSh0aGlzLnNlbmRUYWdOYW1lLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvSGFzQWNjZXNzVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBNZXRlckxldmVsRGljdCwgTWV0ZXJMZXZlbCB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9NZXRlckxldmVsTW9kZWxzXCI7XHJcbmltcG9ydCB7IE1ldGVyTGV2ZWxEZXRlcm1pbmVkVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L3RhZ3MvTWV0ZXJMZXZlbERldGVybWluZWRUYWdcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGVyTGV2ZWxTZXRUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25NZXRlckxldmVsU2V0XCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwibWV0ZXJMZXZlbFNldFwiO1xyXG5cclxuICAgIHB1YmxpYyBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiKysrKyBwcm9jZXNzaW5nLi4uXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gPE1ldGVyTGV2ZWxEZXRlcm1pbmVkVGFnPntcclxuICAgICAgICAgICAgICAgIG1ldGVyTGV2ZWw6IHRoaXMub3JpZ2luYWxFdmVudERhdGEuTWV0ZXJMZXZlbCxcclxuICAgICAgICAgICAgICAgIG1ldGVyTGV2ZWxEZXRlcm1pbmVNZXRob2Q6IGRhdGEuTWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgbWV0ZXJSdWxlTmFtZTogKGRhdGEuUnVsZSkgPyBkYXRhLlJ1bGUuTmFtZSA6IFwiTm8gUnVsZVwiXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL01ldGVyTGV2ZWxTZXRUYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvaW50ZXJmYWNlcy9FbWFpbFByZWZlcmVuY2VJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOZXdzbGV0dGVyU2lnblVwVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTmV3c2xldHRlclNpZ25VcFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm5ld3NsZXR0ZXJTaWdudXBcIjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbFByZWZlcmVuY2VJZDogdGhpcy5nZXRFbWFpbFByZWZlcmVuY2VJZHMoZGF0YS5FdmVudERhdGEpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFbWFpbFByZWZlcmVuY2VJZHMoZXZlbnREYXRhOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChldmVudERhdGEuRW1haWxQcmVmZXJlbmNlSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VJZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgZW1haWxQcmVmZXJlbmNlc0lkcyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudERhdGEuRW1haWxQcmVmZXJlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzLmZvckVhY2goKGVtYWlsUHJlZmVyZW5jZTogRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWxQcmVmZXJlbmNlc0lkcy5wdXNoKGVtYWlsUHJlZmVyZW5jZS5JZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW1haWxQcmVmZXJlbmNlc0lkcy5qb2luKFwiLFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9OZXdzbGV0dGVyU2lnblVwVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDb25uZXh0VXNlclN0YXRlIH0gZnJvbSBcIi4vLi4vLi4vLi4vLi4vLi4vZGF0YS9tb2RlbHMvY29tbW9uL1VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9kYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RBdXRob3JpemVkVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTm90QXV0aG9yaXplZFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLm5vdEF1dGhvcml6ZWQ7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImhhbmRsZVVzZXJTdGF0ZVwiLCBcImRhdGFcIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2Uuc2V0VXNlclN0YXRlKHRoaXMuc2VuZFRhZ05hbWUsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9Ob3RBdXRob3JpemVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBDb25uZXh0R3RtVGFnRXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT25Jbml0VGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uSW5pdFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm9uSW5pdFwiO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9PbkluaXRUYWdFdmVudC50cyIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlVmlld1RhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkZpbmlzaFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInBhZ2VWaWV3XCI7XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL1BhZ2VWaWV3VGFnRXZlbnQudHMiLCJleHBvcnQgeyBNZXRlckxldmVsU2V0VGFnRXZlbnQgfSBmcm9tIFwiLi9NZXRlckxldmVsU2V0VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQWN0aW9uU2hvd25UYWdFdmVudCB9IGZyb20gXCIuL0FjdGlvblNob3duVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50IH0gZnJvbSBcIi4vQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE1ldGVyU3RhcnRUYWdFdmVudCB9IGZyb20gXCIuL01ldGVyU3RhcnRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBNZXRlclN0b3BUYWdFdmVudCB9IGZyb20gXCIuL01ldGVyU3RvcFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE9uSW5pdFRhZ0V2ZW50IH0gZnJvbSBcIi4vT25Jbml0VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgUGFnZVZpZXdUYWdFdmVudCB9IGZyb20gXCIuL1BhZ2VWaWV3VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgTmV3c2xldHRlclNpZ25VcFRhZ0V2ZW50IH0gZnJvbSBcIi4vTmV3c2xldHRlclNpZ25VcFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IEhhc0FjY2Vzc1RhZ0V2ZW50IH0gZnJvbSBcIi4vSGFzQWNjZXNzVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQXV0aG9yaXplZFRhZ0V2ZW50IH0gZnJvbSBcIi4vQXV0aG9yaXplZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE5vdEF1dGhvcml6ZWRUYWdFdmVudCB9IGZyb20gXCIuL05vdEF1dGhvcml6ZWRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBDbGlja1RhZ0V2ZW50IH0gZnJvbSBcIi4vQ2xpY2tUYWdFdmVudFwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvaW5kZXgudHMiLCJpbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi4vLi4vR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIFJlZ2lzdGVyZWRUYWdFdmVudHMgZnJvbSBcIi4vZXZlbnRzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBTcEd0bVRhZ0NvbGxlY3RvciAgZXh0ZW5kcyBHdG1UYWdDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFJlZ2lzdGVyZWRUYWdFdmVudHM7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL1NwR3RtVGFnQ29sbGVjdG9yLnRzIiwiXHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmlsbGluZ0FkZHJlc3NDb21wbGV0ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImJpbGxpbmdfYWRkcmVzc19jb21wbGV0ZWRfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLkJpbGxpbmdBZGRyZXNzQ29tcGxldGVkXCI7XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgQ2hlY2tvdXRTdGFydFRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvc3AvdGFncy9UYWdNb2RlbHNcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja291dFN0YXJ0VGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJwcmVzZW50YXRpb25fbG9hZGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5DaGVja291dFN0YXJ0XCI7XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgY29uc3QgZm5OYW1lID0gXCJnZXRTZW5kVGFnRGF0YVwiO1xyXG4gICAgICAgIGxldCBwaWQ7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImV2ZW50XCIsIFwiZGF0YVwiLCBkYXRhKTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEucHJvbW90aW9uc0xpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcIkhhcyBQcm9tb3Rpb25zTGlzdFwiKTtcclxuICAgICAgICAgICAgcGlkID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGRhdGEucHJvbW90aW9uc0xpc3QsIHMgPT4gcy5waWQpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJIYXMgUHJvbW90aW9uc0xpc3QucGlkTGlzdFwiLCBwaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICBsZXQgdGFnRGF0YSA9IDxDaGVja291dFN0YXJ0VGFnPntcclxuICAgICAgICAgICAgc3BfcGlkOiBwaWRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnBhcmFtcyAmJiBkYXRhLnBhcmFtcy5wcmVzZW50YXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ3JlYXRlQ2hlY2tvdXRTdGFydFRhZ1wiLCBcIkhhcyBQcmVzZW50YXRpb24gUGFyYW1zXCIpO1xyXG4gICAgICAgICAgICB0YWdEYXRhW1wic3BfcHJlc2VudGF0aW9uTmFtZVwiXSA9IGRhdGEucGFyYW1zLnByZXNlbnRhdGlvbk5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJ0YWdEYXRhID0+XCIsIHRhZ0RhdGEpO1xyXG4gICAgICAgIHJldHVybiB0YWdEYXRhO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvQ2hlY2tvdXRTdGFydFRhZ0V2ZW50LnRzIiwiaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVhdGVkTmV3VXNlcnRhZ0V2ZW50IGV4dGVuZHMgU3BHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiY3JlYXRlZF9uZXdfdXNlcl9lXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwic3AuQ3JlYXRlZE5ld1VzZXJcIjtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0NyZWF0ZWROZXdVc2VydGFnRXZlbnQudHMiLCJpbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImRlbGl2ZXJ5X2FkZHJlc3NfY29tcGxldGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5EZWxpdmVyeUFkZHJlc3NDb21wbGV0ZWRcIjtcclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0RlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZC50cyIsImltcG9ydCB7IE9mZmVyU2VsZWN0ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyVGFnTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlclNlbGVjdGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvZmZlcl9zZWxlY3RlZF9lXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwic3AuT2ZmZXJTZWxlY3RlZFwiO1xyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIGNvbnN0IGZuTmFtZSA9IFwiW3Byb2Nlc3MuLi5PZmZlclNlbGVjdGVkXVwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJkYXRhXCIsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgICAgICBjb25zdCBvZmZlclRhZ0RhdGEgPSBuZXcgT2ZmZXJUYWdNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyKTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICAgICAgcmV0dXJuIDxPZmZlclNlbGVjdGVkVGFnPntcclxuICAgICAgICAgICAgICAgIHNwX29mZmVySWQ6IG9mZmVyVGFnRGF0YS5JZCxcclxuICAgICAgICAgICAgICAgIHNwX29mZmVyUGxhbk5hbWU6IG9mZmVyVGFnRGF0YS5QbGFuTmFtZSxcclxuICAgICAgICAgICAgICAgIHNwX29mZmVyUHJpY2U6IG9mZmVyVGFnRGF0YS5Ub3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJUeXBlOiBvZmZlclRhZ0RhdGEuVHlwZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9PZmZlclNlbGVjdGVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBPZmZlcnNQcmVzZW50ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5pbXBvcnQgeyBPZmZlclRhZ01vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9zcC9PZmZlclRhZ01vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvZmZlcnNfcHJlc2VudGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5PZmZlcnNQcmVzZW50ZWRcIjtcclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICBjb25zdCBwbGFuRGF0YSA9IHRoaXMuZ2V0UGxhbklkcyh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVycyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIDxPZmZlcnNQcmVzZW50ZWRUYWc+e1xyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJJZHM6IHBsYW5EYXRhLnBsYW5JZHMsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclBsYW5OYW1lczogcGxhbkRhdGEucGxhbk5hbWVzLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQbGFuQ29uY2F0OiBwbGFuRGF0YS5wbGFuc0NvbmNhdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRQbGFuSWRzKG9mZmVycyl7XHJcbiAgICAgICAgbGV0IHBsYW5JZHMgPSBbXSxcclxuICAgICAgICAgICAgcGxhbk5hbWVzID0gW10sXHJcbiAgICAgICAgICAgIHBsYW5zQ29uY2F0ID0gW107XHJcblxyXG4gICAgICAgIGlmKG9mZmVycyl7XHJcbiAgICAgICAgICAgIG9mZmVycy5mb3JFYWNoKG9mZmVyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ09mZmVyID0gbmV3IE9mZmVyVGFnTW9kZWwob2ZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYW5JZHMucHVzaCh0YWdPZmZlci5JZCksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbk5hbWVzLnB1c2godGFnT2ZmZXIuUGxhbk5hbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYW5zQ29uY2F0LnB1c2godGFnT2ZmZXIuSWQgKyBcIjpcIiArIHRhZ09mZmVyLlBsYW5OYW1lKVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwbGFuSWRzOiBwbGFuSWRzLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHBsYW5OYW1lczogcGxhbk5hbWVzLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHBsYW5zQ29uY2F0OiBwbGFuc0NvbmNhdC50b1N0cmluZygpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBQYXltZW50Q29tcGxldGVkVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9zcC90YWdzL1RhZ01vZGVsc1wiO1xyXG5pbXBvcnQgeyBQYXltZW50VHlwZXMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29uc3RhbnRzL1BheW1lbnRUeXBlc1wiO1xyXG5pbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBheW1lbnRDb21wbGV0ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWVzID0gT2JqZWN0LmtleXMoUGF5bWVudFR5cGVzKTtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5QYXltZW50Q29tcGxldGVkXCI7XHJcblxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIGxldCBmbk5hbWUgPSBcIltwcm9jZXNzLi4uUGF5bWVudENvbXBsZXRlZF1cIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcGF5bWVudE1ldGhvZCA9IFBheW1lbnRUeXBlc1t0aGlzLmN1cnJlbnRFdmVudE5hbWVdO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwicGF5bWVudE1ldGhvZFwiLCBwYXltZW50TWV0aG9kKTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICAgICAgcmV0dXJuIDxQYXltZW50Q29tcGxldGVkVGFnPntcclxuICAgICAgICAgICAgICAgIHNwX3BheW1lbnRUeXBlOiBwYXltZW50TWV0aG9kXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9QYXltZW50Q29tcGxldGVkVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBTdWJzY3JpcHRpb25Db21wbGV0ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyVGFnTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhZGRfc3Vic2NyaXB0aW9uX3N1Y2Nlc3NfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLlN1YnNjcmlwdGlvblN1Y2Nlc3NcIjtcclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgR1RNIFRhZ1xyXG4gICAgICAgICAgICBjb25zdCBvZmZlclRhZyA9IG5ldyBPZmZlclRhZ01vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnN1YnNjcmlwdGlvbiB8fCB7fTtcclxuICAgICAgICAgICAgcmV0dXJuIDxTdWJzY3JpcHRpb25Db21wbGV0ZWRUYWc+e1xyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJJZDogb2ZmZXJUYWcuSWQgLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQbGFuTmFtZTogb2ZmZXJUYWcuUGxhbk5hbWUsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclByaWNlOiBvZmZlclRhZy5Ub3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgc3Bfc3ViRXZlbnRJZDogc3Vic2NyaXB0aW9uLkV2ZW50SWQsXHJcbiAgICAgICAgICAgICAgICBzcF9hY2NvdW50TnVtYmVyOiBzdWJzY3JpcHRpb24uQWNjb3VudE51bWJlcixcclxuICAgICAgICAgICAgICAgIHNwX3BheW1lbnRBdXRob3JpemF0aW9uQ29kZTogc3Vic2NyaXB0aW9uLlBheW1lbnRBdXRob3JpemF0aW9uQ29kZSxcclxuICAgICAgICAgICAgICAgIHNwX3N1YlN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uSUQsXHJcbiAgICAgICAgICAgICAgICBzcF9zdWJTdWJzY3JpYmVySWQ6IHN1YnNjcmlwdGlvbi5TdWJzY3JpYmVySUQsXHJcbiAgICAgICAgICAgICAgICBzcF9yZWRpcmVjdFVybDogc3Vic2NyaXB0aW9uLlJlZGlyZWN0VXJsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9TdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQudHMiLCJpbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvQ29tcGxldGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1c2VyX2luZm9fY29tcGxldGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5Vc2VySW5mb0NvbXBsZXRlZFwiO1xyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudC50cyIsImV4cG9ydCB7IEJpbGxpbmdBZGRyZXNzQ29tcGxldGVkVGFnRXZlbnQgfSBmcm9tIFwiLi9CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IENoZWNrb3V0U3RhcnRUYWdFdmVudCB9IGZyb20gXCIuL0NoZWNrb3V0U3RhcnRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBDcmVhdGVkTmV3VXNlcnRhZ0V2ZW50IH0gZnJvbSBcIi4vQ3JlYXRlZE5ld1VzZXJ0YWdFdmVudFwiO1xyXG5leHBvcnQgeyBEZWxldmVyeUFkZHJlc3NDb21wbGV0ZWQgfSBmcm9tIFwiLi9EZWxldmVyeUFkZHJlc3NDb21wbGV0ZWRcIjtcclxuZXhwb3J0IHsgT2ZmZXJTZWxlY3RlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vT2ZmZXJTZWxlY3RlZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE9mZmVyc1ByZXNlbnRlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgUGF5bWVudENvbXBsZXRlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vUGF5bWVudENvbXBsZXRlZFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IFN1YnNjcmlwdGlvblN1Y2Nlc3NUYWdFdmVudCB9IGZyb20gXCIuL1N1YnNjcmlwdGlvblN1Y2Nlc3NUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBVc2VySW5mb0NvbXBsZXRlZFRhZ0V2ZW50IH0gZnJvbSBcIi4vVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudFwiO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL2luZGV4LnRzIiwiZXhwb3J0IGNsYXNzIERvbUNsYXNzIHtcclxuICAgIGZpbmRBbmNlc3RvcihlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHJldHVybjtcclxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSAmJiAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEb20gPSBuZXcgRG9tQ2xhc3MoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9jb3JlL2RvbS9Eb20udHMiLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ29va2llIH0gZnJvbSBcIkBVdGlscy9jb29raWUvQ29va2llXCI7XHJcbmltcG9ydCB7IFByb3h5U2VydmljZSB9IGZyb20gXCJAVXRpbHMvcHJveHkvUHJveHlTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFByb3h5U2V0dGluZ3NNb2RlbCB9IGZyb20gXCJAVXRpbHMvcHJveHkvbW9kZWxzXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0luZGV4XCI7XHJcbmltcG9ydCB7IFdvcmtmbG93TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL3dvcmtmbG93TW9kZU1vZHVsZS9Xb3JrZmxvd01vZHVsZVwiO1xyXG5pbXBvcnQgeyBGTE9XX01PREVfVFlQRVMgfSBmcm9tIFwiQE1vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL21vZGVsc1wiO1xyXG5cclxudHlwZSBFbmdhZ2VEYXRhID0ge1xyXG4gICAgQUJHcm91cDogc3RyaW5nLFxyXG4gICAgQUJHcm91cE5hbWU6IHN0cmluZyxcclxuICAgIEFCRXhwZXJpbWVudElkOiBudW1iZXIgfCBzdHJpbmcsXHJcbiAgICBBQkV4cGVyaW1lbnROYW1lOiBzdHJpbmdcclxufTtcclxuXHJcbmNsYXNzIEFCTW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBjb29raWVLZXk6IHN0cmluZyA9IFwibnh0X2FiX3Rlc3RcIjtcclxuICAgIHByaXZhdGUgbWlzY1ByZWZpeDogc3RyaW5nID0gXCJNaXNjRW5nYWdlXCI7XHJcbiAgICBwcml2YXRlIGxhc3RFeHBlcmltZW50SWQ6IHN0cmluZyB8IG51bWJlcjtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkFCTW9kdWxlXCIpO1xyXG5cclxuICAgIGFkZE1pc2MoZXZlbnRMaXN0ZW5lcjogQ2RwRXZlbnQpOiBhbnkge1xyXG4gICAgICAgIGlmICghV29ya2Zsb3dNb2R1bGUuZ2V0TW9kZUVuYWJsZWQoRkxPV19NT0RFX1RZUEVTLkVuZ2FnZUFCRXhwZXJpbWVudHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBldmVudExpc3RlbmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWV0aG9kID0gQ2RwRXZlbnQucHJvdG90eXBlLmdldEV2ZW50TW9kZWwubmFtZSB8fCBcImdldEV2ZW50TW9kZWxcIjtcclxuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZ3M6IFByb3h5U2V0dGluZ3NNb2RlbCA9IHtcclxuICAgICAgICAgICAgdGFyZ2V0OiBtZXRob2QsXHJcbiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChvcmlnaW5hbE1ldGhvZDogRnVuY3Rpb24sIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRNb2RlbDogQ2RwRXZlbnRNb2RlbCA9IG9yaWdpbmFsTWV0aG9kLmFwcGx5KG51bGwsIGFyZ3MpOyAvLyBjb250ZXh0IGFscmVhZHkgYmluZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMucHVzaEV2ZW50RGF0YShldmVudE1vZGVsKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnB1c2hHQSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50TW9kZWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBQcm94eVNlcnZpY2UuYXBwbHkoZXZlbnRMaXN0ZW5lciwgc2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RW5nYWdlRGF0YSgpOiBFbmdhZ2VEYXRhIHtcclxuICAgICAgICBsZXQgcmVzdWx0OiBFbmdhZ2VEYXRhID0gbnVsbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSAoPGFueT53aW5kb3cpLk54dElubmVyPy5HZXRBQlRlc3RDb29raWUoKSB8fCAgSlNPTi5wYXJzZShDb29raWUuZ2V0KHRoaXMuY29va2llS2V5KSkgYXMgRW5nYWdlRGF0YTtcclxuICAgICAgICB9IGNhdGNoIChleCkgeyB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHB1c2hFdmVudERhdGEoZXZlbnRNb2RlbDogQ2RwRXZlbnRNb2RlbCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldEVuZ2FnZURhdGEoKTtcclxuICAgICAgICBpZiAoZXZlbnRNb2RlbCAmJiB0aGlzLmlzVmFsaWREYXRhKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IHRoaXMubWlzY1ByZWZpeCArIFwiQUJHcm91cFwiLCBWYWx1ZTogZGF0YS5BQkdyb3VwIH0pO1xyXG4gICAgICAgICAgICBldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiB0aGlzLm1pc2NQcmVmaXggKyBcIkFCRXhwZXJpbWVudElkXCIsIFZhbHVlOiBkYXRhLkFCRXhwZXJpbWVudElkLnRvU3RyaW5nKCkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJwdXNoRXZlbnREYXRhXCIsIGRhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJOT1QgcHVzaEV2ZW50RGF0YVwiLCBcImRhdGFcIiwgZGF0YSwgXCJldmVudE1vZGVsXCIsIGV2ZW50TW9kZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHB1c2hHQSgpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRFbmdhZ2VEYXRhKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWREYXRhKGRhdGEpICYmIHRoaXMubGFzdEV4cGVyaW1lbnRJZCAhPT0gZGF0YS5BQkV4cGVyaW1lbnRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwicHVzaEdBXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJBQlRlc3RpbmdcIiwgZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEV4cGVyaW1lbnRJZCA9IGRhdGEuQUJFeHBlcmltZW50SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNWYWxpZERhdGEoZGF0YTogRW5nYWdlRGF0YSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAhIShkYXRhICYmIGRhdGEuQUJFeHBlcmltZW50SWQgJiYgZGF0YS5BQkV4cGVyaW1lbnROYW1lICYmIGRhdGEuQUJHcm91cCAmJiBkYXRhLkFCR3JvdXBOYW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFCTW9kdWxlID0gbmV3IEFCTW9kdWxlQ2xhc3MoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvYWJNb2R1bGUvRW5nYWdlQUJNb2R1bGUudHMiLCJpbXBvcnQgeyBDb252ZXJzYXRpb25NYW5hZ2VyIH0gZnJvbSBcIi4vQ29udmVyc2F0aW9uTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEb20gfSBmcm9tIFwiQENvcmUvZG9tL0RvbVwiO1xyXG5pbXBvcnQgeyBDbGlja0FjdGlvbk1vZGVsIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L0NsaWNrQWN0aW9uTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25NYW5hZ2VyQ2xhc3Mge1xyXG5cclxuICAgIGdldEluZm9Gcm9tQ2xpY2tlZEVsZW1lbnQoY2xpY2tlZEVsZW1lbnQpOiBDbGlja0FjdGlvbk1vZGVsIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gRG9tLmZpbmRBbmNlc3RvcihjbGlja2VkRWxlbWVudCwgXCJNZzItY29ubmV4dFwiKSxcclxuICAgICAgICAgICAgYWN0aW9uSW5mbyA9IHt9O1xyXG5cclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgY29uc3QgZWxlbWVudElkID0gcGFyZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25JZCA9IHBhcnNlSW50KGVsZW1lbnRJZC5zcGxpdChcIi1cIilbMV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBDb252ZXJzYXRpb25NYW5hZ2VyLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb252ZXJzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gY29udmVyc2F0aW9uLkFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTGVuZ3RoID0gYWN0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3Rpb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLklkID09IGFjdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lID0gYWN0aW9uLk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbmZvW1wiQWN0aW9uSWRcIl0gPSBhY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkluZm9bXCJBY3Rpb25OYW1lXCJdID0gYWN0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPENsaWNrQWN0aW9uTW9kZWw+YWN0aW9uSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFjdGlvbk1hbmFnZXIgPSBuZXcgQWN0aW9uTWFuYWdlckNsYXNzKCk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL2Nvbm5leHRNb2R1bGUvY2xhc3Nlcy9BY3Rpb25NYW5hZ2VyLnRzIiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UsIENPTU1BTkRfVFlQRVMgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5pbXBvcnQgeyBDb21tYW5kTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9jb21tYW5kTW9kZWxzL0NvbW1hbmRNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDb29raWVHZXR0ZXJNb2RlbCB9IGZyb20gXCIuL2NvbW1hbmRNb2RlbHMvQ29va2llR2V0dGVyTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kTW9kZWwgaW1wbGVtZW50cyBNaXNjTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgTWlzY0tleTogc3RyaW5nO1xyXG4gICAgRW5hYmxlR0E6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGV4ZWN1dGluZ01vZGVsOiBDb21tYW5kTW9kZWxJbnRlcmZhY2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogTWlzY09wdGlvbnNJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLk1pc2NLZXkgPSBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgICAgICB0aGlzLnNldHVwKGRhdGEudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXAodmFsdWU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gdmFsdWUgYXMgeyBuYW1lOiBzdHJpbmcsIGFyZ3M/OiBhbnkgfTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChwYXJzZWRWYWx1ZS5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ09NTUFORF9UWVBFUy5HRVRfQ09PS0lFX0JZX05BTUU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGluZ01vZGVsID0gbmV3IENvb2tpZUdldHRlck1vZGVsKHBhcnNlZFZhbHVlLmFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKTogUHJvbWlzZTxDYWxjdWxhdGlvblJlc3VsdE1vZGVsPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmV4ZWN1dGluZ01vZGVsKSByZWplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGluZ01vZGVsLmV4ZWN1dGUoKS50aGVuKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCh0aGlzLk1pc2NLZXksIHZhbHVlLCB0aGlzLkVuYWJsZUdBKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL21pc2NNb2R1bGUvbW9kZWxzL0NvbW1hbmRNb2RlbC50cyIsImltcG9ydCB7IE1pc2NPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9NaXNjT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNaXNjTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9NaXNjTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCB9IGZyb20gXCIuL0NhbGN1bGF0aW9uUmVzdWx0TW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBKYXZhc2NyaXB0TW9kZWwgaW1wbGVtZW50cyBNaXNjTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgTWlzY0tleTogc3RyaW5nO1xyXG4gICAgRXhwcmVzc2lvbjogc3RyaW5nO1xyXG4gICAgRW5hYmxlR0E6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogTWlzY09wdGlvbnNJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5NaXNjS2V5ID0gZGF0YS5rZXk7XHJcbiAgICAgICAgdGhpcy5FeHByZXNzaW9uID0gZGF0YS52YWx1ZSBhcyBzdHJpbmc7XHJcbiAgICAgICAgdGhpcy5FbmFibGVHQSA9IGRhdGEuZW5hYmxlR0E7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpOiBQcm9taXNlPENhbGN1bGF0aW9uUmVzdWx0TW9kZWw+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWV2YWxcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXZhbCh0aGlzLkV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwodGhpcy5NaXNjS2V5LCB2YWx1ZSwgdGhpcy5FbmFibGVHQSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvSmF2YXNjcmlwdE1vZGVsLnRzIiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb21pc2VNb2RlbCBpbXBsZW1lbnRzIE1pc2NNb2RlbEludGVyZmFjZSB7XHJcbiAgICBNaXNjS2V5OiBzdHJpbmc7XHJcbiAgICBQcm9taXNlTmFtZTogc3RyaW5nO1xyXG4gICAgRW5hYmxlR0E6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogTWlzY09wdGlvbnNJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5NaXNjS2V5ID0gZGF0YS5rZXk7XHJcbiAgICAgICAgdGhpcy5Qcm9taXNlTmFtZSA9IGRhdGEudmFsdWUgYXMgc3RyaW5nO1xyXG4gICAgICAgIHRoaXMuRW5hYmxlR0EgPSBkYXRhLmVuYWJsZUdBO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKTogUHJvbWlzZTxDYWxjdWxhdGlvblJlc3VsdE1vZGVsPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB3aW5kb3dbdGhpcy5Qcm9taXNlTmFtZV0gYXMgUHJvbWlzZTxhbnk+O1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZS50aGVuKCh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsKHRoaXMuTWlzY0tleSwgdmFsdWUsIHRoaXMuRW5hYmxlR0EpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvUHJvbWlzZU1vZGVsLnRzIiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdG9yTW9kZWwgaW1wbGVtZW50cyBNaXNjTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgTWlzY0tleTogc3RyaW5nO1xyXG4gICAgU2VsZWN0b3I6IHN0cmluZztcclxuICAgIEF0dHJpYnV0ZTogc3RyaW5nO1xyXG4gICAgRW5hYmxlR0E6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogTWlzY09wdGlvbnNJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5NaXNjS2V5ID0gZGF0YS5rZXk7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBkYXRhLnZhbHVlIGFzIHsgc2VsOiBzdHJpbmcsIGF0dHI/OiBzdHJpbmcgfTtcclxuICAgICAgICB0aGlzLlNlbGVjdG9yID0gcGFyc2VkVmFsdWUuc2VsO1xyXG4gICAgICAgIHRoaXMuQXR0cmlidXRlID0gcGFyc2VkVmFsdWUuYXR0cjtcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCk6IFByb21pc2U8Q2FsY3VsYXRpb25SZXN1bHRNb2RlbD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLlNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5BdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMuQXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwodGhpcy5NaXNjS2V5LCB2YWx1ZSwgdGhpcy5FbmFibGVHQSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvU2VsZWN0b3JNb2RlbC50cyIsImltcG9ydCB7IENvbW1hbmRNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL0NvbW1hbmRNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDb29raWUgfSBmcm9tIFwiQFV0aWxzL2Nvb2tpZS9Db29raWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb29raWVHZXR0ZXJNb2RlbCBpbXBsZW1lbnRzIENvbW1hbmRNb2RlbEludGVyZmFjZSB7XHJcbiAgICBwcml2YXRlIGNvb2tpZU5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb29raWVOYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmNvb2tpZU5hbWUgPSBjb29raWVOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBDb29raWUuZ2V0KHRoaXMuY29va2llTmFtZSkgfHwgbnVsbDtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvY29tbWFuZE1vZGVscy9Db29raWVHZXR0ZXJNb2RlbC50cyIsImltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IERpbWVuc2lvbnNNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9EaW1lbnNpb25zTW9kdWxlXCI7XHJcbmltcG9ydCB7IEFwaUNvbnRlbnRNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvQXBpQ29udGVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENvbnRlbnRNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvQ29udGVudE1vZGVsXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UsIExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUsIFJFSkVDVEVEX1NFUlZJQ0VTIH0gZnJvbSBcIkBNb2R1bGVzL3dvcmtmbG93TW9kZU1vZHVsZS9Xb3JrZmxvd01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRlbnRTZXJ2aWNlQ2xhc3Mge1xyXG4gICAgcGFnZUNvbnRlbnQ6IENvbnRlbnRNb2RlbDtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkFydGljbGVTdG9yYWdlXCIpO1xyXG5cclxuICAgIHB1YmxpYyBnZXRQYWdlQ29udGVudCgpIHtcclxuICAgICAgICB0aGlzLnBhZ2VDb250ZW50ID0gbmV3IENvbnRlbnRNb2RlbChEaW1lbnNpb25zTW9kdWxlLmdldERpbWVuc2lvbnMoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZUNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbnRlbnRFeGlzdHNJbkNkcChjb250ZW50SWQpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBIdHRwU2VydmljZS5nZXQoXCJhcnRpY2xlL2V4aXN0c1wiLCB7IGNvbnRlbnRfaWQ6IGNvbnRlbnRJZCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2VuZENvbnRlbnRJbkNkcChhcnRpY2xlOiBDb250ZW50TW9kZWwsIGFydGljbGVOb3RFeGlzdEFwcHJvdmVkOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3Qgc2VuZERhdGEgPSBuZXcgQXBpQ29udGVudE1vZGVsKGFydGljbGUpO1xyXG5cclxuICAgICAgICBzZW5kRGF0YVtcImFydGljbGVfbm90X2V4aXN0c19hcHByb3ZlZFwiXSA9IGFydGljbGVOb3RFeGlzdEFwcHJvdmVkO1xyXG4gICAgICAgIHNlbmREYXRhW1wic2l0ZV9jb2RlXCJdID0gQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKCk7XHJcbiAgICAgICAgc2VuZERhdGFbXCJjbGllbnRfY29kZVwiXSA9IENvbmZpZ01vZHVsZS5nZXRDbGllbnRDb2RlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBIdHRwU2VydmljZS5wb3N0KFwiYXJ0aWNsZVwiLCBzZW5kRGF0YSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBcnRpY2xlU3RhdHMoY29udGVudElkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBIdHRwU2VydmljZS5nZXQoXCJhcnRpY2xlL3N0YXRzXCIsIHsgY29udGVudF9pZDogY29udGVudElkIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29udGVudFNlcnZpY2UgPSBXb3JrZmxvd01vZHVsZS5hcHBseVJlamVjdHMobmV3IENvbnRlbnRTZXJ2aWNlQ2xhc3MoKSwgUkVKRUNURURfU0VSVklDRVMuQ29udGVudFNlcnZpY2UpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9wbHVnaW4vbW9kdWxlcy9wYWdlTW9kdWxlL2NsYXNzZXMvQ29udGVudFNlcnZpY2UudHMiLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcGlDb250ZW50TW9kZWwge1xyXG4gICAgYXJ0aWNsZV9pZDogc3RyaW5nO1xyXG4gICAgY29udGVudF9pZDogc3RyaW5nO1xyXG4gICAgdGl0bGU6IHN0cmluZztcclxuICAgIGtleXdvcmRzOiBzdHJpbmc7XHJcbiAgICBzZWN0aW9uOiBzdHJpbmc7XHJcbiAgICB1cmw6IHN0cmluZztcclxuICAgIGNvbnRlbnRfdHlwZTogc3RyaW5nO1xyXG4gICAgYXV0aG9yOiBzdHJpbmc7XHJcbiAgICB0YWdzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgbGVhZF9pbWFnZV91cmw6IHN0cmluZztcclxuICAgIHB1Ymxpc2hfZGF0ZTogc3RyaW5nO1xyXG4gICAgcGljdHVyZXM6IG51bWJlcjtcclxuICAgIHZpZGVvOiBudW1iZXI7XHJcbiAgICBsaWtlczogbnVtYmVyO1xyXG4gICAgc2hhcmVzOiBudW1iZXI7XHJcbiAgICBicmVha2luZ19uZXdzOiBib29sZWFuO1xyXG4gICAgcHJlbWl1bTogYm9vbGVhbjtcclxuICAgIGxhbmd1YWdlOiBzdHJpbmc7XHJcbiAgICB0ZXh0OiBzdHJpbmc7XHJcbiAgICBsZWFkX3RleHQ6IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5jb250ZW50X2lkID0gdGhpcy50b1N0cmluZyhkYXRhLkNvbnRlbnRJZCk7XHJcbiAgICAgICAgdGhpcy5hcnRpY2xlX2lkID0gIHRoaXMudG9TdHJpbmcoZGF0YS5hcnRpY2xlX2lkKTtcclxuICAgICAgICB0aGlzLnRpdGxlID0gIHRoaXMudG9TdHJpbmcoZGF0YS5UaXRsZSk7XHJcbiAgICAgICAgdGhpcy5rZXl3b3JkcyA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuS2V5d29yZHMpO1xyXG4gICAgICAgIHRoaXMuc2VjdGlvbiA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuU2VjdGlvbik7XHJcbiAgICAgICAgdGhpcy51cmwgPSBkYXRhLlVybDtcclxuICAgICAgICB0aGlzLmF1dGhvciA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuQXV0aG9yKTtcclxuICAgICAgICB0aGlzLnRhZ3MgPSBkYXRhLlRhZ3MgPyBkYXRhLlRhZ3Muc3BsaXQoXCIsXCIpIDogdGhpcy50YWdzO1xyXG4gICAgICAgIHRoaXMuY29udGVudF90eXBlID0gIHRoaXMudG9TdHJpbmcoZGF0YS5Db250ZW50VHlwZSk7XHJcbiAgICAgICAgdGhpcy5wdWJsaXNoX2RhdGUgPSBkYXRhLlB1Ymxpc2hEYXRlO1xyXG4gICAgICAgIHRoaXMubGVhZF90ZXh0ID0gIHRoaXMudG9TdHJpbmcoZGF0YS5MZWFkVGV4dCk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gIHRoaXMudG9TdHJpbmcoZGF0YS5UZXh0KTtcclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gIHRoaXMudG9TdHJpbmcoZGF0YS5EZXNjcmlwdGlvbik7XHJcbiAgICAgICAgdGhpcy5waWN0dXJlcyA9ICtkYXRhLlBpY3R1cmVzO1xyXG4gICAgICAgIHRoaXMudmlkZW8gPSArZGF0YS5WaWRlbztcclxuICAgICAgICB0aGlzLmxpa2VzID0gK2RhdGEuTGlrZXM7XHJcbiAgICAgICAgdGhpcy5zaGFyZXMgPSArZGF0YS5TaGFyZXM7XHJcbiAgICAgICAgdGhpcy5icmVha2luZ19uZXdzID0gZGF0YS5CcmVha2luZ05ld3M7XHJcbiAgICAgICAgdGhpcy5wcmVtaXVtID0gZGF0YS5QcmVtaXVtO1xyXG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBkYXRhLkxhbmd1YWdlO1xyXG4gICAgICAgIHRoaXMubGVhZF9pbWFnZV91cmwgPSBkYXRhLkxlYWRJbWFnZVVybFxyXG4gICAgfVxyXG5cclxuICAgIHRvU3RyaW5nKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKFV0aWxzLmlzc2V0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyPz9yZWYtLTAhLi9+L3NvdXJjZS1tYXAtbG9hZGVyIS4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvbW9kZWxzL0FwaUNvbnRlbnRNb2RlbC50cyIsImltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRlbnRNb2RlbCB7XHJcbiAgICBUaXRsZTogc3RyaW5nO1xyXG4gICAgS2V5d29yZHM6IHN0cmluZztcclxuICAgIFNlY3Rpb246IHN0cmluZztcclxuICAgIFVybDogc3RyaW5nO1xyXG4gICAgQ29udGVudFR5cGU6IHN0cmluZztcclxuICAgIEF1dGhvcjogc3RyaW5nO1xyXG4gICAgVGFnczogc3RyaW5nO1xyXG4gICAgQ29udGVudElkOiBzdHJpbmc7XHJcbiAgICBQdWJsaXNoRGF0ZTogc3RyaW5nO1xyXG4gICAgTGVhZFRleHQ6IHN0cmluZztcclxuICAgIFRleHQ6IHN0cmluZztcclxuICAgIERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBQaWN0dXJlczogbnVtYmVyO1xyXG4gICAgVmlkZW86IG51bWJlcjtcclxuICAgIExpa2VzOiBudW1iZXI7XHJcbiAgICBTaGFyZXM6IG51bWJlcjtcclxuICAgIEJyZWFraW5nTmV3czogYm9vbGVhbjtcclxuICAgIFByZW1pdW06IGJvb2xlYW47XHJcbiAgICBMYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgTGVhZEltYWdlVXJsOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuVGl0bGUgPSBkYXRhLlRpdGxlO1xyXG4gICAgICAgIHRoaXMuS2V5d29yZHMgPSBkYXRhLktleXdvcmRzO1xyXG4gICAgICAgIHRoaXMuU2VjdGlvbiA9IGRhdGEuU2VjdGlvbjtcclxuICAgICAgICB0aGlzLlVybCA9IGRhdGEuVXJsO1xyXG4gICAgICAgIHRoaXMuQ29udGVudFR5cGUgPSBkYXRhLkNvbnRlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuQXV0aG9yID0gZGF0YS5BdXRob3I7XHJcbiAgICAgICAgdGhpcy5UYWdzID0gZGF0YS5UYWdzO1xyXG4gICAgICAgIHRoaXMuQ29udGVudElkID0gZGF0YS5Db250ZW50SWQ7XHJcbiAgICAgICAgdGhpcy5QdWJsaXNoRGF0ZSA9IERhdGVVdGlsLmdldElTT0Zvcm1hdChkYXRhLlB1Ymxpc2hEYXRlKSB8fCBkYXRhLlB1Ymxpc2hEYXRlO1xyXG4gICAgICAgIHRoaXMuTGVhZFRleHQgPSBkYXRhLkxlYWRUZXh0O1xyXG4gICAgICAgIHRoaXMuVGV4dCA9IGRhdGEuVGV4dDtcclxuICAgICAgICB0aGlzLkRlc2NyaXB0aW9uID0gZGF0YS5EZXNjcmlwdGlvbjtcclxuICAgICAgICB0aGlzLlBpY3R1cmVzID0gZGF0YS5QaWN0dXJlcztcclxuICAgICAgICB0aGlzLlZpZGVvID0gZGF0YS5WaWRlbztcclxuICAgICAgICB0aGlzLkxpa2VzID0gZGF0YS5MaWtlcztcclxuICAgICAgICB0aGlzLlNoYXJlcyA9IGRhdGEuU2hhcmVzO1xyXG4gICAgICAgIHRoaXMuQnJlYWtpbmdOZXdzID0gZGF0YS5CcmVha2luZ05ld3M7XHJcbiAgICAgICAgdGhpcy5QcmVtaXVtID0gZGF0YS5QcmVtaXVtO1xyXG4gICAgICAgIHRoaXMuTGFuZ3VhZ2UgPSBkYXRhLkxhbmd1YWdlO1xyXG4gICAgICAgIHRoaXMuTGVhZEltYWdlVXJsID0gZGF0YS5MZWFkSW1hZ2VVcmw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBpc0FydGljbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLkNvbnRlbnRUeXBlKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gXCJhcnRpY2xlXCI7XHJcbiAgICB9XHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXI/P3JlZi0tMCEuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9tb2RlbHMvQ29udGVudE1vZGVsLnRzIiwiaW1wb3J0IHsgUmVjb21tZW5kYXRpb25EZW1vIH0gZnJvbSBcIi4vY2xhc3Nlcy9kZW1vL1JlY29tbWVuZGF0aW9uRGVtb1wiO1xyXG5pbXBvcnQgeyBBamNNb2RlbCB9IGZyb20gXCIuL2FqYy9BamNNb2RlbFwiO1xyXG5cclxuY29uc3QgZW52aXJvbm1lbnQgPSBcIiN7RW52aXJvbm1lbnR9I1wiIHx8IFwicHJvZFwiO1xyXG5pZiAoZW52aXJvbm1lbnQgIT09IFwicHJvZFwiKSB7XHJcbiAgICB3aW5kb3dbXCJSZWNvbW1lbmRhdGlvbkRlbW9cIl0gPSBSZWNvbW1lbmRhdGlvbkRlbW8uc3RhcnQoKTtcclxufVxyXG5cclxuY29uc3QgYWpjTW9kZWwgPSBuZXcgQWpjTW9kZWwoKTtcclxuXHJcbi8vIGFqYyBjb25maWdcclxud2luZG93LmcyRXh0ZW5kSW5pdHMgPSB7XHJcbiAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgY2RwOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRpbWVuc2lvbnM6IHtcclxuICAgICAgICAgICAgLy8gQXJ0aWNsZUlEXHJcbiAgICAgICAgICAgIENvbnRlbnRJZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldENvbnRlbnRJZCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBUaXRsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldFRpdGxlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIExlYWRJbWFnZVVybDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldExlYWRJbWFnZVVybCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBDYXRlZ29yeTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0Q2F0ZWdvcnkoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgTGVhZFRleHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRMZWFkVGV4dCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBUZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0VGV4dCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBBdXRob3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRBdXRob3IoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgS2V5d29yZHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRLZXl3b3JkcygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBEZXNjcmlwdGlvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldERlc2NyaXB0aW9uKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFB1Ymxpc2hEYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0UHVibGlzaERhdGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgVXBkYXRlRGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldE1vZGlmaWNhdGlvbkRhdGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgUGljdHVyZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRQaWN0dXJlcygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBWaWRlbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldENvdW50VmlkZW8oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgU2VjdGlvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldFNlY3Rpb24oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgQ29udGVudFR5cGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRDb250ZW50VHlwZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBUYWdzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0VGFncygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBMaWtlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldENvdW50TGlrZXMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgU2hhcmVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0Q291bnRTaGFyZXMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgQnJlYWtpbmdOZXdzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0QnJlYWtpbmdOZXdzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFByZW1pdW06IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRJc1ByZW1pdW0oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgTGFuZ3VhZ2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICBhamNNb2RlbC5nZXRMYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBSZWNvbW1lbmRlZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0UmVjb21tZW5kZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8vICg8YW55PndpbmRvdykuZGltZW5zaW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgY29uc3QgZGltZW5zaW9ucyA9IHt9O1xyXG4vLyAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gd2luZG93LmcyRXh0ZW5kSW5pdHMuZGVmYXVsdC5kaW1lbnNpb25zKSB7XHJcbi8vICAgICAgICAgICBkaW1lbnNpb25zW3Byb3BlcnR5XSA9IHdpbmRvdy5nMkV4dGVuZEluaXRzLmRlZmF1bHQuZGltZW5zaW9uc1twcm9wZXJ0eV0oKTtcclxuLy8gICAgIH1cclxuLy8gICAgIGNvbnNvbGUudGFibGUoZGltZW5zaW9ucyk7XHJcbi8vICAgICBjb25zb2xlLmxvZyhkaW1lbnNpb25zKTtcclxuLy8gICAgIHJldHVybiBkaW1lbnNpb25zO1xyXG4vLyB9KCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2NvbmZpZy9jbGllbnRzL0FqYy50cyIsImltcG9ydCB7IERlZmF1bHRDZHBTZWxlY3RvcnMgfSBmcm9tIFwiLi4vY2xhc3Nlcy9EZWZhdWx0Q2RwU2VsZWN0b3JzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWpjTW9kZWwgZXh0ZW5kcyBEZWZhdWx0Q2RwU2VsZWN0b3JzIHtcclxuICAgIHB1YmxpYyBnZXRDb250ZW50VHlwZSgpIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29udGVudFR5cGUgPSB0aGlzLmdldFBhZ2VEYXRhKCk/LnBhZ2VDb250ZW50VHlwZTtcclxuICAgICAgICByZXR1cm4gcGFnZUNvbnRlbnRUeXBlICE9PSB1bmRlZmluZWQgPyBwYWdlQ29udGVudFR5cGUgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50SWQoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGVudElEID0gdGhpcy5nZXRDb250ZW50RGF0YSgpPy5jb250ZW50SUQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRJRCAhPT0gdW5kZWZpbmVkID8gY29udGVudElEIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZVRpdGxlID0gdGhpcy5nZXRQYWdlRGF0YSgpPy5wYWdlVGl0bGU7XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VUaXRsZSAhPT0gdW5kZWZpbmVkID8gcGFnZVRpdGxlIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXV0aG9yKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRCeWxpbmUgPSB0aGlzLmdldENvbnRlbnREYXRhKCk/LmNvbnRlbnRCeWxpbmU7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRCeWxpbmUgIT09IHVuZGVmaW5lZCA/IGNvbnRlbnRCeWxpbmUgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQdWJsaXNoRGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50UHVibGlzaERhdGUgPSB0aGlzLmdldENvbnRlbnREYXRhKCk/LmNvbnRlbnRQdWJsaXNoRGF0ZTtcclxuICAgICAgICByZXR1cm4gY29udGVudFB1Ymxpc2hEYXRlICE9PSB1bmRlZmluZWQgPyBjb250ZW50UHVibGlzaERhdGUgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUZXh0KCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhcnRpY2xlIHAuc3RvcnktdGV4dFwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRMZWFkVGV4dCgpIHtcclxuICAgICAgICBsZXQgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpbiAuYy1oZWFkZXIgaDEuaGVhZGxpbmUtdGV4dFwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZU1haW5TZWN0aW9uID0gdGhpcy5nZXRQYWdlRGF0YSgpPy5wYWdlTWFpblNlY3Rpb247XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VNYWluU2VjdGlvbiAhPT0gdW5kZWZpbmVkID8gcGFnZU1haW5TZWN0aW9uIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRLZXl3b3JkcygpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50VG9waWNzID0gdGhpcy5nZXRDb250ZW50RGF0YSgpPy5jb250ZW50VG9waWNzO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50VG9waWNzICE9PSB1bmRlZmluZWQgPyBjb250ZW50VG9waWNzIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZXNjcmlwdGlvbigpIHtcclxuICAgICAgICBsZXQgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWV0YVtwcm9wZXJ0eT1cXFwib2c6ZGVzY3JpcHRpb25cXFwiXVwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFncygpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50VG9waWNzID0gdGhpcy5nZXRDb250ZW50RGF0YSgpPy5jb250ZW50VG9waWNzO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50VG9waWNzICE9PSB1bmRlZmluZWQgPyBjb250ZW50VG9waWNzIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0UGFnZURhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KT8uZGF0YUxheWVyWzBdPy5wYWdlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q29udGVudERhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KT8uZGF0YUxheWVyWzBdPy5jb250ZW50RGF0YTtcclxuICAgIH1cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlcj8/cmVmLS0wIS4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL2NvbmZpZy9jbGllbnRzL2FqYy9BamNNb2RlbC50cyJdLCJzb3VyY2VSb290IjoiIn0=
