/* eslint-disable */
ï»¿(()=>{var __webpack_modules__={3767:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ CommonConfigData)\n/* harmony export */ });\nvar isReplacedByCI = function (replacedCIPattern) { return !replacedCIPattern.startsWith("#") && !replacedCIPattern.endsWith("#"); };\r\nvar eventsUrlCI = "https://dev-events.mg2insights.com";\r\nvar eventsUrlFallback = "https://events.mg2insights.com";\r\nvar eventsUrl = isReplacedByCI(eventsUrlCI) ? eventsUrlCI : eventsUrlFallback;\r\nvar apiUrlCI = "https://dev-api.mg2insights.com";\r\nvar apiUrlFallback = "https://api.mg2insights.com";\r\nvar apiUrl = isReplacedByCI(apiUrlCI) ? apiUrlCI : apiUrlFallback;\r\nvar CommonConfigData = {\r\n    eventsUrl: eventsUrl + "/events",\r\n    apiUrl: apiUrl + "/"\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc2Ny5qcyIsIm1hcHBpbmdzIjoiOzs7QUFDQSxJQUFNLGNBQWMsR0FBRyxVQUFDLGlCQUF5QixJQUFLLFFBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUF0RSxDQUFzRSxDQUFDO0FBRTdILElBQU0sV0FBVyxHQUFHLDJCQUEyQixDQUFDO0FBQ2hELElBQU0saUJBQWlCLEdBQUcsZ0NBQWdDLENBQUM7QUFDM0QsSUFBSSxTQUFTLEdBQUcsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDO0FBRTlFLElBQU0sUUFBUSxHQUFHLG9CQUFvQixDQUFDO0FBQ3RDLElBQU0sY0FBYyxHQUFHLDZCQUE2QixDQUFDO0FBQ3JELElBQUksTUFBTSxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUM7QUFFM0QsSUFBTSxnQkFBZ0IsR0FBRztJQUM1QixTQUFTLEVBQUcsU0FBUyxHQUFHLFNBQVM7SUFDakMsTUFBTSxFQUFHLE1BQU0sR0FBRyxHQUFHO0NBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL2NvbmZpZy9Db21tb25Db25maWdEYXRhLnRzP2ZjZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcHJldmVudCBmYWlsZWQgaW4gdGVzdHMgLSB1c2UgdmFsaWQgVVJMXHJcbmNvbnN0IGlzUmVwbGFjZWRCeUNJID0gKHJlcGxhY2VkQ0lQYXR0ZXJuOiBzdHJpbmcpID0+ICFyZXBsYWNlZENJUGF0dGVybi5zdGFydHNXaXRoKFwiI1wiKSAmJiAhcmVwbGFjZWRDSVBhdHRlcm4uZW5kc1dpdGgoXCIjXCIpO1xyXG5cclxuY29uc3QgZXZlbnRzVXJsQ0kgPSBcIiN7X19tbC1hcGktZXZlbnRzLXVybF9ffSNcIjtcclxuY29uc3QgZXZlbnRzVXJsRmFsbGJhY2sgPSBcImh0dHBzOi8vZXZlbnRzLm1nMmluc2lnaHRzLmNvbVwiO1xyXG5sZXQgZXZlbnRzVXJsID0gaXNSZXBsYWNlZEJ5Q0koZXZlbnRzVXJsQ0kpID8gZXZlbnRzVXJsQ0kgOiBldmVudHNVcmxGYWxsYmFjaztcclxuXHJcbmNvbnN0IGFwaVVybENJID0gXCIje19fbWwtYXBpLXVybF9ffSNcIjtcclxuY29uc3QgYXBpVXJsRmFsbGJhY2sgPSBcImh0dHBzOi8vYXBpLm1nMmluc2lnaHRzLmNvbVwiO1xyXG5sZXQgYXBpVXJsID0gaXNSZXBsYWNlZEJ5Q0koYXBpVXJsQ0kpID8gYXBpVXJsQ0kgOiBhcGlVcmxGYWxsYmFjaztcclxuXHJcbmV4cG9ydCBjb25zdCBDb21tb25Db25maWdEYXRhID0ge1xyXG4gICAgZXZlbnRzVXJsOiAgZXZlbnRzVXJsICsgXCIvZXZlbnRzXCIsXHJcbiAgICBhcGlVcmw6ICBhcGlVcmwgKyBcIi9cIlxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3767\n')},6953:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXTERNAL MODULE: ./src/plugin/modules/cdpModule/CdpDataLayer.ts\nvar CdpDataLayer = __webpack_require__(8474);\n;// CONCATENATED MODULE: ./config/clients/classes/demo/RecommendationDemo.ts\n\r\nvar RecommendationDemoClass = (function () {\r\n    function RecommendationDemoClass() {\r\n        this.deviceIdCookie = "anonDeviceId";\r\n        this.isActiveRegenerationCookie = "isActiveRegeneration";\r\n        this.DemoProfiles = [\r\n            { ProfileName: "Native", DeviceID: null },\r\n            { ProfileName: "User S", DeviceID: "sport111-c4a8-4a44-8f54-6853a6d6d815" },\r\n            { ProfileName: "User T", DeviceID: "politics-1b6b-4908-ba87-bdcc5379c928" },\r\n            { ProfileName: "User G", DeviceID: "average1-85c3-4516-b806-cbeb6244a7bb" },\r\n        ];\r\n    }\r\n    RecommendationDemoClass.prototype.start = function () {\r\n        var _this = this;\r\n        var currentDeviceId = this.getCookie(this.deviceIdCookie);\r\n        var isActiveRegeneration = this.getActiveRegeneration();\r\n        var demoCookie = JSON.parse(this.getCookie("DemoProfile") || null);\r\n        if (demoCookie) {\r\n            this.DemoProfiles.push(demoCookie);\r\n        }\r\n        if (isActiveRegeneration === "false") {\r\n            this.mockFPPublicMethods(currentDeviceId);\r\n        }\r\n        document.addEventListener("onFinish", function (eventData) {\r\n            setTimeout(function () {\r\n                _this.attachInHtml(currentDeviceId, isActiveRegeneration);\r\n            }, 100);\r\n        });\r\n        return {\r\n            addProfile: function (profileName, deviceId) {\r\n                _this.setCookie("DemoProfile", JSON.stringify({ ProfileName: profileName, DeviceID: deviceId }), 1);\r\n                location.reload();\r\n            },\r\n            getActiveRegeneration: function () {\r\n                return _this.getActiveRegeneration();\r\n            }\r\n        };\r\n    };\r\n    RecommendationDemoClass.prototype.getActiveRegeneration = function () {\r\n        return this.getCookie(this.isActiveRegenerationCookie) || "true";\r\n    };\r\n    RecommendationDemoClass.prototype.setActiveRegeneration = function (value, hours) {\r\n        if (value === void 0) { value = false; }\r\n        if (hours === void 0) { hours = 1; }\r\n        this.setCookie(this.isActiveRegenerationCookie, value, hours);\r\n    };\r\n    RecommendationDemoClass.prototype.deleteActiveRegeneration = function () {\r\n        this.delete_cookie(this.isActiveRegenerationCookie);\r\n    };\r\n    RecommendationDemoClass.prototype.attachInHtml = function (currentDeviceId, isActiveRegeneration) {\r\n        var selectInjectPlace = ".debug_details_content ul";\r\n        var selectHtml = this.createSelect(currentDeviceId);\r\n        var insertTemplate = "<li class=\\"debug_details_header hide_on_mobile\\">\\n            <h4>G2Insight Demo</h4>\\n            <label for=\\"RegenerationChk\\" class=\\"overlay_label check\\">Regenerate deviceid: </label>\\n                            <input type=\\"checkbox\\" id=\\"RegenerationChk\\" " + (isActiveRegeneration === "true" ? "checked" : "") + " >\\n            " + selectHtml + "\\n        </li>";\r\n        var injectPlace = document.querySelector(selectInjectPlace);\r\n        if (injectPlace) {\r\n            injectPlace.insertAdjacentHTML("afterbegin", insertTemplate);\r\n            this.addListeners();\r\n        }\r\n        else {\r\n            console.warn("G2iDemo is not find selector");\r\n        }\r\n    };\r\n    RecommendationDemoClass.prototype.addListeners = function () {\r\n        var _this = this;\r\n        var checkbox = document.getElementById("RegenerationChk");\r\n        checkbox.addEventListener("change", function (event) {\r\n            if (event.target.checked) {\r\n                _this.deleteCdpDemoCookies();\r\n            }\r\n            else {\r\n                _this.setActiveRegeneration(false, 1);\r\n            }\r\n            location.reload(true);\r\n        });\r\n        document.getElementById("g2iProfile").addEventListener("change", function (event) {\r\n            var selectedId = event.target.value;\r\n            if (selectedId === "null") {\r\n                _this.deleteCdpDemoCookies();\r\n                CdpDataLayer/* CdpDataLayer.deleteCdpDlStorage */.S.deleteCdpDlStorage();\r\n            }\r\n            else {\r\n                CdpDataLayer/* CdpDataLayer.deleteCdpDlStorage */.S.deleteCdpDlStorage();\r\n                _this.delete_cookie(_this.deviceIdCookie);\r\n                _this.setCookie(_this.deviceIdCookie, selectedId, 1);\r\n                _this.turnOffRegeneration();\r\n            }\r\n            location.reload(true);\r\n        });\r\n    };\r\n    RecommendationDemoClass.prototype.deleteCdpDemoCookies = function () {\r\n        this.deleteActiveRegeneration();\r\n        this.delete_cookie(this.deviceIdCookie);\r\n    };\r\n    RecommendationDemoClass.prototype.turnOffRegeneration = function () {\r\n        this.setActiveRegeneration(false, 1);\r\n        document.getElementById("RegenerationChk").checked = false;\r\n    };\r\n    RecommendationDemoClass.prototype.setDeviceIdOnHour = function (deviceId) {\r\n        this.setCookie(this.deviceIdCookie, deviceId, 1);\r\n        this.setActiveRegeneration(false, 1);\r\n    };\r\n    RecommendationDemoClass.prototype.setCookie = function (cname, cvalue, exHours) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + (exHours * 60 * 60 * 1000));\r\n        var expires = "expires=" + d.toUTCString();\r\n        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";\r\n    };\r\n    RecommendationDemoClass.prototype.getCookie = function (cname) {\r\n        var name = cname + "=";\r\n        var ca = document.cookie.split(";");\r\n        for (var i = 0; i < ca.length; i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0) === " ") {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) === 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return "";\r\n    };\r\n    RecommendationDemoClass.prototype.delete_cookie = function (name) {\r\n        document.cookie = name + "=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT";\r\n        document.cookie = name + "=;path=/;domain=" + location.host + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";\r\n        document.cookie = name + "=;path=/;domain=." + location.host + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";\r\n        var arr = location.host.split(".");\r\n        var rootdomain = arr[arr.length - 2] + "." + arr[arr.length - 1];\r\n        document.cookie = name + "=;path=/;domain=" + rootdomain + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";\r\n        document.cookie = name + "=;path=/;domain=." + rootdomain + ";expires=Thu, 01 Jan 1970 00:00:01 GMT";\r\n    };\r\n    RecommendationDemoClass.prototype.mockFPPublicMethods = function (deviceId) {\r\n        if (window.Fingerprint !== undefined) {\r\n            this.savedFNPublicObject = window.Fingerprint;\r\n            if (typeof window.Fingerprint.getDeviceID === "function") {\r\n                window.Fingerprint.getDeviceID = function () {\r\n                    return Promise.resolve(deviceId);\r\n                };\r\n            }\r\n            else {\r\n                console.warn("Plugin use old version FP");\r\n            }\r\n            if (typeof window.Fingerprint.getDeviceId === "function") {\r\n                window.Fingerprint.getDeviceId = function () {\r\n                    return deviceId;\r\n                };\r\n            }\r\n            else {\r\n                console.warn("Plugin use old version FP");\r\n            }\r\n            if (typeof window.Fingerprint.onChangedDeviceId === "function") {\r\n                window.Fingerprint.onChangedDeviceId = function () {\r\n                    return Promise.reject();\r\n                };\r\n            }\r\n            else {\r\n                console.warn("Plugin use old version FP");\r\n            }\r\n        }\r\n    };\r\n    RecommendationDemoClass.prototype.createSelect = function (selectedDeviceId) {\r\n        var optionsHtml = "<select id=\\"g2iProfile\\">";\r\n        this.DemoProfiles.forEach(function (profileData) {\r\n            if (selectedDeviceId === profileData.DeviceID) {\r\n                optionsHtml += "<option name=\\"" + profileData.ProfileName + "\\" value=\\"" + profileData.DeviceID + "\\" selected>" + profileData.ProfileName + "</option>";\r\n            }\r\n            else {\r\n                optionsHtml += "<option name=\\"" + profileData.ProfileName + "\\" value=\\"" + profileData.DeviceID + "\\">" + profileData.ProfileName + "</option>";\r\n            }\r\n        });\r\n        return optionsHtml + "</select>";\r\n    };\r\n    return RecommendationDemoClass;\r\n}());\r\n\r\nvar RecommendationDemo = new RecommendationDemoClass();\r\n\n// EXTERNAL MODULE: ./src/plugin/utils/Utils.ts\nvar Utils = __webpack_require__(7753);\n;// CONCATENATED MODULE: ./config/clients/classes/DefaultCdpSelectors.ts\n\r\nvar DefaultCdpSelectors = (function () {\r\n    function DefaultCdpSelectors() {\r\n    }\r\n    DefaultCdpSelectors.prototype.getContentType = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getContentId = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getTitle = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getAuthor = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getPublishDate = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getModificationDate = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getText = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getLeadText = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getSection = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getCategory = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getKeywords = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getDescription = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getTags = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getCountLikes = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getCountShares = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getPictures = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getCountVideo = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getBreakingNews = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getIsPremium = function () {\r\n        return null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getRecommended = function () {\r\n        return Utils/* Utils.getRecommendationId */.c.getRecommendationId();\r\n    };\r\n    DefaultCdpSelectors.prototype.getLanguage = function () {\r\n        return window.navigator["userLanguage"] || window.navigator.language;\r\n    };\r\n    DefaultCdpSelectors.prototype.getLeadImageUrl = function () {\r\n        var element = document.querySelector("meta[property=\'og:image\']");\r\n        return element ? element.getAttribute("content") : null;\r\n    };\r\n    DefaultCdpSelectors.prototype.getDataFromLdJson = function () {\r\n        try {\r\n            var ldJson = {};\r\n            var ldElements = document.querySelectorAll("script[type=\'application/ld+json\']");\r\n            if (ldElements && ldElements.length) {\r\n                var ldLength = ldElements.length;\r\n                for (var i = 0; i < ldLength; i++) {\r\n                    try {\r\n                        ldJson = Object.assign(ldJson, JSON.parse(ldElements[i].innerText));\r\n                    }\r\n                    catch (error) {\r\n                        continue;\r\n                    }\r\n                }\r\n                return ldJson;\r\n            }\r\n        }\r\n        catch (error) {\r\n            return null;\r\n        }\r\n    };\r\n    return DefaultCdpSelectors;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./config/clients/ajc/AjcModel.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar AjcModel = (function (_super) {\r\n    __extends(AjcModel, _super);\r\n    function AjcModel() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AjcModel.prototype.getContentType = function () {\r\n        var _a;\r\n        var pageContentType = (_a = this.getPageData()) === null || _a === void 0 ? void 0 : _a.pageContentType;\r\n        return pageContentType !== undefined ? pageContentType : null;\r\n    };\r\n    AjcModel.prototype.getContentId = function () {\r\n        var _a;\r\n        var contentID = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentID;\r\n        return contentID !== undefined ? contentID : null;\r\n    };\r\n    AjcModel.prototype.getTitle = function () {\r\n        var _a;\r\n        var pageTitle = (_a = this.getPageData()) === null || _a === void 0 ? void 0 : _a.pageTitle;\r\n        return pageTitle !== undefined ? pageTitle : null;\r\n    };\r\n    AjcModel.prototype.getAuthor = function () {\r\n        var _a;\r\n        var contentByline = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentByline;\r\n        return contentByline !== undefined ? contentByline : null;\r\n    };\r\n    AjcModel.prototype.getPublishDate = function () {\r\n        var _a;\r\n        var contentPublishDate = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentPublishDate;\r\n        return contentPublishDate !== undefined ? contentPublishDate : null;\r\n    };\r\n    AjcModel.prototype.getText = function () {\r\n        var element = document.querySelector("article p.story-text");\r\n        return element ? element.textContent : null;\r\n    };\r\n    AjcModel.prototype.getLeadText = function () {\r\n        var element = document.querySelector("main .c-header h1.headline-text");\r\n        return element ? element.textContent : null;\r\n    };\r\n    AjcModel.prototype.getSection = function () {\r\n        var _a;\r\n        var pageMainSection = (_a = this.getPageData()) === null || _a === void 0 ? void 0 : _a.pageMainSection;\r\n        return pageMainSection !== undefined ? pageMainSection : null;\r\n    };\r\n    AjcModel.prototype.getKeywords = function () {\r\n        var _a;\r\n        var contentTopics = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentTopics;\r\n        return contentTopics !== undefined ? contentTopics : null;\r\n    };\r\n    AjcModel.prototype.getDescription = function () {\r\n        var element = document.querySelector("meta[property=\\"og:description\\"]");\r\n        return element ? element.getAttribute("content") : null;\r\n    };\r\n    AjcModel.prototype.getTags = function () {\r\n        var _a;\r\n        var contentTopics = (_a = this.getContentData()) === null || _a === void 0 ? void 0 : _a.contentTopics;\r\n        return contentTopics !== undefined ? contentTopics : null;\r\n    };\r\n    AjcModel.prototype.getPageData = function () {\r\n        var _a, _b;\r\n        return (_b = (_a = window) === null || _a === void 0 ? void 0 : _a.dataLayer[0]) === null || _b === void 0 ? void 0 : _b.pageData;\r\n    };\r\n    AjcModel.prototype.getContentData = function () {\r\n        var _a, _b;\r\n        return (_b = (_a = window) === null || _a === void 0 ? void 0 : _a.dataLayer[0]) === null || _b === void 0 ? void 0 : _b.contentData;\r\n    };\r\n    return AjcModel;\r\n}(DefaultCdpSelectors));\r\n\r\n\n;// CONCATENATED MODULE: ./config/clients/Ajc.ts\n\r\n\r\nvar environment = "stage" || 0;\r\nif (environment !== "prod") {\r\n    window["RecommendationDemo"] = RecommendationDemo.start();\r\n}\r\nvar ajcModel = new AjcModel();\r\nwindow.g2ExtendInits = {\r\n    default: {\r\n        cdp: {\r\n            enabled: true\r\n        },\r\n        dimensions: {\r\n            ContentId: function () {\r\n                return ajcModel.getContentId();\r\n            },\r\n            Title: function () {\r\n                return ajcModel.getTitle();\r\n            },\r\n            LeadImageUrl: function () {\r\n                return ajcModel.getLeadImageUrl();\r\n            },\r\n            Category: function () {\r\n                return ajcModel.getCategory();\r\n            },\r\n            LeadText: function () {\r\n                return ajcModel.getLeadText();\r\n            },\r\n            Text: function () {\r\n                return ajcModel.getText();\r\n            },\r\n            Author: function () {\r\n                return ajcModel.getAuthor();\r\n            },\r\n            Keywords: function () {\r\n                return ajcModel.getKeywords();\r\n            },\r\n            Description: function () {\r\n                return ajcModel.getDescription();\r\n            },\r\n            PublishDate: function () {\r\n                return ajcModel.getPublishDate();\r\n            },\r\n            UpdateDate: function () {\r\n                return ajcModel.getModificationDate();\r\n            },\r\n            Pictures: function () {\r\n                return ajcModel.getPictures();\r\n            },\r\n            Video: function () {\r\n                return ajcModel.getCountVideo();\r\n            },\r\n            Section: function () {\r\n                return ajcModel.getSection();\r\n            },\r\n            ContentType: function () {\r\n                return ajcModel.getContentType();\r\n            },\r\n            Tags: function () {\r\n                return ajcModel.getTags();\r\n            },\r\n            Likes: function () {\r\n                return ajcModel.getCountLikes();\r\n            },\r\n            Shares: function () {\r\n                return ajcModel.getCountShares();\r\n            },\r\n            BreakingNews: function () {\r\n                return ajcModel.getBreakingNews();\r\n            },\r\n            Premium: function () {\r\n                return ajcModel.getIsPremium();\r\n            },\r\n            Language: function () {\r\n                return ajcModel.getLanguage();\r\n            },\r\n            Recommended: function () {\r\n                return ajcModel.getRecommended();\r\n            }\r\n        }\r\n    }\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxhQUFhLEVBQUUsQ0FBQztZQUNwQyxDQUFDO1lBQ0QsT0FBTyxFQUFFO2dCQUNMLE9BQU8sUUFBUSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ2pDLENBQUM7WUFDRCxXQUFXLEVBQUU7Z0JBQ1QsT0FBTyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckMsQ0FBQztZQUNELElBQUksRUFBRTtnQkFDRixPQUFPLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUM5QixDQUFDO1lBQ0QsS0FBSyxFQUFFO2dCQUNILE9BQU8sUUFBUSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3BDLENBQUM7WUFDRCxNQUFNLEVBQUU7Z0JBQ0osT0FBTyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDckMsQ0FBQztZQUNELFlBQVksRUFBRTtnQkFDVixPQUFPLFFBQVEsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUN0QyxDQUFDO1lBQ0QsT0FBTyxFQUFFO2dCQUNMLE9BQU8sUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ25DLENBQUM7WUFDRCxRQUFRLEVBQUU7Z0JBQ04sT0FBUSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDbkMsQ0FBQztZQUNELFdBQVcsRUFBRTtnQkFDVCxPQUFPLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNyQyxDQUFDO1NBQ0o7S0FDSjtDQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vY29uZmlnL2NsaWVudHMvY2xhc3Nlcy9kZW1vL1JlY29tbWVuZGF0aW9uRGVtby50cz9hNTA5Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9jb25maWcvY2xpZW50cy9jbGFzc2VzL0RlZmF1bHRDZHBTZWxlY3RvcnMudHM/ZjA2MSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vY29uZmlnL2NsaWVudHMvYWpjL0FqY01vZGVsLnRzPzNkYmYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL2NvbmZpZy9jbGllbnRzL0FqYy50cz9lMWM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENkcERhdGFMYXllciB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwRGF0YUxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmVjb21tZW5kYXRpb25EZW1vQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBzYXZlZEZOUHVibGljT2JqZWN0O1xyXG4gICAgcHJpdmF0ZSBkZXZpY2VJZENvb2tpZSA9IFwiYW5vbkRldmljZUlkXCI7XHJcbiAgICBwcml2YXRlIGlzQWN0aXZlUmVnZW5lcmF0aW9uQ29va2llID0gXCJpc0FjdGl2ZVJlZ2VuZXJhdGlvblwiO1xyXG4gICAgcHVibGljIERlbW9Qcm9maWxlcyA9IFtcclxuICAgICAgICB7IFByb2ZpbGVOYW1lOiBcIk5hdGl2ZVwiLCBEZXZpY2VJRDogbnVsbCB9LFxyXG4gICAgICAgIHsgUHJvZmlsZU5hbWU6IFwiVXNlciBTXCIsIERldmljZUlEOiBcInNwb3J0MTExLWM0YTgtNGE0NC04ZjU0LTY4NTNhNmQ2ZDgxNVwiIH0sXHJcbiAgICAgICAgeyBQcm9maWxlTmFtZTogXCJVc2VyIFRcIiwgRGV2aWNlSUQ6IFwicG9saXRpY3MtMWI2Yi00OTA4LWJhODctYmRjYzUzNzljOTI4XCIgfSxcclxuICAgICAgICB7IFByb2ZpbGVOYW1lOiBcIlVzZXIgR1wiLCBEZXZpY2VJRDogXCJhdmVyYWdlMS04NWMzLTQ1MTYtYjgwNi1jYmViNjI0NGE3YmJcIiB9LFxyXG4gICAgXTtcclxuXHJcbiAgICBzdGFydCgpIHtcclxuICAgICAgICBsZXQgY3VycmVudERldmljZUlkID0gdGhpcy5nZXRDb29raWUodGhpcy5kZXZpY2VJZENvb2tpZSk7XHJcbiAgICAgICAgbGV0IGlzQWN0aXZlUmVnZW5lcmF0aW9uID0gIHRoaXMuZ2V0QWN0aXZlUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgbGV0IGRlbW9Db29raWUgPSBKU09OLnBhcnNlKHRoaXMuZ2V0Q29va2llKFwiRGVtb1Byb2ZpbGVcIikgfHwgbnVsbCk7XHJcbiAgICAgICAgaWYgKGRlbW9Db29raWUpIHtcclxuICAgICAgICAgICAgdGhpcy5EZW1vUHJvZmlsZXMucHVzaChkZW1vQ29va2llKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0FjdGl2ZVJlZ2VuZXJhdGlvbiA9PT0gXCJmYWxzZVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9ja0ZQUHVibGljTWV0aG9kcyhjdXJyZW50RGV2aWNlSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm9uRmluaXNoXCIsIChldmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaEluSHRtbChjdXJyZW50RGV2aWNlSWQsIGlzQWN0aXZlUmVnZW5lcmF0aW9uKTtcclxuICAgICAgICAgICAgfSwgMTAwKVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYWRkUHJvZmlsZSA6IChwcm9maWxlTmFtZSwgZGV2aWNlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29va2llKFwiRGVtb1Byb2ZpbGVcIiwgSlNPTi5zdHJpbmdpZnkoIHsgUHJvZmlsZU5hbWU6IHByb2ZpbGVOYW1lLCBEZXZpY2VJRDogZGV2aWNlSWQgfSksIDEpO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEFjdGl2ZVJlZ2VuZXJhdGlvbjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWN0aXZlUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWN0aXZlUmVnZW5lcmF0aW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29va2llKHRoaXMuaXNBY3RpdmVSZWdlbmVyYXRpb25Db29raWUpIHx8IFwidHJ1ZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFjdGl2ZVJlZ2VuZXJhdGlvbih2YWx1ZTogYm9vbGVhbiA9IGZhbHNlLCBob3VyczogbnVtYmVyID0gMSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0Q29va2llKHRoaXMuaXNBY3RpdmVSZWdlbmVyYXRpb25Db29raWUsIHZhbHVlLCBob3Vycyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQWN0aXZlUmVnZW5lcmF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZGVsZXRlX2Nvb2tpZSh0aGlzLmlzQWN0aXZlUmVnZW5lcmF0aW9uQ29va2llKTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2hJbkh0bWwoY3VycmVudERldmljZUlkLCBpc0FjdGl2ZVJlZ2VuZXJhdGlvbikge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdEluamVjdFBsYWNlID0gXCIuZGVidWdfZGV0YWlsc19jb250ZW50IHVsXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdEh0bWwgPSB0aGlzLmNyZWF0ZVNlbGVjdChjdXJyZW50RGV2aWNlSWQpO1xyXG4gICAgICAgIGNvbnN0IGluc2VydFRlbXBsYXRlID0gYDxsaSBjbGFzcz1cImRlYnVnX2RldGFpbHNfaGVhZGVyIGhpZGVfb25fbW9iaWxlXCI+XHJcbiAgICAgICAgICAgIDxoND5HMkluc2lnaHQgRGVtbzwvaDQ+XHJcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJSZWdlbmVyYXRpb25DaGtcIiBjbGFzcz1cIm92ZXJsYXlfbGFiZWwgY2hlY2tcIj5SZWdlbmVyYXRlIGRldmljZWlkOiA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiUmVnZW5lcmF0aW9uQ2hrXCIgJHsgaXNBY3RpdmVSZWdlbmVyYXRpb24gPT09IFwidHJ1ZVwiID8gXCJjaGVja2VkXCIgOiBcIlwifSA+XHJcbiAgICAgICAgICAgICR7c2VsZWN0SHRtbCB9XHJcbiAgICAgICAgPC9saT5gO1xyXG5cclxuICAgICAgICBjb25zdCBpbmplY3RQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0SW5qZWN0UGxhY2UpO1xyXG4gICAgICAgIGlmIChpbmplY3RQbGFjZSkge1xyXG4gICAgICAgICAgICBpbmplY3RQbGFjZS5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmJlZ2luXCIsIGluc2VydFRlbXBsYXRlKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJHMmlEZW1vIGlzIG5vdCBmaW5kIHNlbGVjdG9yXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGxldCBjaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiUmVnZW5lcmF0aW9uQ2hrXCIpO1xyXG5cclxuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCBhcyBhbnkpLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2RwRGVtb0Nvb2tpZXMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlUmVnZW5lcmF0aW9uKGZhbHNlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImcyaVByb2ZpbGVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJZCA9ICgoZXZlbnQudGFyZ2V0IGFzIGFueSkudmFsdWUgYXMgc3RyaW5nKTtcclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkSWQgPT09IFwibnVsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZUNkcERlbW9Db29raWVzKCk7XHJcbiAgICAgICAgICAgICAgICBDZHBEYXRhTGF5ZXIuZGVsZXRlQ2RwRGxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBDZHBEYXRhTGF5ZXIuZGVsZXRlQ2RwRGxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZV9jb29raWUodGhpcy5kZXZpY2VJZENvb2tpZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZSh0aGlzLmRldmljZUlkQ29va2llLCBzZWxlY3RlZElkLCAxKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVybk9mZlJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUNkcERlbW9Db29raWVzKCkge1xyXG4gICAgICAgIHRoaXMuZGVsZXRlQWN0aXZlUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgdGhpcy5kZWxldGVfY29va2llKHRoaXMuZGV2aWNlSWRDb29raWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHR1cm5PZmZSZWdlbmVyYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVSZWdlbmVyYXRpb24oZmFsc2UsIDEpO1xyXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIlJlZ2VuZXJhdGlvbkNoa1wiKSBhcyBhbnkpLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREZXZpY2VJZE9uSG91cihkZXZpY2VJZCkge1xyXG4gICAgICAgIHRoaXMuc2V0Q29va2llKHRoaXMuZGV2aWNlSWRDb29raWUsIGRldmljZUlkLCAxKTtcclxuICAgICAgICB0aGlzLnNldEFjdGl2ZVJlZ2VuZXJhdGlvbihmYWxzZSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29va2llKGNuYW1lLCBjdmFsdWUsIGV4SG91cnMpIHtcclxuICAgICAgICBsZXQgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgZC5zZXRUaW1lKGQuZ2V0VGltZSgpICsgKGV4SG91cnMgKiA2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgICAgIGxldCBleHBpcmVzID0gXCJleHBpcmVzPVwiICsgZC50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgXCI9XCIgKyBjdmFsdWUgKyBcIjtcIiArIGV4cGlyZXMgKyBcIjtwYXRoPS9cIjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb29raWUoY25hbWUpIHtcclxuICAgICAgICBsZXQgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgICAgICAgbGV0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBsZXQgYyA9IGNhW2ldO1xyXG4gICAgICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09PSBcIiBcIikge1xyXG4gICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVfY29va2llKCBuYW1lICkge1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj07cGF0aD0vO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVRcIjtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9O3BhdGg9Lztkb21haW49XCIgKyBsb2NhdGlvbi5ob3N0ICsgXCI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj07cGF0aD0vO2RvbWFpbj0uXCIgKyBsb2NhdGlvbi5ob3N0ICsgXCI7ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVFwiO1xyXG4gICAgICAgIGxldCBhcnIgPSBsb2NhdGlvbi5ob3N0LnNwbGl0KFwiLlwiKTtcclxuICAgICAgICBsZXQgcm9vdGRvbWFpbiA9IGFyclthcnIubGVuZ3RoIC0gMl0gKyBcIi5cIiArIGFyclthcnIubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gbmFtZSArIFwiPTtwYXRoPS87ZG9tYWluPVwiICsgcm9vdGRvbWFpbiArIFwiO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVRcIjtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBuYW1lICsgXCI9O3BhdGg9Lztkb21haW49LlwiICsgcm9vdGRvbWFpbiArIFwiO2V4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVRcIjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbW9ja0ZQUHVibGljTWV0aG9kcyhkZXZpY2VJZCkge1xyXG5cclxuICAgICAgICBpZiAod2luZG93LkZpbmdlcnByaW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlZEZOUHVibGljT2JqZWN0ID0gd2luZG93LkZpbmdlcnByaW50O1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuRmluZ2VycHJpbnQuZ2V0RGV2aWNlSUQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LkZpbmdlcnByaW50LmdldERldmljZUlEID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUGx1Z2luIHVzZSBvbGQgdmVyc2lvbiBGUFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuRmluZ2VycHJpbnQuZ2V0RGV2aWNlSWQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LkZpbmdlcnByaW50LmdldERldmljZUlkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2VJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlBsdWdpbiB1c2Ugb2xkIHZlcnNpb24gRlBcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93LkZpbmdlcnByaW50Lm9uQ2hhbmdlZERldmljZUlkID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuRmluZ2VycHJpbnQub25DaGFuZ2VkRGV2aWNlSWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJQbHVnaW4gdXNlIG9sZCB2ZXJzaW9uIEZQXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNlbGVjdChzZWxlY3RlZERldmljZUlkKSB7XHJcbiAgICAgICAgbGV0IG9wdGlvbnNIdG1sID0gYDxzZWxlY3QgaWQ9XCJnMmlQcm9maWxlXCI+YFxyXG4gICAgICAgIHRoaXMuRGVtb1Byb2ZpbGVzLmZvckVhY2goZnVuY3Rpb24gKHByb2ZpbGVEYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZERldmljZUlkID09PSBwcm9maWxlRGF0YS5EZXZpY2VJRCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0h0bWwgKz0gYDxvcHRpb24gbmFtZT1cIiR7cHJvZmlsZURhdGEuUHJvZmlsZU5hbWV9XCIgdmFsdWU9XCIke3Byb2ZpbGVEYXRhLkRldmljZUlEfVwiIHNlbGVjdGVkPiR7cHJvZmlsZURhdGEuUHJvZmlsZU5hbWV9PC9vcHRpb24+YFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0h0bWwgKz0gYDxvcHRpb24gbmFtZT1cIiR7cHJvZmlsZURhdGEuUHJvZmlsZU5hbWV9XCIgdmFsdWU9XCIke3Byb2ZpbGVEYXRhLkRldmljZUlEfVwiPiR7cHJvZmlsZURhdGEuUHJvZmlsZU5hbWV9PC9vcHRpb24+YDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnNIdG1sICsgXCI8L3NlbGVjdD5cIlxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBSZWNvbW1lbmRhdGlvbkRlbW8gPSBuZXcgUmVjb21tZW5kYXRpb25EZW1vQ2xhc3MoKTsiLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEZWZhdWx0Q2RwU2VsZWN0b3JzIHtcclxuICAgIHB1YmxpYyBnZXRDb250ZW50VHlwZSgpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50SWQoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXV0aG9yKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFB1Ymxpc2hEYXRlKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE1vZGlmaWNhdGlvbkRhdGUoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGV4dCgpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRMZWFkVGV4dCgpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYXRlZ29yeSgpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEtleXdvcmRzKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVzY3JpcHRpb24oKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYWdzKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q291bnRMaWtlcygpIHtcclxuICAgICAgICAvLyBAIFRPRE8gTmVlZCBzZWxlY3RvclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvdW50U2hhcmVzKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGljdHVyZXMoKSB7XHJcbiAgICAgICAgLy8gQCBUT0RPIE5lZWQgc2VsZWN0b3JcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb3VudFZpZGVvKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QnJlYWtpbmdOZXdzKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SXNQcmVtaXVtKCkge1xyXG4gICAgICAgIC8vIEAgVE9ETyBOZWVkIHNlbGVjdG9yXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVjb21tZW5kZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldFJlY29tbWVuZGF0aW9uSWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMYW5ndWFnZSgpIHtcclxuICAgICAgICByZXR1cm4gIHdpbmRvdy5uYXZpZ2F0b3JbXCJ1c2VyTGFuZ3VhZ2VcIl0gfHwgd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0TGVhZEltYWdlVXJsKCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW3Byb3BlcnR5PSdvZzppbWFnZSddXCIpO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50ID8gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0RGF0YUZyb21MZEpzb24oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGxkSnNvbiA9IHt9O1xyXG4gICAgICAgICAgICBsZXQgbGRFbGVtZW50czogYW55ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFt0eXBlPSdhcHBsaWNhdGlvbi9sZCtqc29uJ11cIik7XHJcbiAgICAgICAgICAgIGlmIChsZEVsZW1lbnRzICYmIGxkRWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsZExlbmd0aCA9IGxkRWxlbWVudHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGRKc29uID0gT2JqZWN0LmFzc2lnbihsZEpzb24sIEpTT04ucGFyc2UobGRFbGVtZW50c1tpXS5pbm5lclRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGRKc29uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IERlZmF1bHRDZHBTZWxlY3RvcnMgfSBmcm9tIFwiLi4vY2xhc3Nlcy9EZWZhdWx0Q2RwU2VsZWN0b3JzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWpjTW9kZWwgZXh0ZW5kcyBEZWZhdWx0Q2RwU2VsZWN0b3JzIHtcclxuICAgIHB1YmxpYyBnZXRDb250ZW50VHlwZSgpIHtcclxuICAgICAgICBjb25zdCBwYWdlQ29udGVudFR5cGUgPSB0aGlzLmdldFBhZ2VEYXRhKCk/LnBhZ2VDb250ZW50VHlwZTtcclxuICAgICAgICByZXR1cm4gcGFnZUNvbnRlbnRUeXBlICE9PSB1bmRlZmluZWQgPyBwYWdlQ29udGVudFR5cGUgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50SWQoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGVudElEID0gdGhpcy5nZXRDb250ZW50RGF0YSgpPy5jb250ZW50SUQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRJRCAhPT0gdW5kZWZpbmVkID8gY29udGVudElEIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VGl0bGUoKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZVRpdGxlID0gdGhpcy5nZXRQYWdlRGF0YSgpPy5wYWdlVGl0bGU7XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VUaXRsZSAhPT0gdW5kZWZpbmVkID8gcGFnZVRpdGxlIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXV0aG9yKCkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRCeWxpbmUgPSB0aGlzLmdldENvbnRlbnREYXRhKCk/LmNvbnRlbnRCeWxpbmU7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRlbnRCeWxpbmUgIT09IHVuZGVmaW5lZCA/IGNvbnRlbnRCeWxpbmUgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQdWJsaXNoRGF0ZSgpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50UHVibGlzaERhdGUgPSB0aGlzLmdldENvbnRlbnREYXRhKCk/LmNvbnRlbnRQdWJsaXNoRGF0ZTtcclxuICAgICAgICByZXR1cm4gY29udGVudFB1Ymxpc2hEYXRlICE9PSB1bmRlZmluZWQgPyBjb250ZW50UHVibGlzaERhdGUgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUZXh0KCkge1xyXG4gICAgICAgIGxldCBlbGVtZW50OiBFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJhcnRpY2xlIHAuc3RvcnktdGV4dFwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRMZWFkVGV4dCgpIHtcclxuICAgICAgICBsZXQgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpbiAuYy1oZWFkZXIgaDEuaGVhZGxpbmUtdGV4dFwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQudGV4dENvbnRlbnQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgcGFnZU1haW5TZWN0aW9uID0gdGhpcy5nZXRQYWdlRGF0YSgpPy5wYWdlTWFpblNlY3Rpb247XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VNYWluU2VjdGlvbiAhPT0gdW5kZWZpbmVkID8gcGFnZU1haW5TZWN0aW9uIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRLZXl3b3JkcygpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50VG9waWNzID0gdGhpcy5nZXRDb250ZW50RGF0YSgpPy5jb250ZW50VG9waWNzO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50VG9waWNzICE9PSB1bmRlZmluZWQgPyBjb250ZW50VG9waWNzIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZXNjcmlwdGlvbigpIHtcclxuICAgICAgICBsZXQgZWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWV0YVtwcm9wZXJ0eT1cXFwib2c6ZGVzY3JpcHRpb25cXFwiXVwiKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFncygpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50VG9waWNzID0gdGhpcy5nZXRDb250ZW50RGF0YSgpPy5jb250ZW50VG9waWNzO1xyXG4gICAgICAgIHJldHVybiBjb250ZW50VG9waWNzICE9PSB1bmRlZmluZWQgPyBjb250ZW50VG9waWNzIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0UGFnZURhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KT8uZGF0YUxheWVyWzBdPy5wYWdlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0Q29udGVudERhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KT8uZGF0YUxheWVyWzBdPy5jb250ZW50RGF0YTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY29tbWVuZGF0aW9uRGVtbyB9IGZyb20gXCIuL2NsYXNzZXMvZGVtby9SZWNvbW1lbmRhdGlvbkRlbW9cIjtcclxuaW1wb3J0IHsgQWpjTW9kZWwgfSBmcm9tIFwiLi9hamMvQWpjTW9kZWxcIjtcclxuXHJcbmNvbnN0IGVudmlyb25tZW50ID0gXCIje0Vudmlyb25tZW50fSNcIiB8fCBcInByb2RcIjtcclxuaWYgKGVudmlyb25tZW50ICE9PSBcInByb2RcIikge1xyXG4gICAgd2luZG93W1wiUmVjb21tZW5kYXRpb25EZW1vXCJdID0gUmVjb21tZW5kYXRpb25EZW1vLnN0YXJ0KCk7XHJcbn1cclxuXHJcbmNvbnN0IGFqY01vZGVsID0gbmV3IEFqY01vZGVsKCk7XHJcblxyXG4vLyBhamMgY29uZmlnXHJcbndpbmRvdy5nMkV4dGVuZEluaXRzID0ge1xyXG4gICAgZGVmYXVsdDoge1xyXG4gICAgICAgIGNkcDoge1xyXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaW1lbnNpb25zOiB7XHJcbiAgICAgICAgICAgIC8vIEFydGljbGVJRFxyXG4gICAgICAgICAgICBDb250ZW50SWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRDb250ZW50SWQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgVGl0bGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRUaXRsZSgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBMZWFkSW1hZ2VVcmw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRMZWFkSW1hZ2VVcmwoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgQ2F0ZWdvcnk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldENhdGVnb3J5KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIExlYWRUZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0TGVhZFRleHQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgVGV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldFRleHQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgQXV0aG9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0QXV0aG9yKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIEtleXdvcmRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0S2V5d29yZHMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgRGVzY3JpcHRpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXREZXNjcmlwdGlvbigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBQdWJsaXNoRGF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldFB1Ymxpc2hEYXRlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFVwZGF0ZURhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRNb2RpZmljYXRpb25EYXRlKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFBpY3R1cmVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0UGljdHVyZXMoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgVmlkZW86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRDb3VudFZpZGVvKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFNlY3Rpb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRTZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIENvbnRlbnRUeXBlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0Q29udGVudFR5cGUoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgVGFnczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldFRhZ3MoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgTGlrZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhamNNb2RlbC5nZXRDb3VudExpa2VzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFNoYXJlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldENvdW50U2hhcmVzKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIEJyZWFraW5nTmV3czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldEJyZWFraW5nTmV3cygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBQcmVtaXVtOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWpjTW9kZWwuZ2V0SXNQcmVtaXVtKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIExhbmd1YWdlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAgYWpjTW9kZWwuZ2V0TGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgUmVjb21tZW5kZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFqY01vZGVsLmdldFJlY29tbWVuZGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyAoPGFueT53aW5kb3cpLmRpbWVuc2lvbnMgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB7fTtcclxuLy8gICAgIGZvciAobGV0IHByb3BlcnR5IGluIHdpbmRvdy5nMkV4dGVuZEluaXRzLmRlZmF1bHQuZGltZW5zaW9ucykge1xyXG4vLyAgICAgICAgICAgZGltZW5zaW9uc1twcm9wZXJ0eV0gPSB3aW5kb3cuZzJFeHRlbmRJbml0cy5kZWZhdWx0LmRpbWVuc2lvbnNbcHJvcGVydHldKCk7XHJcbi8vICAgICB9XHJcbi8vICAgICBjb25zb2xlLnRhYmxlKGRpbWVuc2lvbnMpO1xyXG4vLyAgICAgY29uc29sZS5sb2coZGltZW5zaW9ucyk7XHJcbi8vICAgICByZXR1cm4gZGltZW5zaW9ucztcclxuLy8gfSgpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6953\n')},9262:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// NAMESPACE OBJECT: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/index.ts\nvar events_namespaceObject = {};\n__webpack_require__.r(events_namespaceObject);\n__webpack_require__.d(events_namespaceObject, {\n  "ActionShown": () => (ActionShown),\n  "ActivateSuccess": () => (ActivateSuccess),\n  "Click": () => (Click),\n  "ConnextPageView": () => (ConnextPageView),\n  "CreateAccount": () => (CreateAccount),\n  "CtrlC": () => (CtrlC),\n  "Login": () => (Login),\n  "NewsletterArrival": () => (NewsletterArrival),\n  "NewsletterSignup": () => (NewsletterSignup),\n  "RecommendationShown": () => (RecommendationShown)\n});\n\n// NAMESPACE OBJECT: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/index.ts\nvar sp_collector_events_namespaceObject = {};\n__webpack_require__.r(sp_collector_events_namespaceObject);\n__webpack_require__.d(sp_collector_events_namespaceObject, {\n  "AbandonClosed": () => (AbandonClosed),\n  "AbandonPresented": () => (AbandonPresented),\n  "ApplePayPresented": () => (ApplePayPresented),\n  "CheckoutStart": () => (CheckoutStart),\n  "CreatedNewUser": () => (CreatedNewUser),\n  "FormCompleted": () => (FormCompleted),\n  "FormCompletedDeliveryAddress": () => (FormCompletedDeliveryAddress),\n  "FormCompletedPayment": () => (FormCompletedPayment),\n  "FormCompletedUserInfo": () => (FormCompletedUserInfo),\n  "IdleClosed": () => (IdleClosed),\n  "IdlePresented": () => (IdlePresented),\n  "OfferSelected": () => (OfferSelected),\n  "OffersPresented": () => (OffersPresented),\n  "SubscriptionSuccess": () => (SubscriptionSuccess),\n  "UpsellRemoved": () => (UpsellRemoved),\n  "UpsellSelected": () => (UpsellSelected)\n});\n\n// NAMESPACE OBJECT: ./src/plugin/collectors/cdp-collectors/commonEvents/events/index.ts\nvar commonEvents_events_namespaceObject = {};\n__webpack_require__.r(commonEvents_events_namespaceObject);\n__webpack_require__.d(commonEvents_events_namespaceObject, {\n  "DeviceIdChange": () => (DeviceIdChange),\n  "G2iDeviceIdChange": () => (G2iDeviceIdChange),\n  "LeavePage": () => (LeavePage),\n  "PageView": () => (PageView)\n});\n\n// NAMESPACE OBJECT: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/index.ts\nvar sp_tags_events_namespaceObject = {};\n__webpack_require__.r(sp_tags_events_namespaceObject);\n__webpack_require__.d(sp_tags_events_namespaceObject, {\n  "BillingAddressCompletedTagEvent": () => (BillingAddressCompletedTagEvent),\n  "CheckoutStartTagEvent": () => (CheckoutStartTagEvent),\n  "CreatedNewUsertagEvent": () => (CreatedNewUsertagEvent),\n  "DeleveryAddressCompleted": () => (DeleveryAddressCompleted),\n  "OfferSelectedTagEvent": () => (OfferSelectedTagEvent),\n  "OffersPresentedTagEvent": () => (OffersPresentedTagEvent),\n  "PaymentCompletedTagEvent": () => (PaymentCompletedTagEvent),\n  "SubscriptionSuccessTagEvent": () => (SubscriptionSuccessTagEvent),\n  "UserInfoCompletedTagEvent": () => (UserInfoCompletedTagEvent)\n});\n\n// NAMESPACE OBJECT: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/index.ts\nvar connext_tags_events_namespaceObject = {};\n__webpack_require__.r(connext_tags_events_namespaceObject);\n__webpack_require__.d(connext_tags_events_namespaceObject, {\n  "ActionShownTagEvent": () => (ActionShownTagEvent),\n  "AuthorizedTagEvent": () => (AuthorizedTagEvent),\n  "ClickTagEvent": () => (ClickTagEvent),\n  "ConversationDeterminedTagEvent": () => (ConversationDeterminedTagEvent),\n  "HasAccessTagEvent": () => (HasAccessTagEvent),\n  "MeterLevelSetTagEvent": () => (MeterLevelSetTagEvent),\n  "MeterStartTagEvent": () => (MeterStartTagEvent),\n  "MeterStopTagEvent": () => (MeterStopTagEvent),\n  "NewsletterSignUpTagEvent": () => (NewsletterSignUpTagEvent),\n  "NotAuthorizedTagEvent": () => (NotAuthorizedTagEvent),\n  "OnInitTagEvent": () => (OnInitTagEvent),\n  "PageViewTagEvent": () => (PageViewTagEvent)\n});\n\n// EXTERNAL MODULE: ./src/plugin/modules/configModule/ConfigModule.ts\nvar ConfigModule = __webpack_require__(3822);\n;// CONCATENATED MODULE: ./src/plugin/collectors/constants/CollectorTypes.ts\nvar CollectorTypes = {\r\n    Connext: "Connext",\r\n    SP: "SP",\r\n    Flittz: "Flittz"\r\n};\r\nvar ColType = {\r\n    "Connext": "Connext",\r\n    "SP": "SP",\r\n    "Flittz": "Flittz"\r\n};\r\n\n// EXTERNAL MODULE: ./src/plugin/data/services/EventService.ts\nvar EventService = __webpack_require__(6320);\n// EXTERNAL MODULE: ./src/plugin/data/services/MetaDataService.ts\nvar MetaDataService = __webpack_require__(6573);\n// EXTERNAL MODULE: ./src/plugin/utils/logger/LoggerService.ts\nvar LoggerService = __webpack_require__(7458);\n// EXTERNAL MODULE: ./src/plugin/utils/logger/Logger.Core.ts + 1 modules\nvar Logger_Core = __webpack_require__(8652);\n// EXTERNAL MODULE: ./src/plugin/data/services/SessionService.ts + 1 modules\nvar SessionService = __webpack_require__(438);\n// EXTERNAL MODULE: ./src/plugin/utils/Utils.ts\nvar Utils = __webpack_require__(7753);\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/CdpEventModel.ts\n\r\nvar CdpEventModel = (function () {\r\n    function CdpEventModel(data) {\r\n        this.Id = Utils/* Utils.createGUID */.c.createGUID();\r\n        this.EventData = [];\r\n        if (!data)\r\n            return;\r\n        this.EventName = data.EventName;\r\n        this.EventType = data.EventType;\r\n        this.EventTimestamp = data.EventTimestamp;\r\n        this.DeviceId = data.DeviceId;\r\n        this.G2Ideviceid = data.G2Ideviceid;\r\n        this.DeviceBrowserSessionId = data.DeviceBrowserSessionId;\r\n        this.PageSessionId = data.PageSessionId;\r\n        this.ConfigCode = data.ConfigCode;\r\n        this.SiteCode = data.SiteCode;\r\n        this.ClientCode = data.ClientCode;\r\n        this.SiteEnvironment = data.SiteEnvironment || "Unknown";\r\n        this.EventSource = data.EventSource || "Unknown";\r\n        this.EventData = data.EventData;\r\n    }\r\n    return CdpEventModel;\r\n}());\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/collectors/cdp-collectors/models/SendOptionsModel.ts\nvar SendOptionsModel = __webpack_require__(6432);\n// EXTERNAL MODULE: ./src/plugin/modules/botDetection/BotDetector.ts + 2 modules\nvar BotDetector = __webpack_require__(9945);\n// EXTERNAL MODULE: ./src/plugin/collectors/cdp-collectors/CdpEventsManager.ts\nvar CdpEventsManager = __webpack_require__(8546);\n// EXTERNAL MODULE: ./src/plugin/utils/DateUtil.ts\nvar DateUtil = __webpack_require__(1921);\n// EXTERNAL MODULE: ./src/plugin/utils/DeviceDetector.ts\nvar DeviceDetector = __webpack_require__(9276);\n;// CONCATENATED MODULE: ./src/plugin/modules/connextModule/classes/ConversationManager.ts\nvar ConversationManagerClass = (function () {\r\n    function ConversationManagerClass() {\r\n    }\r\n    ConversationManagerClass.prototype.getCurrentConversation = function () {\r\n        if (window.Connext) {\r\n            var currentConversation = void 0;\r\n            if (window.NxtInner) {\r\n                currentConversation = window.NxtInner.Storage.GetCurrentConversation();\r\n                if (currentConversation) {\r\n                    return currentConversation;\r\n                }\r\n            }\r\n            else {\r\n                currentConversation = window.Connext.Storage.GetCurrentConversation();\r\n                if (currentConversation) {\r\n                    return currentConversation;\r\n                }\r\n                else {\r\n                    return window.CnnXt.Storage.GetCurrentConversation();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ConversationManagerClass.prototype.GetCurrentConversationViewCount = function () {\r\n        var _a;\r\n        if (window.Connext) {\r\n            if (window.NxtInner) {\r\n                return window.NxtInner.Storage.GetCurrentConversationViewCount();\r\n            }\r\n            else {\r\n                return ((_a = window === null || window === void 0 ? void 0 : window.Connext) === null || _a === void 0 ? void 0 : _a.Storage.GetCurrentConversationViewCount()) || null;\r\n            }\r\n        }\r\n    };\r\n    ConversationManagerClass.prototype.getVersion = function () {\r\n        var regex = /[+-]?\\d+(\\.\\d+)?/g;\r\n        var findNumbers = window.Connext.GetVersion().match(regex);\r\n        return findNumbers ? findNumbers[0] : null;\r\n    };\r\n    return ConversationManagerClass;\r\n}());\r\n\r\nvar ConversationManager = new ConversationManagerClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/core/dom/Dom.ts\nvar DomClass = (function () {\r\n    function DomClass() {\r\n    }\r\n    DomClass.prototype.findAncestor = function (element, className) {\r\n        if (!element)\r\n            return;\r\n        if (element.classList.contains(className)) {\r\n            return element;\r\n        }\r\n        while ((element = element.parentElement) && !element.classList.contains(className))\r\n            ;\r\n        return element;\r\n    };\r\n    return DomClass;\r\n}());\r\n\r\nvar Dom = new DomClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/connextModule/classes/ActionManager.ts\n\r\n\r\nvar ActionManagerClass = (function () {\r\n    function ActionManagerClass() {\r\n    }\r\n    ActionManagerClass.prototype.getInfoFromClickedElement = function (clickedElement) {\r\n        var parent = Dom.findAncestor(clickedElement, "Mg2-connext"), actionInfo = {};\r\n        if (parent) {\r\n            var elementId = parent.getAttribute("id");\r\n            if (elementId) {\r\n                var actionId = parseInt(elementId.split("-")[1]);\r\n                var actionName = void 0;\r\n                var conversation = ConversationManager.getCurrentConversation();\r\n                if (conversation) {\r\n                    var actions = conversation.Actions;\r\n                    var actionLength = actions.length;\r\n                    for (var i = 0; i < actionLength; i++) {\r\n                        var action = actions[i];\r\n                        if (action.Id == actionId) {\r\n                            actionName = action.Name;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (actionId) {\r\n                    actionInfo["ActionId"] = actionId;\r\n                }\r\n                if (actionName) {\r\n                    actionInfo["ActionName"] = actionName;\r\n                }\r\n                return actionInfo;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ActionManagerClass;\r\n}());\r\n\r\nvar ActionManager = new ActionManagerClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/connextModule/ConnextModule.ts\n\r\n\r\n\r\nvar ConnextModuleClass = (function () {\r\n    function ConnextModuleClass() {\r\n        this.hasAdblock = false;\r\n        this.listenEvents();\r\n    }\r\n    ConnextModuleClass.prototype.listenEvents = function () {\r\n        this.listenAdblockFound();\r\n    };\r\n    ConnextModuleClass.prototype.listenAdblockFound = function () {\r\n        var _this = this;\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, "onAdblockFound", function (e) {\r\n            _this.hasAdblock = true;\r\n        });\r\n    };\r\n    ConnextModuleClass.prototype.getAdblockDetected = function () {\r\n        return this.hasAdblock;\r\n    };\r\n    ConnextModuleClass.prototype.getCurrentConversation = function () {\r\n        return ConversationManager.getCurrentConversation();\r\n    };\r\n    ConnextModuleClass.prototype.GetCurrentConversationViewCount = function () {\r\n        return ConversationManager.GetCurrentConversationViewCount();\r\n    };\r\n    ConnextModuleClass.prototype.getActionDataFromElement = function (clickedElement) {\r\n        return ActionManager.getInfoFromClickedElement(clickedElement);\r\n    };\r\n    ConnextModuleClass.prototype.hasConnext = function () {\r\n        return !!window.Connext;\r\n    };\r\n    ConnextModuleClass.prototype.getVersionInfo = function () {\r\n        if (window.Connext) {\r\n            return window.Connext.GetVersionInfo();\r\n        }\r\n        else {\r\n            return "Connext is not defined";\r\n        }\r\n    };\r\n    ConnextModuleClass.prototype.getConfigCode = function () {\r\n        if (window.Connext && window.Connext.Storage) {\r\n            return window.Connext.Storage.GetConfigCode();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    return ConnextModuleClass;\r\n}());\r\n\r\nvar ConnextModule = new ConnextModuleClass();\r\n\n// EXTERNAL MODULE: ./src/plugin/modules/cdpModule/CdpModule.ts + 3 modules\nvar CdpModule = __webpack_require__(8319);\n// EXTERNAL MODULE: ./src/plugin/utils/BugTrackUtil.ts\nvar BugTrackUtil = __webpack_require__(8578);\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/CdpEvent.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CdpEvent = (function () {\r\n    function CdpEvent() {\r\n        this.IsAsync = true;\r\n        this.originalEventNames = [];\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("CdpEvent");\r\n        this.requiredFields = ["DeviceId", "SiteCode", "ClientCode", "ConfigCode"];\r\n        this.optionalFields = ["G2Ideviceid"];\r\n        this.eventModel = new CdpEventModel(null);\r\n        this.sessionService = SessionService/* SessionService.Instance */.m.Instance;\r\n        this.clearPreviousData();\r\n    }\r\n    CdpEvent.prototype.getEventOptions = function () {\r\n        var sendOptions = new SendOptionsModel/* SendOptionsModel */.D();\r\n        sendOptions.IsAsync = this.IsAsync;\r\n        return sendOptions;\r\n    };\r\n    CdpEvent.prototype.listen = function () {\r\n        var _this = this;\r\n        this.Logger.trace("Registering EventListener");\r\n        try {\r\n            if (this.originalEventNames && this.originalEventNames.length > 0) {\r\n                this.originalEventNames.forEach(function (eventName, key) {\r\n                    _this.listenEvent(eventName);\r\n                });\r\n            }\r\n            else {\r\n                if (this.originalEventName) {\r\n                    this.listenEvent(this.originalEventName);\r\n                }\r\n                else {\r\n                    this.Logger.error("No event Name in Object");\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.error("addCollectorEventListener.Error", e);\r\n        }\r\n    };\r\n    CdpEvent.prototype.listenEvent = function (eventName) {\r\n        var _this = this;\r\n        try {\r\n            this.Logger.trace("addEventListener...", eventName);\r\n            Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, eventName, function (e) {\r\n                _this.Logger.trace("Firing", _this.eventModel.EventName);\r\n                _this.clearPreviousData();\r\n                _this.setOriginalEventData(e.detail);\r\n                _this.currentEventName = eventName;\r\n                CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(_this);\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    CdpEvent.prototype.transformEventData = function (transformData) {\r\n        var originalEventData = this.getOriginalEventData();\r\n        var eventData = transformData || originalEventData.EventData || {};\r\n        var dataObjectToArray = Utils/* Utils.ArrayToDictionaryRecursive */.c.ArrayToDictionaryRecursive(eventData, []);\r\n        this.eventModel.EventData = this.eventModel.EventData.concat(this.convertDataValueToString(dataObjectToArray));\r\n    };\r\n    CdpEvent.prototype.updateEventData = function () {\r\n        var _this = this;\r\n        var firedData = this.eventModel.EventData;\r\n        this.eventModel.EventData = [];\r\n        this.addVersionInfo();\r\n        this.addBotInfo();\r\n        this.updateCustomProperties();\r\n        firedData.forEach(function (fd) {\r\n            var sameKeyData = _this.eventModel.EventData.find(function (cd) { return cd.Key === fd.Key; });\r\n            if (sameKeyData && sameKeyData.Value !== fd.Value && fd.Value !== "") {\r\n                BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("update_event_data: " + JSON.stringify(sameKeyData) + " -> " + JSON.stringify(fd));\r\n                sameKeyData.Value = fd.Value;\r\n            }\r\n            else if (!sameKeyData) {\r\n                _this.eventModel.EventData.push(fd);\r\n                BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("push_event_data: " + JSON.stringify(fd));\r\n            }\r\n        });\r\n    };\r\n    CdpEvent.prototype.updateEventModel = function () {\r\n        this.eventModel.G2Ideviceid = this.eventModel.G2Ideviceid || CdpModule/* CdpModule.getG2iDeviceId */.v.getG2iDeviceId() || "";\r\n    };\r\n    CdpEvent.prototype.addBotInfo = function () {\r\n        if (ConfigModule/* ConfigModule.isAddBotInformation */.p.isAddBotInformation()) {\r\n            var botDetector = new BotDetector/* BotDetector */.n();\r\n            var detectBot = botDetector.getDetectBot();\r\n            if (detectBot) {\r\n                this.eventModel.EventData.push({ Key: "BotName", Value: detectBot.name });\r\n                this.eventModel.EventData.push({ Key: "BotCategory", Value: detectBot.category });\r\n            }\r\n            else {\r\n                this.eventModel.EventData.push({ Key: "UserBot", Value: "false" });\r\n            }\r\n        }\r\n    };\r\n    CdpEvent.prototype.getEventModel = function () {\r\n        this.eventModel = new CdpEventModel(null);\r\n        var originalEventData = this.getOriginalEventData();\r\n        this.eventModel.PageSessionId = this.sessionService.PageSessionId || this.getEventPageSessionId(originalEventData);\r\n        this.eventModel.DeviceBrowserSessionId = this.sessionService.getDeviceSessionId();\r\n        this.eventModel.EventTimestamp = DateUtil/* DateUtil.getNowDateInSec */.E.getNowDateInSec();\r\n        this.eventModel.SiteEnvironment = ConfigModule/* ConfigModule.getSiteEnvironment */.p.getSiteEnvironment();\r\n        this.eventModel.ClientCode = ConfigModule/* ConfigModule.getClientCode */.p.getClientCode();\r\n        this.eventModel.SiteCode = ConfigModule/* ConfigModule.getSiteCode */.p.getSiteCode();\r\n        this.eventModel.DeviceId = DeviceDetector/* DeviceDetector.getCalculatedDeviceId */.D.getCalculatedDeviceId();\r\n        this.eventModel.G2Ideviceid = CdpModule/* CdpModule.getG2iDeviceId */.v.getG2iDeviceId() || "";\r\n        this.eventModel.ConfigCode = ConnextModule.getConfigCode() || "Unknown";\r\n        this.addVersionInfo();\r\n        this.addBotInfo();\r\n        this.updateCustomProperties();\r\n        return this.eventModel;\r\n    };\r\n    CdpEvent.prototype.updateCustomProperties = function () { };\r\n    CdpEvent.prototype.addVersionInfo = function () {\r\n        this.eventModel.EventData.push({ Key: "Version", Value: Utils/* Utils.getVersion */.c.getVersion() });\r\n    };\r\n    CdpEvent.prototype.getEventPageSessionId = function (originalEventData) {\r\n        return originalEventData.EventInfo ? originalEventData.EventInfo.SessionId : Utils/* Utils.createGUID */.c.createGUID();\r\n    };\r\n    CdpEvent.prototype.convertDataValueToString = function (data) {\r\n        this.Logger.trace("eventDataValueToString", "eventDataValueToString", data);\r\n        var cleaned = [];\r\n        data.map(function (e) {\r\n            if ((typeof e.Value !== "undefined" && e.Value !== null)) {\r\n                cleaned.push({ "Key": e.Key, "Value": e.Value.toString() });\r\n            }\r\n            else {\r\n                cleaned.push({ "Key": e.Key, "Value": "" });\r\n            }\r\n        });\r\n        this.Logger.trace("eventDataValueToString", "eventDataValueToString", cleaned);\r\n        return cleaned;\r\n    };\r\n    CdpEvent.prototype.isValid = function (excludeOptional) {\r\n        if (excludeOptional === void 0) { excludeOptional = false; }\r\n        var fieldLength = this.requiredFields.length;\r\n        for (var i = 0; i < fieldLength; i++) {\r\n            if (!this.eventModel[this.requiredFields[i]]) {\r\n                return false;\r\n            }\r\n        }\r\n        if (!excludeOptional) {\r\n            var optionalFieldLength = this.optionalFields.length;\r\n            for (var i = 0; i < optionalFieldLength; i++) {\r\n                if (!this.eventModel[this.optionalFields[i]]) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    CdpEvent.prototype.updateRequiredFields = function (updateUserDataModel, excludeOptional) {\r\n        var _this = this;\r\n        if (excludeOptional === void 0) { excludeOptional = false; }\r\n        if (Array.isArray(updateUserDataModel)) {\r\n            updateUserDataModel = updateUserDataModel[0];\r\n        }\r\n        ;\r\n        this.Logger.debug("updateUserDataModel", updateUserDataModel);\r\n        if (!updateUserDataModel)\r\n            return;\r\n        this.requiredFields.forEach(function (field) {\r\n            _this.eventModel[field] = _this.eventModel[field] ? _this.eventModel[field] : updateUserDataModel[field];\r\n        });\r\n        if (!excludeOptional) {\r\n            this.optionalFields.forEach(function (field) {\r\n                _this.eventModel[field] = _this.eventModel[field] ? _this.eventModel[field] : updateUserDataModel[field];\r\n            });\r\n        }\r\n    };\r\n    CdpEvent.prototype.tryUpdate = function () {\r\n        if (this.eventModel && !this.eventModel.DeviceId) {\r\n            this.eventModel.DeviceId = DeviceDetector/* DeviceDetector.getCalculatedDeviceId */.D.getCalculatedDeviceId();\r\n        }\r\n    };\r\n    CdpEvent.prototype.getOriginalEventData = function () {\r\n        return this.originalEventData || {};\r\n    };\r\n    CdpEvent.prototype.setOriginalEventData = function (eventData) {\r\n        this.originalEventData = eventData;\r\n    };\r\n    CdpEvent.prototype.clearPreviousData = function () {\r\n        this.originalEventData = null;\r\n        this.eventModel = new CdpEventModel(null);\r\n    };\r\n    CdpEvent.prototype.useInCalculateFirstVisitModel = function () {\r\n        return false;\r\n    };\r\n    CdpEvent.prototype.getFirstVisitProperty = function () {\r\n        return "";\r\n    };\r\n    CdpEvent.prototype.getCalculateModel = function () {\r\n        return this.eventModel;\r\n    };\r\n    return CdpEvent;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/utils/cookie/Cookie.ts\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar Cookie = (function () {\r\n    function Cookie() {\r\n    }\r\n    Cookie.getStoredLogLevel = function () {\r\n        console.log("getStoredLogLevel");\r\n    };\r\n    Cookie.stringifyAttribute = function (name, value) {\r\n        if (!value) {\r\n            return "";\r\n        }\r\n        var stringified = "; " + name;\r\n        if (value === true) {\r\n            return stringified;\r\n        }\r\n        return stringified + "=" + value;\r\n    };\r\n    Cookie.stringifyAttributes = function (attributes) {\r\n        if (typeof attributes.expires === "number") {\r\n            var expires = new Date();\r\n            expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n            attributes.expires = expires;\r\n        }\r\n        return this.stringifyAttribute("Expires", attributes.expires ? attributes.expires.toUTCString() : "")\r\n            + this.stringifyAttribute("Domain", attributes.domain)\r\n            + this.stringifyAttribute("Path", attributes.path)\r\n            + this.stringifyAttribute("Secure", attributes.secure)\r\n            + this.stringifyAttribute("SameSite", attributes.sameSite);\r\n    };\r\n    Cookie.encode = function (name, value, attributes) {\r\n        return encodeURIComponent(name)\r\n            .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\r\n            .replace(/\\(/g, "%28").replace(/\\)/g, "%29")\r\n            + "=" + encodeURIComponent(value)\r\n            .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent)\r\n            + this.stringifyAttributes(attributes);\r\n    };\r\n    Cookie.parse = function (cookieString) {\r\n        var result = {};\r\n        var cookies = cookieString ? cookieString.split("; ") : [];\r\n        var rdecode = /(%[0-9A-Z]{2})+/g;\r\n        for (var i = 0; i < cookies.length; i++) {\r\n            var parts = cookies[i].split("=");\r\n            var cookie = parts.slice(1).join("=");\r\n            if (cookie.charAt(0) === "\\"") {\r\n                cookie = cookie.slice(1, -1);\r\n            }\r\n            try {\r\n                var name_1 = parts[0].replace(rdecode, decodeURIComponent);\r\n                result[name_1] = cookie.replace(rdecode, decodeURIComponent);\r\n            }\r\n            catch (e) {\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    Cookie.getAll = function () {\r\n        return this.parse(document.cookie);\r\n    };\r\n    Cookie.get = function (name) {\r\n        return this.getAll()[name];\r\n    };\r\n    Cookie.set = function (name, value, attributes) {\r\n        document.cookie = this.encode(name, value, __assign({ path: "/" }, attributes));\r\n    };\r\n    Cookie.remove = function (name, attributes) {\r\n        this.set(name, "", __assign(__assign({}, attributes), { expires: -1 }));\r\n    };\r\n    return Cookie;\r\n}());\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/utils/proxy/ProxyService.ts\nvar ProxyService = __webpack_require__(1568);\n// EXTERNAL MODULE: ./src/plugin/data/services/Index.ts\nvar Index = __webpack_require__(5908);\n// EXTERNAL MODULE: ./src/plugin/modules/workflowModeModule/WorkflowModule.ts\nvar WorkflowModule = __webpack_require__(8383);\n// EXTERNAL MODULE: ./src/plugin/modules/workflowModeModule/models/index.ts + 1 modules\nvar models = __webpack_require__(8794);\n;// CONCATENATED MODULE: ./src/plugin/modules/abModule/EngageABModule.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ABModuleClass = (function () {\r\n    function ABModuleClass() {\r\n        this.cookieKey = "nxt_ab_test";\r\n        this.miscPrefix = "MiscEngage";\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("ABModule");\r\n    }\r\n    ABModuleClass.prototype.addMisc = function (eventListener) {\r\n        if (!WorkflowModule/* WorkflowModule.getModeEnabled */.L.getModeEnabled(models/* FLOW_MODE_TYPES.EngageABExperiments */.f.EngageABExperiments)) {\r\n            return eventListener;\r\n        }\r\n        var method = CdpEvent.prototype.getEventModel.name || "getEventModel";\r\n        var _this = this;\r\n        var settings = {\r\n            target: method,\r\n            handler: function (originalMethod) {\r\n                var args = [];\r\n                for (var _i = 1; _i < arguments.length; _i++) {\r\n                    args[_i - 1] = arguments[_i];\r\n                }\r\n                var eventModel = originalMethod.apply(null, args);\r\n                _this.pushEventData(eventModel);\r\n                _this.pushGA();\r\n                return eventModel;\r\n            }\r\n        };\r\n        return ProxyService/* ProxyService.apply */.y.apply(eventListener, settings);\r\n    };\r\n    ABModuleClass.prototype.getEngageData = function () {\r\n        var _a;\r\n        var result = null;\r\n        try {\r\n            result = ((_a = window.NxtInner) === null || _a === void 0 ? void 0 : _a.GetABTestCookie()) || JSON.parse(Cookie.get(this.cookieKey));\r\n        }\r\n        catch (ex) { }\r\n        return result;\r\n    };\r\n    ABModuleClass.prototype.pushEventData = function (eventModel) {\r\n        var data = this.getEngageData();\r\n        if (eventModel && this.isValidData(data)) {\r\n            eventModel.EventData.push({ Key: this.miscPrefix + "ABGroup", Value: data.ABGroup });\r\n            eventModel.EventData.push({ Key: this.miscPrefix + "ABExperimentId", Value: data.ABExperimentId.toString() });\r\n            this.Logger.info("pushEventData", data);\r\n        }\r\n        else {\r\n            this.Logger.info("NOT pushEventData", "data", data, "eventModel", eventModel);\r\n        }\r\n    };\r\n    ABModuleClass.prototype.pushGA = function () {\r\n        var data = this.getEngageData();\r\n        if (this.isValidData(data) && this.lastExperimentId !== data.ABExperimentId) {\r\n            this.Logger.info("pushGA", data);\r\n            Index/* TagManagerService.Instance.setDLV */.c$.Instance.setDLV("ABTesting", data);\r\n            this.lastExperimentId = data.ABExperimentId;\r\n        }\r\n    };\r\n    ABModuleClass.prototype.isValidData = function (data) {\r\n        return !!(data && data.ABExperimentId && data.ABExperimentName && data.ABGroup && data.ABGroupName);\r\n    };\r\n    return ABModuleClass;\r\n}());\r\nvar ABModule = new ABModuleClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/Collector.ts\n\r\n\r\nvar Collector = (function () {\r\n    function Collector() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("Collector");\r\n        this.listeners = [];\r\n    }\r\n    Collector.prototype.registerEvents = function () {\r\n        var _this = this;\r\n        var events = Object.keys(this.events);\r\n        events.forEach(function (eventName) {\r\n            try {\r\n                var eventListener = new _this.events[eventName]();\r\n                _this.listeners[eventName] = ABModule.addMisc(eventListener);\r\n                eventListener.listen();\r\n            }\r\n            catch (e) {\r\n                _this.Logger.fatal(e);\r\n            }\r\n        });\r\n    };\r\n    ;\r\n    Collector.prototype.isHavePageViewEvent = function () {\r\n        return false;\r\n    };\r\n    return Collector;\r\n}());\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/core/constants/Constants.ts\nvar Constants = __webpack_require__(5079);\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/ConnextEvent.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar ConnextEvent = (function (_super) {\r\n    __extends(ConnextEvent, _super);\r\n    function ConnextEvent() {\r\n        var _this = _super.call(this) || this;\r\n        _this.sessionService = SessionService/* SessionService.Instance */.m.Instance;\r\n        return _this;\r\n    }\r\n    ConnextEvent.prototype.getEventModel = function () {\r\n        this.eventModel = _super.prototype.getEventModel.call(this);\r\n        this.eventModel.EventSource = Constants/* Constants.EventsSources.Connext */.g.EventsSources.Connext;\r\n        this.addConnextVersionInfo();\r\n        this.eventModel.ConfigCode = ConnextModule.getConfigCode();\r\n        return new CdpEventModel(this.eventModel);\r\n    };\r\n    ConnextEvent.prototype.addConnextVersionInfo = function () {\r\n        this.eventModel.EventData.push({ Key: "SourceVersion", Value: ConnextModule.getVersionInfo() });\r\n    };\r\n    ConnextEvent.prototype.updateCustomProperties = function () { };\r\n    return ConnextEvent;\r\n}(CdpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/data/models/connext/ActionModels.ts\nvar ActionTypeDict = {\r\n    1: "Banner",\r\n    4: "Inline",\r\n    2: "Modal",\r\n    3: "Paywall",\r\n    6: "SmallInfoBox",\r\n    7: "JS",\r\n    11: "Newsletter",\r\n    16: "InsightsRecommendation"\r\n};\r\nvar ActionTypes = {\r\n    "Banner": "Banner",\r\n    "Inline": "Inline",\r\n    "Modal": "Modal",\r\n    "Paywall": "Paywall",\r\n    "SmallInfoBox": "SmallInfoBox",\r\n    "JS": "JS",\r\n    "Newsletter": "Newsletter",\r\n    "InsightsRecommendation": "InsightsRecommendation"\r\n};\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/ActionShown.ts\nvar ActionShown_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar ActionShown = (function (_super) {\r\n    ActionShown_extends(ActionShown, _super);\r\n    function ActionShown() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onActionShown";\r\n        return _this;\r\n    }\r\n    ActionShown.prototype.updateCustomProperties = function () {\r\n        var actionShowEventData = this.originalEventData.EventData;\r\n        this.eventModel.EventType = "ActionShown";\r\n        this.eventModel.EventName = actionShowEventData.Name;\r\n        var eventData = {\r\n            Type: actionShowEventData.ActionType || ActionTypeDict[this.originalEventData.EventData.ActionTypeId],\r\n            UserER: CdpModule/* CdpModule.getErCode */.v.getErCode(),\r\n            UserERP: CdpModule/* CdpModule.getErpCode */.v.getErpCode(),\r\n            UserCR: CdpModule/* CdpModule.getCrCode */.v.getCrCode(),\r\n            UserCRP: CdpModule/* CdpModule.getCrpCode */.v.getCrpCode()\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return ActionShown;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/ActivateSuccess.ts\nvar ActivateSuccess_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar ActivateSuccess = (function (_super) {\r\n    ActivateSuccess_extends(ActivateSuccess, _super);\r\n    function ActivateSuccess() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onActivationLinkSuccessStepShown";\r\n        return _this;\r\n    }\r\n    ActivateSuccess.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "ActivateSuccess";\r\n        this.eventModel.EventName = "ActivateSuccess";\r\n        this.transformEventData({});\r\n    };\r\n    return ActivateSuccess;\r\n}(ConnextEvent));\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/core/constants/FirstVisitProperties.ts\nvar FirstVisitProperties = __webpack_require__(3483);\n;// CONCATENATED MODULE: ./src/plugin/collectors/constants/Events.ts\nvar ClickEventName = {\r\n    Login: "Login",\r\n    Activate: "Activate",\r\n    Upgrade: "Upgrade",\r\n    Other: "Other",\r\n    SignUp: "SignUp",\r\n    Social: "Social",\r\n    Register: "Register",\r\n    Logout: "Logout",\r\n    Subscribe: "Subscribe"\r\n};\r\nvar EventName = {\r\n    MeterLevelSet: "meterLevelSet",\r\n    ConversationDetermined: "conversationDetermined",\r\n    MeterStart: "meterStart",\r\n    MeterStop: "meterStop",\r\n    ActionShown: "actionShown",\r\n    NewsletterSignup: "newsletterSignup",\r\n    CheckoutStart: "CheckoutStart",\r\n    OffersPresented: "OffersPresented",\r\n    BillingAddress: "BillingAddress",\r\n    UserInfo: "UserInfo",\r\n    CreatedNewUser: "CreatedNewUser",\r\n    Payment: "Payment",\r\n    DeliveryAddress: "DeliveryAddress",\r\n    SubscriptionSuccess: "SubscriptionSuccess",\r\n    AbandonPresented: "AbandonPresented",\r\n    AbandonClosed: "AbandonClosed",\r\n    IdlePresented: "IdlePresented",\r\n    IdleClosed: "IdleClosed",\r\n    UpsellSelected: "UpsellSelected"\r\n};\r\nvar EventNames = {\r\n    PageView: "PageView"\r\n};\r\n\n;// CONCATENATED MODULE: ./src/plugin/utils/ClickUtils.ts\n\r\n\r\n\r\nvar ClickUtilsClass = (function () {\r\n    function ClickUtilsClass() {\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("ClickUtils");\r\n    }\r\n    ClickUtilsClass.prototype.getEventName = function (clickedElement) {\r\n        var result = ClickEventName.Other;\r\n        var actionType = Utils/* Utils.getAttributeOfDomOrParents */.c.getAttributeOfDomOrParents(clickedElement, "data-mg2-action");\r\n        if (!actionType) {\r\n            var parentA = Utils/* Utils.getParentDomByTagName */.c.getParentDomByTagName(clickedElement, "a");\r\n            if (parentA) {\r\n                this.Logger.debug("Click Event", "parentA", parentA);\r\n                var socialType = this.checkForSocialLinks(parentA);\r\n                this.Logger.debug("Click Event", "socialActionType", socialType);\r\n                if (socialType) {\r\n                    this.Logger.debug("HAS SOCIAL", socialType);\r\n                    result = ClickEventName.Social;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            switch (actionType) {\r\n                case "login": {\r\n                    result = ClickEventName.Login;\r\n                    break;\r\n                }\r\n                case "activation":\r\n                    {\r\n                        result = ClickEventName.Activate;\r\n                        break;\r\n                    }\r\n                    ;\r\n                case "register":\r\n                    {\r\n                        result = ClickEventName.Register;\r\n                        break;\r\n                    }\r\n                    ;\r\n                case "logout":\r\n                    {\r\n                        result = ClickEventName.Logout;\r\n                        break;\r\n                    }\r\n                    ;\r\n                case "upgrade":\r\n                    {\r\n                        result = ClickEventName.Upgrade;\r\n                        break;\r\n                    }\r\n                    ;\r\n                case "subscribe":\r\n                    {\r\n                        result = ClickEventName.Subscribe;\r\n                        break;\r\n                    }\r\n                    ;\r\n                case "click": {\r\n                    if (Utils/* Utils.checkForNewsletterSignUpClick */.c.checkForNewsletterSignUpClick(clickedElement)) {\r\n                        result = ClickEventName.SignUp;\r\n                    }\r\n                    break;\r\n                }\r\n                default: {\r\n                    result = ClickEventName.Other;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ClickUtilsClass.prototype.checkForSocialLinks = function (el) {\r\n        this.Logger.debug("checkForSocialLinks", "el", el);\r\n        var cls = el.className.toLowerCase();\r\n        if (cls) {\r\n            if (cls.includes("facebook")) {\r\n                return "Facebook";\r\n            }\r\n            else if (cls.includes("twitter")) {\r\n                return "Twitter";\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    return ClickUtilsClass;\r\n}());\r\nvar ClickUtils = new ClickUtilsClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/Click.ts\nvar Click_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Click = (function (_super) {\r\n    Click_extends(Click, _super);\r\n    function Click() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.socialType = null;\r\n        return _this;\r\n    }\r\n    Click.prototype.listen = function () {\r\n        var _this = this;\r\n        var eventName = "click";\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, eventName, function (event) {\r\n            _this.Logger.debug("Click Event", event, "e.target", event.target);\r\n            _this.clickedElement = event.target;\r\n            _this.clearPreviousData();\r\n            _this.originalEventData = event;\r\n            _this.socialType = null;\r\n            _this.actionType = null;\r\n            if (Utils/* Utils.getAttributeOfDomOrParents */.c.getAttributeOfDomOrParents(_this.clickedElement, "data-mg2-tester")) {\r\n                _this.Logger.debug("is tester, ignoring");\r\n                return false;\r\n            }\r\n            _this.actionType = ClickUtils.getEventName(_this.clickedElement);\r\n            _this.socialType = _this.actionType === ClickEventName.Social;\r\n            _this.Logger.debug("******** Click Event ", "actionType=>", _this.actionType, " el=> ", _this.clickedElement);\r\n            CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(_this);\r\n        });\r\n    };\r\n    Click.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "Click";\r\n        var payload = this.createDomTargetPayload(this.clickedElement);\r\n        if (this.socialType) {\r\n            payload["TargetSocialNetwork"] = ClickUtils.checkForSocialLinks(this.clickedElement);\r\n        }\r\n        var actionData = ConnextModule.getActionDataFromElement(this.clickedElement);\r\n        if (actionData) {\r\n            payload["ActionId"] = actionData["ActionId"];\r\n            payload["ActionName"] = actionData["ActionName"];\r\n            payload["IsActionClick"] = true;\r\n        }\r\n        ;\r\n        this.transformEventData(payload);\r\n        this.eventModel.EventName = Utils/* Utils.toTitleCase */.c.toTitleCase(this.actionType);\r\n    };\r\n    Click.prototype.createDomTargetPayload = function (target) {\r\n        var tagName = target.tagName.toLowerCase();\r\n        var targetAttribute;\r\n        var targetValue;\r\n        if (target.id && target.id !== "") {\r\n            targetAttribute = "Id";\r\n            targetValue = target.id;\r\n        }\r\n        else if (target.name && target.name !== "") {\r\n            targetAttribute = "Name";\r\n            targetValue = target.name;\r\n        }\r\n        else if (target.className && target.className !== "") {\r\n            targetAttribute = "Class";\r\n            targetValue = target.className;\r\n        }\r\n        else {\r\n            targetAttribute = "Label";\r\n            targetValue = target.textContent || target.innerText;\r\n            switch (tagName) {\r\n                case "img":\r\n                case "audio":\r\n                case "video":\r\n                    targetAttribute = "src";\r\n                    targetValue = target.getAttribute("src");\r\n                    break;\r\n            }\r\n        }\r\n        if (tagName === "html") {\r\n            targetValue = "html";\r\n        }\r\n        var payload = {\r\n            "TargetType": tagName,\r\n            "TargetAttribute": targetAttribute,\r\n            "TargetValue": targetValue\r\n        };\r\n        return payload;\r\n    };\r\n    Click.prototype.useInCalculateFirstVisitModel = function () {\r\n        return true;\r\n    };\r\n    Click.prototype.getFirstVisitProperty = function () {\r\n        return FirstVisitProperties/* FirstVisitProperties.CountClick */.B.CountClick;\r\n    };\r\n    return Click;\r\n}(ConnextEvent));\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/modules/dimensionsModule/DimensionsModule.ts + 1 modules\nvar DimensionsModule = __webpack_require__(8159);\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/PageModel.ts\n\r\n\r\nvar PageModel = (function () {\r\n    function PageModel(data) {\r\n        if (!data) {\r\n            this.setDynamicProperty();\r\n            return;\r\n        }\r\n        this.Keywords = data.Keywords && Array.isArray(data.Keywords) ? data.Keywords.join(",") : data.Keywords;\r\n        this.Title = data.Title;\r\n        this.Url = data.Url;\r\n        this.Section = data.Section;\r\n        this.Author = data.Author;\r\n        this.Tags = data.Tags && Array.isArray(data.Tags) ? data.Tags.join(",") : data.Tags;\r\n        ;\r\n        this.ContentId = data.ContentId;\r\n        this.PublishDate = DateUtil/* DateUtil.getISOFormat */.E.getISOFormat(data.PublishDate);\r\n        this.ContentType = data.ContentType;\r\n        this.Recommended = data.Recommended;\r\n        this.setDynamicProperty();\r\n    }\r\n    PageModel.prototype.setDynamicProperty = function () {\r\n        var dynamicDimensions = DimensionsModule/* DimensionsModule.getDynamicDimensions */.e.getDynamicDimensions();\r\n        this.extendCurrentModel(dynamicDimensions);\r\n    };\r\n    PageModel.prototype.extendCurrentModel = function (dataModel) {\r\n        if (!dataModel)\r\n            return;\r\n        for (var property in dataModel) {\r\n            if (dataModel.hasOwnProperty(property)) {\r\n                this[property] = dataModel[property];\r\n            }\r\n        }\r\n    };\r\n    return PageModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/DeviceModel.ts\n\r\nvar DeviceModel = (function () {\r\n    function DeviceModel() {\r\n        var userMeta = DeviceDetector/* DeviceDetector.getMetaData */.D.getMetaData();\r\n        this.Browser = userMeta.Browser;\r\n        this.Type = userMeta.DeviceType;\r\n        this.OS = userMeta.OS;\r\n    }\r\n    return DeviceModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/LocationModel.ts\nvar LocationModel = (function () {\r\n    function LocationModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.City = data.City;\r\n        this.ContinentCode = data.ContinentCode;\r\n        this.CountryCode = data.CountryCode;\r\n        this.Lat = data.Lat;\r\n        this.Long = data.Long;\r\n        this.State = data.State;\r\n        this.Zip = data.Zip;\r\n        this.IpAddress = data.IpAddress;\r\n    }\r\n    return LocationModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/models/ConnextUserModel.ts\n\r\nvar ConnextUserModel = (function () {\r\n    function ConnextUserModel() {\r\n        this.Id = this.getConnextUserId();\r\n        this.Status = this.getConnextUserStatus();\r\n        this.ER = CdpModule/* CdpModule.getErCode */.v.getErCode();\r\n        this.ERP = CdpModule/* CdpModule.getErpCode */.v.getErpCode();\r\n        this.CR = CdpModule/* CdpModule.getCrCode */.v.getCrCode();\r\n        this.CRP = CdpModule/* CdpModule.getCrpCode */.v.getCrpCode();\r\n        this.Id = this.getConnextUserId();\r\n        this.Status = this.getConnextUserStatus();\r\n        this.ER = CdpModule/* CdpModule.getErCode */.v.getErCode();\r\n        this.ERP = CdpModule/* CdpModule.getErpCode */.v.getErpCode();\r\n        this.CR = CdpModule/* CdpModule.getCrCode */.v.getCrCode();\r\n        this.CRP = CdpModule/* CdpModule.getCrpCode */.v.getCrpCode();\r\n    }\r\n    ConnextUserModel.prototype.getConnextUserStatus = function () {\r\n        if (window.CnnXt && window.CnnXt.User) {\r\n            return window.CnnXt.User.getUserState() || "";\r\n        }\r\n        if (window.Connext) {\r\n            return window.Connext.Storage.GetUserState() || "";\r\n        }\r\n        return "";\r\n    };\r\n    ConnextUserModel.prototype.getConnextUserId = function () {\r\n        if (window.CnnXt && window.CnnXt.User) {\r\n            return window.CnnXt.User.getMasterId() || "";\r\n        }\r\n        if (window.Connext) {\r\n            var userData = window.Connext.Storage.GetUserData();\r\n            if (userData) {\r\n                return userData.MasterId || "";\r\n            }\r\n        }\r\n        return "";\r\n    };\r\n    return ConnextUserModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/CampaignModel.ts\n\r\nvar CampaignModel = (function () {\r\n    function CampaignModel(connextEventData) {\r\n        this.Id = connextEventData.CampaignId;\r\n        this.MeterLevel = connextEventData.MeterLevel;\r\n        this.ConversationId = this.getConversationId(connextEventData);\r\n        this.ConversationName = this.getConversationName(connextEventData);\r\n    }\r\n    CampaignModel.prototype.getConversationId = function (connextEventData) {\r\n        if (connextEventData.Conversation && connextEventData.Conversation.Id) {\r\n            return connextEventData.Conversation.Id;\r\n        }\r\n        else {\r\n            var storageConversation = ConnextModule.getCurrentConversation();\r\n            if (storageConversation) {\r\n                return storageConversation.Id;\r\n            }\r\n        }\r\n    };\r\n    CampaignModel.prototype.getConversationName = function (connextEventData) {\r\n        if (connextEventData.Conversation && connextEventData.Conversation.Name) {\r\n            return connextEventData.Conversation.Name;\r\n        }\r\n        else {\r\n            var storageConversation = ConnextModule.getCurrentConversation();\r\n            if (storageConversation) {\r\n                return storageConversation.Name;\r\n            }\r\n        }\r\n    };\r\n    return CampaignModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/DigitalAccessModel.ts\nvar DigitalAccessModel = (function () {\r\n    function DigitalAccessModel(data) {\r\n        var _a;\r\n        data = (_a = data === null || data === void 0 ? void 0 : data.MG2AccountData) === null || _a === void 0 ? void 0 : _a.DigitalAccess;\r\n        if (!data)\r\n            return;\r\n        this.Subscription = new SubscriptionPublicModel(data.Subscription);\r\n    }\r\n    return DigitalAccessModel;\r\n}());\r\n\r\nvar AccessLevelModel = (function () {\r\n    function AccessLevelModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.IsPremium = data.IsPremium;\r\n        this.IsPurchase = data.IsPurchase;\r\n        this.IsUpgrade = data.IsUpgrade;\r\n    }\r\n    return AccessLevelModel;\r\n}());\r\nvar SubscriptionPublicModel = (function () {\r\n    function SubscriptionPublicModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.SubscriptionId = data.SubscriptionId;\r\n        this.AccountNumber = data.AccountNumber;\r\n    }\r\n    return SubscriptionPublicModel;\r\n}());\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/ConnextPageViewDataModel.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ConnextPageViewDataModel = (function () {\r\n    function ConnextPageViewDataModel(data) {\r\n        if (!data)\r\n            return;\r\n        var eventData = data.EventData ? data.EventData : {};\r\n        this.Location = new LocationModel(eventData.Location);\r\n        this.Device = new DeviceModel();\r\n        this.DeviceBrowserUserAgent = navigator.userAgent;\r\n        this.Page = new PageModel(DimensionsModule/* DimensionsModule.getDimensions */.e.getDimensions());\r\n        this.User = new ConnextUserModel();\r\n        this.Campaign = new CampaignModel(data);\r\n        this.LoaderVersionInfo = Utils/* Utils.getLoaderVersionInfo */.c.getLoaderVersionInfo();\r\n        this.FingerprintVersionInfo = Utils/* Utils.getFingerprintVersionInfo */.c.getFingerprintVersionInfo();\r\n        this.DemoMode = Utils/* Utils.getDemoMode */.c.getDemoMode();\r\n        this.EncryptedEmail = eventData.EncryptedEmail || "";\r\n        this.DigitalAccess = Utils/* Utils.flatObject */.c.flatObject(new DigitalAccessModel(data));\r\n    }\r\n    return ConnextPageViewDataModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/configModule/options/models/MiscOptionsInterface.ts\nvar MISC_TYPES = {\r\n    Promise: "promise",\r\n    Selector: "selector",\r\n    Javascript: "javascript",\r\n    Command: "command"\r\n};\r\n;\r\nvar COMMAND_TYPES = {\r\n    GET_COOKIE_BY_NAME: "get_cookie_by_name"\r\n};\r\n\n// EXTERNAL MODULE: ./src/plugin/modules/miscModule/models/JavascriptModel.ts\nvar JavascriptModel = __webpack_require__(2562);\n// EXTERNAL MODULE: ./src/plugin/modules/miscModule/models/CalculationResultModel.ts\nvar CalculationResultModel = __webpack_require__(3263);\n;// CONCATENATED MODULE: ./src/plugin/modules/miscModule/models/PromiseModel.ts\n\r\nvar PromiseModel = (function () {\r\n    function PromiseModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.MiscKey = data.key;\r\n        this.PromiseName = data.value;\r\n        this.EnableGA = data.enableGA;\r\n    }\r\n    PromiseModel.prototype.getData = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var promise = window[_this.PromiseName];\r\n                promise.then(function (value) {\r\n                    var result = new CalculationResultModel/* CalculationResultModel */.b(_this.MiscKey, value, _this.EnableGA);\r\n                    resolve(result);\r\n                }).catch(reject);\r\n            }\r\n            catch (e) {\r\n                reject();\r\n            }\r\n        });\r\n    };\r\n    return PromiseModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/miscModule/models/SelectorModel.ts\n\r\nvar SelectorModel = (function () {\r\n    function SelectorModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.MiscKey = data.key;\r\n        var parsedValue = data.value;\r\n        this.Selector = parsedValue.sel;\r\n        this.Attribute = parsedValue.attr;\r\n        this.EnableGA = data.enableGA;\r\n    }\r\n    SelectorModel.prototype.getData = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var element = document.querySelector(_this.Selector);\r\n                var value = null;\r\n                if (_this.Attribute) {\r\n                    value = element.getAttribute(_this.Attribute);\r\n                }\r\n                else {\r\n                    value = element.textContent;\r\n                }\r\n                var result = new CalculationResultModel/* CalculationResultModel */.b(_this.MiscKey, value, _this.EnableGA);\r\n                resolve(result);\r\n            }\r\n            catch (e) {\r\n                reject();\r\n            }\r\n        });\r\n    };\r\n    return SelectorModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/miscModule/models/commandModels/CookieGetterModel.ts\n\r\nvar CookieGetterModel = (function () {\r\n    function CookieGetterModel(cookieName) {\r\n        this.cookieName = cookieName;\r\n    }\r\n    CookieGetterModel.prototype.execute = function () {\r\n        var result = Cookie.get(this.cookieName) || null;\r\n        return Promise.resolve(result);\r\n    };\r\n    return CookieGetterModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/miscModule/models/CommandModel.ts\n\r\n\r\n\r\nvar CommandModel = (function () {\r\n    function CommandModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.MiscKey = data.key;\r\n        this.EnableGA = data.enableGA;\r\n        this.setup(data.value);\r\n    }\r\n    CommandModel.prototype.setup = function (value) {\r\n        var parsedValue = value;\r\n        switch (parsedValue.name) {\r\n            case COMMAND_TYPES.GET_COOKIE_BY_NAME:\r\n                this.executingModel = new CookieGetterModel(parsedValue.args);\r\n                break;\r\n        }\r\n    };\r\n    CommandModel.prototype.getData = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (!_this.executingModel)\r\n                reject();\r\n            try {\r\n                _this.executingModel.execute().then(function (value) {\r\n                    var result = new CalculationResultModel/* CalculationResultModel */.b(_this.MiscKey, value, _this.EnableGA);\r\n                    resolve(result);\r\n                }).catch(reject);\r\n            }\r\n            catch (e) {\r\n                reject();\r\n            }\r\n        });\r\n    };\r\n    return CommandModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/miscModule/MiscModule.ts\n\r\n\r\n\r\n\r\n\r\n\r\nvar MiscModuleClass = (function () {\r\n    function MiscModuleClass() {\r\n        this.models = [];\r\n        this.result = {};\r\n    }\r\n    MiscModuleClass.prototype.process = function (options) {\r\n        if (options === void 0) { options = []; }\r\n        if (!(options === null || options === void 0 ? void 0 : options.length))\r\n            return;\r\n        this.models = [];\r\n        this.result = {};\r\n        this.setup(options);\r\n        this.startCollect();\r\n    };\r\n    MiscModuleClass.prototype.getData = function () {\r\n        return this.result;\r\n    };\r\n    MiscModuleClass.prototype.setup = function (options) {\r\n        var _this = this;\r\n        options.forEach(function (option) {\r\n            var model = null;\r\n            switch (option.type) {\r\n                case MISC_TYPES.Javascript:\r\n                    model = new JavascriptModel/* JavascriptModel */.q(option);\r\n                    break;\r\n                case MISC_TYPES.Promise:\r\n                    model = new PromiseModel(option);\r\n                    break;\r\n                case MISC_TYPES.Selector:\r\n                    model = new SelectorModel(option);\r\n                    break;\r\n                case MISC_TYPES.Command:\r\n                    model = new CommandModel(option);\r\n                    break;\r\n            }\r\n            if (model) {\r\n                _this.models.push(model);\r\n            }\r\n        });\r\n    };\r\n    MiscModuleClass.prototype.startCollect = function () {\r\n        var _this = this;\r\n        this.models.forEach(function (model) {\r\n            model.getData().then(function (data) {\r\n                var value = typeof data.value === "object" ? JSON.stringify(data.value) : String(data.value);\r\n                _this.result[data.miscKey] = value;\r\n                if (data.enableGA && data.value !== null) {\r\n                    Index/* TagManagerService.Instance.setDLV */.c$.Instance.setDLV(data.miscKey, data.value);\r\n                }\r\n            }).catch(function (e) { });\r\n        });\r\n    };\r\n    return MiscModuleClass;\r\n}());\r\nvar MiscModule = new MiscModuleClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/ConnextPageView.ts\nvar ConnextPageView_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ConnextPageView = (function (_super) {\r\n    ConnextPageView_extends(ConnextPageView, _super);\r\n    function ConnextPageView() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onFinish";\r\n        return _this;\r\n    }\r\n    ConnextPageView.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventName = EventNames.PageView;\r\n        this.eventModel.EventType = EventNames.PageView;\r\n        ConfigModule/* ConfigModule.setLayoutCode */.p.setLayoutCode(this.eventModel.SiteCode);\r\n        var eventData = new ConnextPageViewDataModel(this.originalEventData);\r\n        eventData = this.addMiscInfo(eventData);\r\n        Index/* TagManagerService.Instance.setDLV */.c$.Instance.setDLV("emailhash", eventData.EncryptedEmail);\r\n        this.transformEventData(eventData);\r\n    };\r\n    ConnextPageView.prototype.addMiscInfo = function (eventData) {\r\n        eventData.Misc = MiscModule.getData();\r\n        return eventData;\r\n    };\r\n    ConnextPageView.prototype.useInCalculateFirstVisitModel = function () {\r\n        return true;\r\n    };\r\n    ConnextPageView.prototype.getFirstVisitProperty = function () {\r\n        return FirstVisitProperties/* FirstVisitProperties.CountPageview */.B.CountPageview;\r\n    };\r\n    return ConnextPageView;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/CreateAccount.ts\nvar CreateAccount_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar CreateAccount = (function (_super) {\r\n    CreateAccount_extends(CreateAccount, _super);\r\n    function CreateAccount() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventNames = ["onActivationAccountCreated", "onRegistrationSuccessRegister"];\r\n        return _this;\r\n    }\r\n    CreateAccount.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "CreateAccount";\r\n        this.eventModel.EventName = "CreateAccount";\r\n        var eventData = {};\r\n        this.transformEventData(eventData);\r\n    };\r\n    CreateAccount.prototype.useInCalculateFirstVisitModel = function () {\r\n        return true;\r\n    };\r\n    CreateAccount.prototype.getFirstVisitProperty = function () {\r\n        return FirstVisitProperties/* FirstVisitProperties.CountCreateAccountEvents */.B.CountCreateAccountEvents;\r\n    };\r\n    return CreateAccount;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/CtrlC.ts\nvar CtrlC_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar CtrlC = (function (_super) {\r\n    CtrlC_extends(CtrlC, _super);\r\n    function CtrlC() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "copy";\r\n        return _this;\r\n    }\r\n    CtrlC.prototype.listen = function () {\r\n        var _this = this;\r\n        try {\r\n            this.Logger.trace("addEventListener...", this.originalEventName);\r\n            Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, this.originalEventName, function (e) {\r\n                _this.Logger.trace("Firing", _this.eventModel.EventName);\r\n                _this.originalEventData = e;\r\n                CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(_this);\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    CtrlC.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "CtrlC";\r\n        this.eventModel.EventName = "CtrlC";\r\n        this.transformEventData({});\r\n    };\r\n    return CtrlC;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/Login.ts\nvar Login_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar Login = (function (_super) {\r\n    Login_extends(Login, _super);\r\n    function Login() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onLoginSuccess";\r\n        return _this;\r\n    }\r\n    Login.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "Login";\r\n        this.eventModel.EventName = "Login";\r\n        var eventData = {};\r\n        this.transformEventData(eventData);\r\n    };\r\n    return Login;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/NewsletterArrival.ts\nvar NewsletterArrival_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar NewsletterArrival = (function (_super) {\r\n    NewsletterArrival_extends(NewsletterArrival, _super);\r\n    function NewsletterArrival() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onNewsletterArrival";\r\n        return _this;\r\n    }\r\n    NewsletterArrival.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "NewsletterArrival";\r\n        this.eventModel.EventName = "NewsletterArrival";\r\n        var eventData = {\r\n            Email: this.originalEventData.EventData.Email,\r\n            EncryptedEmail: this.originalEventData.EventData.EncryptedEmail\r\n        };\r\n        Index/* TagManagerService.Instance.setDLV */.c$.Instance.setDLV("emailhash", eventData.EncryptedEmail);\r\n        this.transformEventData(eventData);\r\n        this.fillEventDataByPreferences();\r\n    };\r\n    NewsletterArrival.prototype.fillEventDataByPreferences = function () {\r\n        var _this = this;\r\n        var eventData = this.originalEventData.EventData;\r\n        if (eventData && Array.isArray(eventData.EmailPreferences)) {\r\n            eventData.EmailPreferences.forEach(function (emailPreference) {\r\n                _this.eventModel.EventData.push({ "Key": "EmailPreferences", "Value": Utils/* Utils.objectToBigQueryString */.c.objectToBigQueryString(emailPreference) });\r\n            });\r\n        }\r\n    };\r\n    return NewsletterArrival;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/NewsletterSignup.ts\nvar NewsletterSignup_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar NewsletterSignup = (function (_super) {\r\n    NewsletterSignup_extends(NewsletterSignup, _super);\r\n    function NewsletterSignup() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onNewsletterSignUp";\r\n        return _this;\r\n    }\r\n    NewsletterSignup.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "NewsletterSignup";\r\n        this.eventModel.EventName = "NewsletterSignup";\r\n        this.fillEventDataByPreferences();\r\n    };\r\n    NewsletterSignup.prototype.fillEventDataByPreferences = function () {\r\n        var _this = this;\r\n        var eventData = Object.assign({}, this.originalEventData.EventData);\r\n        this.eventModel.EventData.push({ "Key": "Email", "Value": eventData.Email });\r\n        if (eventData.EmailPreferences) {\r\n            if (Array.isArray(eventData.EmailPreferences)) {\r\n                eventData.EmailPreferences.forEach(function (emailPreference) {\r\n                    _this.eventModel.EventData.push({ "Key": "EmailPreferences", "Value": Utils/* Utils.objectToBigQueryString */.c.objectToBigQueryString(emailPreference) });\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            return this.fillEventModelNxtV1_7(eventData);\r\n        }\r\n    };\r\n    NewsletterSignup.prototype.fillEventModelNxtV1_7 = function (eventData) {\r\n        var sendEventData = {};\r\n        if (eventData.EmailPreferenceId) {\r\n            sendEventData = {\r\n                PreferenceId: eventData.EmailPreferenceId,\r\n            };\r\n        }\r\n        ;\r\n        this.transformEventData(sendEventData);\r\n        return this.eventModel;\r\n    };\r\n    return NewsletterSignup;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/RecommendationShown.ts\nvar RecommendationShown_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\nvar RecommendationShown = (function (_super) {\r\n    RecommendationShown_extends(RecommendationShown, _super);\r\n    function RecommendationShown() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onActionShown";\r\n        return _this;\r\n    }\r\n    RecommendationShown.prototype.getEventModel = function () {\r\n        this.eventModel = _super.prototype.getEventModel.call(this);\r\n        this.eventModel.EventType = "RecommendationDone";\r\n        this.eventModel.EventName = "RecommendationShown";\r\n        var actionShowEventData = this.originalEventData.EventData;\r\n        var actionType = actionShowEventData.ActionType || ActionTypeDict[this.originalEventData.EventData.ActionTypeId];\r\n        if (actionType === ActionTypes.InsightsRecommendation) {\r\n            var eventData = {\r\n                ArticlesRecommended: this.getArticlesRecommended(),\r\n                RecommendationId: this.getRecommendationId()\r\n            };\r\n            Index/* TagManagerService.Instance.setDLV */.c$.Instance.setDLV("recommendationShown", eventData.RecommendationId);\r\n            this.transformEventData(eventData);\r\n            return this.eventModel;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    RecommendationShown.prototype.getArticlesRecommended = function () {\r\n        var _this = this;\r\n        var urls = this.getUrls();\r\n        var html = document.querySelector("html");\r\n        var existingArticles = [];\r\n        urls.forEach(function (url, index) {\r\n            if (html.innerHTML.indexOf(url) !== -1 && index === existingArticles.length) {\r\n                var articleId = _this.getArticleId(url);\r\n                if (articleId) {\r\n                    existingArticles.push(articleId);\r\n                }\r\n            }\r\n        });\r\n        return existingArticles.join(",");\r\n    };\r\n    RecommendationShown.prototype.getRecommendationId = function () {\r\n        var urls = this.getUrls();\r\n        var result = "";\r\n        if (urls.length !== 0) {\r\n            result = Utils/* Utils.getRecommendationId */.c.getRecommendationId(urls[0]);\r\n        }\r\n        return result;\r\n    };\r\n    RecommendationShown.prototype.getUrls = function () {\r\n        var data = window["g2i_dl_recommendations"];\r\n        return ((data === null || data === void 0 ? void 0 : data.recommendations) || []).map(function (r) { return r.url; });\r\n    };\r\n    RecommendationShown.prototype.getArticleId = function (url) {\r\n        var data = window["g2i_dl_recommendations"];\r\n        return ((data === null || data === void 0 ? void 0 : data.recommendations) || [])\r\n            .filter(function (r) { return r.url === url; })\r\n            .map(function (r) { return r.article_content_id; })[0];\r\n    };\r\n    return RecommendationShown;\r\n}(ConnextEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/events/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/connext-collector/ConnextCollector.ts\nvar ConnextCollector_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar ConnextCollector = (function (_super) {\r\n    ConnextCollector_extends(ConnextCollector, _super);\r\n    function ConnextCollector() {\r\n        var _this = _super.call(this) || this;\r\n        _this.metaDataService = MetaDataService/* MetaDataService.Instance */.G.Instance;\r\n        _this.eventService = EventService/* EventService.Instance */.P.Instance;\r\n        _this.sendMetaData();\r\n        _this.metaDataService.process();\r\n        return _this;\r\n    }\r\n    ConnextCollector.prototype.sendMetaData = function () {\r\n        this.eventService.sendEvent("metaTagsCollected", this.metaDataService.analyticsDimensions);\r\n    };\r\n    ConnextCollector.prototype.registerEvents = function () {\r\n        var filteredEvents = WorkflowModule/* WorkflowModule.limitEngageEvents */.L.limitEngageEvents(events_namespaceObject);\r\n        this.events = filteredEvents;\r\n        _super.prototype.registerEvents.call(this);\r\n    };\r\n    ConnextCollector.prototype.isHavePageViewEvent = function () {\r\n        return true;\r\n    };\r\n    return ConnextCollector;\r\n}(Collector));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/SpEvent.ts\nvar SpEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar SpEvent = (function (_super) {\r\n    SpEvent_extends(SpEvent, _super);\r\n    function SpEvent() {\r\n        var _this = _super.call(this) || this;\r\n        _this.sessionService = SessionService/* SessionService.Instance */.m.Instance;\r\n        return _this;\r\n    }\r\n    SpEvent.prototype.listen = function () {\r\n        var _this = this;\r\n        this.Logger.trace("Registering SP EventListener", "event");\r\n        try {\r\n            if (this.originalEventNames && this.originalEventNames.length > 0) {\r\n                this.originalEventNames.forEach(function (eventName, key) {\r\n                    _this.listenEvent(eventName);\r\n                });\r\n            }\r\n            else {\r\n                if (this.originalEventName) {\r\n                    this.listenEvent(this.originalEventName);\r\n                }\r\n                else {\r\n                    this.Logger.error("No event Name in Object");\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.error("addSPCollectorEventListener.Error", e);\r\n        }\r\n    };\r\n    SpEvent.prototype.listenEvent = function (eventName) {\r\n        var _this = this;\r\n        this.Logger.trace("Registering SP EventListener", "event", eventName);\r\n        try {\r\n            ko.postbox.subscribe(eventName, function (data) {\r\n                _this.processEventData(eventName, data);\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.error("addSPCollectorEventListener.Error", e);\r\n        }\r\n    };\r\n    SpEvent.prototype.processEventData = function (eventName, data) {\r\n        this.Logger.debug("Firing", eventName, "data", data);\r\n        this.clearPreviousData();\r\n        this.originalEventData = data;\r\n        this.currentEventName = eventName;\r\n        CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(this);\r\n    };\r\n    SpEvent.prototype.getEventModel = function () {\r\n        this.eventModel = _super.prototype.getEventModel.call(this);\r\n        this.eventModel.EventSource = Constants/* Constants.EventsSources.Panel */.g.EventsSources.Panel;\r\n        this.addPanelVersionInfo();\r\n        return new CdpEventModel(this.eventModel);\r\n    };\r\n    SpEvent.prototype.addPanelVersionInfo = function () {\r\n        var panelConfig = window.config;\r\n        var panelVersion = panelConfig && panelConfig.BuildInfo ? panelConfig.BuildInfo.Version : \'Unknown\';\r\n        this.eventModel.EventData.push({ Key: "SourceVersion", Value: panelVersion });\r\n    };\r\n    return SpEvent;\r\n}(CdpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/AbandonClosed.ts\nvar AbandonClosed_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar AbandonClosed = (function (_super) {\r\n    AbandonClosed_extends(AbandonClosed, _super);\r\n    function AbandonClosed() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "abandon_closed_e";\r\n        return _this;\r\n    }\r\n    AbandonClosed.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "AbandonClosed";\r\n        this.eventModel.EventName = "AbandonClosed";\r\n        this.transformEventData({});\r\n    };\r\n    return AbandonClosed;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/AbandonPresented.ts\nvar AbandonPresented_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar AbandonPresented = (function (_super) {\r\n    AbandonPresented_extends(AbandonPresented, _super);\r\n    function AbandonPresented() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "abandon_presented_e";\r\n        return _this;\r\n    }\r\n    AbandonPresented.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "AbandonPresented";\r\n        this.eventModel.EventName = "AbandonPresented";\r\n        this.transformEventData({});\r\n    };\r\n    return AbandonPresented;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/CheckoutStart.ts\nvar CheckoutStart_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar CheckoutStart = (function (_super) {\r\n    CheckoutStart_extends(CheckoutStart, _super);\r\n    function CheckoutStart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "presentation_loaded_e";\r\n        return _this;\r\n    }\r\n    CheckoutStart.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "CheckoutStart";\r\n        this.eventModel.EventName = "CheckoutStart";\r\n        this.transformEventData({\r\n            Url: this.originalEventData.url,\r\n            UserER: CdpModule/* CdpModule.getErCode */.v.getErCode(),\r\n            UserERP: CdpModule/* CdpModule.getErpCode */.v.getErpCode(),\r\n            UserCR: CdpModule/* CdpModule.getCrCode */.v.getCrCode(),\r\n            UserCRP: CdpModule/* CdpModule.getCrpCode */.v.getCrpCode()\r\n        });\r\n    };\r\n    CheckoutStart.prototype.useInCalculateFirstVisitModel = function () {\r\n        return true;\r\n    };\r\n    CheckoutStart.prototype.getFirstVisitProperty = function () {\r\n        return FirstVisitProperties/* FirstVisitProperties.CountCheckoutStartEvents */.B.CountCheckoutStartEvents;\r\n    };\r\n    return CheckoutStart;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/models/UserInformationModel.ts\nvar UserInformationModel = (function () {\r\n    function UserInformationModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.Email = data.email;\r\n        this.DisplayName = data.displayName;\r\n    }\r\n    return UserInformationModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/models/ShortOfferModel.ts\nvar ShortOfferModel = (function () {\r\n    function ShortOfferModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.Name = data.Name;\r\n    }\r\n    return ShortOfferModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/CreatedNewUser.ts\nvar CreatedNewUser_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar CreatedNewUser = (function (_super) {\r\n    CreatedNewUser_extends(CreatedNewUser, _super);\r\n    function CreatedNewUser() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "created_new_user_e";\r\n        return _this;\r\n    }\r\n    CreatedNewUser.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "CreatedNewUser";\r\n        this.eventModel.EventName = "CreatedNewUser";\r\n        var eventData = {\r\n            User: new UserInformationModel(this.originalEventData.userInformation),\r\n            Offer: new ShortOfferModel(this.originalEventData.offer),\r\n            CustomerRegistrationId: this.originalEventData.customerRegistrationId\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return CreatedNewUser;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/models/AddressModel.ts\nvar AddressModel = (function () {\r\n    function AddressModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.FirstName = data.firstName;\r\n        this.LastName = data.lastName;\r\n        this.Address = data.address;\r\n        this.Phone = data.phone;\r\n        this.AptUnit = data.aptUnit;\r\n        this.Zipcode = data.zipCode;\r\n        this.City = data.city;\r\n        this.State = data.state;\r\n        this.Country = data.country;\r\n        this.Name = data.name;\r\n    }\r\n    return AddressModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/FormCompleted.ts\nvar FormCompleted_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar FormCompleted = (function (_super) {\r\n    FormCompleted_extends(FormCompleted, _super);\r\n    function FormCompleted() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "billing_address_completed_e";\r\n        return _this;\r\n    }\r\n    FormCompleted.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "FormCompleted";\r\n        this.eventModel.EventName = "BillingAddress";\r\n        var eventData = {\r\n            Billing: new AddressModel(this.originalEventData.billingAddress),\r\n            Offer: new ShortOfferModel(this.originalEventData.offer)\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return FormCompleted;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/FormCompletedDeliveryAddress.ts\nvar FormCompletedDeliveryAddress_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar FormCompletedDeliveryAddress = (function (_super) {\r\n    FormCompletedDeliveryAddress_extends(FormCompletedDeliveryAddress, _super);\r\n    function FormCompletedDeliveryAddress() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "delivery_address_completed_e";\r\n        return _this;\r\n    }\r\n    FormCompletedDeliveryAddress.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "FormCompleted";\r\n        this.eventModel.EventName = "DeliveryAddress";\r\n        var eventData = {\r\n            Delivery: new AddressModel(this.originalEventData.deliveryAddress),\r\n            Offer: new ShortOfferModel(this.originalEventData.offer)\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return FormCompletedDeliveryAddress;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/constants/PaymentTypes.ts\nvar PaymentTypes = {\r\n    "credit_card_completed_e": "Credit Card",\r\n    "bank_account_completed_e": "Bank Account",\r\n    "bill_me_completed_e": "Bill Me",\r\n    "apple_pay_completed_e": "Apple Pay",\r\n    "paypal_completed_e": "Paypal"\r\n};\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/FormCompletedPayment.ts\nvar FormCompletedPayment_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar FormCompletedPayment = (function (_super) {\r\n    FormCompletedPayment_extends(FormCompletedPayment, _super);\r\n    function FormCompletedPayment() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventNames = Object.keys(PaymentTypes);\r\n        return _this;\r\n    }\r\n    FormCompletedPayment.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "FormCompleted";\r\n        this.eventModel.EventName = "Payment";\r\n        var eventData = {\r\n            Offer: new ShortOfferModel(this.originalEventData.offer),\r\n            PaymentMethodName: PaymentTypes[this.currentEventName]\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return FormCompletedPayment;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/FormCompletedUserInfo.ts\nvar FormCompletedUserInfo_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar FormCompletedUserInfo = (function (_super) {\r\n    FormCompletedUserInfo_extends(FormCompletedUserInfo, _super);\r\n    function FormCompletedUserInfo() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "user_info_completed_e";\r\n        return _this;\r\n    }\r\n    FormCompletedUserInfo.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "FormCompleted";\r\n        this.eventModel.EventName = "UserInfo";\r\n        if (this.originalEventData) {\r\n            var eventDataObject = {\r\n                User: new UserInformationModel(this.originalEventData.userInformation),\r\n                Offer: new ShortOfferModel(this.originalEventData.offer)\r\n            };\r\n            this.transformEventData(eventDataObject);\r\n        }\r\n    };\r\n    return FormCompletedUserInfo;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/IdleClosed.ts\nvar IdleClosed_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar IdleClosed = (function (_super) {\r\n    IdleClosed_extends(IdleClosed, _super);\r\n    function IdleClosed() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "idle_closed_e";\r\n        return _this;\r\n    }\r\n    IdleClosed.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "IdleClosed";\r\n        this.eventModel.EventName = "IdleClosed";\r\n        this.transformEventData({});\r\n    };\r\n    return IdleClosed;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/IdlePresented.ts\nvar IdlePresented_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar IdlePresented = (function (_super) {\r\n    IdlePresented_extends(IdlePresented, _super);\r\n    function IdlePresented() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "idle_presented_e";\r\n        return _this;\r\n    }\r\n    IdlePresented.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "IdlePresented";\r\n        this.eventModel.EventName = "IdlePresented";\r\n        this.transformEventData({});\r\n    };\r\n    return IdlePresented;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/models/OfferModel.ts\nvar OfferModel = (function () {\r\n    function OfferModel(offer) {\r\n        this.OfferName = offer.Name;\r\n        this.OfferMarketingText = this.getMarketingText(offer),\r\n            this.OfferText = this.getOfferText(offer);\r\n        this.OfferImageDescription = (offer.Image) ? offer.Image.ImageDescription : "";\r\n        this.OfferIsBestPlan = offer.IsBestPlan;\r\n        this.OfferDisplayOrder = offer.DisplayOrder;\r\n        this.OfferIsDigital = offer.IsDigital;\r\n        this.OfferIsEedition = offer.IsEedition;\r\n        this.OfferIsEzPay = offer.IsEzPay;\r\n        this.OfferIsEzPayOptional = offer.IsEzPayOptional;\r\n        this.OfferIsPrint = offer.IsPrint;\r\n        this.OfferPassOrTrialDays = offer.PassOrTrialDays;\r\n        this.OfferAmount = offer.Amount;\r\n        this.OfferQuantity = offer.Quantity;\r\n        this.OfferCityTax = offer.CityTax;\r\n        this.OfferStateTax = offer.StateTax;\r\n        this.OfferCountyTax = offer.CountyTax;\r\n        this.OfferTaxAmount = offer.TaxAmount;\r\n        this.OfferActivationFee = offer.ActivationFee;\r\n        this.OfferPriceSuffix = offer.PriceSuffix;\r\n        this.OfferPremiums = (offer.Premiums && offer.Premiums.length > 0) ? true : false;\r\n        this.OfferTotalPrice = offer.TotalPrice;\r\n        this.OfferAllowPreviousSunday = offer.AllowPreviousSunday || "Unknown";\r\n    }\r\n    OfferModel.prototype.getMarketingText = function (offer) {\r\n        if (offer.Marketing) {\r\n            return offer.Marketing.Body;\r\n        }\r\n        else {\r\n            return offer.MarketingText;\r\n        }\r\n    };\r\n    OfferModel.prototype.getOfferText = function (offer) {\r\n        if (offer.Marketing) {\r\n            return offer.Marketing.Name;\r\n        }\r\n        else {\r\n            return offer.OfferText;\r\n        }\r\n    };\r\n    return OfferModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/OfferEventDataEvent.ts\nvar OfferEventDataEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar OfferEventDataEvent = (function (_super) {\r\n    OfferEventDataEvent_extends(OfferEventDataEvent, _super);\r\n    function OfferEventDataEvent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    OfferEventDataEvent.prototype.createOfferEventData = function (offer) {\r\n        var fnName = "[createOfferEventData]";\r\n        try {\r\n            this.Logger.trace(fnName, "data", offer);\r\n            var offerEventData = new OfferModel(offer);\r\n            this.Logger.trace(fnName, "cdpData => ", offerEventData);\r\n            return offerEventData;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    OfferEventDataEvent.prototype.getEventModel = function () {\r\n        _super.prototype.getEventModel.call(this);\r\n        var offerData = {};\r\n        if (this.originalEventData.offer) {\r\n            offerData = this.createOfferEventData(this.originalEventData.offer);\r\n        }\r\n        ;\r\n        this.transformEventData(offerData);\r\n        return this.eventModel;\r\n    };\r\n    return OfferEventDataEvent;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offerEventData/OfferSelected.ts\nvar OfferSelected_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar OfferSelected = (function (_super) {\r\n    OfferSelected_extends(OfferSelected, _super);\r\n    function OfferSelected() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "offer_selected_e";\r\n        return _this;\r\n    }\r\n    OfferSelected.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "OfferSelected";\r\n        this.eventModel.EventName = this.originalEventData.offer.Name;\r\n    };\r\n    return OfferSelected;\r\n}(OfferEventDataEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offerEventData/SubscriptionSuccess.ts\nvar SubscriptionSuccess_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\nvar SubscriptionSuccess = (function (_super) {\r\n    SubscriptionSuccess_extends(SubscriptionSuccess, _super);\r\n    function SubscriptionSuccess() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "add_subscription_success_e";\r\n        return _this;\r\n    }\r\n    SubscriptionSuccess.prototype.updateCustomProperties = function () {\r\n        try {\r\n            this.eventModel.EventType = "SubscriptionSuccess";\r\n            this.eventModel.EventName = "SubscriptionSuccess";\r\n            var subscription = this.originalEventData.subscription || {};\r\n            var eventData = {\r\n                Delivery: new AddressModel(this.originalEventData.deliveryAddress),\r\n                Billing: new AddressModel(this.originalEventData.billingAddress),\r\n                PaymentMethodName: this.originalEventData.paymentOption,\r\n                User: new UserInformationModel(this.originalEventData.userInformation),\r\n                UserER: CdpModule/* CdpModule.getErCode */.v.getErCode(),\r\n                UserERP: CdpModule/* CdpModule.getErpCode */.v.getErpCode(),\r\n                UserCR: CdpModule/* CdpModule.getCrCode */.v.getCrCode(),\r\n                UserCRP: CdpModule/* CdpModule.getCrpCode */.v.getCrpCode(),\r\n                CustomerRegistrationId: this.getCustomerRegistrationId(),\r\n                SubscriberId: subscription.SubscriberID,\r\n                SubscriptionId: subscription.SubscriptionID,\r\n                AccountNumber: subscription.AccountNumber\r\n            };\r\n            this.transformEventData(eventData);\r\n        }\r\n        catch (error) {\r\n            this.Logger.error("SubscriptionSuccess", error);\r\n        }\r\n    };\r\n    SubscriptionSuccess.prototype.getCustomerRegistrationId = function () {\r\n        if (this.originalEventData.userInformation) {\r\n            return this.originalEventData.userInformation.customerRegistrationId;\r\n        }\r\n        else {\r\n            return this.originalEventData.customerRegistrationId;\r\n        }\r\n    };\r\n    return SubscriptionSuccess;\r\n}(OfferEventDataEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offerEventData/UpsellRemoved.ts\nvar UpsellRemoved_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar UpsellRemoved = (function (_super) {\r\n    UpsellRemoved_extends(UpsellRemoved, _super);\r\n    function UpsellRemoved() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "upsell_removed_e";\r\n        return _this;\r\n    }\r\n    UpsellRemoved.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "UpsellRemoved";\r\n        this.eventModel.EventName = this.originalEventData.offer.Name;\r\n    };\r\n    return UpsellRemoved;\r\n}(OfferEventDataEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offerEventData/UpsellSelected.ts\nvar UpsellSelected_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar UpsellSelected = (function (_super) {\r\n    UpsellSelected_extends(UpsellSelected, _super);\r\n    function UpsellSelected() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "upsell_selected_e";\r\n        return _this;\r\n    }\r\n    UpsellSelected.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "UpsellSelected";\r\n        this.eventModel.EventName = this.originalEventData.offer.Name;\r\n    };\r\n    return UpsellSelected;\r\n}(OfferEventDataEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offerEventData/index.ts\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/OffersEventDataEvent.ts\nvar OffersEventDataEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar OffersEventDataEvent = (function (_super) {\r\n    OffersEventDataEvent_extends(OffersEventDataEvent, _super);\r\n    function OffersEventDataEvent() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    OffersEventDataEvent.prototype.getEventModel = function () {\r\n        this.eventModel = _super.prototype.getEventModel.call(this);\r\n        this.updateCustomProperties();\r\n        var cdpDataList = this.getEventModelsByOffers(this.eventModel);\r\n        return cdpDataList;\r\n    };\r\n    OffersEventDataEvent.prototype.getEventModelsByOffers = function (shareEventModel) {\r\n        var _this = this;\r\n        var cdpDataList = [];\r\n        var data = this.originalEventData;\r\n        if (data.offers) {\r\n            data.offers.forEach(function (offer) {\r\n                var sendOfferModel = new OfferModel(offer);\r\n                var cloneShareEventModel = Object.assign({}, shareEventModel);\r\n                cloneShareEventModel.Id = Utils/* Utils.createGUID */.c.createGUID();\r\n                _this.Logger.debug("transformEventData", "offer => ", sendOfferModel);\r\n                var eventData = _this.convertDataValueToString(Utils/* Utils.objectToArrayDict */.c.objectToArrayDict(sendOfferModel));\r\n                cloneShareEventModel.EventData = cloneShareEventModel.EventData.concat(eventData);\r\n                cdpDataList.push(cloneShareEventModel);\r\n            });\r\n            return cdpDataList;\r\n        }\r\n        return null;\r\n    };\r\n    return OffersEventDataEvent;\r\n}(SpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offersEventData/ApplePayPresented.ts\nvar ApplePayPresented_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar ApplePayPresented = (function (_super) {\r\n    ApplePayPresented_extends(ApplePayPresented, _super);\r\n    function ApplePayPresented() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "apple_pay_presented_e";\r\n        return _this;\r\n    }\r\n    ApplePayPresented.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "ApplePayPresented";\r\n        this.eventModel.EventName = "ApplePayPresented";\r\n    };\r\n    return ApplePayPresented;\r\n}(OffersEventDataEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offersEventData/OffersPresented.ts\nvar OffersPresented_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar OffersPresented = (function (_super) {\r\n    OffersPresented_extends(OffersPresented, _super);\r\n    function OffersPresented() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "offers_presented_e";\r\n        return _this;\r\n    }\r\n    OffersPresented.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "OffersPresented";\r\n        this.eventModel.EventName = "OffersPresented";\r\n    };\r\n    return OffersPresented;\r\n}(OffersEventDataEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/offersEventData/index.ts\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/events/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/collectors/sp-collector/SpCollector.ts\nvar SpCollector_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar SpCollector = (function (_super) {\r\n    SpCollector_extends(SpCollector, _super);\r\n    function SpCollector() {\r\n        return _super.call(this) || this;\r\n    }\r\n    SpCollector.prototype.registerEvents = function () {\r\n        var filteredEvents = WorkflowModule/* WorkflowModule.limitSPEvents */.L.limitSPEvents(sp_collector_events_namespaceObject);\r\n        this.events = filteredEvents;\r\n        _super.prototype.registerEvents.call(this);\r\n    };\r\n    return SpCollector;\r\n}(Collector));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/core/base/factory/Factory.ts\nvar Factory = (function () {\r\n    function Factory() {\r\n    }\r\n    return Factory;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/CollectorFactory.ts\nvar CollectorFactory_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar CollectorFactory = (function (_super) {\r\n    CollectorFactory_extends(CollectorFactory, _super);\r\n    function CollectorFactory(collector) {\r\n        var _this = _super.call(this) || this;\r\n        _this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("CollectorFactory");\r\n        _this.collectMetaTags = false;\r\n        _this.collector = collector;\r\n        return _this;\r\n    }\r\n    CollectorFactory.prototype.createCollector = function () {\r\n        try {\r\n            var collector = this.collector;\r\n            this.Logger.trace("Creating Collector: ", collector);\r\n            switch (collector.toUpperCase()) {\r\n                case CollectorTypes.Connext.toUpperCase():\r\n                    this.collectMetaTags = true;\r\n                    this.collectorType = new ConnextCollector();\r\n                    break;\r\n                case CollectorTypes.SP.toUpperCase():\r\n                    this.collectMetaTags = false;\r\n                    this.collectorType = new SpCollector();\r\n                    break;\r\n                case CollectorTypes.Flittz.toUpperCase():\r\n                    this.collectMetaTags = true;\r\n                    break;\r\n                default:\r\n                    throw "Not a valid collector";\r\n            }\r\n            return this.collectorType;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return CollectorFactory;\r\n}(Factory));\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/modules/deviceModule/DeviceModule.ts\nvar DeviceModule = __webpack_require__(4658);\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/commonEvents/events/DeviceIdChange.ts\nvar DeviceIdChange_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DeviceIdChange = (function (_super) {\r\n    DeviceIdChange_extends(DeviceIdChange, _super);\r\n    function DeviceIdChange() {\r\n        var _this = _super.call(this) || this;\r\n        _this.originalEventName = "onDeviceIdChange";\r\n        return _this;\r\n    }\r\n    DeviceIdChange.prototype.listenEvent = function (eventName) {\r\n        var _this = this;\r\n        try {\r\n            this.Logger.trace("addEventListener...", eventName);\r\n            if (window.Fingerprint !== undefined && typeof window.Fingerprint.onChangedDeviceId === "function") {\r\n                return window.Fingerprint.onChangedDeviceId()\r\n                    .then(function (deviceInfo) {\r\n                    _this.clearPreviousData();\r\n                    _this.setOriginalEventData(deviceInfo);\r\n                    _this.currentEventName = eventName;\r\n                    return DeviceModule/* DeviceModule.isActualId */.M.isActualId(deviceInfo.newId);\r\n                }).then(function (isActual) {\r\n                    var deviceInfo = _this.originalEventData;\r\n                    if (isActual) {\r\n                        BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("onChangedDeviceId_skip:" + JSON.stringify(deviceInfo));\r\n                        return;\r\n                    }\r\n                    CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(_this);\r\n                    DeviceModule/* DeviceModule.deviceIChanged */.M.deviceIChanged(deviceInfo);\r\n                }).catch(function () {\r\n                    BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("onChangedDeviceId_catch");\r\n                });\r\n            }\r\n            else {\r\n                this.Logger.warn("Fingerprint is undefined... or version is not support regenerate onChangedDeviceId", eventName);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    DeviceIdChange.prototype.setOriginalData = function (eventData) {\r\n        this.originalEventData = eventData;\r\n    };\r\n    DeviceIdChange.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "OnDeviceIdChange";\r\n        this.eventModel.EventName = this.eventModel.EventType;\r\n        this.eventModel.EventSource = Constants/* Constants.EventsSources.G2Insights */.g.EventsSources.G2Insights;\r\n        this.eventModel.DeviceId = this.originalEventData.id;\r\n        var eventData = {\r\n            NewDeviceId: this.originalEventData.newId,\r\n            G2iDeviceId: CdpModule/* CdpModule.getG2iDeviceId */.v.getG2iDeviceId()\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return DeviceIdChange;\r\n}(CdpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/commonEvents/events/G2iDeviceIdChange.ts\nvar G2iDeviceIdChange_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar G2iDeviceIdChange = (function (_super) {\r\n    G2iDeviceIdChange_extends(G2iDeviceIdChange, _super);\r\n    function G2iDeviceIdChange() {\r\n        var _this = _super.call(this) || this;\r\n        _this.originalEventName = "onG2iDeviceIdChange";\r\n        return _this;\r\n    }\r\n    G2iDeviceIdChange.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "OnDeviceIdChange";\r\n        this.eventModel.EventName = "OnG2iDeviceIdChange";\r\n        this.eventModel.EventSource = Constants/* Constants.EventsSources.G2Insights */.g.EventsSources.G2Insights;\r\n        var _a = this.originalEventData, OldG2i = _a.OldG2i, NewG2i = _a.NewG2i, BrowserCache = _a.BrowserCache, ResposeData = _a.ResposeData, Skipped = _a.Skipped;\r\n        var eventData = {\r\n            OldG2i: OldG2i,\r\n            NewG2i: NewG2i,\r\n            BrowserCache: JSON.stringify(BrowserCache),\r\n            ResposeData: JSON.stringify(ResposeData),\r\n            Skipped: Skipped\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return G2iDeviceIdChange;\r\n}(CdpEvent));\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/core/storages/cookies/CookiesStorage.ts + 2 modules\nvar CookiesStorage = __webpack_require__(5045);\n// EXTERNAL MODULE: ./src/plugin/core/storages/local/LocalStorage.ts\nvar LocalStorage = __webpack_require__(2880);\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/commonEvents/events/LeavePage.ts\nvar LeavePage_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar LeavePage = (function (_super) {\r\n    LeavePage_extends(LeavePage, _super);\r\n    function LeavePage() {\r\n        var _this = _super.call(this) || this;\r\n        _this.IsAsync = false;\r\n        _this.originalEventName = Utils/* Utils.getPageLeaveEventTrigger */.c.getPageLeaveEventTrigger();\r\n        return _this;\r\n    }\r\n    LeavePage.prototype.listenEvent = function (eventName) {\r\n        var _this = this;\r\n        try {\r\n            this.Logger.trace("addEventListener...", eventName);\r\n            Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(window, eventName, function (e) {\r\n                _this.Logger.trace("Firing eventName", _this.eventModel.EventName);\r\n                _this.clearPreviousData();\r\n                _this.setOriginalEventData(e.detail);\r\n                _this.currentEventName = eventName;\r\n                CdpEventsManager/* CdpEventsManager.setClosePageFlag */.h.setClosePageFlag(true);\r\n                CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(_this);\r\n            }, false);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    LeavePage.prototype.setOriginalData = function (eventData) {\r\n        this.originalEventData = eventData;\r\n    };\r\n    LeavePage.prototype.getEndPageSession = function () {\r\n        return Math.floor(Date.now() / 1000);\r\n    };\r\n    LeavePage.prototype.getUrl = function () {\r\n        return window.location.href;\r\n    };\r\n    LeavePage.prototype.getConnext = function () {\r\n        return ConnextModule.hasConnext();\r\n    };\r\n    LeavePage.prototype.getAdblock = function () {\r\n        return ConnextModule.getAdblockDetected();\r\n    };\r\n    LeavePage.prototype.getCookiesBlocked = function () {\r\n        return !CookiesStorage/* CookiesStorage.isSupported */.v.isSupported();\r\n    };\r\n    LeavePage.prototype.getLocalStorageBlocked = function () {\r\n        return !new LocalStorage/* LocalStorage */.m().isSupported();\r\n    };\r\n    LeavePage.prototype.getBrowserCacheEnabled = function () {\r\n        var result = "";\r\n        try {\r\n            result = String(window.performance.getEntriesByType("resource").filter(function (r) { return r.duration === 0 && r.transferSize !== 0; }).length !== 0);\r\n        }\r\n        catch (error) {\r\n            result = "window.performance.getEntriesByType does not support";\r\n        }\r\n        return result;\r\n    };\r\n    LeavePage.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = "PageLeave";\r\n        this.eventModel.EventName = this.eventModel.EventType;\r\n        this.eventModel.EventSource = Constants/* Constants.EventsSources.G2Insights */.g.EventsSources.G2Insights;\r\n        var startPageSession = this.sessionService.getStartPageSession();\r\n        var endPageSession = this.getEndPageSession();\r\n        this.eventModel.EventTimestamp = endPageSession;\r\n        var eventData = {\r\n            StartSession: startPageSession,\r\n            EndSession: endPageSession,\r\n            LengthSession: endPageSession - startPageSession,\r\n            Device: new DeviceModel(),\r\n            Url: this.getUrl(),\r\n            HasConnext: this.getConnext(),\r\n            AdblockDetected: this.getAdblock(),\r\n            CookiesBlocked: this.getCookiesBlocked(),\r\n            LocalStorageBlocked: this.getLocalStorageBlocked(),\r\n            BrowserCacheEnabled: this.getBrowserCacheEnabled()\r\n        };\r\n        this.transformEventData(eventData);\r\n    };\r\n    return LeavePage;\r\n}(CdpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/UserModel.ts\n\r\nvar UserModel = (function () {\r\n    function UserModel() {\r\n        this.Id = this.getUserId();\r\n        this.ER = CdpModule/* CdpModule.getErCode */.v.getErCode();\r\n        this.ERP = CdpModule/* CdpModule.getErpCode */.v.getErpCode();\r\n        this.CR = CdpModule/* CdpModule.getCrCode */.v.getCrCode();\r\n        this.CRP = CdpModule/* CdpModule.getCrpCode */.v.getCrpCode();\r\n    }\r\n    UserModel.prototype.getUserId = function () {\r\n        var _a;\r\n        if (typeof ((_a = window.userProvider) === null || _a === void 0 ? void 0 : _a.customerRegistrationId) === "function") {\r\n            return window.userProvider.customerRegistrationId() || "";\r\n        }\r\n        return "";\r\n    };\r\n    return UserModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/pageView/PageViewDataModel.ts\n\r\n\r\n\r\n\r\n\r\n\r\nvar PageViewDataModel = (function () {\r\n    function PageViewDataModel(data) {\r\n        this.Location = new LocationModel(data.Location);\r\n        this.Device = new DeviceModel();\r\n        this.DeviceBrowserUserAgent = navigator.userAgent;\r\n        this.Page = new PageModel(DimensionsModule/* DimensionsModule.getDimensions */.e.getDimensions());\r\n        this.User = new UserModel();\r\n        this.LoaderVersionInfo = Utils/* Utils.getLoaderVersionInfo */.c.getLoaderVersionInfo();\r\n        this.FingerprintVersionInfo = Utils/* Utils.getFingerprintVersionInfo */.c.getFingerprintVersionInfo();\r\n        this.DemoMode = Utils/* Utils.getDemoMode */.c.getDemoMode();\r\n        this.EncryptedEmail = Utils/* Utils.getEncryptedEmail */.c.getEncryptedEmail() || "";\r\n    }\r\n    return PageViewDataModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/commonEvents/events/PageView.ts\nvar PageView_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PageView = (function (_super) {\r\n    PageView_extends(PageView, _super);\r\n    function PageView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.IsAsync = false;\r\n        _this.originalEventName = Utils/* Utils.getPageLeaveEventTrigger */.c.getPageLeaveEventTrigger();\r\n        return _this;\r\n    }\r\n    PageView.prototype.listenEvent = function (eventName) {\r\n        var _this = this;\r\n        if (this.isStopListen)\r\n            return;\r\n        Utils/* Utils.getUserPosition */.c.getUserPosition().then(function (position) {\r\n            _this.userPosition = position;\r\n        });\r\n        try {\r\n            this.Logger.trace("addEventListener...", eventName);\r\n            Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(window, eventName, function (e) {\r\n                if (_this.isStopListen)\r\n                    return;\r\n                _this.Logger.trace("Firing eventName", _this.eventModel.EventName);\r\n                _this.clearPreviousData();\r\n                _this.setOriginalEventData(e.detail);\r\n                _this.currentEventName = eventName;\r\n                CdpEventsManager/* CdpEventsManager.eventFire */.h.eventFire(_this);\r\n            }, false);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    PageView.prototype.setOriginalData = function (eventData) {\r\n        this.originalEventData = eventData;\r\n    };\r\n    PageView.prototype.updateCustomProperties = function () {\r\n        this.eventModel.EventType = EventNames.PageView;\r\n        this.eventModel.EventName = EventNames.PageView;\r\n        this.eventModel.EventSource = Constants/* Constants.EventsSources.G2Insights */.g.EventsSources.G2Insights;\r\n        this.eventModel.EventTimestamp = DateUtil/* DateUtil.getTimestamp */.E.getTimestamp(this.sessionService.getStartPageSession());\r\n        var eventData = new PageViewDataModel({ Location: this.userPosition });\r\n        Index/* TagManagerService.Instance.setDLV */.c$.Instance.setDLV("emailhash", eventData.EncryptedEmail);\r\n        this.transformEventData(eventData);\r\n    };\r\n    PageView.prototype.useInCalculateFirstVisitModel = function () {\r\n        return true;\r\n    };\r\n    PageView.prototype.getFirstVisitProperty = function () {\r\n        return FirstVisitProperties/* FirstVisitProperties.CountPageview */.B.CountPageview;\r\n    };\r\n    PageView.prototype.stopListen = function () {\r\n        this.isStopListen = true;\r\n    };\r\n    return PageView;\r\n}(CdpEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/commonEvents/events/index.ts\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/commonEvents/CommonEventsCollector.ts\nvar CommonEventsCollector_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\nvar CommonEventsCollector = (function (_super) {\r\n    CommonEventsCollector_extends(CommonEventsCollector, _super);\r\n    function CommonEventsCollector(isExcludePageView) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isExcludePageView = isExcludePageView;\r\n        return _this;\r\n    }\r\n    CommonEventsCollector.prototype.registerEvents = function () {\r\n        var excludedList = this.isExcludePageView ? [EventNames.PageView] : [];\r\n        var filteredEvents = WorkflowModule/* WorkflowModule.limitCommonEvents */.L.limitCommonEvents(commonEvents_events_namespaceObject, excludedList);\r\n        this.events = filteredEvents;\r\n        _super.prototype.registerEvents.call(this);\r\n    };\r\n    ;\r\n    return CommonEventsCollector;\r\n}(Collector));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/CdpCollectorModule.ts\n\r\n\r\n\r\nvar CdpModuleClass = (function () {\r\n    function CdpModuleClass() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("CdpModule");\r\n        this.CollectMetaTags = false;\r\n        this.firedEvents = [];\r\n        this.sendEventsDelay = 0;\r\n    }\r\n    CdpModuleClass.prototype.setup = function (collectors) {\r\n        var _this = this;\r\n        try {\r\n            var isExcludeCommonPageView_1 = false;\r\n            collectors.forEach(function (item) {\r\n                var collectorType = new CollectorFactory(item).createCollector();\r\n                _this.Logger.info("@ forEach.Collector = collectorType", collectorType);\r\n                if (!collectorType)\r\n                    return;\r\n                collectorType.registerEvents();\r\n                if (collectorType.isHavePageViewEvent()) {\r\n                    isExcludeCommonPageView_1 = true;\r\n                }\r\n            });\r\n            var commonEvents = new CommonEventsCollector(isExcludeCommonPageView_1);\r\n            commonEvents.registerEvents();\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return CdpModuleClass;\r\n}());\r\n\r\nvar CdpCollectorModule = new CdpModuleClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/GtmTagCollector.ts\n\r\nvar GtmTagCollector = (function () {\r\n    function GtmTagCollector() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("GtmTagCollector start");\r\n    }\r\n    GtmTagCollector.prototype.registerTagEvents = function () {\r\n        var _this = this;\r\n        var events = Object.keys(this.events);\r\n        events.forEach(function (eventName) {\r\n            try {\r\n                var eventListener = new _this.events[eventName]();\r\n                eventListener.listen();\r\n            }\r\n            catch (e) {\r\n                _this.Logger.fatal(e);\r\n            }\r\n        });\r\n    };\r\n    ;\r\n    return GtmTagCollector;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/GtmTagEvent.ts\n\r\n\r\nvar GtmTagEvent = (function () {\r\n    function GtmTagEvent() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("GtmTagEvent");\r\n        this.eventService = EventService/* EventService.Instance */.P.Instance;\r\n    }\r\n    GtmTagEvent.prototype.listen = function () { };\r\n    GtmTagEvent.prototype.getSendTagData = function () {\r\n        return {};\r\n    };\r\n    GtmTagEvent.prototype.setOriginalEventData = function (data) {\r\n        this.originalEventData = data;\r\n    };\r\n    GtmTagEvent.prototype.getSendTagName = function () {\r\n        return this.sendTagName;\r\n    };\r\n    GtmTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {\r\n        this.eventService.sendEvent(tagName || this.getSendTagName(), tagData || this.getSendTagData());\r\n    };\r\n    return GtmTagEvent;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/SpGtmTagEvent.ts\nvar SpGtmTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar SpGtmTagEvent = (function (_super) {\r\n    SpGtmTagEvent_extends(SpGtmTagEvent, _super);\r\n    function SpGtmTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventNames = [];\r\n        return _this;\r\n    }\r\n    SpGtmTagEvent.prototype.listen = function () {\r\n        var _this = this;\r\n        try {\r\n            if (this.originalEventNames && this.originalEventNames.length > 0) {\r\n                this.originalEventNames.forEach(function (eventName, key) {\r\n                    _this.listenEvent(eventName);\r\n                });\r\n            }\r\n            else {\r\n                if (this.originalEventName) {\r\n                    this.listenEvent(this.originalEventName);\r\n                }\r\n                else {\r\n                    this.Logger.error("No event Name in Object");\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.error("addSPTags.Error", e);\r\n        }\r\n    };\r\n    SpGtmTagEvent.prototype.listenEvent = function (eventName) {\r\n        var _this = this;\r\n        this.Logger.trace("Registering SP Tags");\r\n        try {\r\n            ko.postbox.subscribe(eventName, function (data) {\r\n                _this.Logger.debug("Firing", eventName, "data", data);\r\n                _this.currentEventName = eventName;\r\n                _this.setOriginalEventData(data);\r\n                _this.sendTagToAnalitcs();\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.error("addSPTags.Error", e);\r\n        }\r\n    };\r\n    SpGtmTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {\r\n        this.eventService.sendEvent(tagName || this.getSendTagName(), tagData || this.getSendTagData(), true);\r\n    };\r\n    SpGtmTagEvent.prototype.getSendTagData = function () {\r\n        var tagEventName = this.getSendTagName();\r\n        if (tagEventName) {\r\n            return {};\r\n        }\r\n        return null;\r\n    };\r\n    return SpGtmTagEvent;\r\n}(GtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/BillingAddressCompletedTagEvent.ts\nvar BillingAddressCompletedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar BillingAddressCompletedTagEvent = (function (_super) {\r\n    BillingAddressCompletedTagEvent_extends(BillingAddressCompletedTagEvent, _super);\r\n    function BillingAddressCompletedTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "billing_address_completed_e";\r\n        _this.sendTagName = "sp.BillingAddressCompleted";\r\n        return _this;\r\n    }\r\n    return BillingAddressCompletedTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/CheckoutStartTagEvent.ts\nvar CheckoutStartTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar CheckoutStartTagEvent = (function (_super) {\r\n    CheckoutStartTagEvent_extends(CheckoutStartTagEvent, _super);\r\n    function CheckoutStartTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "presentation_loaded_e";\r\n        _this.sendTagName = "sp.CheckoutStart";\r\n        return _this;\r\n    }\r\n    CheckoutStartTagEvent.prototype.getSendTagData = function () {\r\n        var fnName = "getSendTagData";\r\n        var pid;\r\n        var data = this.originalEventData;\r\n        this.Logger.debug(fnName, "event", "data", data);\r\n        if (data.promotionsList) {\r\n            this.Logger.debug(fnName, "Has PromotionsList");\r\n            pid = Array.prototype.map.call(data.promotionsList, function (s) { return s.pid; }).toString();\r\n            this.Logger.debug(fnName, "Has PromotionsList.pidList", pid);\r\n        }\r\n        var tagData = {\r\n            sp_pid: pid\r\n        };\r\n        if (data.params && data.params.presentationName) {\r\n            this.Logger.debug("CreateCheckoutStartTag", "Has Presentation Params");\r\n            tagData["sp_presentationName"] = data.params.presentationName;\r\n        }\r\n        this.Logger.debug(fnName, "tagData =>", tagData);\r\n        return tagData;\r\n    };\r\n    return CheckoutStartTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/CreatedNewUsertagEvent.ts\nvar CreatedNewUsertagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar CreatedNewUsertagEvent = (function (_super) {\r\n    CreatedNewUsertagEvent_extends(CreatedNewUsertagEvent, _super);\r\n    function CreatedNewUsertagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "created_new_user_e";\r\n        _this.sendTagName = "sp.CreatedNewUser";\r\n        return _this;\r\n    }\r\n    return CreatedNewUsertagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/DeleveryAddressCompleted.ts\nvar DeleveryAddressCompleted_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar DeleveryAddressCompleted = (function (_super) {\r\n    DeleveryAddressCompleted_extends(DeleveryAddressCompleted, _super);\r\n    function DeleveryAddressCompleted() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "delivery_address_completed_e";\r\n        _this.sendTagName = "sp.DeliveryAddressCompleted";\r\n        return _this;\r\n    }\r\n    return DeleveryAddressCompleted;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/cdp-collectors/models/sp/OfferTagModel.ts\nvar OfferTagModel = (function () {\r\n    function OfferTagModel(offer) {\r\n        this.Id = this.getOfferId(offer);\r\n        this.PlanName = offer.Name,\r\n            this.TotalPrice = offer.TotalPrice;\r\n        this.Type = this.getOfferType(offer);\r\n    }\r\n    OfferTagModel.prototype.getOfferId = function (offer) {\r\n        if (offer.OfferId) {\r\n            return offer.OfferId.toString();\r\n        }\r\n        else {\r\n            if (offer.PlanId) {\r\n                return offer.PlanId.toString();\r\n            }\r\n            else {\r\n                return "";\r\n            }\r\n        }\r\n    };\r\n    OfferTagModel.prototype.getOfferType = function (offer) {\r\n        if ((offer.IsDigital || offer.IsEedition) && offer.IsPrint) {\r\n            return "Both";\r\n        }\r\n        else if (offer.IsDigital) {\r\n            return "Digital";\r\n        }\r\n        else if (offer.IsPrint) {\r\n            return "Print";\r\n        }\r\n        else {\r\n            return "Unknown";\r\n        }\r\n    };\r\n    return OfferTagModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/OfferSelectedTagEvent.ts\nvar OfferSelectedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar OfferSelectedTagEvent = (function (_super) {\r\n    OfferSelectedTagEvent_extends(OfferSelectedTagEvent, _super);\r\n    function OfferSelectedTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "offer_selected_e";\r\n        _this.sendTagName = "sp.OfferSelected";\r\n        return _this;\r\n    }\r\n    OfferSelectedTagEvent.prototype.getSendTagData = function () {\r\n        var fnName = "[process...OfferSelected]";\r\n        try {\r\n            this.Logger.debug(fnName, "data", this.originalEventData);\r\n            var offerTagData = new OfferTagModel(this.originalEventData.offer);\r\n            return {\r\n                sp_offerId: offerTagData.Id,\r\n                sp_offerPlanName: offerTagData.PlanName,\r\n                sp_offerPrice: offerTagData.TotalPrice,\r\n                sp_offerType: offerTagData.Type\r\n            };\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return OfferSelectedTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/OffersPresentedTagEvent.ts\nvar OffersPresentedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar OffersPresentedTagEvent = (function (_super) {\r\n    OffersPresentedTagEvent_extends(OffersPresentedTagEvent, _super);\r\n    function OffersPresentedTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "offers_presented_e";\r\n        _this.sendTagName = "sp.OffersPresented";\r\n        return _this;\r\n    }\r\n    OffersPresentedTagEvent.prototype.getSendTagData = function () {\r\n        var planData = this.getPlanIds(this.originalEventData.offers);\r\n        try {\r\n            return {\r\n                sp_offerIds: planData.planIds,\r\n                sp_offerPlanNames: planData.planNames,\r\n                sp_offerPlanConcat: planData.plansConcat\r\n            };\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    OffersPresentedTagEvent.prototype.getPlanIds = function (offers) {\r\n        var planIds = [], planNames = [], plansConcat = [];\r\n        if (offers) {\r\n            offers.forEach(function (offer) {\r\n                var tagOffer = new OfferTagModel(offer);\r\n                planIds.push(tagOffer.Id),\r\n                    planNames.push(tagOffer.PlanName),\r\n                    plansConcat.push(tagOffer.Id + ":" + tagOffer.PlanName);\r\n            });\r\n        }\r\n        return {\r\n            planIds: planIds.toString(),\r\n            planNames: planNames.toString(),\r\n            plansConcat: plansConcat.toString()\r\n        };\r\n    };\r\n    return OffersPresentedTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/PaymentCompletedTagEvent.ts\nvar PaymentCompletedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar PaymentCompletedTagEvent = (function (_super) {\r\n    PaymentCompletedTagEvent_extends(PaymentCompletedTagEvent, _super);\r\n    function PaymentCompletedTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventNames = Object.keys(PaymentTypes);\r\n        _this.sendTagName = "sp.PaymentCompleted";\r\n        return _this;\r\n    }\r\n    PaymentCompletedTagEvent.prototype.getSendTagData = function () {\r\n        var fnName = "[process...PaymentCompleted]";\r\n        try {\r\n            var paymentMethod = PaymentTypes[this.currentEventName];\r\n            this.Logger.debug(fnName, "paymentMethod", paymentMethod);\r\n            return {\r\n                sp_paymentType: paymentMethod\r\n            };\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n            return null;\r\n        }\r\n    };\r\n    return PaymentCompletedTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/SubscriptionSuccessTagEvent.ts\nvar SubscriptionSuccessTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar SubscriptionSuccessTagEvent = (function (_super) {\r\n    SubscriptionSuccessTagEvent_extends(SubscriptionSuccessTagEvent, _super);\r\n    function SubscriptionSuccessTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "add_subscription_success_e";\r\n        _this.sendTagName = "sp.SubscriptionSuccess";\r\n        return _this;\r\n    }\r\n    SubscriptionSuccessTagEvent.prototype.getSendTagData = function () {\r\n        try {\r\n            var offerTag = new OfferTagModel(this.originalEventData.offer);\r\n            var subscription = this.originalEventData.subscription || {};\r\n            return {\r\n                sp_offerId: offerTag.Id,\r\n                sp_offerPlanName: offerTag.PlanName,\r\n                sp_offerPrice: offerTag.TotalPrice,\r\n                sp_subEventId: subscription.EventId,\r\n                sp_accountNumber: subscription.AccountNumber,\r\n                sp_paymentAuthorizationCode: subscription.PaymentAuthorizationCode,\r\n                sp_subSubscriptionId: subscription.SubscriptionID,\r\n                sp_subSubscriberId: subscription.SubscriberID,\r\n                sp_redirectUrl: subscription.RedirectUrl\r\n            };\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return SubscriptionSuccessTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/UserInfoCompletedTagEvent.ts\nvar UserInfoCompletedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar UserInfoCompletedTagEvent = (function (_super) {\r\n    UserInfoCompletedTagEvent_extends(UserInfoCompletedTagEvent, _super);\r\n    function UserInfoCompletedTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "user_info_completed_e";\r\n        _this.sendTagName = "sp.UserInfoCompleted";\r\n        return _this;\r\n    }\r\n    return UserInfoCompletedTagEvent;\r\n}(SpGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/events/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/sp-tags/SpGtmTagCollector.ts\nvar SpGtmTagCollector_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar SpGtmTagCollector = (function (_super) {\r\n    SpGtmTagCollector_extends(SpGtmTagCollector, _super);\r\n    function SpGtmTagCollector() {\r\n        var _this = _super.call(this) || this;\r\n        _this.events = sp_tags_events_namespaceObject;\r\n        return _this;\r\n    }\r\n    return SpGtmTagCollector;\r\n}(GtmTagCollector));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/ConnextGtmTagEvent.ts\nvar ConnextGtmTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar ConnextGtmTagEvent = (function (_super) {\r\n    ConnextGtmTagEvent_extends(ConnextGtmTagEvent, _super);\r\n    function ConnextGtmTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.filterFunction = function () { return true; };\r\n        return _this;\r\n    }\r\n    ConnextGtmTagEvent.prototype.listen = function () {\r\n        var _this = this;\r\n        try {\r\n            if (this.originalEventName) {\r\n                Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, this.originalEventName, function (e) {\r\n                    var needContinue = _this.filterFunction.call(_this, e);\r\n                    if (!needContinue)\r\n                        return;\r\n                    _this.setOriginalEventData(e.detail);\r\n                    _this.sendTagToAnalitcs();\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return ConnextGtmTagEvent;\r\n}(GtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/MeterLevelSetTagEvent.ts\nvar MeterLevelSetTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar MeterLevelSetTagEvent = (function (_super) {\r\n    MeterLevelSetTagEvent_extends(MeterLevelSetTagEvent, _super);\r\n    function MeterLevelSetTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onMeterLevelSet";\r\n        _this.sendTagName = "meterLevelSet";\r\n        return _this;\r\n    }\r\n    MeterLevelSetTagEvent.prototype.getSendTagData = function () {\r\n        var data = this.originalEventData.EventData;\r\n        try {\r\n            this.Logger.debug("++++ processing...", data);\r\n            return {\r\n                meterLevel: this.originalEventData.MeterLevel,\r\n                meterLevelDetermineMethod: data.Method,\r\n                meterRuleName: (data.Rule) ? data.Rule.Name : "No Rule"\r\n            };\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return MeterLevelSetTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/MeterStopTagEvent.ts\nvar MeterStopTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar MeterStopTagEvent = (function (_super) {\r\n    MeterStopTagEvent_extends(MeterStopTagEvent, _super);\r\n    function MeterStopTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.sendTagName = "meterStop";\r\n        return _this;\r\n    }\r\n    return MeterStopTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/ActionShownTagEvent.ts\nvar ActionShownTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\nvar ActionShownTagEvent = (function (_super) {\r\n    ActionShownTagEvent_extends(ActionShownTagEvent, _super);\r\n    function ActionShownTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onActionShown";\r\n        _this.sendTagName = "actionShown";\r\n        return _this;\r\n    }\r\n    ActionShownTagEvent.prototype.setOriginalEventData = function (data) {\r\n        this.sendTagName = "actionShown";\r\n        _super.prototype.setOriginalEventData.call(this, data);\r\n        var eventData = this.originalEventData.EventData;\r\n        this.actionType = this.getActionType(eventData ? eventData.ActionTypeId : "");\r\n        this.actionShowTag = this.getActionShowTag();\r\n        if (this.actionType === ActionTypes.Paywall) {\r\n            this.Logger.warn("Is Paywall");\r\n            new MeterStopTagEvent().sendTagToAnalitcs(null, Object.assign({}, this.actionShowTag));\r\n        }\r\n        this.sendData = this.actionShowTag;\r\n    };\r\n    ;\r\n    ActionShownTagEvent.prototype.getSendTagData = function () {\r\n        return this.sendData;\r\n    };\r\n    ActionShownTagEvent.prototype.getTagName = function () {\r\n        if (this.actionType !== ActionTypes.Paywall) {\r\n            this.Logger.warn("NOT Paywall");\r\n            return this.sendTagName;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ActionShownTagEvent.prototype.getActionShowTag = function () {\r\n        try {\r\n            var eventData = this.originalEventData.EventData;\r\n            this.Logger.debug("processing...", eventData);\r\n            this.actionType = eventData.ActionType || this.getActionType(eventData.ActionTypeId);\r\n            this.Logger.warn("ActionType", this.actionType);\r\n            var parsedUserDefinedData = Utils/* Utils.parseJson */.c.parseJson(eventData.UserDefinedData);\r\n            var userDefinedData = void 0;\r\n            if (parsedUserDefinedData.success) {\r\n                userDefinedData = parsedUserDefinedData.data;\r\n            }\r\n            var baseActionShownTag = {\r\n                actionName: eventData.Name,\r\n                actionDescription: eventData.Description,\r\n                actionType: this.actionType,\r\n                userDefinedData: JSON.stringify(userDefinedData)\r\n            };\r\n            this.Logger.warn("Base Action Shown Tag", baseActionShownTag);\r\n            return baseActionShownTag;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    ActionShownTagEvent.prototype.getActionType = function (type) {\r\n        try {\r\n            this.Logger.trace("getActionType", type);\r\n            return ActionTypeDict[type];\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return ActionShownTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/MeterStartTagEvent.ts\nvar MeterStartTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar MeterStartTagEvent = (function (_super) {\r\n    MeterStartTagEvent_extends(MeterStartTagEvent, _super);\r\n    function MeterStartTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.sendTagName = "meterStart";\r\n        return _this;\r\n    }\r\n    return MeterStartTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/ConversationDeterminedTagEvent.ts\nvar ConversationDeterminedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar ConversationDeterminedTagEvent = (function (_super) {\r\n    ConversationDeterminedTagEvent_extends(ConversationDeterminedTagEvent, _super);\r\n    function ConversationDeterminedTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onConversationDetermined";\r\n        _this.sendTagName = "conversationDetermined";\r\n        return _this;\r\n    }\r\n    ConversationDeterminedTagEvent.prototype.setOriginalEventData = function (data) {\r\n        _super.prototype.setOriginalEventData.call(this, data);\r\n        try {\r\n            this.Logger.debug("processing...", this.originalEventData);\r\n            this.setConversationTag();\r\n            if (this.isMeterStart()) {\r\n                this.sendMeterStartTag();\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    ConversationDeterminedTagEvent.prototype.getSendTagData = function () {\r\n        return this.conversationTag;\r\n    };\r\n    ConversationDeterminedTagEvent.prototype.setConversationTag = function () {\r\n        try {\r\n            this.conversation = this.originalEventData.Conversation;\r\n            this.properties = this.conversation ? (this.conversation.Props || this.conversation.Properties) : {};\r\n            this.Logger.debug("handleConversationDetermined", "conversationData", this.originalEventData);\r\n            var dateStarted = void 0, dateExpiration = void 0;\r\n            var dateProperties = this.properties.Date;\r\n            if (dateProperties) {\r\n                dateStarted = new Date(dateProperties.Started).toISOString().slice(0, -5) + "Z";\r\n                dateExpiration = dateProperties.Expiration ? (new Date(dateProperties.Expiration).toISOString().slice(0, -5) + "Z") : null;\r\n            }\r\n            this.conversationTag = {\r\n                conversationName: this.conversation.Name,\r\n                conversationViews: (this.properties.Views === 0) ? 1 : this.properties.Views,\r\n                conversationViewsLeft: this.properties.ArticleLeft,\r\n                conversationPaywallLimit: this.properties.PaywallLimit,\r\n                conversationDateStarted: dateStarted,\r\n                conversationDateExpiratation: dateExpiration\r\n            };\r\n            this.Logger.info("ConversationTag", this.conversationTag);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    ConversationDeterminedTagEvent.prototype.isMeterStart = function () {\r\n        try {\r\n            if (this.properties) {\r\n                var views = this.properties.Views;\r\n                return ((views === 1 || views === 0) && this.originalEventData.MeterLevelId === 2) ? true : false;\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n            return false;\r\n        }\r\n    };\r\n    ConversationDeterminedTagEvent.prototype.sendMeterStartTag = function () {\r\n        try {\r\n            this.Logger.debug("handleMeterStart");\r\n            new MeterStartTagEvent().sendTagToAnalitcs();\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return ConversationDeterminedTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/OnInitTagEvent.ts\nvar OnInitTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar OnInitTagEvent = (function (_super) {\r\n    OnInitTagEvent_extends(OnInitTagEvent, _super);\r\n    function OnInitTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onInit";\r\n        _this.sendTagName = "onInit";\r\n        return _this;\r\n    }\r\n    return OnInitTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/PageViewTagEvent.ts\nvar PageViewTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar PageViewTagEvent = (function (_super) {\r\n    PageViewTagEvent_extends(PageViewTagEvent, _super);\r\n    function PageViewTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onFinish";\r\n        _this.sendTagName = "pageView";\r\n        return _this;\r\n    }\r\n    return PageViewTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/NewsletterSignUpTagEvent.ts\nvar NewsletterSignUpTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar NewsletterSignUpTagEvent = (function (_super) {\r\n    NewsletterSignUpTagEvent_extends(NewsletterSignUpTagEvent, _super);\r\n    function NewsletterSignUpTagEvent() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.originalEventName = "onNewsletterSignUp";\r\n        _this.sendTagName = "newsletterSignup";\r\n        return _this;\r\n    }\r\n    NewsletterSignUpTagEvent.prototype.getSendTagData = function () {\r\n        var data = this.originalEventData;\r\n        try {\r\n            return {\r\n                emailPreferenceId: this.getEmailPreferenceIds(data.EventData)\r\n            };\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    NewsletterSignUpTagEvent.prototype.getEmailPreferenceIds = function (eventData) {\r\n        if (eventData.EmailPreferenceId) {\r\n            return eventData.EmailPreferenceId;\r\n        }\r\n        else {\r\n            var emailPreferencesIds_1 = [];\r\n            if (Array.isArray(eventData.EmailPreferences)) {\r\n                eventData.EmailPreferences.forEach(function (emailPreference) {\r\n                    emailPreferencesIds_1.push(emailPreference.Id);\r\n                });\r\n            }\r\n            return emailPreferencesIds_1.join(",");\r\n        }\r\n    };\r\n    return NewsletterSignUpTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/data/models/common/UserModel.ts\nvar UserState = {\r\n    "LoggedIn": "Known",\r\n    "Subscriber": "Subscriber",\r\n    "Unknown": "Unknown"\r\n};\r\nvar ConnextUserState = {\r\n    "notAuthorized": UserState.Unknown,\r\n    "authorized": UserState.LoggedIn,\r\n    "hasAccess": UserState.Subscriber\r\n};\r\n\n// EXTERNAL MODULE: ./src/plugin/data/services/UserService.ts\nvar UserService = __webpack_require__(979);\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/HasAccessTagEvent.ts\nvar HasAccessTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar HasAccessTagEvent = (function (_super) {\r\n    HasAccessTagEvent_extends(HasAccessTagEvent, _super);\r\n    function HasAccessTagEvent() {\r\n        var _this = _super.call(this) || this;\r\n        _this.originalEventName = "onHasAccess";\r\n        _this.sendTagName = ConnextUserState.hasAccess;\r\n        _this.userService = UserService/* UserService.Instance */.K.Instance;\r\n        return _this;\r\n    }\r\n    HasAccessTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {\r\n        try {\r\n            this.Logger.debug("handleUserState", "event", "data", this.originalEventData);\r\n            this.userService.setUserState(this.sendTagName, this.originalEventData);\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    return HasAccessTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/AuthorizedTagEvent.ts\nvar AuthorizedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar AuthorizedTagEvent = (function (_super) {\r\n    AuthorizedTagEvent_extends(AuthorizedTagEvent, _super);\r\n    function AuthorizedTagEvent() {\r\n        var _this = _super.call(this) || this;\r\n        _this.originalEventName = "onAuthorized";\r\n        _this.sendTagName = ConnextUserState.authorized;\r\n        _this.userService = UserService/* UserService.Instance */.K.Instance;\r\n        return _this;\r\n    }\r\n    AuthorizedTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {\r\n        try {\r\n            this.Logger.debug("handleUserState", "event", "data", this.originalEventData);\r\n            this.userService.setUserState(this.sendTagName, this.originalEventData);\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    return AuthorizedTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/NotAuthorizedTagEvent.ts\nvar NotAuthorizedTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar NotAuthorizedTagEvent = (function (_super) {\r\n    NotAuthorizedTagEvent_extends(NotAuthorizedTagEvent, _super);\r\n    function NotAuthorizedTagEvent() {\r\n        var _this = _super.call(this) || this;\r\n        _this.originalEventName = "onNotAuthorized";\r\n        _this.sendTagName = ConnextUserState.notAuthorized;\r\n        _this.userService = UserService/* UserService.Instance */.K.Instance;\r\n        return _this;\r\n    }\r\n    NotAuthorizedTagEvent.prototype.sendTagToAnalitcs = function (tagName, tagData) {\r\n        try {\r\n            this.Logger.debug("handleUserState", "data", this.originalEventData);\r\n            this.userService.setUserState(this.sendTagName, this.originalEventData);\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    return NotAuthorizedTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/ClickTagEvent.ts\nvar ClickTagEvent_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\nvar ClickTagEvent = (function (_super) {\r\n    ClickTagEvent_extends(ClickTagEvent, _super);\r\n    function ClickTagEvent() {\r\n        var _this = _super.call(this) || this;\r\n        _this.originalEventName = "click";\r\n        _this.sendTagName = "click";\r\n        _this.allowedAttrs = [\r\n            ClickEventName.Login,\r\n            ClickEventName.Activate,\r\n            ClickEventName.Register,\r\n            ClickEventName.Logout,\r\n            ClickEventName.Subscribe\r\n        ];\r\n        _this.filterFunction = function (e) {\r\n            this.Logger.debug("Click Event", e, "e.target", e.target);\r\n            this.clickedElement = e.target;\r\n            this.mg2attr = ClickUtils.getEventName(this.clickedElement);\r\n            return this.allowedAttrs.indexOf(this.mg2attr) !== -1;\r\n        };\r\n        return _this;\r\n    }\r\n    ClickTagEvent.prototype.getSendTagData = function () {\r\n        var actionData = ConnextModule.getActionDataFromElement(this.clickedElement);\r\n        var conversation = ConnextModule.getCurrentConversation();\r\n        var articleViews = ConnextModule.GetCurrentConversationViewCount();\r\n        var result = {\r\n            ClickAction: this.mg2attr,\r\n            ActionName: (actionData === null || actionData === void 0 ? void 0 : actionData.ActionName) || null,\r\n            ActionId: (actionData === null || actionData === void 0 ? void 0 : actionData.ActionId) || null,\r\n            ButtonText: this.clickedElement.textContent || this.clickedElement.innerText,\r\n            ConversationName: conversation.Name,\r\n            ArticleViews: articleViews !== null ? articleViews + "" : null\r\n        };\r\n        return result;\r\n    };\r\n    return ClickTagEvent;\r\n}(ConnextGtmTagEvent));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/events/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/tag-collectors/connext-tags/ConnextGtmTagCollector.ts\nvar ConnextGtmTagCollector_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar ConnextGtmTagCollector = (function (_super) {\r\n    ConnextGtmTagCollector_extends(ConnextGtmTagCollector, _super);\r\n    function ConnextGtmTagCollector() {\r\n        var _this = _super.call(this) || this;\r\n        _this.events = connext_tags_events_namespaceObject;\r\n        return _this;\r\n    }\r\n    return ConnextGtmTagCollector;\r\n}(GtmTagCollector));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/GtmTagCollectorFactory.ts\nvar GtmTagCollectorFactory_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\nvar GtmTagCollectorFactory = (function (_super) {\r\n    GtmTagCollectorFactory_extends(GtmTagCollectorFactory, _super);\r\n    function GtmTagCollectorFactory(collector) {\r\n        var _this = _super.call(this) || this;\r\n        _this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("CollectorFactory");\r\n        _this.collectMetaTags = false;\r\n        _this.collector = collector;\r\n        return _this;\r\n    }\r\n    GtmTagCollectorFactory.prototype.createCollector = function () {\r\n        try {\r\n            var collector = this.collector;\r\n            this.Logger.trace("Creating Collector: ", collector);\r\n            switch (collector.toUpperCase()) {\r\n                case CollectorTypes.Connext.toUpperCase():\r\n                    this.collectorType = new ConnextGtmTagCollector();\r\n                    break;\r\n                case CollectorTypes.SP.toUpperCase():\r\n                    this.collectorType = new SpGtmTagCollector();\r\n                    break;\r\n                default:\r\n                    throw "Not a valid collector";\r\n            }\r\n            return this.collectorType;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return GtmTagCollectorFactory;\r\n}(Factory));\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/collectors/gtmTag-collector/GtmTagModule.ts\n\r\n\r\nvar GtmTagClass = (function () {\r\n    function GtmTagClass() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("GtmTagModule");\r\n    }\r\n    GtmTagClass.prototype.setup = function (options) {\r\n        var _this = this;\r\n        try {\r\n            var collectors = options.collectors;\r\n            collectors.forEach(function (item) {\r\n                var collectorType = new GtmTagCollectorFactory(item).createCollector();\r\n                _this.Logger.info("@ forEach.Collector = collectorType", collectorType);\r\n                if (!collectorType)\r\n                    return;\r\n                collectorType.registerTagEvents();\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return GtmTagClass;\r\n}());\r\n\r\nvar GtmTagModule = new GtmTagClass();\r\n\n// EXTERNAL MODULE: ./src/plugin/data/services/TagManagerService.ts\nvar TagManagerService = __webpack_require__(4259);\n// EXTERNAL MODULE: ./src/plugin/data/services/AzureService.ts\nvar AzureService = __webpack_require__(4580);\n;// CONCATENATED MODULE: ./src/plugin/modules/pageModule/models/ApiContentModel.ts\n\r\nvar ApiContentModel = (function () {\r\n    function ApiContentModel(data) {\r\n        this.tags = [];\r\n        if (!data)\r\n            return;\r\n        this.content_id = this.toString(data.ContentId);\r\n        this.article_id = this.toString(data.article_id);\r\n        this.title = this.toString(data.Title);\r\n        this.keywords = this.toString(data.Keywords);\r\n        this.section = this.toString(data.Section);\r\n        this.url = data.Url;\r\n        this.author = this.toString(data.Author);\r\n        this.tags = data.Tags ? data.Tags.split(",") : this.tags;\r\n        this.content_type = this.toString(data.ContentType);\r\n        this.publish_date = data.PublishDate;\r\n        this.lead_text = this.toString(data.LeadText);\r\n        this.text = this.toString(data.Text);\r\n        this.description = this.toString(data.Description);\r\n        this.pictures = +data.Pictures;\r\n        this.video = +data.Video;\r\n        this.likes = +data.Likes;\r\n        this.shares = +data.Shares;\r\n        this.breaking_news = data.BreakingNews;\r\n        this.premium = data.Premium;\r\n        this.language = data.Language;\r\n        this.lead_image_url = data.LeadImageUrl;\r\n    }\r\n    ApiContentModel.prototype.toString = function (value) {\r\n        if (Utils/* Utils.isset */.c.isset(value)) {\r\n            return value.toString();\r\n        }\r\n        return null;\r\n    };\r\n    return ApiContentModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/pageModule/models/ContentModel.ts\n\r\nvar ContentModel = (function () {\r\n    function ContentModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.Title = data.Title;\r\n        this.Keywords = data.Keywords;\r\n        this.Section = data.Section;\r\n        this.Url = data.Url;\r\n        this.ContentType = data.ContentType;\r\n        this.Author = data.Author;\r\n        this.Tags = data.Tags;\r\n        this.ContentId = data.ContentId;\r\n        this.PublishDate = DateUtil/* DateUtil.getISOFormat */.E.getISOFormat(data.PublishDate) || data.PublishDate;\r\n        this.LeadText = data.LeadText;\r\n        this.Text = data.Text;\r\n        this.Description = data.Description;\r\n        this.Pictures = data.Pictures;\r\n        this.Video = data.Video;\r\n        this.Likes = data.Likes;\r\n        this.Shares = data.Shares;\r\n        this.BreakingNews = data.BreakingNews;\r\n        this.Premium = data.Premium;\r\n        this.Language = data.Language;\r\n        this.LeadImageUrl = data.LeadImageUrl;\r\n    }\r\n    ContentModel.prototype.isArticle = function () {\r\n        return String(this.ContentType).toLowerCase().trim() === "article";\r\n    };\r\n    return ContentModel;\r\n}());\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/data/modules/HttpService.ts + 1 modules\nvar HttpService = __webpack_require__(8908);\n;// CONCATENATED MODULE: ./src/plugin/modules/pageModule/classes/ContentService.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ContentServiceClass = (function () {\r\n    function ContentServiceClass() {\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("ArticleStorage");\r\n    }\r\n    ContentServiceClass.prototype.getPageContent = function () {\r\n        this.pageContent = new ContentModel(DimensionsModule/* DimensionsModule.getDimensions */.e.getDimensions());\r\n        return this.pageContent;\r\n    };\r\n    ContentServiceClass.prototype.contentExistsInCdp = function (contentId) {\r\n        return HttpService/* HttpService.get */.O.get("article/exists", { content_id: contentId });\r\n    };\r\n    ContentServiceClass.prototype.sendContentInCdp = function (article, articleNotExistApproved) {\r\n        var _this = this;\r\n        var sendData = new ApiContentModel(article);\r\n        sendData["article_not_exists_approved"] = articleNotExistApproved;\r\n        sendData["site_code"] = ConfigModule/* ConfigModule.getSiteCode */.p.getSiteCode();\r\n        sendData["client_code"] = ConfigModule/* ConfigModule.getClientCode */.p.getClientCode();\r\n        return HttpService/* HttpService.post */.O.post("article", sendData)\r\n            .catch(function (error) {\r\n            _this.Logger.error(error);\r\n        });\r\n    };\r\n    ContentServiceClass.prototype.getArticleStats = function (contentId) {\r\n        return HttpService/* HttpService.get */.O.get("article/stats", { content_id: contentId });\r\n    };\r\n    return ContentServiceClass;\r\n}());\r\n\r\nvar ContentService = WorkflowModule/* WorkflowModule.applyRejects */.L.applyRejects(new ContentServiceClass(), WorkflowModule/* REJECTED_SERVICES.ContentService */.h.ContentService);\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/pageModule/PageModule.ts\n\r\n\r\n\r\nvar PageModuleClass = (function () {\r\n    function PageModuleClass() {\r\n        this.isCheckedArticleInCdp = false;\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("PageModule");\r\n    }\r\n    PageModuleClass.prototype.subscribePageLeave = function () {\r\n        var _this = this;\r\n        var eventName = Utils/* Utils.getPageLeaveEventTrigger */.c.getPageLeaveEventTrigger();\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(window, eventName, function (e) {\r\n            if (!_this.isCheckedArticleInCdp) {\r\n                var articleNotExistApproved = false;\r\n                ContentService.sendContentInCdp(_this.pageContent, articleNotExistApproved);\r\n            }\r\n        });\r\n    };\r\n    PageModuleClass.prototype.sendContentToCdp = function () {\r\n        var _this = this;\r\n        var articleNotExistApproved = false;\r\n        this.subscribePageLeave();\r\n        this.pageContent = ContentService.getPageContent();\r\n        if (this.pageContent.isArticle()) {\r\n            if (this.pageContent.ContentId) {\r\n                ContentService.contentExistsInCdp(this.pageContent.ContentId)\r\n                    .then(function (result) {\r\n                    _this.isCheckedArticleInCdp = true;\r\n                    if (!result.exists) {\r\n                        articleNotExistApproved = true;\r\n                        _this.pageContent["article_id"] = result["article_id"];\r\n                        ContentService.sendContentInCdp(_this.pageContent, articleNotExistApproved);\r\n                    }\r\n                }).catch(function () {\r\n                    _this.isCheckedArticleInCdp = false;\r\n                });\r\n            }\r\n            else {\r\n                this.isCheckedArticleInCdp = true;\r\n                articleNotExistApproved = true;\r\n                ContentService.sendContentInCdp(this.pageContent, articleNotExistApproved);\r\n            }\r\n        }\r\n        else {\r\n            this.isCheckedArticleInCdp = true;\r\n        }\r\n    };\r\n    PageModuleClass.prototype.getArticleStats = function () {\r\n        this.pageContent = ContentService.getPageContent();\r\n        if (this.pageContent.isArticle()) {\r\n            if (this.pageContent.ContentId) {\r\n                return ContentService.getArticleStats(this.pageContent.ContentId);\r\n            }\r\n            else {\r\n                this.Logger.debug("ContentId is not defined");\r\n                return Promise.reject();\r\n            }\r\n        }\r\n        else {\r\n            this.Logger.debug("This page is not article");\r\n            return Promise.reject();\r\n        }\r\n    };\r\n    return PageModuleClass;\r\n}());\r\nvar PageModule = new PageModuleClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/DLCdpPublic.ts\n\r\n\r\nvar DLCdpPublic = (function () {\r\n    function DLCdpPublic() {\r\n    }\r\n    DLCdpPublic.prototype.getUserData = function () {\r\n        return CdpModule/* CdpModule.getDlInformation */.v.getDlInformation();\r\n    };\r\n    DLCdpPublic.prototype.getArticleStats = function () {\r\n        return PageModule.getArticleStats();\r\n    };\r\n    DLCdpPublic.prototype.getRecommendationsStats = function () {\r\n        return CdpModule/* CdpModule.getRecommendationsStats */.v.getRecommendationsStats();\r\n    };\r\n    DLCdpPublic.prototype.getRecommendations = function () {\r\n        return CdpModule/* CdpModule.getRecommendations */.v.getRecommendations();\r\n    };\r\n    DLCdpPublic.prototype.getInterestsStats = function () {\r\n        return CdpModule/* CdpModule.getUserInterestsStats */.v.getUserInterestsStats();\r\n    };\r\n    DLCdpPublic.prototype.getErStats = function () {\r\n        return CdpModule/* CdpModule.getErInterpretation */.v.getErInterpretation();\r\n    };\r\n    DLCdpPublic.prototype.getApiVersion = function () {\r\n        return CdpModule/* CdpModule.getApiVersion */.v.getApiVersion().then(function (versionData) {\r\n            console.log("The version of the platform -" + versionData.version);\r\n        }).catch(function (error) {\r\n            console.log("The version is not get. Error -" + error);\r\n        });\r\n    };\r\n    DLCdpPublic.prototype.getProfileData = function (params) {\r\n        return CdpModule/* CdpModule.getProfileData */.v.getProfileData(params);\r\n    };\r\n    return DLCdpPublic;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/Plugin.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar PluginClass = (function () {\r\n    function PluginClass() {\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("Plugin");\r\n        this.Logger.debug("**** G2Insights Initializing ****");\r\n        this.sessionService = SessionService/* SessionService.Instance */.m.Instance;\r\n        this.azureService = AzureService/* AzureService.Instance */.z.Instance;\r\n        this.tagManagerService = TagManagerService/* TagManagerService.Instance */.c.Instance;\r\n        this.dimensionService = Index/* MetaDataService.Instance */.G5.Instance;\r\n    }\r\n    Object.defineProperty(PluginClass.prototype, "DataLayer", {\r\n        get: function () {\r\n            return this.tagManagerService.getDataLayer();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PluginClass.prototype.init = function (opts) {\r\n        var _this = this;\r\n        try {\r\n            DeviceModule/* DeviceModule.initDeviceId */.M.initDeviceId()\r\n                .then(function (deviceId) {\r\n                _this.tagManagerService.setDLV("fingerPrintId", deviceId);\r\n                Index/* EventService.Instance.sendTagCollectedEvents */.PO.Instance.sendTagCollectedEvents();\r\n            });\r\n            if (!opts) {\r\n                throw "No Options Passed In";\r\n            }\r\n            else {\r\n                this.listenPluginsEvents();\r\n                ConfigModule/* ConfigModule.setInitOptions */.p.setInitOptions(opts);\r\n                var initModel = ConfigModule/* ConfigModule.getInitConfiguration */.p.getInitConfiguration();\r\n                this.Logger.debug("Initializing G2Analytics with options...", opts);\r\n                WorkflowModule/* WorkflowModule.setModes */.L.setModes(initModel.flowModes);\r\n                Index/* EventService.Instance.resendFailedEvents */.PO.Instance.resendFailedEvents();\r\n                if (initModel.debug) {\r\n                    CookiesStorage/* CookiesStorage.set */.v.set(Constants/* Constants.cookies.LogEnabled */.g.cookies.LogEnabled, initModel.debug.toString());\r\n                }\r\n                if (!initModel.containerId) {\r\n                    throw "No Container Id Set";\r\n                }\r\n                if (!initModel.collectors) {\r\n                    throw "No Collectors Set";\r\n                }\r\n                if (initModel.sessionId) {\r\n                    this.Logger.debug("Has SessionId PageSessionId XXX....", initModel.sessionId);\r\n                    this.sessionService.PageSessionId = initModel.sessionId;\r\n                }\r\n                this.dimensionService.setup(initModel.dimensions);\r\n                if (initModel.analysis) {\r\n                    this.azureService.setup(initModel.analysis);\r\n                }\r\n                if (initModel.collectors) {\r\n                    CdpCollectorModule.setup(initModel.collectors);\r\n                    if (initModel.cdp && initModel.cdp.enabled) {\r\n                        window.g2i_dl = new DLCdpPublic();\r\n                        CdpModule/* CdpModule.setDlInformation */.v.setDlInformation();\r\n                        PageModule.sendContentToCdp();\r\n                    }\r\n                    GtmTagModule.setup(initModel);\r\n                }\r\n                if (initModel.misc) {\r\n                    MiscModule.process(initModel.misc);\r\n                }\r\n                this.tagManagerService.setup(initModel.containerId);\r\n                this.Logger.info("Done Setting Up Collectors");\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    PluginClass.prototype.SetLoggerEnabled = function (val) {\r\n        Logger_Core/* LoggerService.setEnabled */.mQ.setEnabled(val);\r\n    };\r\n    Object.defineProperty(PluginClass.prototype, "BrowserSessionId", {\r\n        get: function () {\r\n            return this.sessionService.getDeviceSessionId();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PluginClass.prototype.SetLogLevel = function (strLogLevel) {\r\n        Logger_Core/* LoggerService.setLevel */.mQ.setLevel(strLogLevel);\r\n    };\r\n    PluginClass.prototype.listenPluginsEvents = function () {\r\n        var _this = this;\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(window, "Loader:Recalculate:SessionId", function (eventData) {\r\n            _this.sessionService.PageSessionId = eventData.detail;\r\n        });\r\n    };\r\n    return PluginClass;\r\n}());\r\n\r\nvar Plugin = new PluginClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/PublicPlugin.ts\n\r\nvar PublicPlugin = (function () {\r\n    function PublicPlugin() {\r\n    }\r\n    PublicPlugin.prototype.init = function (initOptions) {\r\n        Plugin.init(initOptions);\r\n    };\r\n    Object.defineProperty(PublicPlugin.prototype, "DataLayer", {\r\n        get: function () {\r\n            return Plugin.DataLayer;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PublicPlugin.prototype.setLoggerEnabled = function (val) {\r\n        Plugin.SetLoggerEnabled(val);\r\n    };\r\n    PublicPlugin.prototype.setLogLevel = function (strLogLevel) {\r\n        Plugin.SetLogLevel(strLogLevel);\r\n    };\r\n    PublicPlugin.prototype.getVersion = function () {\r\n        return "Version: " + ("1.17.1" || 0);\r\n    };\r\n    ;\r\n    PublicPlugin.prototype.getVersionInfo = function () {\r\n        return "Version: " + ("1.17.1" || 0) + ", Build: " + ("V.1.17.1-20210923.3" || 0);\r\n    };\r\n    ;\r\n    return PublicPlugin;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/index.ts\n\r\nvar pluginInstance = new PublicPlugin();\r\nwindow.G2Analytics = pluginInstance;\r\nwindow.G2Insights = pluginInstance;\r\nwindow.MG2Insights = pluginInstance;\r\nvar MG2DL = window["G2Analytics"].DataLayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFPLENBQUMsV0FBVyxHQUFHLGNBQWMsQ0FBQztBQUMzQyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsU0FBUyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvQ29sbGVjdG9yVHlwZXMudHM/YzBmMiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsLnRzPzM4YWQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25uZXh0TW9kdWxlL2NsYXNzZXMvQ29udmVyc2F0aW9uTWFuYWdlci50cz83Nzc2Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvcmUvZG9tL0RvbS50cz8zMmQ4Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvY29ubmV4dE1vZHVsZS9jbGFzc2VzL0FjdGlvbk1hbmFnZXIudHM/MzBiMyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZS50cz8yOWJkIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnQudHM/OWNmMCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi91dGlscy9jb29raWUvQ29va2llLnRzP2JiZjciLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9hYk1vZHVsZS9FbmdhZ2VBQk1vZHVsZS50cz9kNmY0Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ29sbGVjdG9yLnRzPzM0NTkiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL0Nvbm5leHRFdmVudC50cz83ZGU4Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2RhdGEvbW9kZWxzL2Nvbm5leHQvQWN0aW9uTW9kZWxzLnRzPzRiNTgiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9BY3Rpb25TaG93bi50cz85MWVlIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQWN0aXZhdGVTdWNjZXNzLnRzP2FlZTQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzLnRzP2M2ZTAiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vdXRpbHMvQ2xpY2tVdGlscy50cz80NWJjIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ2xpY2sudHM/MzRhNSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9QYWdlTW9kZWwudHM/ZTcxMiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9EZXZpY2VNb2RlbC50cz8zNjQ3Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0xvY2F0aW9uTW9kZWwudHM/ODRhNCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvbW9kZWxzL0Nvbm5leHRVc2VyTW9kZWwudHM/NWFlYyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9DYW1wYWlnbk1vZGVsLnRzPzU3NmIiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvRGlnaXRhbEFjY2Vzc01vZGVsLnRzPzc0NDIiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsLnRzPzgwMmUiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvTWlzY09wdGlvbnNJbnRlcmZhY2UudHM/Njc4OSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL21pc2NNb2R1bGUvbW9kZWxzL1Byb21pc2VNb2RlbC50cz80MjRjIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvU2VsZWN0b3JNb2RlbC50cz9hNTAyIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvY29tbWFuZE1vZGVscy9Db29raWVHZXR0ZXJNb2RlbC50cz9jMzhhIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvQ29tbWFuZE1vZGVsLnRzP2ZjODYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL01pc2NNb2R1bGUudHM/MTU5NCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL0Nvbm5leHRQYWdlVmlldy50cz8xMTgyIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ3JlYXRlQWNjb3VudC50cz8yZGU3Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvQ3RybEMudHM/YjQzNSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvZXZlbnRzL0xvZ2luLnRzP2M0OGYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL2Nvbm5leHQtY29sbGVjdG9yL2V2ZW50cy9OZXdzbGV0dGVyQXJyaXZhbC50cz9jYjkyIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvTmV3c2xldHRlclNpZ251cC50cz8yYjBiIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvUmVjb21tZW5kYXRpb25TaG93bi50cz80Y2YwIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9ldmVudHMvaW5kZXgudHM/MTFiMSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dENvbGxlY3Rvci50cz8yYTEwIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudC50cz81MjhkIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0FiYW5kb25DbG9zZWQudHM/MzJjMyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9BYmFuZG9uUHJlc2VudGVkLnRzPzUxMGQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvQ2hlY2tvdXRTdGFydC50cz9hMjgyIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1VzZXJJbmZvcm1hdGlvbk1vZGVsLnRzPzAzNGIiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvU2hvcnRPZmZlck1vZGVsLnRzPzg0MTYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvQ3JlYXRlZE5ld1VzZXIudHM/ZTU0NiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9BZGRyZXNzTW9kZWwudHM/NDdlYyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9Gb3JtQ29tcGxldGVkLnRzPzlhYWUiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZERlbGl2ZXJ5QWRkcmVzcy50cz85NzFlIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY29uc3RhbnRzL1BheW1lbnRUeXBlcy50cz8zYTg3Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0Zvcm1Db21wbGV0ZWRQYXltZW50LnRzP2QyMzYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvRm9ybUNvbXBsZXRlZFVzZXJJbmZvLnRzPzA5MzUiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvSWRsZUNsb3NlZC50cz9jM2IzIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL0lkbGVQcmVzZW50ZWQudHM/ZjVkYiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9PZmZlck1vZGVsLnRzP2M5MjEiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvT2ZmZXJFdmVudERhdGFFdmVudC50cz85M2FlIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL09mZmVyU2VsZWN0ZWQudHM/NDNkMyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlckV2ZW50RGF0YS9TdWJzY3JpcHRpb25TdWNjZXNzLnRzPzFlZmYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJFdmVudERhdGEvVXBzZWxsUmVtb3ZlZC50cz81MjVmIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyRXZlbnREYXRhL1Vwc2VsbFNlbGVjdGVkLnRzP2Y4MzQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9ldmVudHMvb2ZmZXJFdmVudERhdGEvaW5kZXgudHM/NjU3NCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9PZmZlcnNFdmVudERhdGFFdmVudC50cz9lZWI4Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyc0V2ZW50RGF0YS9BcHBsZVBheVByZXNlbnRlZC50cz9lNzMzIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvZXZlbnRzL29mZmVyc0V2ZW50RGF0YS9PZmZlcnNQcmVzZW50ZWQudHM/MTgxZiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9vZmZlcnNFdmVudERhdGEvaW5kZXgudHM/ZDkzMyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL2V2ZW50cy9pbmRleC50cz8xZmQwIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BDb2xsZWN0b3IudHM/MzQ0ZSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb3JlL2Jhc2UvZmFjdG9yeS9GYWN0b3J5LnRzP2Q5NDciLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9Db2xsZWN0b3JGYWN0b3J5LnRzP2JiMmQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0RldmljZUlkQ2hhbmdlLnRzP2M0NDQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0cyaURldmljZUlkQ2hhbmdlLnRzPzA2NTciLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL0xlYXZlUGFnZS50cz9jODVkIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1VzZXJNb2RlbC50cz9iYTJiIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L1BhZ2VWaWV3RGF0YU1vZGVsLnRzPzA2N2QiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL1BhZ2VWaWV3LnRzP2I4YzEiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvZXZlbnRzL2luZGV4LnRzPzA4ZTkiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvQ29tbW9uRXZlbnRzQ29sbGVjdG9yLnRzP2Y3NWMiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBDb2xsZWN0b3JNb2R1bGUudHM/NjM3ZSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnQ29sbGVjdG9yLnRzPzQzZTEiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL0d0bVRhZ0V2ZW50LnRzPzVlOGYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvU3BHdG1UYWdFdmVudC50cz85OWM5Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFRhZ0V2ZW50LnRzP2JhOTciLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0NoZWNrb3V0U3RhcnRUYWdFdmVudC50cz80NDRmIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9DcmVhdGVkTmV3VXNlcnRhZ0V2ZW50LnRzP2Y2OGMiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL0RlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZC50cz85NTFmIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWwudHM/OWQ2MiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvT2ZmZXJTZWxlY3RlZFRhZ0V2ZW50LnRzP2E1OGMiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL09mZmVyc1ByZXNlbnRlZFRhZ0V2ZW50LnRzPzBhYTYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL3NwLXRhZ3MvZXZlbnRzL1BheW1lbnRDb21wbGV0ZWRUYWdFdmVudC50cz9mMTZkIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9TdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQudHM/YzZjNyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvc3AtdGFncy9ldmVudHMvVXNlckluZm9Db21wbGV0ZWRUYWdFdmVudC50cz81OGIyIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL2V2ZW50cy9pbmRleC50cz85ZTNhIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9zcC10YWdzL1NwR3RtVGFnQ29sbGVjdG9yLnRzPzkzNDciLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnQudHM/MWIyYiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9NZXRlckxldmVsU2V0VGFnRXZlbnQudHM/MzlkOCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9NZXRlclN0b3BUYWdFdmVudC50cz9hMGJjIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL0FjdGlvblNob3duVGFnRXZlbnQudHM/M2VkMCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9NZXRlclN0YXJ0VGFnRXZlbnQudHM/NTk1YyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9Db252ZXJzYXRpb25EZXRlcm1pbmVkVGFnRXZlbnQudHM/MzRiYSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9PbkluaXRUYWdFdmVudC50cz83ZWZlIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvZXZlbnRzL1BhZ2VWaWV3VGFnRXZlbnQudHM/NWQ5YSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9OZXdzbGV0dGVyU2lnblVwVGFnRXZlbnQudHM/NTY4MiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9kYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsLnRzP2FkZGQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvSGFzQWNjZXNzVGFnRXZlbnQudHM/MmI0MyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9BdXRob3JpemVkVGFnRXZlbnQudHM/YzAwZiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9Ob3RBdXRob3JpemVkVGFnRXZlbnQudHM/ZWZkMiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL2V2ZW50cy9DbGlja1RhZ0V2ZW50LnRzP2ZkNWQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9ldmVudHMvaW5kZXgudHM/N2IzOSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL0Nvbm5leHRHdG1UYWdDb2xsZWN0b3IudHM/NTE3NyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvR3RtVGFnQ29sbGVjdG9yRmFjdG9yeS50cz81NTBiIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdNb2R1bGUudHM/ZTJjOCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvbW9kZWxzL0FwaUNvbnRlbnRNb2RlbC50cz8yNTdjIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvcGFnZU1vZHVsZS9tb2RlbHMvQ29udGVudE1vZGVsLnRzPzQyOTUiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9wYWdlTW9kdWxlL2NsYXNzZXMvQ29udGVudFNlcnZpY2UudHM/NDQ1ZiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZS50cz9mOTNmIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL0RMQ2RwUHVibGljLnRzP2JiMmQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vUGx1Z2luLnRzP2MzMjEiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vUHVibGljUGx1Z2luLnRzP2JmYWYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9pbmRleC50cz82YTFiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBDb2xsZWN0b3JUeXBlcyA9IHtcclxuICAgIENvbm5leHQ6IFwiQ29ubmV4dFwiLFxyXG4gICAgU1A6IFwiU1BcIixcclxuICAgIEZsaXR0ejogXCJGbGl0dHpcIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29sVHlwZSA9IHtcclxuICAgIFwiQ29ubmV4dFwiOiBcIkNvbm5leHRcIixcclxuICAgIFwiU1BcIjogXCJTUFwiLFxyXG4gICAgXCJGbGl0dHpcIjogXCJGbGl0dHpcIlxyXG59XHJcbiIsImltcG9ydCB7IENkcEV2ZW50RGF0YU1vZGVsIH0gZnJvbSBcIi4vQ2RwRXZlbnREYXRhTW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbi8vIGltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2RwRXZlbnRNb2RlbCB7XHJcbiAgICBJZDogc3RyaW5nID0gVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgRXZlbnROYW1lOiBzdHJpbmc7XHJcbiAgICBFdmVudFR5cGU6IHN0cmluZztcclxuICAgIEV2ZW50VGltZXN0YW1wOiBudW1iZXI7XHJcbiAgICBEZXZpY2VJZDogc3RyaW5nO1xyXG4gICAgRzJJZGV2aWNlaWQ6IHN0cmluZztcclxuICAgIERldmljZUJyb3dzZXJTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIFBhZ2VTZXNzaW9uSWQ6IHN0cmluZztcclxuICAgIFNpdGVFbnZpcm9ubWVudDogc3RyaW5nO1xyXG4gICAgQ29uZmlnQ29kZT86IHN0cmluZztcclxuICAgIFNpdGVDb2RlPzogc3RyaW5nO1xyXG4gICAgQ2xpZW50Q29kZT86IHN0cmluZztcclxuICAgIEV2ZW50U291cmNlOiBzdHJpbmc7XHJcbiAgICBFdmVudERhdGE6IEFycmF5PENkcEV2ZW50RGF0YU1vZGVsPiA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIC8vIEJ1Z1RyYWNrVXRpbC5hZGRFeGlzdGluZ0d1aWRMb2codGhpcy5JZCk7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5FdmVudE5hbWUgPSBkYXRhLkV2ZW50TmFtZTtcclxuICAgICAgICB0aGlzLkV2ZW50VHlwZSA9IGRhdGEuRXZlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuRXZlbnRUaW1lc3RhbXAgPSBkYXRhLkV2ZW50VGltZXN0YW1wO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlSWQgPSBkYXRhLkRldmljZUlkO1xyXG4gICAgICAgIHRoaXMuRzJJZGV2aWNlaWQgPSBkYXRhLkcySWRldmljZWlkO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlQnJvd3NlclNlc3Npb25JZCA9IGRhdGEuRGV2aWNlQnJvd3NlclNlc3Npb25JZDtcclxuICAgICAgICB0aGlzLlBhZ2VTZXNzaW9uSWQgPSBkYXRhLlBhZ2VTZXNzaW9uSWQ7XHJcbiAgICAgICAgdGhpcy5Db25maWdDb2RlID0gZGF0YS5Db25maWdDb2RlO1xyXG4gICAgICAgIHRoaXMuU2l0ZUNvZGUgPSBkYXRhLlNpdGVDb2RlO1xyXG4gICAgICAgIHRoaXMuQ2xpZW50Q29kZSA9IGRhdGEuQ2xpZW50Q29kZTtcclxuICAgICAgICB0aGlzLlNpdGVFbnZpcm9ubWVudCA9IGRhdGEuU2l0ZUVudmlyb25tZW50IHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHRoaXMuRXZlbnRTb3VyY2UgPSBkYXRhLkV2ZW50U291cmNlIHx8IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHRoaXMuRXZlbnREYXRhID0gZGF0YS5FdmVudERhdGE7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29udmVyc2F0aW9uTWFuYWdlckNsYXNzIHtcclxuICAgIGdldEN1cnJlbnRDb252ZXJzYXRpb24oKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5Db25uZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50Q29udmVyc2F0aW9uO1xyXG4gICAgICAgICAgICBpZiAoKDxhbnk+d2luZG93KS5OeHRJbm5lcikge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudENvbnZlcnNhdGlvbiA9ICg8YW55PndpbmRvdykuTnh0SW5uZXIuU3RvcmFnZS5HZXRDdXJyZW50Q29udmVyc2F0aW9uKCk7IC8vIHZlcnNpb24gPjIuNVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDb252ZXJzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudENvbnZlcnNhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRDb252ZXJzYXRpb24gPSB3aW5kb3cuQ29ubmV4dC5TdG9yYWdlLkdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29udmVyc2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRDb252ZXJzYXRpb247XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuQ25uWHQuU3RvcmFnZS5HZXRDdXJyZW50Q29udmVyc2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpOiBudW1iZXIgfCBudWxsIHtcclxuICAgICAgICBpZiAod2luZG93LkNvbm5leHQpIHtcclxuICAgICAgICAgICAgaWYgKCg8YW55PndpbmRvdykuTnh0SW5uZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoPGFueT53aW5kb3cpLk54dElubmVyLlN0b3JhZ2UuR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpOyAvLyB2ZXJzaW9uID4yLjVcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3c/LkNvbm5leHQ/LlN0b3JhZ2UuR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpIHx8IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETyBuZWVkIHJlZmFjdG9yIC0gZ2V0Q3VycmVudCB2ZXJzaW9uXHJcbiAgICBwdWJsaWMgZ2V0VmVyc2lvbigpOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL1srLV0/XFxkKyhcXC5cXGQrKT8vZztcclxuICAgICAgICBjb25zdCBmaW5kTnVtYmVycyA9IHdpbmRvdy5Db25uZXh0LkdldFZlcnNpb24oKS5tYXRjaChyZWdleCk7XHJcbiAgICAgICAgcmV0dXJuIGZpbmROdW1iZXJzID8gZmluZE51bWJlcnNbMF0gOiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29udmVyc2F0aW9uTWFuYWdlciA9IG5ldyBDb252ZXJzYXRpb25NYW5hZ2VyQ2xhc3MoKTsiLCJleHBvcnQgY2xhc3MgRG9tQ2xhc3Mge1xyXG4gICAgZmluZEFuY2VzdG9yKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAoKGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQpICYmICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERvbSA9IG5ldyBEb21DbGFzcygpO1xyXG4iLCJpbXBvcnQgeyBDb252ZXJzYXRpb25NYW5hZ2VyIH0gZnJvbSBcIi4vQ29udmVyc2F0aW9uTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEb20gfSBmcm9tIFwiQENvcmUvZG9tL0RvbVwiO1xyXG5pbXBvcnQgeyBDbGlja0FjdGlvbk1vZGVsIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L0NsaWNrQWN0aW9uTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25NYW5hZ2VyQ2xhc3Mge1xyXG5cclxuICAgIGdldEluZm9Gcm9tQ2xpY2tlZEVsZW1lbnQoY2xpY2tlZEVsZW1lbnQpOiBDbGlja0FjdGlvbk1vZGVsIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gRG9tLmZpbmRBbmNlc3RvcihjbGlja2VkRWxlbWVudCwgXCJNZzItY29ubmV4dFwiKSxcclxuICAgICAgICAgICAgYWN0aW9uSW5mbyA9IHt9O1xyXG5cclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgY29uc3QgZWxlbWVudElkID0gcGFyZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25JZCA9IHBhcnNlSW50KGVsZW1lbnRJZC5zcGxpdChcIi1cIilbMV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjdGlvbk5hbWU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBDb252ZXJzYXRpb25NYW5hZ2VyLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb252ZXJzYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gY29udmVyc2F0aW9uLkFjdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uTGVuZ3RoID0gYWN0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3Rpb25MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLklkID09IGFjdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lID0gYWN0aW9uLk5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25JbmZvW1wiQWN0aW9uSWRcIl0gPSBhY3Rpb25JZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkluZm9bXCJBY3Rpb25OYW1lXCJdID0gYWN0aW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPENsaWNrQWN0aW9uTW9kZWw+YWN0aW9uSW5mbztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFjdGlvbk1hbmFnZXIgPSBuZXcgQWN0aW9uTWFuYWdlckNsYXNzKCk7IiwiaW1wb3J0IHsgQ29udmVyc2F0aW9uTWFuYWdlciB9IGZyb20gXCIuL2NsYXNzZXMvQ29udmVyc2F0aW9uTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBBY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4vY2xhc3Nlcy9BY3Rpb25NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IENsaWNrQWN0aW9uTW9kZWwgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvQ2xpY2tBY3Rpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0TW9kdWxlQ2xhc3Mge1xyXG4gICBwcml2YXRlIGhhc0FkYmxvY2sgPSBmYWxzZTtcclxuXHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLmxpc3RlbkV2ZW50cygpO1xyXG4gICB9XHJcblxyXG4gICBwcml2YXRlIGxpc3RlbkV2ZW50cygpIHtcclxuICAgICAgdGhpcy5saXN0ZW5BZGJsb2NrRm91bmQoKTtcclxuICAgfVxyXG5cclxuICAgcHJpdmF0ZSBsaXN0ZW5BZGJsb2NrRm91bmQoKSB7XHJcbiAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwib25BZGJsb2NrRm91bmRcIiwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgIHRoaXMuaGFzQWRibG9jayA9IHRydWU7XHJcbiAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIGdldEFkYmxvY2tEZXRlY3RlZCgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaGFzQWRibG9jaztcclxuICAgfVxyXG5cclxuICAgZ2V0Q3VycmVudENvbnZlcnNhdGlvbigpIHtcclxuICAgICAgcmV0dXJuIENvbnZlcnNhdGlvbk1hbmFnZXIuZ2V0Q3VycmVudENvbnZlcnNhdGlvbigpO1xyXG4gICB9XHJcblxyXG4gICBHZXRDdXJyZW50Q29udmVyc2F0aW9uVmlld0NvdW50KCkge1xyXG4gICAgICByZXR1cm4gQ29udmVyc2F0aW9uTWFuYWdlci5HZXRDdXJyZW50Q29udmVyc2F0aW9uVmlld0NvdW50KCk7XHJcbiAgIH1cclxuXHJcbiAgIGdldEFjdGlvbkRhdGFGcm9tRWxlbWVudChjbGlja2VkRWxlbWVudCk6IENsaWNrQWN0aW9uTW9kZWwgfCBudWxsIHtcclxuICAgICAgcmV0dXJuIEFjdGlvbk1hbmFnZXIuZ2V0SW5mb0Zyb21DbGlja2VkRWxlbWVudChjbGlja2VkRWxlbWVudClcclxuICAgfVxyXG5cclxuICAgaGFzQ29ubmV4dCgpIHtcclxuICAgICAgcmV0dXJuICEhd2luZG93LkNvbm5leHQ7XHJcbiAgIH1cclxuXHJcbiAgIGdldFZlcnNpb25JbmZvKCkge1xyXG4gICAgICBpZiAod2luZG93LkNvbm5leHQpIHtcclxuICAgICAgICAgcmV0dXJuIHdpbmRvdy5Db25uZXh0LkdldFZlcnNpb25JbmZvKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgcmV0dXJuIFwiQ29ubmV4dCBpcyBub3QgZGVmaW5lZFwiXHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgZ2V0Q29uZmlnQ29kZSgpIHtcclxuICAgICAgaWYgKHdpbmRvdy5Db25uZXh0ICYmIHdpbmRvdy5Db25uZXh0LlN0b3JhZ2UpIHtcclxuICAgICAgICAgIHJldHVybiB3aW5kb3cuQ29ubmV4dC5TdG9yYWdlLkdldENvbmZpZ0NvZGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ29ubmV4dE1vZHVsZSA9IG5ldyBDb25uZXh0TW9kdWxlQ2xhc3MoKTtcclxuIiwiaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgU2VuZE9wdGlvbnNNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvU2VuZE9wdGlvbnNNb2RlbFwiO1xyXG5pbXBvcnQgeyBCb3REZXRlY3RvciB9IGZyb20gXCJATW9kdWxlcy9ib3REZXRlY3Rpb24vQm90RGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50SW50ZXJmYWNlIH0gZnJvbSBcIi4vQ2RwRXZlbnRJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgRGF0ZVV0aWwgfSBmcm9tIFwiQFV0aWxzL0RhdGVVdGlsXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENkcEV2ZW50IGltcGxlbWVudHMgQ2RwRXZlbnRJbnRlcmZhY2Uge1xyXG4gICAgZXZlbnRNb2RlbDogQ2RwRXZlbnRNb2RlbDtcclxuICAgIElzQXN5bmM6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJvdGVjdGVkIG9yaWdpbmFsRXZlbnROYW1lO1xyXG4gICAgcHJvdGVjdGVkIG9yaWdpbmFsRXZlbnROYW1lcyA9IFtdO1xyXG4gICAgcHJvdGVjdGVkIG9yaWdpbmFsRXZlbnREYXRhO1xyXG4gICAgcHVibGljIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDZHBFdmVudFwiKTtcclxuICAgIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZTtcclxuICAgIHByb3RlY3RlZCBjdXJyZW50RXZlbnROYW1lOyAvLyBmb3IgbXVsdHkgb3JpZ2luIGV2ZW50XHJcbiAgICByZWFkb25seSByZXF1aXJlZEZpZWxkcyA9IFtcIkRldmljZUlkXCIsIFwiU2l0ZUNvZGVcIiwgXCJDbGllbnRDb2RlXCIsIFwiQ29uZmlnQ29kZVwiXTtcclxuICAgIHJlYWRvbmx5IG9wdGlvbmFsRmllbGRzID0gW1wiRzJJZGV2aWNlaWRcIl07XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gbmV3IENkcEV2ZW50TW9kZWwobnVsbCk7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFdmVudE9wdGlvbnMoKTogU2VuZE9wdGlvbnNNb2RlbEludGVyZmFjZSB7XHJcbiAgICAgICAgbGV0IHNlbmRPcHRpb25zID0gbmV3IFNlbmRPcHRpb25zTW9kZWwoKTtcclxuICAgICAgICBzZW5kT3B0aW9ucy5Jc0FzeW5jID0gdGhpcy5Jc0FzeW5jO1xyXG4gICAgICAgIHJldHVybiBzZW5kT3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiUmVnaXN0ZXJpbmcgRXZlbnRMaXN0ZW5lclwiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMgJiYgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMuZm9yRWFjaCgoZXZlbnROYW1lLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KHRoaXMub3JpZ2luYWxFdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcIk5vIGV2ZW50IE5hbWUgaW4gT2JqZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcImFkZENvbGxlY3RvckV2ZW50TGlzdGVuZXIuRXJyb3JcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlbkV2ZW50KGV2ZW50TmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIGV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZ1wiLCB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3JpZ2luYWxFdmVudERhdGEoZS5kZXRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyYW5zZm9ybUV2ZW50RGF0YSh0cmFuc2Zvcm1EYXRhPzogYW55KSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRXZlbnREYXRhID0gdGhpcy5nZXRPcmlnaW5hbEV2ZW50RGF0YSgpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB0cmFuc2Zvcm1EYXRhIHx8IG9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YSB8fCB7fTtcclxuICAgICAgICBsZXQgZGF0YU9iamVjdFRvQXJyYXkgPSBVdGlscy5BcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShldmVudERhdGEsIFtdKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhID0gdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5jb25jYXQodGhpcy5jb252ZXJ0RGF0YVZhbHVlVG9TdHJpbmcoZGF0YU9iamVjdFRvQXJyYXkpKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFdmVudERhdGEoKSB7XHJcbiAgICAgICAgY29uc3QgZmlyZWREYXRhID0gdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhID0gW107XHJcbiAgICAgICAgdGhpcy5hZGRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuYWRkQm90SW5mbygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ3VzdG9tUHJvcGVydGllcygpO1xyXG4gICAgICAgIGZpcmVkRGF0YS5mb3JFYWNoKGZkID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2FtZUtleURhdGEgPSB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLmZpbmQoY2QgPT4gY2QuS2V5ID09PSBmZC5LZXkpO1xyXG4gICAgICAgICAgICBpZiAoc2FtZUtleURhdGEgJiYgc2FtZUtleURhdGEuVmFsdWUgIT09IGZkLlZhbHVlICYmIGZkLlZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYHVwZGF0ZV9ldmVudF9kYXRhOiAke0pTT04uc3RyaW5naWZ5KHNhbWVLZXlEYXRhKX0gLT4gJHtKU09OLnN0cmluZ2lmeShmZCl9YCk7XHJcbiAgICAgICAgICAgICAgICBzYW1lS2V5RGF0YS5WYWx1ZSA9IGZkLlZhbHVlOyAgIC8vIHVwZGF0ZSB2YWx1ZXMgb24gcHJldmlvdXNcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghc2FtZUtleURhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaChmZCk7IC8vIGlkayBpZiBpdCdzIHBvc3NpYmxlXHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYHB1c2hfZXZlbnRfZGF0YTogJHtKU09OLnN0cmluZ2lmeShmZCl9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVFdmVudE1vZGVsKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5HMklkZXZpY2VpZCA9IHRoaXMuZXZlbnRNb2RlbC5HMklkZXZpY2VpZCB8fCBDZHBNb2R1bGUuZ2V0RzJpRGV2aWNlSWQoKSB8fCBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEJvdEluZm8oKSB7XHJcbiAgICAgICAgaWYgKENvbmZpZ01vZHVsZS5pc0FkZEJvdEluZm9ybWF0aW9uKCkpIHtcclxuICAgICAgICAgICAgbGV0IGJvdERldGVjdG9yID0gbmV3IEJvdERldGVjdG9yKCk7XHJcbiAgICAgICAgICAgIGxldCBkZXRlY3RCb3QgPSBib3REZXRlY3Rvci5nZXREZXRlY3RCb3QoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZXRlY3RCb3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJCb3ROYW1lXCIsIFZhbHVlOiBkZXRlY3RCb3QubmFtZSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJCb3RDYXRlZ29yeVwiLCBWYWx1ZTogZGV0ZWN0Qm90LmNhdGVnb3J5IH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiBcIlVzZXJCb3RcIiwgVmFsdWU6IFwiZmFsc2VcIiB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRFdmVudE1vZGVsKCk6IENkcEV2ZW50TW9kZWwge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbCA9IG5ldyBDZHBFdmVudE1vZGVsKG51bGwpO1xyXG4gICAgICAgIGxldCBvcmlnaW5hbEV2ZW50RGF0YSA9IHRoaXMuZ2V0T3JpZ2luYWxFdmVudERhdGEoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuUGFnZVNlc3Npb25JZCA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuUGFnZVNlc3Npb25JZCB8fCB0aGlzLmdldEV2ZW50UGFnZVNlc3Npb25JZChvcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkRldmljZUJyb3dzZXJTZXNzaW9uSWQgPSB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldERldmljZVNlc3Npb25JZCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFRpbWVzdGFtcCA9IERhdGVVdGlsLmdldE5vd0RhdGVJblNlYygpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5TaXRlRW52aXJvbm1lbnQgPSBDb25maWdNb2R1bGUuZ2V0U2l0ZUVudmlyb25tZW50KCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkNsaWVudENvZGUgPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5TaXRlQ29kZSA9IENvbmZpZ01vZHVsZS5nZXRTaXRlQ29kZSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5EZXZpY2VJZCA9IERldmljZURldGVjdG9yLmdldENhbGN1bGF0ZWREZXZpY2VJZCgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5HMklkZXZpY2VpZCA9IENkcE1vZHVsZS5nZXRHMmlEZXZpY2VJZCgpIHx8IFwiXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkNvbmZpZ0NvZGUgPSBDb25uZXh0TW9kdWxlLmdldENvbmZpZ0NvZGUoKSB8fCBcIlVua25vd25cIjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuYWRkQm90SW5mbygpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlQ3VzdG9tUHJvcGVydGllcygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpOiB2b2lkIHsgfVxyXG5cclxuICAgIGFkZFZlcnNpb25JbmZvKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJWZXJzaW9uXCIsIFZhbHVlOiBVdGlscy5nZXRWZXJzaW9uKCkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFdmVudFBhZ2VTZXNzaW9uSWQob3JpZ2luYWxFdmVudERhdGEpIHtcclxuICAgICAgICByZXR1cm4gb3JpZ2luYWxFdmVudERhdGEuRXZlbnRJbmZvID8gb3JpZ2luYWxFdmVudERhdGEuRXZlbnRJbmZvLlNlc3Npb25JZCA6IFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29udmVydERhdGFWYWx1ZVRvU3RyaW5nKGRhdGE6IGFueSk6IGFueSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJldmVudERhdGFWYWx1ZVRvU3RyaW5nXCIsIFwiZXZlbnREYXRhVmFsdWVUb1N0cmluZ1wiLCBkYXRhKTtcclxuICAgICAgICBsZXQgY2xlYW5lZCA9IFtdO1xyXG4gICAgICAgIGRhdGEubWFwKGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKHR5cGVvZiBlLlZhbHVlICE9PSBcInVuZGVmaW5lZFwiICYmIGUuVmFsdWUgIT09IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhbmVkLnB1c2goeyBcIktleVwiOiBlLktleSwgXCJWYWx1ZVwiOiBlLlZhbHVlLnRvU3RyaW5nKCkgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhbmVkLnB1c2goeyBcIktleVwiOiBlLktleSwgXCJWYWx1ZVwiOiBcIlwiIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJldmVudERhdGFWYWx1ZVRvU3RyaW5nXCIsIFwiZXZlbnREYXRhVmFsdWVUb1N0cmluZ1wiLCBjbGVhbmVkKTtcclxuICAgICAgICByZXR1cm4gY2xlYW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKGV4Y2x1ZGVPcHRpb25hbCA9IGZhbHNlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IGZpZWxkTGVuZ3RoID0gdGhpcy5yZXF1aXJlZEZpZWxkcy5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5ldmVudE1vZGVsW3RoaXMucmVxdWlyZWRGaWVsZHNbaV1dKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFleGNsdWRlT3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgbGV0IG9wdGlvbmFsRmllbGRMZW5ndGggPSB0aGlzLm9wdGlvbmFsRmllbGRzLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25hbEZpZWxkTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ldmVudE1vZGVsW3RoaXMub3B0aW9uYWxGaWVsZHNbaV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlcXVpcmVkRmllbGRzKHVwZGF0ZVVzZXJEYXRhTW9kZWw6IENkcEV2ZW50TW9kZWwgfCBDZHBFdmVudE1vZGVsW10sIGV4Y2x1ZGVPcHRpb25hbCA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodXBkYXRlVXNlckRhdGFNb2RlbCkpIHtcclxuICAgICAgICAgICAgdXBkYXRlVXNlckRhdGFNb2RlbCA9IHVwZGF0ZVVzZXJEYXRhTW9kZWxbMF07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ1cGRhdGVVc2VyRGF0YU1vZGVsXCIsIHVwZGF0ZVVzZXJEYXRhTW9kZWwpXHJcblxyXG4gICAgICAgIGlmICghdXBkYXRlVXNlckRhdGFNb2RlbCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucmVxdWlyZWRGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsW2ZpZWxkXSA9IHRoaXMuZXZlbnRNb2RlbFtmaWVsZF0gPyB0aGlzLmV2ZW50TW9kZWxbZmllbGRdIDogdXBkYXRlVXNlckRhdGFNb2RlbFtmaWVsZF07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghZXhjbHVkZU9wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9uYWxGaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbFtmaWVsZF0gPSB0aGlzLmV2ZW50TW9kZWxbZmllbGRdID8gdGhpcy5ldmVudE1vZGVsW2ZpZWxkXSA6IHVwZGF0ZVVzZXJEYXRhTW9kZWxbZmllbGRdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5VXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50TW9kZWwgJiYgIXRoaXMuZXZlbnRNb2RlbC5EZXZpY2VJZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbC5EZXZpY2VJZCA9IERldmljZURldGVjdG9yLmdldENhbGN1bGF0ZWREZXZpY2VJZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRPcmlnaW5hbEV2ZW50RGF0YSgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhIHx8IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldE9yaWdpbmFsRXZlbnREYXRhKGV2ZW50RGF0YSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudERhdGEgPSBldmVudERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJQcmV2aW91c0RhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsID0gbmV3IENkcEV2ZW50TW9kZWwobnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVzZUluQ2FsY3VsYXRlRmlyc3RWaXNpdE1vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCkge1xyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDYWxjdWxhdGVNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudE1vZGVsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29va2llQXR0cmlidXRlcyB9IGZyb20gXCIuL0Nvb2tpZUF0dHJpYnV0ZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb29raWUge1xyXG5cclxuICAgIHN0YXRpYyBnZXRTdG9yZWRMb2dMZXZlbCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImdldFN0b3JlZExvZ0xldmVsXCIpO1xyXG4gICAgICAgIC8vIHJldHVybiAnaW5mbyc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgc3RyaW5naWZ5QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IGJvb2xlYW4gfCB1bmRlZmluZWQpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdHJpbmdpZmllZCA9IFwiOyBcIiArIG5hbWU7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmdpZmllZDsgLy8gYm9vbGVhbiBhdHRyaWJ1dGVzIHNob3VsZG4ndCBoYXZlIGEgdmFsdWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmaWVkICsgXCI9XCIgKyB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzdHJpbmdpZnlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IENvb2tpZUF0dHJpYnV0ZXMpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBpcmVzID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZXhwaXJlcy5zZXRNaWxsaXNlY29uZHMoZXhwaXJlcy5nZXRNaWxsaXNlY29uZHMoKSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuZXhwaXJlcyA9IGV4cGlyZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnN0cmluZ2lmeUF0dHJpYnV0ZShcIkV4cGlyZXNcIiwgYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiBcIlwiKVxyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlKFwiRG9tYWluXCIsIGF0dHJpYnV0ZXMuZG9tYWluKVxyXG4gICAgICAgICAgICArIHRoaXMuc3RyaW5naWZ5QXR0cmlidXRlKFwiUGF0aFwiLCBhdHRyaWJ1dGVzLnBhdGgpXHJcbiAgICAgICAgICAgICsgdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGUoXCJTZWN1cmVcIiwgYXR0cmlidXRlcy5zZWN1cmUpXHJcbiAgICAgICAgICAgICsgdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGUoXCJTYW1lU2l0ZVwiLCBhdHRyaWJ1dGVzLnNhbWVTaXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBlbmNvZGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBhdHRyaWJ1dGVzOiBDb29raWVBdHRyaWJ1dGVzKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpIC8vIGFsbG93ZWQgc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCgvZywgXCIlMjhcIikucmVwbGFjZSgvXFwpL2csIFwiJTI5XCIpIC8vIHJlcGxhY2Ugb3BlbmluZyBhbmQgY2xvc2luZyBwYXJlbnNcclxuICAgICAgICAgICAgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpIC8vIGFsbG93ZWQgc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICAgICAgICAgICsgdGhpcy5zdHJpbmdpZnlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHBhcnNlKGNvb2tpZVN0cmluZzogc3RyaW5nKTogeyBbbmFtZTogc3RyaW5nXTogc3RyaW5nIH0ge1xyXG4gICAgICAgIGxldCByZXN1bHQ6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9ID0ge307XHJcbiAgICAgICAgbGV0IGNvb2tpZXMgPSBjb29raWVTdHJpbmcgPyBjb29raWVTdHJpbmcuc3BsaXQoXCI7IFwiKSA6IFtdO1xyXG4gICAgICAgIGxldCByZGVjb2RlID0gLyglWzAtOUEtWl17Mn0pKy9nO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgbGV0IGNvb2tpZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oXCI9XCIpO1xyXG4gICAgICAgICAgICBpZiAoY29va2llLmNoYXJBdCgwKSA9PT0gXCJcXFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gcGFydHNbMF0ucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gY29va2llLnJlcGxhY2UocmRlY29kZSwgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGNvb2tpZXMgd2l0aCBpbnZhbGlkIG5hbWUvdmFsdWUgZW5jb2RpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QWxsKCk6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZShkb2N1bWVudC5jb29raWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0KG5hbWU6IHN0cmluZyk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsKClbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBhdHRyaWJ1dGVzPzogQ29va2llQXR0cmlidXRlcyk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IHRoaXMuZW5jb2RlKG5hbWUsIHZhbHVlLCB7IHBhdGg6IFwiL1wiLCAuLi5hdHRyaWJ1dGVzIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVtb3ZlKG5hbWU6IHN0cmluZywgYXR0cmlidXRlcz86IENvb2tpZUF0dHJpYnV0ZXMpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldChuYW1lLCBcIlwiLCB7IC4uLmF0dHJpYnV0ZXMsIGV4cGlyZXM6IC0xIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENvb2tpZSB9IGZyb20gXCJAVXRpbHMvY29va2llL0Nvb2tpZVwiO1xyXG5pbXBvcnQgeyBQcm94eVNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL3Byb3h5L1Byb3h5U2VydmljZVwiO1xyXG5pbXBvcnQgeyBQcm94eVNldHRpbmdzTW9kZWwgfSBmcm9tIFwiQFV0aWxzL3Byb3h5L21vZGVsc1wiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5pbXBvcnQgeyBXb3JrZmxvd01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvV29ya2Zsb3dNb2R1bGVcIjtcclxuaW1wb3J0IHsgRkxPV19NT0RFX1RZUEVTIH0gZnJvbSBcIkBNb2R1bGVzL3dvcmtmbG93TW9kZU1vZHVsZS9tb2RlbHNcIjtcclxuXHJcbnR5cGUgRW5nYWdlRGF0YSA9IHtcclxuICAgIEFCR3JvdXA6IHN0cmluZyxcclxuICAgIEFCR3JvdXBOYW1lOiBzdHJpbmcsXHJcbiAgICBBQkV4cGVyaW1lbnRJZDogbnVtYmVyIHwgc3RyaW5nLFxyXG4gICAgQUJFeHBlcmltZW50TmFtZTogc3RyaW5nXHJcbn07XHJcblxyXG5jbGFzcyBBQk1vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgY29va2llS2V5OiBzdHJpbmcgPSBcIm54dF9hYl90ZXN0XCI7XHJcbiAgICBwcml2YXRlIG1pc2NQcmVmaXg6IHN0cmluZyA9IFwiTWlzY0VuZ2FnZVwiO1xyXG4gICAgcHJpdmF0ZSBsYXN0RXhwZXJpbWVudElkOiBzdHJpbmcgfCBudW1iZXI7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJBQk1vZHVsZVwiKTtcclxuXHJcbiAgICBhZGRNaXNjKGV2ZW50TGlzdGVuZXI6IENkcEV2ZW50KTogYW55IHtcclxuICAgICAgICBpZiAoIVdvcmtmbG93TW9kdWxlLmdldE1vZGVFbmFibGVkKEZMT1dfTU9ERV9UWVBFUy5FbmdhZ2VBQkV4cGVyaW1lbnRzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRMaXN0ZW5lcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IENkcEV2ZW50LnByb3RvdHlwZS5nZXRFdmVudE1vZGVsLm5hbWUgfHwgXCJnZXRFdmVudE1vZGVsXCI7XHJcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmdzOiBQcm94eVNldHRpbmdzTW9kZWwgPSB7XHJcbiAgICAgICAgICAgIHRhcmdldDogbWV0aG9kLFxyXG4gICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAob3JpZ2luYWxNZXRob2Q6IEZ1bmN0aW9uLCAuLi5hcmdzOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50TW9kZWw6IENkcEV2ZW50TW9kZWwgPSBvcmlnaW5hbE1ldGhvZC5hcHBseShudWxsLCBhcmdzKTsgLy8gY29udGV4dCBhbHJlYWR5IGJpbmRcclxuICAgICAgICAgICAgICAgIF90aGlzLnB1c2hFdmVudERhdGEoZXZlbnRNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wdXNoR0EoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBldmVudE1vZGVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUHJveHlTZXJ2aWNlLmFwcGx5KGV2ZW50TGlzdGVuZXIsIHNldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEVuZ2FnZURhdGEoKTogRW5nYWdlRGF0YSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogRW5nYWdlRGF0YSA9IG51bGw7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gKDxhbnk+d2luZG93KS5OeHRJbm5lcj8uR2V0QUJUZXN0Q29va2llKCkgfHwgIEpTT04ucGFyc2UoQ29va2llLmdldCh0aGlzLmNvb2tpZUtleSkpIGFzIEVuZ2FnZURhdGE7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHsgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwdXNoRXZlbnREYXRhKGV2ZW50TW9kZWw6IENkcEV2ZW50TW9kZWwpIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5nZXRFbmdhZ2VEYXRhKCk7XHJcbiAgICAgICAgaWYgKGV2ZW50TW9kZWwgJiYgdGhpcy5pc1ZhbGlkRGF0YShkYXRhKSkge1xyXG4gICAgICAgICAgICBldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHsgS2V5OiB0aGlzLm1pc2NQcmVmaXggKyBcIkFCR3JvdXBcIiwgVmFsdWU6IGRhdGEuQUJHcm91cCB9KTtcclxuICAgICAgICAgICAgZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogdGhpcy5taXNjUHJlZml4ICsgXCJBQkV4cGVyaW1lbnRJZFwiLCBWYWx1ZTogZGF0YS5BQkV4cGVyaW1lbnRJZC50b1N0cmluZygpIH0pO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwicHVzaEV2ZW50RGF0YVwiLCBkYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiTk9UIHB1c2hFdmVudERhdGFcIiwgXCJkYXRhXCIsIGRhdGEsIFwiZXZlbnRNb2RlbFwiLCBldmVudE1vZGVsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwdXNoR0EoKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RW5nYWdlRGF0YSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkRGF0YShkYXRhKSAmJiB0aGlzLmxhc3RFeHBlcmltZW50SWQgIT09IGRhdGEuQUJFeHBlcmltZW50SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcInB1c2hHQVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwiQUJUZXN0aW5nXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RFeHBlcmltZW50SWQgPSBkYXRhLkFCRXhwZXJpbWVudElkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzVmFsaWREYXRhKGRhdGE6IEVuZ2FnZURhdGEpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gISEoZGF0YSAmJiBkYXRhLkFCRXhwZXJpbWVudElkICYmIGRhdGEuQUJFeHBlcmltZW50TmFtZSAmJiBkYXRhLkFCR3JvdXAgJiYgZGF0YS5BQkdyb3VwTmFtZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBQk1vZHVsZSA9IG5ldyBBQk1vZHVsZUNsYXNzKCk7IiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiLi9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgQUJNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvYWJNb2R1bGUvRW5nYWdlQUJNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsZWN0b3Ige1xyXG4gICAgZXZlbnRzO1xyXG4gICAgcHJvdGVjdGVkIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDb2xsZWN0b3JcIik7XHJcbiAgICBwcm90ZWN0ZWQgbGlzdGVuZXJzID0gW107XHJcblxyXG4gICAgcmVnaXN0ZXJFdmVudHMoKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnRzID0gT2JqZWN0LmtleXModGhpcy5ldmVudHMpO1xyXG5cclxuICAgICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lcjogQ2RwRXZlbnQgPSBuZXcgdGhpcy5ldmVudHNbZXZlbnROYW1lXSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IEFCTW9kdWxlLmFkZE1pc2MoZXZlbnRMaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICBldmVudExpc3RlbmVyLmxpc3RlbigpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBpc0hhdmVQYWdlVmlld0V2ZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIi4uLy4uL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ29ubmV4dE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0RXZlbnQgZXh0ZW5kcyBDZHBFdmVudCB7XHJcbiAgICBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBzdXBlci5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuQ29ubmV4dDtcclxuICAgICAgICB0aGlzLmFkZENvbm5leHRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5Db25maWdDb2RlID0gQ29ubmV4dE1vZHVsZS5nZXRDb25maWdDb2RlKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDZHBFdmVudE1vZGVsKHRoaXMuZXZlbnRNb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29ubmV4dFZlcnNpb25JbmZvKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7IEtleTogXCJTb3VyY2VWZXJzaW9uXCIsIFZhbHVlOiBDb25uZXh0TW9kdWxlLmdldFZlcnNpb25JbmZvKCkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpOiB2b2lkIHsgfVxyXG5cclxufSIsImV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uRGF0YSB7XHJcbiAgICBBY3Rpb25UeXBlSWQ6IG51bWJlcjtcclxuICAgIEFjdGlvblR5cGU6IHN0cmluZztcclxuICAgIEFydGljbGVzTGVmdDogbnVtYmVyO1xyXG4gICAgQXJ0aWNsZXNWaWV3ZWQ6IG51bWJlcjtcclxuICAgIERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBVc2VyRGVmaW5lZERhdGE6IHN0cmluZztcclxuICAgIE5hbWU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFjdGlvblR5cGVEaWN0ID0ge1xyXG4gICAgMTogXCJCYW5uZXJcIixcclxuICAgIDQ6IFwiSW5saW5lXCIsXHJcbiAgICAyOiBcIk1vZGFsXCIsXHJcbiAgICAzOiBcIlBheXdhbGxcIixcclxuICAgIDY6IFwiU21hbGxJbmZvQm94XCIsXHJcbiAgICA3OiBcIkpTXCIsXHJcbiAgICAxMTogXCJOZXdzbGV0dGVyXCIsXHJcbiAgICAxNjogXCJJbnNpZ2h0c1JlY29tbWVuZGF0aW9uXCJcclxufVxyXG5cclxuLy8gZXhwb3J0IGNvbnN0IEFjdGlvblR5cGUgPSB7XHJcbi8vICAgICBcIkJhbm5lclwiOiBBY3Rpb25UeXBlRGljdFtcIjFcIl0sXHJcbi8vICAgICBcIklubGluZVwiOiBBY3Rpb25UeXBlRGljdFtcIjRcIl0sXHJcbi8vICAgICBcIk1vZGFsXCI6IEFjdGlvblR5cGVEaWN0W1wiMlwiXSxcclxuLy8gICAgIFwiUGF5d2FsbFwiOiBBY3Rpb25UeXBlRGljdFtcIjNcIl0sXHJcbi8vICAgICBcIlNtYWxsSW5mb0JveFwiOiBBY3Rpb25UeXBlRGljdFtcIjZcIl0sXHJcbi8vICAgICBcIkpTXCI6IEFjdGlvblR5cGVEaWN0W1wiN1wiXSxcclxuLy8gICAgIFwiTmV3c2xldHRlclwiOiBBY3Rpb25UeXBlRGljdFtcIjExXCJdXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBjb25zdCBBY3Rpb25UeXBlcyA9IHtcclxuICAgIFwiQmFubmVyXCI6IFwiQmFubmVyXCIsXHJcbiAgICBcIklubGluZVwiOiBcIklubGluZVwiLFxyXG4gICAgXCJNb2RhbFwiOiBcIk1vZGFsXCIsXHJcbiAgICBcIlBheXdhbGxcIjogXCJQYXl3YWxsXCIsXHJcbiAgICBcIlNtYWxsSW5mb0JveFwiOiBcIlNtYWxsSW5mb0JveFwiLFxyXG4gICAgXCJKU1wiOiBcIkpTXCIsXHJcbiAgICBcIk5ld3NsZXR0ZXJcIjogXCJOZXdzbGV0dGVyXCIsXHJcbiAgICBcIkluc2lnaHRzUmVjb21tZW5kYXRpb25cIjogXCJJbnNpZ2h0c1JlY29tbWVuZGF0aW9uXCJcclxufVxyXG5cclxuLy8gZXhwb3J0IGludGVyZmFjZSBBY3Rpb25UeXBle1xyXG4vLyAgICAgQmFubmVyOiBzdHJpbmc7XHJcbi8vICAgICBJbmxpbmU6IHN0cmluZztcclxuLy8gICAgIE1vZGFsOiBzdHJpbmc7XHJcbi8vICAgICBQYXl3YWxsOiBzdHJpbmc7XHJcbi8vICAgICBTbWFsbEluZm9Cb3g6IHN0cmluZztcclxuLy8gICAgIEpTOiBzdHJpbmc7XHJcbi8vICAgICBOZXdzbGV0dGVyOiBzdHJpbmc7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCB0eXBlIEFjdGlvblR5cGUgPSBcIkJhbm5lclwiIHwgXCJJbmxpbmVcIiB8IFwiTW9kYWxcIiB8IFwiUGF5d2FsbFwiIHwgXCJTbWFsbEluZm9Cb3hcIiB8IFwiSlNcIiB8IFwiTmV3c2xldHRlclwiO1xyXG5cclxuLy8gZXhwb3J0IGVudW0gQWN0aW9uVHlwZSB7XHJcbi8vICAgICBcIkJhbm5lclwiID0gXCJCYW5uZXJcIixcclxuLy8gICAgIFwiSW5saW5lXCIgPSBcIklubGluZVwiLFxyXG4vLyAgICAgXCJNb2RhbFwiID0gXCJNb2RhbFwiLFxyXG4vLyAgICAgXCJQYXl3YWxsXCIgPSBcIlBheXdhbGxcIixcclxuLy8gICAgIFwiU21hbGxJbmZvQm94XCIgPSBcIlNtYWxsSW5mb0JveFwiLFxyXG4vLyAgICAgXCJKU1wiID0gXCJKU1wiLFxyXG4vLyAgICAgXCJOZXdzbGV0dGVyXCIgPSBcIk5ld3NsZXR0ZXJcIlxyXG4vLyB9IiwiaW1wb3J0IHsgQ29ubmV4dEV2ZW50IH0gZnJvbSBcIi4vLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IEFjdGlvblR5cGVEaWN0IH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb25uZXh0L0FjdGlvbk1vZGVsc1wiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9Db25uZXh0QWN0aW9uTW9kZWxJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3Rpb25TaG93biBleHRlbmRzIENvbm5leHRFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25BY3Rpb25TaG93blwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgbGV0IGFjdGlvblNob3dFdmVudERhdGE6IENvbm5leHRBY3Rpb25Nb2RlbEludGVyZmFjZSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFjdGlvblNob3duXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IGFjdGlvblNob3dFdmVudERhdGEuTmFtZTtcclxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIFR5cGU6IGFjdGlvblNob3dFdmVudERhdGEuQWN0aW9uVHlwZSB8fCBBY3Rpb25UeXBlRGljdFt0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YS5BY3Rpb25UeXBlSWRdLFxyXG4gICAgICAgICAgICBVc2VyRVI6IENkcE1vZHVsZS5nZXRFckNvZGUoKSxcclxuICAgICAgICAgICAgVXNlckVSUDogQ2RwTW9kdWxlLmdldEVycENvZGUoKSxcclxuICAgICAgICAgICAgVXNlckNSOiBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCksXHJcbiAgICAgICAgICAgIFVzZXJDUlA6IENkcE1vZHVsZS5nZXRDcnBDb2RlKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBY3RpdmF0ZVN1Y2Nlc3MgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aXZhdGlvbkxpbmtTdWNjZXNzU3RlcFNob3duXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBY3RpdmF0ZVN1Y2Nlc3NcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJBY3RpdmF0ZVN1Y2Nlc3NcIjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YSh7fSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgQ2xpY2tFdmVudE5hbWUgPSB7XHJcbiAgICBMb2dpbjogXCJMb2dpblwiLFxyXG4gICAgQWN0aXZhdGU6IFwiQWN0aXZhdGVcIixcclxuICAgIFVwZ3JhZGU6IFwiVXBncmFkZVwiLFxyXG4gICAgT3RoZXI6IFwiT3RoZXJcIixcclxuICAgIFNpZ25VcDogXCJTaWduVXBcIixcclxuICAgIFNvY2lhbDogXCJTb2NpYWxcIixcclxuICAgIFJlZ2lzdGVyOiBcIlJlZ2lzdGVyXCIsXHJcbiAgICBMb2dvdXQ6IFwiTG9nb3V0XCIsXHJcbiAgICBTdWJzY3JpYmU6IFwiU3Vic2NyaWJlXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50TmFtZSA9IHtcclxuICAgIE1ldGVyTGV2ZWxTZXQ6IFwibWV0ZXJMZXZlbFNldFwiLFxyXG4gICAgQ29udmVyc2F0aW9uRGV0ZXJtaW5lZDogXCJjb252ZXJzYXRpb25EZXRlcm1pbmVkXCIsXHJcbiAgICBNZXRlclN0YXJ0OiBcIm1ldGVyU3RhcnRcIixcclxuICAgIE1ldGVyU3RvcDogXCJtZXRlclN0b3BcIixcclxuICAgIEFjdGlvblNob3duOiBcImFjdGlvblNob3duXCIsXHJcbiAgICAvLyBQYWdlVmlldzogXCJwYWdlVmlld1wiLFxyXG4gICAgTmV3c2xldHRlclNpZ251cDogXCJuZXdzbGV0dGVyU2lnbnVwXCIsXHJcbiAgICAvLyBPbkluaXQ6IFwib25Jbml0XCIsXHJcbiAgICBDaGVja291dFN0YXJ0OiBcIkNoZWNrb3V0U3RhcnRcIixcclxuICAgIE9mZmVyc1ByZXNlbnRlZDogXCJPZmZlcnNQcmVzZW50ZWRcIixcclxuICAgIEJpbGxpbmdBZGRyZXNzOiBcIkJpbGxpbmdBZGRyZXNzXCIsXHJcbiAgICBVc2VySW5mbzogXCJVc2VySW5mb1wiLFxyXG4gICAgQ3JlYXRlZE5ld1VzZXI6IFwiQ3JlYXRlZE5ld1VzZXJcIixcclxuICAgIFBheW1lbnQ6IFwiUGF5bWVudFwiLFxyXG4gICAgRGVsaXZlcnlBZGRyZXNzOiBcIkRlbGl2ZXJ5QWRkcmVzc1wiLFxyXG4gICAgU3Vic2NyaXB0aW9uU3VjY2VzczogXCJTdWJzY3JpcHRpb25TdWNjZXNzXCIsXHJcbiAgICBBYmFuZG9uUHJlc2VudGVkOiBcIkFiYW5kb25QcmVzZW50ZWRcIixcclxuICAgIEFiYW5kb25DbG9zZWQ6IFwiQWJhbmRvbkNsb3NlZFwiLFxyXG4gICAgSWRsZVByZXNlbnRlZDogXCJJZGxlUHJlc2VudGVkXCIsXHJcbiAgICBJZGxlQ2xvc2VkOiBcIklkbGVDbG9zZWRcIixcclxuICAgIFVwc2VsbFNlbGVjdGVkOiBcIlVwc2VsbFNlbGVjdGVkXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50TmFtZXMgPSB7XHJcbiAgICBQYWdlVmlldzogXCJQYWdlVmlld1wiXHJcbn0iLCJpbXBvcnQgeyBDbGlja0V2ZW50TmFtZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5jbGFzcyBDbGlja1V0aWxzQ2xhc3Mge1xyXG4gICAgcHVibGljIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDbGlja1V0aWxzXCIpO1xyXG5cclxuICAgIGdldEV2ZW50TmFtZShjbGlja2VkRWxlbWVudDogSFRNTEVsZW1lbnQpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5PdGhlcjtcclxuICAgICAgICAvLyBjaGVja2luZyBpZiB0aGlzIG9yIGFueSBwYXJlbnQgZWxlbWVudHMgaGF2ZSBhbiBtZzItYWN0aW9uIHByb3AuXHJcbiAgICAgICAgbGV0IGFjdGlvblR5cGUgPSBVdGlscy5nZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyhjbGlja2VkRWxlbWVudCwgXCJkYXRhLW1nMi1hY3Rpb25cIik7XHJcbiAgICAgICAgaWYgKCFhY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgICAgIC8vIG5vIG1nMiBhY3Rpb24gdHlwZSwgY2hlY2sgZm9yIHNvY2lhbFxyXG4gICAgICAgICAgICAvLyBsZXQgc29jaWNhbEFjdGlvblR5cGUgPSBVdGlscy5nZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyhlbCwgXCJkYXRhLW1nMi1hY3Rpb25cIik7XHJcblxyXG4gICAgICAgICAgICAvLyB3ZSBrbm93IHRoYXQgYW55IHNvY2lhbCBhY3Rpb24gbmVlZHMgdG8gdXNlIGFuIDxhPiBhbmQgYmFzZWQgb24gdGVzdHMgbW9zdCBjbGljayBldmVudHMgaGFwcGVuIG9uIHRoZSA8aT4gb3IgPHNwYW4+IGNoaWxkIG9mIHRoZSA8YT5cclxuICAgICAgICAgICAgLy8gc28gd2UnbGwgcHJvcGFnYXRlIHVwIHRoZSB0cmVlIHVudGlsIHdlIGhpdCBhbiA8YT5cclxuICAgICAgICAgICAgbGV0IHBhcmVudEEgPSBVdGlscy5nZXRQYXJlbnREb21CeVRhZ05hbWUoY2xpY2tlZEVsZW1lbnQsIFwiYVwiKTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudEEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJwYXJlbnRBXCIsIHBhcmVudEEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc29jaWFsVHlwZSA9IHRoaXMuY2hlY2tGb3JTb2NpYWxMaW5rcyhwYXJlbnRBKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJzb2NpYWxBY3Rpb25UeXBlXCIsIHNvY2lhbFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNvY2lhbFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgc29jaWFsIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkhBUyBTT0NJQUxcIiwgc29jaWFsVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuU29jaWFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbWFwIHZhbHVlIG9mIGF0dHJiaXV0ZSB0byBuYW1lIG9mIGNkcCBjbGljayBldmVudFxyXG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb2dpblwiOiB7IHJlc3VsdCA9IENsaWNrRXZlbnROYW1lLkxvZ2luOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImFjdGl2YXRpb25cIjogeyByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5BY3RpdmF0ZTsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVnaXN0ZXJcIjogeyByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5SZWdpc3RlcjsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibG9nb3V0XCI6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuTG9nb3V0OyBicmVhazsgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cGdyYWRlXCI6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuVXBncmFkZTsgYnJlYWs7IH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic3Vic2NyaWJlXCI6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuU3Vic2NyaWJlOyBicmVhazsgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGlja1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFV0aWxzLmNoZWNrRm9yTmV3c2xldHRlclNpZ25VcENsaWNrKGNsaWNrZWRFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBDbGlja0V2ZW50TmFtZS5TaWduVXA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHsgcmVzdWx0ID0gQ2xpY2tFdmVudE5hbWUuT3RoZXI7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tGb3JTb2NpYWxMaW5rcyhlbDogYW55KTogYW55IHtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImNoZWNrRm9yU29jaWFsTGlua3NcIiwgXCJlbFwiLCBlbCk7XHJcbiAgICAgICAgbGV0IGNscyA9IGVsLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChjbHMpIHtcclxuICAgICAgICAgICAgaWYgKGNscy5pbmNsdWRlcyhcImZhY2Vib29rXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJGYWNlYm9va1wiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNscy5pbmNsdWRlcyhcInR3aXR0ZXJcIikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlR3aXR0ZXJcIlxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXQgYVRhZyA9IFV0aWxzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKGVsLCBcImFcIik7XHJcbiAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJjaGVja0ZvclNvY2lhbExpbmtzXCIsIFwiYVRhZ1wiLCBhVGFnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENsaWNrVXRpbHMgPSBuZXcgQ2xpY2tVdGlsc0NsYXNzKCk7IiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudHNNYW5hZ2VyIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXJcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IENsaWNrRXZlbnROYW1lIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHNcIjtcclxuaW1wb3J0IHsgQ2xpY2tVdGlscyB9IGZyb20gXCJAVXRpbHMvQ2xpY2tVdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENsaWNrIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIGNsaWNrZWRFbGVtZW50OiBFdmVudFRhcmdldDtcclxuICAgIHNvY2lhbFR5cGUgPSBudWxsO1xyXG4gICAgYWN0aW9uVHlwZTtcclxuXHJcbiAgICBsaXN0ZW4oKSB7XHJcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gXCJjbGlja1wiO1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIGV2ZW50TmFtZSwgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkNsaWNrIEV2ZW50XCIsIGV2ZW50LCBcImUudGFyZ2V0XCIsIGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tlZEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50O1xyXG4gICAgICAgICAgICB0aGlzLnNvY2lhbFR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIG9ubHkgbmVlZGVkIGZvciB0aGUgdGVzdGVyIHBhZ2UsIHNpbmNlIHdlIGRvbid0IHdhbnQgY2VydGFpbiBidXR0b24gY2xpY2tzIHRyaWdnZXJpbmcgQ0RQIGNhbGxzLlxyXG5cclxuICAgICAgICAgICAgaWYgKFV0aWxzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKHRoaXMuY2xpY2tlZEVsZW1lbnQsIFwiZGF0YS1tZzItdGVzdGVyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImlzIHRlc3RlciwgaWdub3JpbmdcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uVHlwZSA9IENsaWNrVXRpbHMuZ2V0RXZlbnROYW1lKHRoaXMuY2xpY2tlZEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLnNvY2lhbFR5cGUgPSB0aGlzLmFjdGlvblR5cGUgPT09IENsaWNrRXZlbnROYW1lLlNvY2lhbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiKioqKioqKiogQ2xpY2sgRXZlbnQgXCIsIFwiYWN0aW9uVHlwZT0+XCIsIHRoaXMuYWN0aW9uVHlwZSwgXCIgZWw9PiBcIiwgdGhpcy5jbGlja2VkRWxlbWVudCk7XHJcbiAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ2xpY2tcIjtcclxuICAgICAgICBsZXQgcGF5bG9hZCA9IHRoaXMuY3JlYXRlRG9tVGFyZ2V0UGF5bG9hZCh0aGlzLmNsaWNrZWRFbGVtZW50KTtcclxuICAgICAgICBpZiAodGhpcy5zb2NpYWxUeXBlKSB7XHJcbiAgICAgICAgICAgIHBheWxvYWRbXCJUYXJnZXRTb2NpYWxOZXR3b3JrXCJdID0gQ2xpY2tVdGlscy5jaGVja0ZvclNvY2lhbExpbmtzKHRoaXMuY2xpY2tlZEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY3Rpb25EYXRhID0gQ29ubmV4dE1vZHVsZS5nZXRBY3Rpb25EYXRhRnJvbUVsZW1lbnQodGhpcy5jbGlja2VkRWxlbWVudCk7XHJcblxyXG4gICAgICAgIGlmIChhY3Rpb25EYXRhKSB7XHJcbiAgICAgICAgICAgIHBheWxvYWRbXCJBY3Rpb25JZFwiXSA9IGFjdGlvbkRhdGFbXCJBY3Rpb25JZFwiXTtcclxuICAgICAgICAgICAgcGF5bG9hZFtcIkFjdGlvbk5hbWVcIl0gPSBhY3Rpb25EYXRhW1wiQWN0aW9uTmFtZVwiXTtcclxuICAgICAgICAgICAgcGF5bG9hZFtcIklzQWN0aW9uQ2xpY2tcIl0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHBheWxvYWQpO1xyXG4gICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgXCJwYXlsb2FkXCIsIHBheWxvYWQpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBVdGlscy50b1RpdGxlQ2FzZSh0aGlzLmFjdGlvblR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRG9tVGFyZ2V0UGF5bG9hZCh0YXJnZXQ6IGFueSk6IGFueSB7XHJcbiAgICAgICAgLy8gbGV0IHBheWxvYWQ6IGFueSA9IHt9O1xyXG4gICAgICAgIGxldCB0YWdOYW1lID0gdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJDbGljayBFdmVudFwiLCBcIlRhZ05hbWVcIiwgdGFnTmFtZSk7XHJcblxyXG4gICAgICAgIGxldCB0YXJnZXRBdHRyaWJ1dGU7XHJcbiAgICAgICAgbGV0IHRhcmdldFZhbHVlO1xyXG4gICAgICAgIGlmICh0YXJnZXQuaWQgJiYgdGFyZ2V0LmlkICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSGFzIElkXCIsIHRhcmdldC5pZCk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiSWRcIjtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQuaWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQubmFtZSAmJiB0YXJnZXQubmFtZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkhhcyBOYW1lXCIsIHRhcmdldC5uYW1lKTtcclxuICAgICAgICAgICAgdGFyZ2V0QXR0cmlidXRlID0gXCJOYW1lXCI7XHJcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGFyZ2V0Lm5hbWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuY2xhc3NOYW1lICYmIHRhcmdldC5jbGFzc05hbWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJIYXMgQ2xhc3NcIiwgdGFyZ2V0LmNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiQ2xhc3NcIjtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQuY2xhc3NOYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRmFsbGJhY2sgTGFiZWxcIiwgdGFyZ2V0LmlubmVyVGV4dCk7XHJcbiAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwiTGFiZWxcIjtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQudGV4dENvbnRlbnQgfHwgdGFyZ2V0LmlubmVyVGV4dDtcclxuICAgICAgICAgICAgc3dpdGNoICh0YWdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW1nXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXVkaW9cIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEF0dHJpYnV0ZSA9IFwic3JjXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGFnTmFtZSA9PT0gXCJodG1sXCIpIHtcclxuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSBcImh0bWxcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBcIlRhcmdldFR5cGVcIjogdGFnTmFtZSxcclxuICAgICAgICAgICAgXCJUYXJnZXRBdHRyaWJ1dGVcIjogdGFyZ2V0QXR0cmlidXRlLFxyXG4gICAgICAgICAgICBcIlRhcmdldFZhbHVlXCI6IHRhcmdldFZhbHVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcclxuICAgIH1cclxuXHJcbiAgICB1c2VJbkNhbGN1bGF0ZUZpcnN0VmlzaXRNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDbGljaztcclxuICAgIH1cclxufSIsImltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5pbXBvcnQgeyBQYWdlTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VNb2RlbCB7XHJcbiAgICBLZXl3b3Jkcz86IHN0cmluZztcclxuICAgIFRpdGxlPzogc3RyaW5nO1xyXG4gICAgVXJsPzogc3RyaW5nO1xyXG4gICAgU2VjdGlvbj86IHN0cmluZztcclxuICAgIEF1dGhvcj86IHN0cmluZztcclxuICAgIFRhZ3M/OiBzdHJpbmc7XHJcbiAgICBDb250ZW50SWQ/OiBzdHJpbmc7XHJcbiAgICBQdWJsaXNoRGF0ZT86IHN0cmluZztcclxuICAgIENvbnRlbnRUeXBlPzogc3RyaW5nO1xyXG4gICAgUmVjb21tZW5kZWQ/OiBhbnk7XHJcblxyXG4gICAgLypAZGF0YSAtIEV2ZW50RGF0YSovXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RHluYW1pY1Byb3BlcnR5KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuS2V5d29yZHMgPSBkYXRhLktleXdvcmRzICYmIEFycmF5LmlzQXJyYXkoIGRhdGEuS2V5d29yZHMpID8gZGF0YS5LZXl3b3Jkcy5qb2luKFwiLFwiKTogZGF0YS5LZXl3b3JkcztcclxuICAgICAgICB0aGlzLlRpdGxlID0gZGF0YS5UaXRsZTtcclxuICAgICAgICB0aGlzLlVybCA9IGRhdGEuVXJsO1xyXG4gICAgICAgIHRoaXMuU2VjdGlvbiA9IGRhdGEuU2VjdGlvbjtcclxuICAgICAgICB0aGlzLkF1dGhvciA9IGRhdGEuQXV0aG9yO1xyXG4gICAgICAgIHRoaXMuVGFncyA9IGRhdGEuVGFncyAmJiBBcnJheS5pc0FycmF5KCBkYXRhLlRhZ3MpID8gZGF0YS5UYWdzLmpvaW4oXCIsXCIpOiBkYXRhLlRhZ3M7O1xyXG4gICAgICAgIHRoaXMuQ29udGVudElkID0gZGF0YS5Db250ZW50SWQ7XHJcbiAgICAgICAgdGhpcy5QdWJsaXNoRGF0ZSA9IERhdGVVdGlsLmdldElTT0Zvcm1hdChkYXRhLlB1Ymxpc2hEYXRlKTtcclxuICAgICAgICB0aGlzLkNvbnRlbnRUeXBlID0gZGF0YS5Db250ZW50VHlwZTtcclxuICAgICAgICB0aGlzLlJlY29tbWVuZGVkID0gZGF0YS5SZWNvbW1lbmRlZDtcclxuXHJcbiAgICAgICAgdGhpcy5zZXREeW5hbWljUHJvcGVydHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREeW5hbWljUHJvcGVydHkoKSB7XHJcbiAgICAgICAgY29uc3QgZHluYW1pY0RpbWVuc2lvbnM6IGFueSA9IERpbWVuc2lvbnNNb2R1bGUuZ2V0RHluYW1pY0RpbWVuc2lvbnMoKVxyXG4gICAgICAgIHRoaXMuZXh0ZW5kQ3VycmVudE1vZGVsKGR5bmFtaWNEaW1lbnNpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBleHRlbmRDdXJyZW50TW9kZWwoZGF0YU1vZGVsOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGFNb2RlbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBkYXRhTW9kZWwpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0gZGF0YU1vZGVsW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VNb2RlbCB7XHJcbiAgICBCcm93c2VyOiBzdHJpbmc7XHJcbiAgICBUeXBlOiBzdHJpbmc7XHJcbiAgICBPUzogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJNZXRhID0gRGV2aWNlRGV0ZWN0b3IuZ2V0TWV0YURhdGEoKTtcclxuXHJcbiAgICAgICAgdGhpcy5Ccm93c2VyID0gdXNlck1ldGEuQnJvd3NlcjtcclxuICAgICAgICB0aGlzLlR5cGUgPSB1c2VyTWV0YS5EZXZpY2VUeXBlO1xyXG4gICAgICAgIHRoaXMuT1MgPSB1c2VyTWV0YS5PUztcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBMb2NhdGlvbk1vZGVsIHtcclxuICAgIENpdHk/OiBzdHJpbmc7XHJcbiAgICBDb250aW5lbnRDb2RlPzogc3RyaW5nO1xyXG4gICAgQ291bnRyeUNvZGU/OiBzdHJpbmc7XHJcbiAgICBMYXQ6IG51bWJlcjtcclxuICAgIExvbmc6IG51bWJlcjtcclxuICAgIFN0YXRlPzogc3RyaW5nO1xyXG4gICAgWmlwPzogc3RyaW5nIHwgbnVtYmVyO1xyXG4gICAgSXBBZGRyZXNzPzogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLkNpdHkgPSBkYXRhLkNpdHk7XHJcbiAgICAgICAgdGhpcy5Db250aW5lbnRDb2RlID0gZGF0YS5Db250aW5lbnRDb2RlO1xyXG4gICAgICAgIHRoaXMuQ291bnRyeUNvZGUgPSBkYXRhLkNvdW50cnlDb2RlO1xyXG4gICAgICAgIHRoaXMuTGF0ID0gZGF0YS5MYXQ7XHJcbiAgICAgICAgdGhpcy5Mb25nID0gZGF0YS5Mb25nO1xyXG4gICAgICAgIHRoaXMuU3RhdGUgPSBkYXRhLlN0YXRlO1xyXG4gICAgICAgIHRoaXMuWmlwID0gZGF0YS5aaXA7XHJcbiAgICAgICAgdGhpcy5JcEFkZHJlc3MgPSBkYXRhLklwQWRkcmVzcztcclxuICAgIH1cclxufSIsImltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dFVzZXJNb2RlbCB7XHJcbiAgICBJZDogc3RyaW5nID0gdGhpcy5nZXRDb25uZXh0VXNlcklkKCk7XHJcbiAgICBTdGF0dXM6IHN0cmluZyA9IHRoaXMuZ2V0Q29ubmV4dFVzZXJTdGF0dXMoKTtcclxuICAgIEVSOiBudW1iZXIgPSBDZHBNb2R1bGUuZ2V0RXJDb2RlKCk7XHJcbiAgICBFUlA6IGFueSA9IENkcE1vZHVsZS5nZXRFcnBDb2RlKCk7XHJcbiAgICBDUjogbnVtYmVyID0gQ2RwTW9kdWxlLmdldENyQ29kZSgpO1xyXG4gICAgQ1JQOiBhbnkgPSBDZHBNb2R1bGUuZ2V0Q3JwQ29kZSgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuSWQgPSB0aGlzLmdldENvbm5leHRVc2VySWQoKTtcclxuICAgICAgICB0aGlzLlN0YXR1cyA9IHRoaXMuZ2V0Q29ubmV4dFVzZXJTdGF0dXMoKTtcclxuICAgICAgICB0aGlzLkVSID0gQ2RwTW9kdWxlLmdldEVyQ29kZSgpO1xyXG4gICAgICAgIHRoaXMuRVJQID0gQ2RwTW9kdWxlLmdldEVycENvZGUoKTtcclxuICAgICAgICB0aGlzLkNSID0gQ2RwTW9kdWxlLmdldENyQ29kZSgpO1xyXG4gICAgICAgIHRoaXMuQ1JQID0gQ2RwTW9kdWxlLmdldENycENvZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb25uZXh0VXNlclN0YXR1cygpIHtcclxuICAgICAgICBpZiAod2luZG93LkNublh0ICYmIHdpbmRvdy5Dbm5YdC5Vc2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuQ25uWHQuVXNlci5nZXRVc2VyU3RhdGUoKSB8fCBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAod2luZG93LkNvbm5leHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5Db25uZXh0LlN0b3JhZ2UuR2V0VXNlclN0YXRlKCkgfHwgXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29ubmV4dFVzZXJJZCgpIHtcclxuICAgICAgICBpZiAod2luZG93LkNublh0ICYmIHdpbmRvdy5Dbm5YdC5Vc2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuQ25uWHQuVXNlci5nZXRNYXN0ZXJJZCgpIHx8IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAod2luZG93LkNvbm5leHQpIHtcclxuICAgICAgICAgICAgbGV0IHVzZXJEYXRhID0gd2luZG93LkNvbm5leHQuU3RvcmFnZS5HZXRVc2VyRGF0YSgpO1xyXG4gICAgICAgICAgICBpZiAodXNlckRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRGF0YS5NYXN0ZXJJZCB8fCBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduTW9kZWwge1xyXG4gICAgSWQ6IG51bWJlcjtcclxuICAgIE1ldGVyTGV2ZWw6IGFueTtcclxuICAgIENvbnZlcnNhdGlvbklkOiBhbnk7XHJcbiAgICBDb252ZXJzYXRpb25OYW1lOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29ubmV4dEV2ZW50RGF0YSkge1xyXG4gICAgICAgIHRoaXMuSWQgPSBjb25uZXh0RXZlbnREYXRhLkNhbXBhaWduSWQ7XHJcbiAgICAgICAgdGhpcy5NZXRlckxldmVsID0gY29ubmV4dEV2ZW50RGF0YS5NZXRlckxldmVsO1xyXG4gICAgICAgIHRoaXMuQ29udmVyc2F0aW9uSWQgPSB0aGlzLmdldENvbnZlcnNhdGlvbklkKGNvbm5leHRFdmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuQ29udmVyc2F0aW9uTmFtZSA9IHRoaXMuZ2V0Q29udmVyc2F0aW9uTmFtZShjb25uZXh0RXZlbnREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnZlcnNhdGlvbklkKGNvbm5leHRFdmVudERhdGEpOiBzdHJpbmd7XHJcbiAgICAgICAgaWYoY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24gJiYgY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24uSWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gY29ubmV4dEV2ZW50RGF0YS5Db252ZXJzYXRpb24uSWQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgaWYoc3RvcmFnZUNvbnZlcnNhdGlvbil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmFnZUNvbnZlcnNhdGlvbi5JZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENvbnZlcnNhdGlvbk5hbWUoY29ubmV4dEV2ZW50RGF0YSk6IHN0cmluZ3tcclxuICAgICAgICBpZihjb25uZXh0RXZlbnREYXRhLkNvbnZlcnNhdGlvbiAmJiBjb25uZXh0RXZlbnREYXRhLkNvbnZlcnNhdGlvbi5OYW1lKXtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbm5leHRFdmVudERhdGEuQ29udmVyc2F0aW9uLk5hbWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VDb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKTtcclxuICAgICAgICAgICAgaWYoc3RvcmFnZUNvbnZlcnNhdGlvbil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmFnZUNvbnZlcnNhdGlvbi5OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgRGlnaXRhbEFjY2Vzc01vZGVsIHtcclxuICAgIC8vIEFjY2Vzc0xldmVsOiBBY2Nlc3NMZXZlbE1vZGVsO1xyXG4gICAgLy8gRUVkaXRpb25Vcmw6IHN0cmluZztcclxuICAgIC8vIEVycm9yczogYW55O1xyXG4gICAgLy8gSXNBdXRob3JpemVkOiBib29sZWFuO1xyXG4gICAgU3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb25QdWJsaWNNb2RlbDtcclxuICAgIC8vIFN1Y2Nlc3M6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgZGF0YSA9IGRhdGE/Lk1HMkFjY291bnREYXRhPy5EaWdpdGFsQWNjZXNzO1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIC8vIHRoaXMuQWNjZXNzTGV2ZWwgPSBuZXcgQWNjZXNzTGV2ZWxNb2RlbChkYXRhLkFjY2Vzc0xldmVsKTtcclxuICAgICAgICAvLyB0aGlzLkVFZGl0aW9uVXJsID0gZGF0YS5FRWRpdGlvblVybDtcclxuICAgICAgICAvLyB0aGlzLkVycm9ycyA9IGRhdGEuRXJyb3JzO1xyXG4gICAgICAgIC8vIHRoaXMuSXNBdXRob3JpemVkID0gZGF0YS5Jc0F1dGhvcml6ZWQ7XHJcbiAgICAgICAgdGhpcy5TdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uUHVibGljTW9kZWwoZGF0YS5TdWJzY3JpcHRpb24pO1xyXG4gICAgICAgIC8vIHRoaXMuU3VjY2VzcyA9IGRhdGEuU3VjY2VzcztcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQWNjZXNzTGV2ZWxNb2RlbCB7XHJcbiAgICBJc1ByZW1pdW06IGJvb2xlYW47XHJcbiAgICBJc1B1cmNoYXNlOiBib29sZWFuO1xyXG4gICAgSXNVcGdyYWRlOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuSXNQcmVtaXVtID0gZGF0YS5Jc1ByZW1pdW07XHJcbiAgICAgICAgdGhpcy5Jc1B1cmNoYXNlID0gZGF0YS5Jc1B1cmNoYXNlO1xyXG4gICAgICAgIHRoaXMuSXNVcGdyYWRlID0gZGF0YS5Jc1VwZ3JhZGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFN1YnNjcmlwdGlvblB1YmxpY01vZGVsIHtcclxuICAgIFN1YnNjcmlwdGlvbklkOiBhbnk7XHJcbiAgICBBY2NvdW50TnVtYmVyOiBhbnk7XHJcbiAgICAvLyBQYXBlckNvZGU6IGFueTtcclxuICAgIC8vIEhvdXNlSG9sZFN1YnNjcmlwdGlvbkxldmVsOiBudW1iZXI7XHJcbiAgICAvLyBGaXJzdE5hbWU6IHN0cmluZztcclxuICAgIC8vIExhc3ROYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5TdWJzY3JpcHRpb25JZCA9IGRhdGEuU3Vic2NyaXB0aW9uSWQ7XHJcbiAgICAgICAgdGhpcy5BY2NvdW50TnVtYmVyID0gZGF0YS5BY2NvdW50TnVtYmVyO1xyXG4gICAgICAgIC8vIHRoaXMuUGFwZXJDb2RlID0gZGF0YS5QYXBlckNvZGU7XHJcbiAgICAgICAgLy8gdGhpcy5Ib3VzZUhvbGRTdWJzY3JpcHRpb25MZXZlbCA9IGRhdGEuSG91c2VIb2xkU3Vic2NyaXB0aW9uTGV2ZWw7XHJcbiAgICAgICAgLy8gdGhpcy5GaXJzdE5hbWUgPSBkYXRhLkZpcnN0TmFtZTtcclxuICAgICAgICAvLyB0aGlzLkxhc3ROYW1lID0gZGF0YS5MYXN0TmFtZTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBhZ2VNb2RlbCB9IGZyb20gXCIuL1BhZ2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2RlbCB9IGZyb20gXCIuL0RldmljZU1vZGVsXCI7XHJcbmltcG9ydCB7IExvY2F0aW9uTW9kZWwgfSBmcm9tIFwiLi9Mb2NhdGlvbk1vZGVsXCI7XHJcbmltcG9ydCB7IENvbm5leHRVc2VyTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9tb2RlbHMvQ29ubmV4dFVzZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnbk1vZGVsIH0gZnJvbSBcIi4vQ2FtcGFpZ25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZVwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgRGlnaXRhbEFjY2Vzc01vZGVsIH0gZnJvbSBcIi4vRGlnaXRhbEFjY2Vzc01vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsIHtcclxuICAgIExvY2F0aW9uOiBMb2NhdGlvbk1vZGVsO1xyXG4gICAgRGV2aWNlOiBEZXZpY2VNb2RlbDtcclxuICAgIERldmljZUJyb3dzZXJVc2VyQWdlbnQ6IHN0cmluZztcclxuICAgIFBhZ2U6IFBhZ2VNb2RlbDtcclxuICAgIFVzZXI6IENvbm5leHRVc2VyTW9kZWw7XHJcbiAgICBDYW1wYWlnbjogQ2FtcGFpZ25Nb2RlbDtcclxuICAgIExvYWRlclZlcnNpb25JbmZvOiBzdHJpbmc7XHJcbiAgICBGaW5nZXJwcmludFZlcnNpb25JbmZvOiBzdHJpbmc7XHJcbiAgICBEZW1vTW9kZTogYm9vbGVhbjtcclxuICAgIEVuY3J5cHRlZEVtYWlsOiBzdHJpbmc7XHJcbiAgICBEaWdpdGFsQWNjZXNzOiBPYmplY3Q7XHJcbiAgICBNaXNjPzogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICBjb25zdCBldmVudERhdGEgPSBkYXRhLkV2ZW50RGF0YSA/IGRhdGEuRXZlbnREYXRhIDoge307XHJcbiAgICAgICAgdGhpcy5Mb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKGV2ZW50RGF0YS5Mb2NhdGlvbik7XHJcbiAgICAgICAgdGhpcy5EZXZpY2UgPSBuZXcgRGV2aWNlTW9kZWwoKTtcclxuICAgICAgICB0aGlzLkRldmljZUJyb3dzZXJVc2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgICAgIHRoaXMuUGFnZSA9IG5ldyBQYWdlTW9kZWwoRGltZW5zaW9uc01vZHVsZS5nZXREaW1lbnNpb25zKCkpO1xyXG4gICAgICAgIHRoaXMuVXNlciA9IG5ldyBDb25uZXh0VXNlck1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5DYW1wYWlnbiA9IG5ldyBDYW1wYWlnbk1vZGVsKGRhdGEpO1xyXG4gICAgICAgIHRoaXMuTG9hZGVyVmVyc2lvbkluZm8gPSBVdGlscy5nZXRMb2FkZXJWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuRmluZ2VycHJpbnRWZXJzaW9uSW5mbyA9IFV0aWxzLmdldEZpbmdlcnByaW50VmVyc2lvbkluZm8oKTtcclxuICAgICAgICB0aGlzLkRlbW9Nb2RlID0gVXRpbHMuZ2V0RGVtb01vZGUoKTtcclxuICAgICAgICB0aGlzLkVuY3J5cHRlZEVtYWlsID0gZXZlbnREYXRhLkVuY3J5cHRlZEVtYWlsIHx8IFwiXCI7XHJcbiAgICAgICAgdGhpcy5EaWdpdGFsQWNjZXNzID0gVXRpbHMuZmxhdE9iamVjdChuZXcgRGlnaXRhbEFjY2Vzc01vZGVsKGRhdGEpKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBNSVNDX1RZUEVTID0ge1xyXG4gICAgUHJvbWlzZTogXCJwcm9taXNlXCIsXHJcbiAgICBTZWxlY3RvcjogXCJzZWxlY3RvclwiLFxyXG4gICAgSmF2YXNjcmlwdDogXCJqYXZhc2NyaXB0XCIsXHJcbiAgICBDb21tYW5kOiBcImNvbW1hbmRcIlxyXG59O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNaXNjT3B0aW9uc0ludGVyZmFjZSB7XHJcbiAgICB0eXBlOiBzdHJpbmc7XHJcbiAgICBrZXk6IHN0cmluZztcclxuICAgIHZhbHVlOiBhbnk7XHJcbiAgICBlbmFibGVHQT86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgQ09NTUFORF9UWVBFUyA9IHtcclxuICAgIEdFVF9DT09LSUVfQllfTkFNRTogXCJnZXRfY29va2llX2J5X25hbWVcIlxyXG59OyIsImltcG9ydCB7IE1pc2NPcHRpb25zSW50ZXJmYWNlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9vcHRpb25zL21vZGVscy9NaXNjT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNaXNjTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9NaXNjTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCB9IGZyb20gXCIuL0NhbGN1bGF0aW9uUmVzdWx0TW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9taXNlTW9kZWwgaW1wbGVtZW50cyBNaXNjTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgTWlzY0tleTogc3RyaW5nO1xyXG4gICAgUHJvbWlzZU5hbWU6IHN0cmluZztcclxuICAgIEVuYWJsZUdBOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IE1pc2NPcHRpb25zSW50ZXJmYWNlKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuTWlzY0tleSA9IGRhdGEua2V5O1xyXG4gICAgICAgIHRoaXMuUHJvbWlzZU5hbWUgPSBkYXRhLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCk6IFByb21pc2U8Q2FsY3VsYXRpb25SZXN1bHRNb2RlbD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gd2luZG93W3RoaXMuUHJvbWlzZU5hbWVdIGFzIFByb21pc2U8YW55PjtcclxuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbigodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCh0aGlzLk1pc2NLZXksIHZhbHVlLCB0aGlzLkVuYWJsZUdBKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdG9yTW9kZWwgaW1wbGVtZW50cyBNaXNjTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgTWlzY0tleTogc3RyaW5nO1xyXG4gICAgU2VsZWN0b3I6IHN0cmluZztcclxuICAgIEF0dHJpYnV0ZTogc3RyaW5nO1xyXG4gICAgRW5hYmxlR0E6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogTWlzY09wdGlvbnNJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5NaXNjS2V5ID0gZGF0YS5rZXk7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkVmFsdWUgPSBkYXRhLnZhbHVlIGFzIHsgc2VsOiBzdHJpbmcsIGF0dHI/OiBzdHJpbmcgfTtcclxuICAgICAgICB0aGlzLlNlbGVjdG9yID0gcGFyc2VkVmFsdWUuc2VsO1xyXG4gICAgICAgIHRoaXMuQXR0cmlidXRlID0gcGFyc2VkVmFsdWUuYXR0cjtcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCk6IFByb21pc2U8Q2FsY3VsYXRpb25SZXN1bHRNb2RlbD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLlNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5BdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKHRoaXMuQXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IENhbGN1bGF0aW9uUmVzdWx0TW9kZWwodGhpcy5NaXNjS2V5LCB2YWx1ZSwgdGhpcy5FbmFibGVHQSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9Db21tYW5kTW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ29va2llIH0gZnJvbSBcIkBVdGlscy9jb29raWUvQ29va2llXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29va2llR2V0dGVyTW9kZWwgaW1wbGVtZW50cyBDb21tYW5kTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgcHJpdmF0ZSBjb29raWVOYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29va2llTmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5jb29raWVOYW1lID0gY29va2llTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQ29va2llLmdldCh0aGlzLmNvb2tpZU5hbWUpIHx8IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UsIENPTU1BTkRfVFlQRVMgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5pbXBvcnQgeyBDb21tYW5kTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9jb21tYW5kTW9kZWxzL0NvbW1hbmRNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDb29raWVHZXR0ZXJNb2RlbCB9IGZyb20gXCIuL2NvbW1hbmRNb2RlbHMvQ29va2llR2V0dGVyTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kTW9kZWwgaW1wbGVtZW50cyBNaXNjTW9kZWxJbnRlcmZhY2Uge1xyXG4gICAgTWlzY0tleTogc3RyaW5nO1xyXG4gICAgRW5hYmxlR0E6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGV4ZWN1dGluZ01vZGVsOiBDb21tYW5kTW9kZWxJbnRlcmZhY2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogTWlzY09wdGlvbnNJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcclxuICAgICAgICB0aGlzLk1pc2NLZXkgPSBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgICAgICB0aGlzLnNldHVwKGRhdGEudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dXAodmFsdWU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gdmFsdWUgYXMgeyBuYW1lOiBzdHJpbmcsIGFyZ3M/OiBhbnkgfTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChwYXJzZWRWYWx1ZS5uYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ09NTUFORF9UWVBFUy5HRVRfQ09PS0lFX0JZX05BTUU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGluZ01vZGVsID0gbmV3IENvb2tpZUdldHRlck1vZGVsKHBhcnNlZFZhbHVlLmFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKTogUHJvbWlzZTxDYWxjdWxhdGlvblJlc3VsdE1vZGVsPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmV4ZWN1dGluZ01vZGVsKSByZWplY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGluZ01vZGVsLmV4ZWN1dGUoKS50aGVuKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCh0aGlzLk1pc2NLZXksIHZhbHVlLCB0aGlzLkVuYWJsZUdBKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UsIE1JU0NfVFlQRVMgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEphdmFzY3JpcHRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9KYXZhc2NyaXB0TW9kZWxcIjtcclxuaW1wb3J0IHsgUHJvbWlzZU1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL1Byb21pc2VNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZWxlY3Rvck1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL1NlbGVjdG9yTW9kZWxcIjtcclxuaW1wb3J0IHsgQ29tbWFuZE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL0NvbW1hbmRNb2RlbFwiO1xyXG5pbXBvcnQgeyBNaXNjTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9tb2RlbHMvTWlzY01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0luZGV4XCI7XHJcblxyXG5jbGFzcyBNaXNjTW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBtb2RlbHM6IE1pc2NNb2RlbEludGVyZmFjZVtdID0gW107XHJcbiAgICBwcml2YXRlIHJlc3VsdDogb2JqZWN0ID0ge307XHJcblxyXG4gICAgcHJvY2VzcyhvcHRpb25zOiBNaXNjT3B0aW9uc0ludGVyZmFjZVtdID0gW10pIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnM/Lmxlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubW9kZWxzID0gW107XHJcbiAgICAgICAgdGhpcy5yZXN1bHQgPSB7fTtcclxuICAgICAgICB0aGlzLnNldHVwKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc3RhcnRDb2xsZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YSgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHVwKG9wdGlvbnM6IE1pc2NPcHRpb25zSW50ZXJmYWNlW10pIHtcclxuICAgICAgICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbW9kZWw6IE1pc2NNb2RlbEludGVyZmFjZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3B0aW9uLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTUlTQ19UWVBFUy5KYXZhc2NyaXB0OlxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbmV3IEphdmFzY3JpcHRNb2RlbChvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNSVNDX1RZUEVTLlByb21pc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgUHJvbWlzZU1vZGVsKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1JU0NfVFlQRVMuU2VsZWN0b3I6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgU2VsZWN0b3JNb2RlbChvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNSVNDX1RZUEVTLkNvbW1hbmQ6XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgQ29tbWFuZE1vZGVsKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVscy5wdXNoKG1vZGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRDb2xsZWN0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubW9kZWxzLmZvckVhY2goKG1vZGVsOiBNaXNjTW9kZWxJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgbW9kZWwuZ2V0RGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGRhdGEudmFsdWUgPT09IFwib2JqZWN0XCIgPyBKU09OLnN0cmluZ2lmeShkYXRhLnZhbHVlKSA6IFN0cmluZyhkYXRhLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0W2RhdGEubWlzY0tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lbmFibGVHQSAmJiBkYXRhLnZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKGRhdGEubWlzY0tleSwgZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4ge30pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTWlzY01vZHVsZSA9IG5ldyBNaXNjTW9kdWxlQ2xhc3MoKTsiLCJpbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IEZpcnN0VmlzaXRQcm9wZXJ0aWVzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9GaXJzdFZpc2l0UHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBDb25uZXh0UGFnZVZpZXdEYXRhTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3BhZ2VWaWV3L0Nvbm5leHRQYWdlVmlld0RhdGFNb2RlbFwiO1xyXG5pbXBvcnQgeyBFdmVudE5hbWVzIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHNcIjtcclxuaW1wb3J0IHsgVGFnTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuaW1wb3J0IHsgTWlzY01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9taXNjTW9kdWxlL01pc2NNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0UGFnZVZpZXcgZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uRmluaXNoXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gRXZlbnROYW1lcy5QYWdlVmlldztcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gRXZlbnROYW1lcy5QYWdlVmlldztcclxuICAgICAgICBDb25maWdNb2R1bGUuc2V0TGF5b3V0Q29kZSh0aGlzLmV2ZW50TW9kZWwuU2l0ZUNvZGUpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSBuZXcgQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgIGV2ZW50RGF0YSA9IHRoaXMuYWRkTWlzY0luZm8oZXZlbnREYXRhKTtcclxuICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJlbWFpbGhhc2hcIiwgIGV2ZW50RGF0YS5FbmNyeXB0ZWRFbWFpbCk7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZE1pc2NJbmZvKGV2ZW50RGF0YTogQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsKTogQ29ubmV4dFBhZ2VWaWV3RGF0YU1vZGVsIHtcclxuICAgICAgICBldmVudERhdGEuTWlzYyA9IE1pc2NNb2R1bGUuZ2V0RGF0YSgpO1xyXG4gICAgICAgIHJldHVybiBldmVudERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50UGFnZXZpZXc7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlYXRlQWNjb3VudCBleHRlbmRzIENvbm5leHRFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZXMgPSBbXCJvbkFjdGl2YXRpb25BY2NvdW50Q3JlYXRlZFwiLCBcIm9uUmVnaXN0cmF0aW9uU3VjY2Vzc1JlZ2lzdGVyXCJdO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ3JlYXRlQWNjb3VudFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkNyZWF0ZUFjY291bnRcIjtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHt9O1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50Q3JlYXRlQWNjb3VudEV2ZW50cztcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0RXZlbnRcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN0cmxDIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJjb3B5XCI7XHJcblxyXG4gICAgbGlzdGVuKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiYWRkRXZlbnRMaXN0ZW5lci4uLlwiLCB0aGlzLm9yaWdpbmFsRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSwgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZ1wiLCB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luYWxFdmVudERhdGEgPSBlO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ3RybENcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJDdHJsQ1wiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkxvZ2luU3VjY2Vzc1wiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiTG9naW5cIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJMb2dpblwiO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7fTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IEVtYWlsUHJlZmVyZW5jZUludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0VtYWlsUHJlZmVyZW5jZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDb25uZXh0RXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEV2ZW50XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5ld3NsZXR0ZXJBcnJpdmFsIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbk5ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJOZXdzbGV0dGVyQXJyaXZhbFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIk5ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgRW1haWw6IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhLkVtYWlsLFxyXG4gICAgICAgICAgICBFbmNyeXB0ZWRFbWFpbDogdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGEuRW5jcnlwdGVkRW1haWxcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcImVtYWlsaGFzaFwiLCAgZXZlbnREYXRhLkVuY3J5cHRlZEVtYWlsKTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgICAgIHRoaXMuZmlsbEV2ZW50RGF0YUJ5UHJlZmVyZW5jZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxFdmVudERhdGFCeVByZWZlcmVuY2VzKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgIGlmIChldmVudERhdGEgJiYgQXJyYXkuaXNBcnJheShldmVudERhdGEuRW1haWxQcmVmZXJlbmNlcykpIHtcclxuXHJcbiAgICAgICAgICAgIGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzLmZvckVhY2goKGVtYWlsUHJlZmVyZW5jZTogRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50RGF0YS5wdXNoKHtcIktleVwiOiBcIkVtYWlsUHJlZmVyZW5jZXNcIiwgXCJWYWx1ZVwiOiBVdGlscy5vYmplY3RUb0JpZ1F1ZXJ5U3RyaW5nKGVtYWlsUHJlZmVyZW5jZSl9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvRW1haWxQcmVmZXJlbmNlSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE5ld3NsZXR0ZXJTaWdudXBFdmVudERhdGFJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9OZXdzbGV0dGVyU2lnbnVwRXZlbnREYXRhSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0RXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOZXdzbGV0dGVyU2lnbnVwIGV4dGVuZHMgQ29ubmV4dEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbk5ld3NsZXR0ZXJTaWduVXBcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIk5ld3NsZXR0ZXJTaWdudXBcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJOZXdzbGV0dGVyU2lnbnVwXCI7XHJcbiAgICAgICAgdGhpcy5maWxsRXZlbnREYXRhQnlQcmVmZXJlbmNlcygpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGZpbGxFdmVudERhdGFCeVByZWZlcmVuY2VzKCk6IGFueSB7XHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YTogTmV3c2xldHRlclNpZ251cEV2ZW50RGF0YUludGVyZmFjZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goe1wiS2V5XCI6IFwiRW1haWxcIiwgXCJWYWx1ZVwiOiBldmVudERhdGEuRW1haWx9KTtcclxuICAgICAgICBpZiAoZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZXMpIHtcclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudERhdGEuRW1haWxQcmVmZXJlbmNlcy5mb3JFYWNoKChlbWFpbFByZWZlcmVuY2U6IEVtYWlsUHJlZmVyZW5jZUludGVyZmFjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudERhdGEucHVzaCh7XCJLZXlcIjogXCJFbWFpbFByZWZlcmVuY2VzXCIsIFwiVmFsdWVcIjogVXRpbHMub2JqZWN0VG9CaWdRdWVyeVN0cmluZyhlbWFpbFByZWZlcmVuY2UpfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbGxFdmVudE1vZGVsTnh0VjFfNyhldmVudERhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxFdmVudE1vZGVsTnh0VjFfNyhldmVudERhdGEpOiBhbnkge1xyXG4gICAgICAgIGxldCBzZW5kRXZlbnREYXRhID0ge307XHJcbiAgICAgICAgaWYgKGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VJZCkge1xyXG4gICAgICAgICAgICAgc2VuZEV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VJZDogZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZUlkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoc2VuZEV2ZW50RGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRNb2RlbDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbm5leHRFdmVudCB9IGZyb20gXCIuLy4uL0Nvbm5leHRFdmVudFwiO1xyXG5pbXBvcnQgeyBBY3Rpb25UeXBlRGljdCwgQWN0aW9uVHlwZXMgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvQWN0aW9uTW9kZWxzXCI7XHJcbmltcG9ydCB7IENvbm5leHRBY3Rpb25Nb2RlbEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0Nvbm5leHRBY3Rpb25Nb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvQ2RwRXZlbnRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlY29tbWVuZGF0aW9uU2hvd24gZXh0ZW5kcyBDb25uZXh0RXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aW9uU2hvd25cIjtcclxuXHJcbiAgICBnZXRFdmVudE1vZGVsKCk6IENkcEV2ZW50TW9kZWwge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbCA9IHN1cGVyLmdldEV2ZW50TW9kZWwoKTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJSZWNvbW1lbmRhdGlvbkRvbmVcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJSZWNvbW1lbmRhdGlvblNob3duXCI7XHJcbiAgICAgICAgbGV0IGFjdGlvblNob3dFdmVudERhdGE6IENvbm5leHRBY3Rpb25Nb2RlbEludGVyZmFjZSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuRXZlbnREYXRhO1xyXG4gICAgICAgIGNvbnN0IGFjdGlvblR5cGUgPSBhY3Rpb25TaG93RXZlbnREYXRhLkFjdGlvblR5cGUgfHwgQWN0aW9uVHlwZURpY3RbdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGEuQWN0aW9uVHlwZUlkXTtcclxuICAgICAgICBpZiAoYWN0aW9uVHlwZSA9PT0gQWN0aW9uVHlwZXMuSW5zaWdodHNSZWNvbW1lbmRhdGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBBcnRpY2xlc1JlY29tbWVuZGVkOiB0aGlzLmdldEFydGljbGVzUmVjb21tZW5kZWQoKSxcclxuICAgICAgICAgICAgICAgIFJlY29tbWVuZGF0aW9uSWQgOiB0aGlzLmdldFJlY29tbWVuZGF0aW9uSWQoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZS5zZXRETFYoXCJyZWNvbW1lbmRhdGlvblNob3duXCIsIGV2ZW50RGF0YS5SZWNvbW1lbmRhdGlvbklkKTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRNb2RlbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXQgaXMgcHJlZmVyYWJsZSB0byBhZGQgYSBjaGVjayBmb3IgZXhpc3RlbmNlIGluIG9uZSAuTWcyLWNvbm5leHQgdGVtcGxhdGVcclxuICAgIHByaXZhdGUgZ2V0QXJ0aWNsZXNSZWNvbW1lbmRlZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHVybHMgPSB0aGlzLmdldFVybHMoKTtcclxuICAgICAgICBjb25zdCBodG1sID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImh0bWxcIik7XHJcbiAgICAgICAgbGV0IGV4aXN0aW5nQXJ0aWNsZXMgPSBbXTtcclxuICAgICAgICB1cmxzLmZvckVhY2goKHVybDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChodG1sLmlubmVySFRNTC5pbmRleE9mKHVybCkgIT09IC0xICYmIGluZGV4ID09PSBleGlzdGluZ0FydGljbGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXJ0aWNsZUlkID0gdGhpcy5nZXRBcnRpY2xlSWQodXJsKTtcclxuICAgICAgICAgICAgICAgIGlmIChhcnRpY2xlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0FydGljbGVzLnB1c2goYXJ0aWNsZUlkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ0FydGljbGVzLmpvaW4oXCIsXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UmVjb21tZW5kYXRpb25JZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHVybHMgPSB0aGlzLmdldFVybHMoKTtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICBpZiAodXJscy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gVXRpbHMuZ2V0UmVjb21tZW5kYXRpb25JZCh1cmxzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFVybHMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB3aW5kb3dbXCJnMmlfZGxfcmVjb21tZW5kYXRpb25zXCJdO1xyXG4gICAgICAgIHJldHVybiAoZGF0YT8ucmVjb21tZW5kYXRpb25zIHx8IFtdKS5tYXAoKHI6IHsgdXJsOiBzdHJpbmc7IH0pID0+IHIudXJsKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEFydGljbGVJZCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHdpbmRvd1tcImcyaV9kbF9yZWNvbW1lbmRhdGlvbnNcIl07XHJcbiAgICAgICAgcmV0dXJuIChkYXRhPy5yZWNvbW1lbmRhdGlvbnMgfHwgW10pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHI6IHsgYXJ0aWNsZV9jb250ZW50X2lkOiBzdHJpbmc7IHVybDogc3RyaW5nOyB9KSA9PiByLnVybCA9PT0gdXJsKVxyXG4gICAgICAgICAgICAubWFwKChyOiB7IGFydGljbGVfY29udGVudF9pZDogc3RyaW5nIH0pID0+IHIuYXJ0aWNsZV9jb250ZW50X2lkKVswXTtcclxuICAgIH1cclxufSIsImV4cG9ydCB7IEFjdGlvblNob3duIH0gZnJvbSBcIi4vQWN0aW9uU2hvd25cIjtcclxuZXhwb3J0IHsgQWN0aXZhdGVTdWNjZXNzIH0gZnJvbSBcIi4vQWN0aXZhdGVTdWNjZXNzXCI7XHJcbmV4cG9ydCB7IENsaWNrIH0gZnJvbSBcIi4vQ2xpY2tcIjtcclxuZXhwb3J0IHsgQ29ubmV4dFBhZ2VWaWV3IH0gZnJvbSBcIi4vQ29ubmV4dFBhZ2VWaWV3XCI7XHJcbmV4cG9ydCB7IENyZWF0ZUFjY291bnQgfSBmcm9tIFwiLi9DcmVhdGVBY2NvdW50XCI7XHJcbmV4cG9ydCB7IEN0cmxDIH0gZnJvbSBcIi4vQ3RybENcIjtcclxuZXhwb3J0IHsgTG9naW4gfSBmcm9tIFwiLi9Mb2dpblwiO1xyXG5leHBvcnQgeyBOZXdzbGV0dGVyQXJyaXZhbCB9IGZyb20gXCIuL05ld3NsZXR0ZXJBcnJpdmFsXCI7XHJcbmV4cG9ydCB7IE5ld3NsZXR0ZXJTaWdudXAgfSBmcm9tIFwiLi9OZXdzbGV0dGVyU2lnbnVwXCI7XHJcbmV4cG9ydCB7IFJlY29tbWVuZGF0aW9uU2hvd24gfSBmcm9tIFwiLi9SZWNvbW1lbmRhdGlvblNob3duXCI7IiwiaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0V2ZW50U2VydmljZVwiO1xyXG5pbXBvcnQgeyBNZXRhRGF0YVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvTWV0YURhdGFTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbGxlY3RvciB9IGZyb20gXCIuLy4uLy4uL0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgKiBhcyBldmVudHMgZnJvbSBcIi4vZXZlbnRzXCI7XHJcbmltcG9ydCB7IFdvcmtmbG93TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL3dvcmtmbG93TW9kZU1vZHVsZS9Xb3JrZmxvd01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbm5leHRDb2xsZWN0b3IgZXh0ZW5kcyBDb2xsZWN0b3Ige1xyXG4gICAgcHJpdmF0ZSBtZXRhRGF0YVNlcnZpY2U6IE1ldGFEYXRhU2VydmljZTtcclxuICAgIHByaXZhdGUgZXZlbnRTZXJ2aWNlOiBFdmVudFNlcnZpY2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm1ldGFEYXRhU2VydmljZSA9IE1ldGFEYXRhU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmV2ZW50U2VydmljZSA9IEV2ZW50U2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLnNlbmRNZXRhRGF0YSgpO1xyXG4gICAgICAgIHRoaXMubWV0YURhdGFTZXJ2aWNlLnByb2Nlc3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmRNZXRhRGF0YSgpIHtcclxuICAgICAgICAvLyBOT1RFOiBub3Qgc2VuZGluZyB0aGlzIGV2ZW50IGJlY2F1c2UgSSBhbSBub3cgaW5jbHVkaW5nIHRoaXMgaW4gYWxsIEdBIGNhbGxzLlxyXG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlLnNlbmRFdmVudChcIm1ldGFUYWdzQ29sbGVjdGVkXCIsIHRoaXMubWV0YURhdGFTZXJ2aWNlLmFuYWx5dGljc0RpbWVuc2lvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyRXZlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRXZlbnRzID0gV29ya2Zsb3dNb2R1bGUubGltaXRFbmdhZ2VFdmVudHMoZXZlbnRzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IGZpbHRlcmVkRXZlbnRzO1xyXG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNIYXZlUGFnZVZpZXdFdmVudCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudCB9IGZyb20gXCIuLi8uLi9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIi4uLy4uL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU3BFdmVudCBleHRlbmRzIENkcEV2ZW50IHtcclxuICAgIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZTtcclxuICAgIHByb3RlY3RlZCBjdXJyZW50RXZlbnROYW1lOyAvLyBmb3IgbXVsdHkgb3JpZ2luIGV2ZW50XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpc3RlbigpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIlJlZ2lzdGVyaW5nIFNQIEV2ZW50TGlzdGVuZXJcIiwgXCJldmVudFwiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMgJiYgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMuZm9yRWFjaCgoZXZlbnROYW1lLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KHRoaXMub3JpZ2luYWxFdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcIk5vIGV2ZW50IE5hbWUgaW4gT2JqZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcImFkZFNQQ29sbGVjdG9yRXZlbnRMaXN0ZW5lci5FcnJvclwiLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpc3RlbkV2ZW50KGV2ZW50TmFtZSkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiUmVnaXN0ZXJpbmcgU1AgRXZlbnRMaXN0ZW5lclwiLCBcImV2ZW50XCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAga28ucG9zdGJveC5zdWJzY3JpYmUoZXZlbnROYW1lLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzRXZlbnREYXRhKGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiYWRkU1BDb2xsZWN0b3JFdmVudExpc3RlbmVyLkVycm9yXCIsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2Vzc0V2ZW50RGF0YShldmVudE5hbWU6IHN0cmluZywgZGF0YTogYW55KSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJGaXJpbmdcIiwgZXZlbnROYW1lLCBcImRhdGFcIiwgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5jbGVhclByZXZpb3VzRGF0YSgpO1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudERhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICBDZHBFdmVudHNNYW5hZ2VyLmV2ZW50RmlyZSh0aGlzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwgPSBzdXBlci5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gIENvbnN0YW50cy5FdmVudHNTb3VyY2VzLlBhbmVsO1xyXG4gICAgICAgIHRoaXMuYWRkUGFuZWxWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQ2RwRXZlbnRNb2RlbCh0aGlzLmV2ZW50TW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFBhbmVsVmVyc2lvbkluZm8oKXtcclxuICAgICAgICBjb25zdCBwYW5lbENvbmZpZyA9ICh3aW5kb3cgYXMgYW55KS5jb25maWc7XHJcbiAgICAgICAgY29uc3QgcGFuZWxWZXJzaW9uID0gcGFuZWxDb25maWcgJiYgcGFuZWxDb25maWcuQnVpbGRJbmZvID8gcGFuZWxDb25maWcuQnVpbGRJbmZvLlZlcnNpb246ICdVbmtub3duJztcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnREYXRhLnB1c2goeyBLZXk6IFwiU291cmNlVmVyc2lvblwiLCBWYWx1ZTogcGFuZWxWZXJzaW9uIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLi9TcEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWJhbmRvbkNsb3NlZCAgZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhYmFuZG9uX2Nsb3NlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBYmFuZG9uQ2xvc2VkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQWJhbmRvbkNsb3NlZFwiO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKHt9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWJhbmRvblByZXNlbnRlZCBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImFiYW5kb25fcHJlc2VudGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkFiYW5kb25QcmVzZW50ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJBYmFuZG9uUHJlc2VudGVkXCI7XHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe30pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLy4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdFByb3BlcnRpZXMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0ZpcnN0VmlzaXRQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2hlY2tvdXRTdGFydCBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcInByZXNlbnRhdGlvbl9sb2FkZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiQ2hlY2tvdXRTdGFydFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkNoZWNrb3V0U3RhcnRcIjtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoe1xyXG4gICAgICAgICAgICBVcmw6IHRoaXMub3JpZ2luYWxFdmVudERhdGEudXJsLFxyXG4gICAgICAgICAgICBVc2VyRVI6IENkcE1vZHVsZS5nZXRFckNvZGUoKSxcclxuICAgICAgICAgICAgVXNlckVSUDogQ2RwTW9kdWxlLmdldEVycENvZGUoKSxcclxuICAgICAgICAgICAgVXNlckNSOiBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCksXHJcbiAgICAgICAgICAgIFVzZXJDUlA6IENkcE1vZHVsZS5nZXRDcnBDb2RlKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VJbkNhbGN1bGF0ZUZpcnN0VmlzaXRNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaXJzdFZpc2l0UHJvcGVydHkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSW5wdXRVc2VySW5mb3JtYXRpb25JbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9JbnB1dFVzZXJJbmZvcm1hdGlvbkludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvcm1hdGlvbk1vZGVsIHtcclxuICAgIEVtYWlsOiBzdHJpbmc7XHJcbiAgICBEaXNwbGF5TmFtZTogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IElucHV0VXNlckluZm9ybWF0aW9uSW50ZXJmYWNlKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5FbWFpbCA9IGRhdGEuZW1haWw7XHJcbiAgICAgICAgdGhpcy5EaXNwbGF5TmFtZSA9IGRhdGEuZGlzcGxheU5hbWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgU2hvcnRPZmZlck1vZGVsIHtcclxuICAgIE5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5OYW1lID0gZGF0YS5OYW1lO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVXNlckluZm9ybWF0aW9uTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1VzZXJJbmZvcm1hdGlvbk1vZGVsXCI7XHJcbmltcG9ydCB7IFNob3J0T2ZmZXJNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvU2hvcnRPZmZlck1vZGVsXCI7XHJcbmltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWF0ZWROZXdVc2VyIGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiY3JlYXRlZF9uZXdfdXNlcl9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJDcmVhdGVkTmV3VXNlclwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkNyZWF0ZWROZXdVc2VyXCI7XHJcblxyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIFVzZXI6IG5ldyBVc2VySW5mb3JtYXRpb25Nb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnVzZXJJbmZvcm1hdGlvbiksXHJcbiAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpLFxyXG4gICAgICAgICAgICBDdXN0b21lclJlZ2lzdHJhdGlvbklkOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmN1c3RvbWVyUmVnaXN0cmF0aW9uSWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSW5wdXRBZGRyZXNzTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9JbnB1dEFkZHJlc3NNb2RlbEludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFkZHJlc3NNb2RlbCB7XHJcbiAgICBGaXJzdE5hbWU6IHN0cmluZztcclxuICAgIExhc3ROYW1lOiBzdHJpbmc7XHJcbiAgICBBZGRyZXNzOiBzdHJpbmc7XHJcbiAgICBQaG9uZTogYW55O1xyXG4gICAgQXB0VW5pdDogYW55O1xyXG4gICAgWmlwY29kZTogYW55O1xyXG4gICAgQ2l0eTogc3RyaW5nO1xyXG4gICAgU3RhdGU6IHN0cmluZztcclxuICAgIENvdW50cnk6IHN0cmluZztcclxuICAgIE5hbWU6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBJbnB1dEFkZHJlc3NNb2RlbEludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuRmlyc3ROYW1lID0gZGF0YS5maXJzdE5hbWU7XHJcbiAgICAgICAgdGhpcy5MYXN0TmFtZSA9IGRhdGEubGFzdE5hbWU7XHJcbiAgICAgICAgdGhpcy5BZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xyXG4gICAgICAgIHRoaXMuUGhvbmUgPSBkYXRhLnBob25lO1xyXG4gICAgICAgIHRoaXMuQXB0VW5pdCA9IGRhdGEuYXB0VW5pdDtcclxuICAgICAgICB0aGlzLlppcGNvZGUgPSBkYXRhLnppcENvZGU7XHJcbiAgICAgICAgdGhpcy5DaXR5ID0gZGF0YS5jaXR5O1xyXG4gICAgICAgIHRoaXMuU3RhdGUgPSBkYXRhLnN0YXRlO1xyXG4gICAgICAgIHRoaXMuQ291bnRyeSA9IGRhdGEuY291bnRyeTtcclxuICAgICAgICB0aGlzLk5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgQWRkcmVzc01vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9BZGRyZXNzTW9kZWxcIjtcclxuaW1wb3J0IHsgU2hvcnRPZmZlck1vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9TaG9ydE9mZmVyTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQ29tcGxldGVkIGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiYmlsbGluZ19hZGRyZXNzX2NvbXBsZXRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJGb3JtQ29tcGxldGVkXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiQmlsbGluZ0FkZHJlc3NcIjtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgQmlsbGluZzogbmV3IEFkZHJlc3NNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmJpbGxpbmdBZGRyZXNzKSxcclxuICAgICAgICAgICAgT2ZmZXI6IG5ldyBTaG9ydE9mZmVyTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlcilcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IEFkZHJlc3NNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvQWRkcmVzc01vZGVsXCI7XHJcbmltcG9ydCB7IFNob3J0T2ZmZXJNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9tb2RlbHMvU2hvcnRPZmZlck1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRm9ybUNvbXBsZXRlZERlbGl2ZXJ5QWRkcmVzcyBleHRlbmRzIFNwRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcImRlbGl2ZXJ5X2FkZHJlc3NfY29tcGxldGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkZvcm1Db21wbGV0ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJEZWxpdmVyeUFkZHJlc3NcIjtcclxuXHJcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgRGVsaXZlcnk6IG5ldyBBZGRyZXNzTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5kZWxpdmVyeUFkZHJlc3MpLFxyXG4gICAgICAgICAgICBPZmZlcjogbmV3IFNob3J0T2ZmZXJNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgUGF5bWVudFR5cGVzID0ge1xyXG4gICAgXCJjcmVkaXRfY2FyZF9jb21wbGV0ZWRfZVwiOiBcIkNyZWRpdCBDYXJkXCIsXHJcbiAgICBcImJhbmtfYWNjb3VudF9jb21wbGV0ZWRfZVwiOiBcIkJhbmsgQWNjb3VudFwiLFxyXG4gICAgXCJiaWxsX21lX2NvbXBsZXRlZF9lXCI6IFwiQmlsbCBNZVwiLFxyXG4gICAgXCJhcHBsZV9wYXlfY29tcGxldGVkX2VcIjogXCJBcHBsZSBQYXlcIixcclxuICAgIFwicGF5cGFsX2NvbXBsZXRlZF9lXCI6IFwiUGF5cGFsXCJcclxufSIsImltcG9ydCB7IFNwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvU3BFdmVudFwiO1xyXG5pbXBvcnQgeyBQYXltZW50VHlwZXMgfSBmcm9tIFwiQENvbGxlY3RvcnMvY29uc3RhbnRzL1BheW1lbnRUeXBlc1wiO1xyXG5pbXBvcnQgeyBTaG9ydE9mZmVyTW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZvcm1Db21wbGV0ZWRQYXltZW50IGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZXMgPSBPYmplY3Qua2V5cyhQYXltZW50VHlwZXMpO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiRm9ybUNvbXBsZXRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIlBheW1lbnRcIjtcclxuICAgICAgICBsZXQgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICBPZmZlcjogbmV3IFNob3J0T2ZmZXJNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyKSxcclxuICAgICAgICAgICAgUGF5bWVudE1ldGhvZE5hbWU6IFBheW1lbnRUeXBlc1t0aGlzLmN1cnJlbnRFdmVudE5hbWVdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvcm1hdGlvbk1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBTaG9ydE9mZmVyTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9zcC1jb2xsZWN0b3IvbW9kZWxzL1Nob3J0T2ZmZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGb3JtQ29tcGxldGVkVXNlckluZm8gZXh0ZW5kcyBTcEV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1c2VyX2luZm9fY29tcGxldGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIkZvcm1Db21wbGV0ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJVc2VySW5mb1wiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50RGF0YSkge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgVXNlcjogbmV3IFVzZXJJbmZvcm1hdGlvbk1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uKSxcclxuICAgICAgICAgICAgICAgIE9mZmVyOiBuZXcgU2hvcnRPZmZlck1vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YU9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLi9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi4vLi4vLi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJZGxlQ2xvc2VkIGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiaWRsZV9jbG9zZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiSWRsZUNsb3NlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIklkbGVDbG9zZWRcIjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YSh7fSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTcEV2ZW50IH0gZnJvbSBcIi4uL1NwRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJZGxlUHJlc2VudGVkIGV4dGVuZHMgU3BFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiaWRsZV9wcmVzZW50ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiSWRsZVByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIklkbGVQcmVzZW50ZWRcIjtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YSh7fSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPZmZlcklucHV0SW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvT2ZmZXJJbnB1dEludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9mZmVyTW9kZWwge1xyXG4gICAgT2ZmZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBPZmZlck1hcmtldGluZ1RleHQ6IHN0cmluZztcclxuICAgIE9mZmVyVGV4dDogc3RyaW5nO1xyXG4gICAgT2ZmZXJJbWFnZURlc2NyaXB0aW9uOiBhbnk7XHJcbiAgICBPZmZlcklzQmVzdFBsYW46IGFueTtcclxuICAgIE9mZmVyRGlzcGxheU9yZGVyOiBhbnk7XHJcbiAgICBPZmZlcklzRGlnaXRhbDogYW55O1xyXG4gICAgT2ZmZXJJc0VlZGl0aW9uOiBhbnk7XHJcbiAgICBPZmZlcklzRXpQYXk6IGFueTtcclxuICAgIE9mZmVySXNFelBheU9wdGlvbmFsOiBhbnk7XHJcbiAgICBPZmZlcklzUHJpbnQ6IGFueTtcclxuICAgIE9mZmVyUGFzc09yVHJpYWxEYXlzOiBhbnk7XHJcbiAgICBPZmZlckFtb3VudDogYW55O1xyXG4gICAgT2ZmZXJRdWFudGl0eTogYW55O1xyXG4gICAgT2ZmZXJDaXR5VGF4OiBhbnk7XHJcbiAgICBPZmZlclN0YXRlVGF4OiBhbnk7XHJcbiAgICBPZmZlckNvdW50eVRheDogYW55O1xyXG4gICAgT2ZmZXJUYXhBbW91bnQ6IGFueTtcclxuICAgIE9mZmVyQWN0aXZhdGlvbkZlZTogYW55O1xyXG4gICAgT2ZmZXJQcmljZVN1ZmZpeDogYW55O1xyXG4gICAgT2ZmZXJQcmVtaXVtczogYW55O1xyXG4gICAgT2ZmZXJUb3RhbFByaWNlOiBhbnk7XHJcbiAgICBPZmZlckFsbG93UHJldmlvdXNTdW5kYXk6IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihvZmZlcjogT2ZmZXJJbnB1dEludGVyZmFjZSkge1xyXG4gICAgICAgIHRoaXMuT2ZmZXJOYW1lID0gb2ZmZXIuTmFtZTtcclxuICAgICAgICB0aGlzLk9mZmVyTWFya2V0aW5nVGV4dCA9IHRoaXMuZ2V0TWFya2V0aW5nVGV4dChvZmZlciksXHJcbiAgICAgICAgICAgIHRoaXMuT2ZmZXJUZXh0ID0gdGhpcy5nZXRPZmZlclRleHQob2ZmZXIpO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJbWFnZURlc2NyaXB0aW9uID0gKG9mZmVyLkltYWdlKSA/IG9mZmVyLkltYWdlLkltYWdlRGVzY3JpcHRpb24gOiBcIlwiO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJc0Jlc3RQbGFuID0gb2ZmZXIuSXNCZXN0UGxhbjtcclxuICAgICAgICB0aGlzLk9mZmVyRGlzcGxheU9yZGVyID0gb2ZmZXIuRGlzcGxheU9yZGVyO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJc0RpZ2l0YWwgPSBvZmZlci5Jc0RpZ2l0YWw7XHJcbiAgICAgICAgdGhpcy5PZmZlcklzRWVkaXRpb24gPSBvZmZlci5Jc0VlZGl0aW9uO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJc0V6UGF5ID0gb2ZmZXIuSXNFelBheTtcclxuICAgICAgICB0aGlzLk9mZmVySXNFelBheU9wdGlvbmFsID0gb2ZmZXIuSXNFelBheU9wdGlvbmFsO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJJc1ByaW50ID0gb2ZmZXIuSXNQcmludDtcclxuICAgICAgICB0aGlzLk9mZmVyUGFzc09yVHJpYWxEYXlzID0gb2ZmZXIuUGFzc09yVHJpYWxEYXlzO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJBbW91bnQgPSBvZmZlci5BbW91bnQ7XHJcbiAgICAgICAgdGhpcy5PZmZlclF1YW50aXR5ID0gb2ZmZXIuUXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5PZmZlckNpdHlUYXggPSBvZmZlci5DaXR5VGF4O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJTdGF0ZVRheCA9IG9mZmVyLlN0YXRlVGF4O1xyXG4gICAgICAgIHRoaXMuT2ZmZXJDb3VudHlUYXggPSBvZmZlci5Db3VudHlUYXg7XHJcbiAgICAgICAgdGhpcy5PZmZlclRheEFtb3VudCA9IG9mZmVyLlRheEFtb3VudDtcclxuICAgICAgICB0aGlzLk9mZmVyQWN0aXZhdGlvbkZlZSA9IG9mZmVyLkFjdGl2YXRpb25GZWU7XHJcbiAgICAgICAgdGhpcy5PZmZlclByaWNlU3VmZml4ID0gb2ZmZXIuUHJpY2VTdWZmaXg7XHJcbiAgICAgICAgdGhpcy5PZmZlclByZW1pdW1zID0gKG9mZmVyLlByZW1pdW1zICYmIG9mZmVyLlByZW1pdW1zLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuT2ZmZXJUb3RhbFByaWNlID0gb2ZmZXIuVG90YWxQcmljZTtcclxuICAgICAgICB0aGlzLk9mZmVyQWxsb3dQcmV2aW91c1N1bmRheSA9IG9mZmVyLkFsbG93UHJldmlvdXNTdW5kYXkgfHwgXCJVbmtub3duXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNYXJrZXRpbmdUZXh0KG9mZmVyKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAob2ZmZXIuTWFya2V0aW5nKSB7IC8vIHYzPlxyXG4gICAgICAgICAgICByZXR1cm4gb2ZmZXIuTWFya2V0aW5nLkJvZHk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyLk1hcmtldGluZ1RleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0T2ZmZXJUZXh0KG9mZmVyKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAob2ZmZXIuTWFya2V0aW5nKSB7IC8vIHYzPlxyXG4gICAgICAgICAgICByZXR1cm4gb2ZmZXIuTWFya2V0aW5nLk5hbWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyLk9mZmVyVGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLy4uL1NwRXZlbnRcIjtcclxuaW1wb3J0IHsgT2ZmZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvT2ZmZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBPZmZlcklucHV0SW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvT2ZmZXJJbnB1dEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJFdmVudERhdGFFdmVudCBleHRlbmRzIFNwRXZlbnQge1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZU9mZmVyRXZlbnREYXRhKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKTogT2ZmZXJNb2RlbCB7XHJcbiAgICAgICAgbGV0IGZuTmFtZSA9IFwiW2NyZWF0ZU9mZmVyRXZlbnREYXRhXVwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKGZuTmFtZSwgXCJkYXRhXCIsIG9mZmVyKTtcclxuICAgICAgICAgICAgbGV0IG9mZmVyRXZlbnREYXRhID0gbmV3IE9mZmVyTW9kZWwob2ZmZXIpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShmbk5hbWUsIFwiY2RwRGF0YSA9PiBcIiwgb2ZmZXJFdmVudERhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gb2ZmZXJFdmVudERhdGE7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbCgpOiBDZHBFdmVudE1vZGVsIHtcclxuICAgICAgICBzdXBlci5nZXRFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgbGV0IG9mZmVyRGF0YSA9IHt9O1xyXG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyKSB7XHJcbiAgICAgICAgICAgIG9mZmVyRGF0YSA9IHRoaXMuY3JlYXRlT2ZmZXJFdmVudERhdGEodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShvZmZlckRhdGEpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZWw7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgT2ZmZXJFdmVudERhdGFFdmVudCB9IGZyb20gXCIuLi9PZmZlckV2ZW50RGF0YUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJTZWxlY3RlZCBleHRlbmRzIE9mZmVyRXZlbnREYXRhRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9mZmVyX3NlbGVjdGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIk9mZmVyU2VsZWN0ZWRcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5vZmZlci5OYW1lO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgT2ZmZXJFdmVudERhdGFFdmVudCB9IGZyb20gXCIuLi9PZmZlckV2ZW50RGF0YUV2ZW50XCI7XHJcbmltcG9ydCB7IEFkZHJlc3NNb2RlbCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvQWRkcmVzc01vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvcm1hdGlvbk1vZGVsIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Vc2VySW5mb3JtYXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvblN1Y2Nlc3MgZXh0ZW5kcyBPZmZlckV2ZW50RGF0YUV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhZGRfc3Vic2NyaXB0aW9uX3N1Y2Nlc3NfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiU3Vic2NyaXB0aW9uU3VjY2Vzc1wiO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gXCJTdWJzY3JpcHRpb25TdWNjZXNzXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuc3Vic2NyaXB0aW9uIHx8IHt9O1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgRGVsaXZlcnk6IG5ldyBBZGRyZXNzTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5kZWxpdmVyeUFkZHJlc3MpLFxyXG4gICAgICAgICAgICAgICAgQmlsbGluZzogbmV3IEFkZHJlc3NNb2RlbCh0aGlzLm9yaWdpbmFsRXZlbnREYXRhLmJpbGxpbmdBZGRyZXNzKSxcclxuICAgICAgICAgICAgICAgIFBheW1lbnRNZXRob2ROYW1lOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnBheW1lbnRPcHRpb24sXHJcbiAgICAgICAgICAgICAgICBVc2VyOiBuZXcgVXNlckluZm9ybWF0aW9uTW9kZWwodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS51c2VySW5mb3JtYXRpb24pLFxyXG4gICAgICAgICAgICAgICAgVXNlckVSOiBDZHBNb2R1bGUuZ2V0RXJDb2RlKCksXHJcbiAgICAgICAgICAgICAgICBVc2VyRVJQOiBDZHBNb2R1bGUuZ2V0RXJwQ29kZSgpLFxyXG4gICAgICAgICAgICAgICAgVXNlckNSOiBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCksXHJcbiAgICAgICAgICAgICAgICBVc2VyQ1JQOiBDZHBNb2R1bGUuZ2V0Q3JwQ29kZSgpLFxyXG4gICAgICAgICAgICAgICAgQ3VzdG9tZXJSZWdpc3RyYXRpb25JZDogdGhpcy5nZXRDdXN0b21lclJlZ2lzdHJhdGlvbklkKCksXHJcbiAgICAgICAgICAgICAgICBTdWJzY3JpYmVySWQ6IHN1YnNjcmlwdGlvbi5TdWJzY3JpYmVySUQsXHJcbiAgICAgICAgICAgICAgICBTdWJzY3JpcHRpb25JZDogc3Vic2NyaXB0aW9uLlN1YnNjcmlwdGlvbklELFxyXG4gICAgICAgICAgICAgICAgQWNjb3VudE51bWJlcjogc3Vic2NyaXB0aW9uLkFjY291bnROdW1iZXJcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJTdWJzY3JpcHRpb25TdWNjZXNzXCIsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VzdG9tZXJSZWdpc3RyYXRpb25JZCgpIHtcclxuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50RGF0YS51c2VySW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEudXNlckluZm9ybWF0aW9uLmN1c3RvbWVyUmVnaXN0cmF0aW9uSWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudERhdGEuY3VzdG9tZXJSZWdpc3RyYXRpb25JZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPZmZlckV2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcHNlbGxSZW1vdmVkIGV4dGVuZHMgT2ZmZXJFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwidXBzZWxsX3JlbW92ZWRfZVwiO1xyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiVXBzZWxsUmVtb3ZlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyLk5hbWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPZmZlckV2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyRXZlbnREYXRhRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVcHNlbGxTZWxlY3RlZCBleHRlbmRzIE9mZmVyRXZlbnREYXRhRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcInVwc2VsbF9zZWxlY3RlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJVcHNlbGxTZWxlY3RlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLm9mZmVyLk5hbWU7XHJcbiAgICB9XHJcbiB9IiwiZXhwb3J0IHsgT2ZmZXJTZWxlY3RlZCB9IGZyb20gXCIuL09mZmVyU2VsZWN0ZWRcIjtcclxuZXhwb3J0IHsgU3Vic2NyaXB0aW9uU3VjY2VzcyB9IGZyb20gXCIuL1N1YnNjcmlwdGlvblN1Y2Nlc3NcIjtcclxuZXhwb3J0IHsgVXBzZWxsUmVtb3ZlZCB9IGZyb20gXCIuL1Vwc2VsbFJlbW92ZWRcIjtcclxuZXhwb3J0IHsgVXBzZWxsU2VsZWN0ZWQgfSBmcm9tIFwiLi9VcHNlbGxTZWxlY3RlZFwiOyIsImltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi4vLi4vLi4vbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgU3BFdmVudCB9IGZyb20gXCIuLi9TcEV2ZW50XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBPZmZlck1vZGVsIH0gZnJvbSBcIi4uL21vZGVscy9PZmZlck1vZGVsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2ZmZXJzRXZlbnREYXRhRXZlbnQgZXh0ZW5kcyBTcEV2ZW50IHtcclxuXHJcbiAgICBnZXRFdmVudE1vZGVsKCk6IENkcEV2ZW50TW9kZWwge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbCA9IHN1cGVyLmdldEV2ZW50TW9kZWwoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKTtcclxuICAgICAgICBsZXQgY2RwRGF0YUxpc3QgPSB0aGlzLmdldEV2ZW50TW9kZWxzQnlPZmZlcnModGhpcy5ldmVudE1vZGVsKTtcclxuICAgICAgICByZXR1cm4gY2RwRGF0YUxpc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXZlbnRNb2RlbHNCeU9mZmVycyhzaGFyZUV2ZW50TW9kZWw6IENkcEV2ZW50TW9kZWwpOiBhbnkge1xyXG4gICAgICAgIGxldCBjZHBEYXRhTGlzdCA9IFtdO1xyXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YTtcclxuICAgICAgICBpZiAoZGF0YS5vZmZlcnMpIHtcclxuICAgICAgICAgICAgZGF0YS5vZmZlcnMuZm9yRWFjaCgob2ZmZXI6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNlbmRPZmZlck1vZGVsID0gbmV3IE9mZmVyTW9kZWwob2ZmZXIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNsb25lU2hhcmVFdmVudE1vZGVsID0gT2JqZWN0LmFzc2lnbih7fSwgc2hhcmVFdmVudE1vZGVsKTtcclxuICAgICAgICAgICAgICAgIGNsb25lU2hhcmVFdmVudE1vZGVsLklkID0gVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ0cmFuc2Zvcm1FdmVudERhdGFcIiwgXCJvZmZlciA9PiBcIiwgc2VuZE9mZmVyTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50RGF0YSA9IHRoaXMuY29udmVydERhdGFWYWx1ZVRvU3RyaW5nKFV0aWxzLm9iamVjdFRvQXJyYXlEaWN0KHNlbmRPZmZlck1vZGVsKSk7XHJcbiAgICAgICAgICAgICAgICBjbG9uZVNoYXJlRXZlbnRNb2RlbC5FdmVudERhdGEgPSBjbG9uZVNoYXJlRXZlbnRNb2RlbC5FdmVudERhdGEuY29uY2F0KGV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjZHBEYXRhTGlzdC5wdXNoKGNsb25lU2hhcmVFdmVudE1vZGVsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjZHBEYXRhTGlzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IE9mZmVyc0V2ZW50RGF0YUV2ZW50IH0gZnJvbSBcIi4uL09mZmVyc0V2ZW50RGF0YUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwbGVQYXlQcmVzZW50ZWQgZXh0ZW5kcyBPZmZlcnNFdmVudERhdGFFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiYXBwbGVfcGF5X3ByZXNlbnRlZF9lXCI7XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJBcHBsZVBheVByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIkFwcGxlUGF5UHJlc2VudGVkXCI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPZmZlcnNFdmVudERhdGFFdmVudCB9IGZyb20gXCIuLi9PZmZlcnNFdmVudERhdGFFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9mZmVyc1ByZXNlbnRlZCBleHRlbmRzIE9mZmVyc0V2ZW50RGF0YUV2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvZmZlcnNfcHJlc2VudGVkX2VcIjtcclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIk9mZmVyc1ByZXNlbnRlZFwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudE5hbWUgPSBcIk9mZmVyc1ByZXNlbnRlZFwiO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IHsgQXBwbGVQYXlQcmVzZW50ZWQgfSBmcm9tIFwiLi9BcHBsZVBheVByZXNlbnRlZFwiO1xyXG5leHBvcnQgeyBPZmZlcnNQcmVzZW50ZWQgfSBmcm9tIFwiLi9PZmZlcnNQcmVzZW50ZWRcIjsiLCJleHBvcnQgeyBBYmFuZG9uQ2xvc2VkfSBmcm9tIFwiLi9BYmFuZG9uQ2xvc2VkXCI7XHJcbmV4cG9ydCB7IEFiYW5kb25QcmVzZW50ZWR9IGZyb20gXCIuL0FiYW5kb25QcmVzZW50ZWRcIjtcclxuZXhwb3J0IHsgQ2hlY2tvdXRTdGFydCB9IGZyb20gXCIuL0NoZWNrb3V0U3RhcnRcIjtcclxuZXhwb3J0IHsgQ3JlYXRlZE5ld1VzZXIgfSBmcm9tIFwiLi9DcmVhdGVkTmV3VXNlclwiO1xyXG5leHBvcnQgeyBGb3JtQ29tcGxldGVkIH0gZnJvbSBcIi4vRm9ybUNvbXBsZXRlZFwiO1xyXG5leHBvcnQgeyBGb3JtQ29tcGxldGVkRGVsaXZlcnlBZGRyZXNzIH0gZnJvbSBcIi4vRm9ybUNvbXBsZXRlZERlbGl2ZXJ5QWRkcmVzc1wiO1xyXG5leHBvcnQgeyBGb3JtQ29tcGxldGVkUGF5bWVudCB9IGZyb20gXCIuL0Zvcm1Db21wbGV0ZWRQYXltZW50XCI7XHJcbmV4cG9ydCB7IEZvcm1Db21wbGV0ZWRVc2VySW5mbyB9IGZyb20gXCIuL0Zvcm1Db21wbGV0ZWRVc2VySW5mb1wiO1xyXG5leHBvcnQgeyBJZGxlQ2xvc2VkfSBmcm9tIFwiLi9JZGxlQ2xvc2VkXCI7XHJcbmV4cG9ydCB7IElkbGVQcmVzZW50ZWR9IGZyb20gXCIuL0lkbGVQcmVzZW50ZWRcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vb2ZmZXJFdmVudERhdGEvaW5kZXhcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vb2ZmZXJzRXZlbnREYXRhL2luZGV4XCI7IiwiaW1wb3J0IHsgQ29sbGVjdG9yIH0gZnJvbSBcIi4vLi4vLi4vQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIGV2ZW50cyBmcm9tIFwiLi9ldmVudHNcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3BDb2xsZWN0b3IgZXh0ZW5kcyBDb2xsZWN0b3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckV2ZW50cygpIHtcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZEV2ZW50cyA9IFdvcmtmbG93TW9kdWxlLmxpbWl0U1BFdmVudHMoZXZlbnRzKTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IGZpbHRlcmVkRXZlbnRzO1xyXG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJRmFjdG9yeSB9IGZyb20gXCIuL0lGYWN0b3J5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmFjdG9yeSBpbXBsZW1lbnRzIElGYWN0b3J5IHsgfSIsImltcG9ydCB7IENvbGxlY3RvclR5cGVzIH0gZnJvbSBcIi4uL2NvbnN0YW50cy9Db2xsZWN0b3JUeXBlc1wiO1xyXG5pbXBvcnQgeyBDb2xsZWN0b3IgfSBmcm9tIFwiLi9Db2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgQ29ubmV4dENvbGxlY3RvciB9IGZyb20gXCIuL2NvbGxlY3RvcnMvY29ubmV4dC1jb2xsZWN0b3IvQ29ubmV4dENvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBTcENvbGxlY3RvciB9IGZyb20gXCIuL2NvbGxlY3RvcnMvc3AtY29sbGVjdG9yL1NwQ29sbGVjdG9yXCI7XHJcblxyXG5pbXBvcnQgeyBGYWN0b3J5IH0gZnJvbSBcIkBDb3JlL2Jhc2UvZmFjdG9yeS9GYWN0b3J5XCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGVjdG9yRmFjdG9yeSBleHRlbmRzIEZhY3Rvcnkge1xyXG5cclxuICAgIHByaXZhdGUgY29sbGVjdG9yVHlwZTogQ29sbGVjdG9yO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0b3I7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDb2xsZWN0b3JGYWN0b3J5XCIpO1xyXG4gICAgcHVibGljIGNvbGxlY3RNZXRhVGFnczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbGxlY3RvcjogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RvciA9IGNvbGxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29sbGVjdG9yKCk6IENvbGxlY3RvciB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNvbGxlY3RvciA9IHRoaXMuY29sbGVjdG9yO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNyZWF0aW5nIENvbGxlY3RvcjogXCIsIGNvbGxlY3Rvcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29sbGVjdG9yLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuQ29ubmV4dC50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdE1ldGFUYWdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RvclR5cGUgPSBuZXcgQ29ubmV4dENvbGxlY3RvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb2xsZWN0b3JUeXBlcy5TUC50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdE1ldGFUYWdzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0b3JUeXBlID0gbmV3IFNwQ29sbGVjdG9yKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbGxlY3RvclR5cGVzLkZsaXR0ei50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdE1ldGFUYWdzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJOb3QgYSB2YWxpZCBjb2xsZWN0b3JcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RvclR5cGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDZHBFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBGcERldmljZUluZm9JbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvaW50ZXJmYWNlcy9GcERldmljZUluZm9JbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IERldmljZU1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9kZXZpY2VNb2R1bGUvRGV2aWNlTW9kdWxlXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IEJ1Z1RyYWNrVXRpbCB9IGZyb20gXCJAVXRpbHMvQnVnVHJhY2tVdGlsXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlSWRDaGFuZ2UgZXh0ZW5kcyBDZHBFdmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkRldmljZUlkQ2hhbmdlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdGVuRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImFkZEV2ZW50TGlzdGVuZXIuLi5cIiwgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5GaW5nZXJwcmludCAhPT0gdW5kZWZpbmVkICYmICB0eXBlb2Ygd2luZG93LkZpbmdlcnByaW50Lm9uQ2hhbmdlZERldmljZUlkID09PSBcImZ1bmN0aW9uXCIpICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LkZpbmdlcnByaW50Lm9uQ2hhbmdlZERldmljZUlkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGV2aWNlSW5mbzogRnBEZXZpY2VJbmZvSW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRPcmlnaW5hbEV2ZW50RGF0YShkZXZpY2VJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGV2aWNlTW9kdWxlLmlzQWN0dWFsSWQoZGV2aWNlSW5mby5uZXdJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoaXNBY3R1YWw6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV2aWNlSW5mbyA9IHRoaXMub3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0FjdHVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBvbkNoYW5nZWREZXZpY2VJZF9za2lwOiR7SlNPTi5zdHJpbmdpZnkoZGV2aWNlSW5mbyl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERldmljZU1vZHVsZS5kZXZpY2VJQ2hhbmdlZChkZXZpY2VJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcIm9uQ2hhbmdlZERldmljZUlkX2NhdGNoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIkZpbmdlcnByaW50IGlzIHVuZGVmaW5lZC4uLiBvciB2ZXJzaW9uIGlzIG5vdCBzdXBwb3J0IHJlZ2VuZXJhdGUgb25DaGFuZ2VkRGV2aWNlSWRcIiwgZXZlbnROYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRPcmlnaW5hbERhdGEoZXZlbnREYXRhKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSA9IGV2ZW50RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDdXN0b21Qcm9wZXJ0aWVzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGUgPSBcIk9uRGV2aWNlSWRDaGFuZ2VcIjtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lID0gdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZTtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRTb3VyY2UgPSBDb25zdGFudHMuRXZlbnRzU291cmNlcy5HMkluc2lnaHRzO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5EZXZpY2VJZCA9IHRoaXMub3JpZ2luYWxFdmVudERhdGEuaWQ7XHJcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICBOZXdEZXZpY2VJZDogdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5uZXdJZCxcclxuICAgICAgICAgICAgRzJpRGV2aWNlSWQ6IENkcE1vZHVsZS5nZXRHMmlEZXZpY2VJZCgpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDZHBFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudFwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEcyaURldmljZUlkQ2hhbmdlIGV4dGVuZHMgQ2RwRXZlbnQge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkcyaURldmljZUlkQ2hhbmdlXCI7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ3VzdG9tUHJvcGVydGllcygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUeXBlID0gXCJPbkRldmljZUlkQ2hhbmdlXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IFwiT25HMmlEZXZpY2VJZENoYW5nZVwiO1xyXG4gICAgICAgIHRoaXMuZXZlbnRNb2RlbC5FdmVudFNvdXJjZSA9IENvbnN0YW50cy5FdmVudHNTb3VyY2VzLkcySW5zaWdodHM7XHJcbiAgICAgICAgY29uc3QgeyBPbGRHMmksIE5ld0cyaSwgQnJvd3NlckNhY2hlLCBSZXNwb3NlRGF0YSwgU2tpcHBlZCB9ID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YTtcclxuICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIE9sZEcyaSxcclxuICAgICAgICAgICAgTmV3RzJpLFxyXG4gICAgICAgICAgICBCcm93c2VyQ2FjaGU6IEpTT04uc3RyaW5naWZ5KEJyb3dzZXJDYWNoZSksXHJcbiAgICAgICAgICAgIFJlc3Bvc2VEYXRhOiBKU09OLnN0cmluZ2lmeShSZXNwb3NlRGF0YSksXHJcbiAgICAgICAgICAgIFNraXBwZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRyYW5zZm9ybUV2ZW50RGF0YShldmVudERhdGEpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBMZWF2ZVBhZ2VFdmVudERhdGFJbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvaW50ZXJmYWNlcy9ldmVudERhdGEvTGVhdmVQYWdlRXZlbnREYXRhSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvcGFnZVZpZXcvRGV2aWNlTW9kZWxcIjtcclxuaW1wb3J0IHsgQ29ubmV4dE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25uZXh0TW9kdWxlL0Nvbm5leHRNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ29va2llc1N0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVzU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvbG9jYWwvTG9jYWxTdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGVhdmVQYWdlIGV4dGVuZHMgQ2RwRXZlbnQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5Jc0FzeW5jID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZSA9IFV0aWxzLmdldFBhZ2VMZWF2ZUV2ZW50VHJpZ2dlcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsaXN0ZW5FdmVudChldmVudE5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiYWRkRXZlbnRMaXN0ZW5lci4uLlwiLCBldmVudE5hbWUpO1xyXG4gICAgICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKHdpbmRvdywgZXZlbnROYW1lLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiRmlyaW5nIGV2ZW50TmFtZVwiLCB0aGlzLmV2ZW50TW9kZWwuRXZlbnROYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQcmV2aW91c0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3JpZ2luYWxFdmVudERhdGEoZS5kZXRhaWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RXZlbnROYW1lID0gZXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5zZXRDbG9zZVBhZ2VGbGFnKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci5ldmVudEZpcmUodGhpcyk7XHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0T3JpZ2luYWxEYXRhKGV2ZW50RGF0YSkge1xyXG4gICAgICAgIHRoaXMub3JpZ2luYWxFdmVudERhdGEgPSBldmVudERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW5kUGFnZVNlc3Npb24oKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRVcmwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q29ubmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gQ29ubmV4dE1vZHVsZS5oYXNDb25uZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRBZGJsb2NrKCkge1xyXG4gICAgICAgIHJldHVybiBDb25uZXh0TW9kdWxlLmdldEFkYmxvY2tEZXRlY3RlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q29va2llc0Jsb2NrZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICFDb29raWVzU3RvcmFnZS5pc1N1cHBvcnRlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TG9jYWxTdG9yYWdlQmxvY2tlZCgpIHtcclxuICAgICAgICByZXR1cm4gIW5ldyBMb2NhbFN0b3JhZ2UoKS5pc1N1cHBvcnRlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QnJvd3NlckNhY2hlRW5hYmxlZCgpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBTdHJpbmcod2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJyZXNvdXJjZVwiKS5maWx0ZXIoKHI6IGFueSkgPT4gci5kdXJhdGlvbiA9PT0gMCAmJiByLnRyYW5zZmVyU2l6ZSAhPT0gMCkubGVuZ3RoICE9PSAwKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBcIndpbmRvdy5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlIGRvZXMgbm90IHN1cHBvcnRcIlxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IFwiUGFnZUxlYXZlXCI7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IHRoaXMuZXZlbnRNb2RlbC5FdmVudFR5cGU7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuRzJJbnNpZ2h0cztcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRQYWdlU2Vzc2lvbiA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0U3RhcnRQYWdlU2Vzc2lvbigpO1xyXG4gICAgICAgIGNvbnN0IGVuZFBhZ2VTZXNzaW9uID0gdGhpcy5nZXRFbmRQYWdlU2Vzc2lvbigpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUaW1lc3RhbXAgPSBlbmRQYWdlU2Vzc2lvbjtcclxuICAgICAgICBsZXQgZXZlbnREYXRhID0gPExlYXZlUGFnZUV2ZW50RGF0YUludGVyZmFjZT57XHJcbiAgICAgICAgICAgIFN0YXJ0U2Vzc2lvbjogc3RhcnRQYWdlU2Vzc2lvbixcclxuICAgICAgICAgICAgRW5kU2Vzc2lvbjogZW5kUGFnZVNlc3Npb24sXHJcbiAgICAgICAgICAgIExlbmd0aFNlc3Npb246IGVuZFBhZ2VTZXNzaW9uIC0gc3RhcnRQYWdlU2Vzc2lvbixcclxuICAgICAgICAgICAgRGV2aWNlOiBuZXcgRGV2aWNlTW9kZWwoKSxcclxuICAgICAgICAgICAgVXJsOiB0aGlzLmdldFVybCgpLFxyXG4gICAgICAgICAgICBIYXNDb25uZXh0OiB0aGlzLmdldENvbm5leHQoKSxcclxuICAgICAgICAgICAgQWRibG9ja0RldGVjdGVkOiB0aGlzLmdldEFkYmxvY2soKSxcclxuICAgICAgICAgICAgQ29va2llc0Jsb2NrZWQ6IHRoaXMuZ2V0Q29va2llc0Jsb2NrZWQoKSxcclxuICAgICAgICAgICAgTG9jYWxTdG9yYWdlQmxvY2tlZDogdGhpcy5nZXRMb2NhbFN0b3JhZ2VCbG9ja2VkKCksXHJcbiAgICAgICAgICAgIEJyb3dzZXJDYWNoZUVuYWJsZWQ6IHRoaXMuZ2V0QnJvd3NlckNhY2hlRW5hYmxlZCgpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FdmVudERhdGEoZXZlbnREYXRhKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlck1vZGVsIHtcclxuICAgIElkOiBzdHJpbmcgPSB0aGlzLmdldFVzZXJJZCgpO1xyXG4gICAgRVI6IGFueSA9IENkcE1vZHVsZS5nZXRFckNvZGUoKTtcclxuICAgIEVSUDogYW55ID0gQ2RwTW9kdWxlLmdldEVycENvZGUoKTtcclxuICAgIENSOiBhbnkgPSBDZHBNb2R1bGUuZ2V0Q3JDb2RlKCk7XHJcbiAgICBDUlA6IGFueSA9IENkcE1vZHVsZS5nZXRDcnBDb2RlKCk7XHJcblxyXG4gICAgZ2V0VXNlcklkKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgKDxhbnk+d2luZG93KS51c2VyUHJvdmlkZXI/LmN1c3RvbWVyUmVnaXN0cmF0aW9uSWQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KS51c2VyUHJvdmlkZXIuY3VzdG9tZXJSZWdpc3RyYXRpb25JZCgpIHx8IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGFnZU1vZGVsIH0gZnJvbSBcIi4vUGFnZU1vZGVsXCI7XHJcbmltcG9ydCB7IERldmljZU1vZGVsIH0gZnJvbSBcIi4vRGV2aWNlTW9kZWxcIjtcclxuaW1wb3J0IHsgTG9jYXRpb25Nb2RlbCB9IGZyb20gXCIuL0xvY2F0aW9uTW9kZWxcIjtcclxuaW1wb3J0IHsgVXNlck1vZGVsIH0gZnJvbSBcIi4vVXNlck1vZGVsXCI7XHJcbmltcG9ydCB7IERpbWVuc2lvbnNNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9EaW1lbnNpb25zTW9kdWxlXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VWaWV3RGF0YU1vZGVsIHtcclxuICAgIExvY2F0aW9uOiBMb2NhdGlvbk1vZGVsO1xyXG4gICAgRGV2aWNlOiBEZXZpY2VNb2RlbDtcclxuICAgIFBhZ2U6IFBhZ2VNb2RlbDtcclxuICAgIFVzZXI6IFVzZXJNb2RlbFxyXG4gICAgRGV2aWNlQnJvd3NlclVzZXJBZ2VudDogc3RyaW5nO1xyXG4gICAgTG9hZGVyVmVyc2lvbkluZm86IHN0cmluZztcclxuICAgIEZpbmdlcnByaW50VmVyc2lvbkluZm86IHN0cmluZztcclxuICAgIERlbW9Nb2RlOiBib29sZWFuO1xyXG4gICAgRW5jcnlwdGVkRW1haWw6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5Mb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGVsKGRhdGEuTG9jYXRpb24pO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlID0gbmV3IERldmljZU1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5EZXZpY2VCcm93c2VyVXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICAgICAgICB0aGlzLlBhZ2UgPSBuZXcgUGFnZU1vZGVsKERpbWVuc2lvbnNNb2R1bGUuZ2V0RGltZW5zaW9ucygpKTtcclxuICAgICAgICB0aGlzLlVzZXIgPSBuZXcgVXNlck1vZGVsKCk7XHJcbiAgICAgICAgdGhpcy5Mb2FkZXJWZXJzaW9uSW5mbyA9IFV0aWxzLmdldExvYWRlclZlcnNpb25JbmZvKCk7XHJcbiAgICAgICAgdGhpcy5GaW5nZXJwcmludFZlcnNpb25JbmZvID0gVXRpbHMuZ2V0RmluZ2VycHJpbnRWZXJzaW9uSW5mbygpO1xyXG4gICAgICAgIHRoaXMuRGVtb01vZGUgPSBVdGlscy5nZXREZW1vTW9kZSgpO1xyXG4gICAgICAgIHRoaXMuRW5jcnlwdGVkRW1haWwgPSBVdGlscy5nZXRFbmNyeXB0ZWRFbWFpbCgpIHx8IFwiXCI7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgQ2RwRXZlbnQgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IFBhZ2VWaWV3RGF0YU1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9wYWdlVmlldy9QYWdlVmlld0RhdGFNb2RlbFwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0UHJvcGVydGllcyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgRXZlbnROYW1lcyB9IGZyb20gXCJAQ29sbGVjdG9ycy9jb25zdGFudHMvRXZlbnRzXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgVGFnTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlVmlldyBleHRlbmRzIENkcEV2ZW50IHtcclxuICAgIHByaXZhdGUgdXNlclBvc2l0aW9uO1xyXG4gICAgcHJpdmF0ZSBpc1N0b3BMaXN0ZW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLklzQXN5bmMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnROYW1lID0gVXRpbHMuZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdGVuRXZlbnQoZXZlbnROYW1lOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1N0b3BMaXN0ZW4pIHJldHVybjtcclxuXHJcbiAgICAgICAgVXRpbHMuZ2V0VXNlclBvc2l0aW9uKCkudGhlbigocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgdGhpcy51c2VyUG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJhZGRFdmVudExpc3RlbmVyLi4uXCIsIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdG9wTGlzdGVuKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkZpcmluZyBldmVudE5hbWVcIiwgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUHJldmlvdXNEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9yaWdpbmFsRXZlbnREYXRhKGUuZGV0YWlsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuZXZlbnRGaXJlKHRoaXMpO1xyXG4gICAgICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldE9yaWdpbmFsRGF0YShldmVudERhdGEpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZXZlbnREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUN1c3RvbVByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50VHlwZSA9IEV2ZW50TmFtZXMuUGFnZVZpZXc7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50TmFtZSA9IEV2ZW50TmFtZXMuUGFnZVZpZXc7XHJcbiAgICAgICAgdGhpcy5ldmVudE1vZGVsLkV2ZW50U291cmNlID0gQ29uc3RhbnRzLkV2ZW50c1NvdXJjZXMuRzJJbnNpZ2h0cztcclxuICAgICAgICB0aGlzLmV2ZW50TW9kZWwuRXZlbnRUaW1lc3RhbXAgPSBEYXRlVXRpbC5nZXRUaW1lc3RhbXAodGhpcy5zZXNzaW9uU2VydmljZS5nZXRTdGFydFBhZ2VTZXNzaW9uKCkpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSBuZXcgUGFnZVZpZXdEYXRhTW9kZWwoeyBMb2NhdGlvbjogdGhpcy51c2VyUG9zaXRpb24gfSk7XHJcbiAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwiZW1haWxoYXNoXCIsICBldmVudERhdGEuRW5jcnlwdGVkRW1haWwpO1xyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtRXZlbnREYXRhKGV2ZW50RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Rmlyc3RWaXNpdFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50UGFnZXZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcExpc3RlbigpIHtcclxuICAgICAgICB0aGlzLmlzU3RvcExpc3RlbiA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgeyBEZXZpY2VJZENoYW5nZSB9IGZyb20gXCIuL0RldmljZUlkQ2hhbmdlXCI7XHJcbmV4cG9ydCB7IEcyaURldmljZUlkQ2hhbmdlIH0gZnJvbSBcIi4vRzJpRGV2aWNlSWRDaGFuZ2VcIjtcclxuZXhwb3J0IHsgTGVhdmVQYWdlIH0gZnJvbSBcIi4vTGVhdmVQYWdlXCJcclxuZXhwb3J0IHsgUGFnZVZpZXcgfSBmcm9tIFwiLi9QYWdlVmlld1wiOyIsImltcG9ydCB7IENvbGxlY3RvciB9IGZyb20gXCIuLy4uL0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBFdmVudE5hbWVzIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHNcIjtcclxuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gXCIuL2V2ZW50c1wiO1xyXG5pbXBvcnQgeyBXb3JrZmxvd01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvV29ya2Zsb3dNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb21tb25FdmVudHNDb2xsZWN0b3IgZXh0ZW5kcyBDb2xsZWN0b3Ige1xyXG4gICAgaXNFeGNsdWRlUGFnZVZpZXc6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXNFeGNsdWRlUGFnZVZpZXcpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaXNFeGNsdWRlUGFnZVZpZXcgPSBpc0V4Y2x1ZGVQYWdlVmlldztcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckV2ZW50cygpIHtcclxuICAgICAgICBjb25zdCBleGNsdWRlZExpc3QgPSB0aGlzLmlzRXhjbHVkZVBhZ2VWaWV3ID8gW0V2ZW50TmFtZXMuUGFnZVZpZXddIDogW107XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkRXZlbnRzID0gV29ya2Zsb3dNb2R1bGUubGltaXRDb21tb25FdmVudHMoZXZlbnRzLCBleGNsdWRlZExpc3QpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50cyA9IGZpbHRlcmVkRXZlbnRzO1xyXG4gICAgICAgIHN1cGVyLnJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHsgQ29sbGVjdG9yRmFjdG9yeSB9IGZyb20gXCIuL0NvbGxlY3RvckZhY3RvcnlcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IENvbW1vbkV2ZW50c0NvbGxlY3RvciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb21tb25FdmVudHMvQ29tbW9uRXZlbnRzQ29sbGVjdG9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENkcE1vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkNkcE1vZHVsZVwiKTtcclxuICAgIHB1YmxpYyBDb2xsZWN0TWV0YVRhZ3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyBmaXJlZEV2ZW50cyA9IFtdO1xyXG4gICAgcHVibGljIHNlbmRFdmVudHNEZWxheSA9IDA7XHJcblxyXG4gICAgcHVibGljIHNldHVwKGNvbGxlY3RvcnM6IEFycmF5PHN0cmluZz4pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgaXNFeGNsdWRlQ29tbW9uUGFnZVZpZXc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgY29sbGVjdG9ycy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3RvclR5cGUgPSBuZXcgQ29sbGVjdG9yRmFjdG9yeShpdGVtKS5jcmVhdGVDb2xsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJAIGZvckVhY2guQ29sbGVjdG9yID0gY29sbGVjdG9yVHlwZVwiLCBjb2xsZWN0b3JUeXBlKTtcclxuICAgICAgICAgICAgICAgIGlmICghY29sbGVjdG9yVHlwZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdG9yVHlwZS5yZWdpc3RlckV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3RvclR5cGUuaXNIYXZlUGFnZVZpZXdFdmVudCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNFeGNsdWRlQ29tbW9uUGFnZVZpZXcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb21tb25FdmVudHMgPSBuZXcgQ29tbW9uRXZlbnRzQ29sbGVjdG9yKGlzRXhjbHVkZUNvbW1vblBhZ2VWaWV3KTtcclxuICAgICAgICAgICAgY29tbW9uRXZlbnRzLnJlZ2lzdGVyRXZlbnRzKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBDb2xsZWN0b3JNb2R1bGUgPSBuZXcgQ2RwTW9kdWxlQ2xhc3MoKTsiLCJpbXBvcnQgeyBHdG1UYWdFdmVudCB9IGZyb20gXCIuL0d0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0NvbGxlY3RvciB7XHJcbiAgICBldmVudHM7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJHdG1UYWdDb2xsZWN0b3Igc3RhcnRcIik7XHJcblxyXG4gICAgcmVnaXN0ZXJUYWdFdmVudHMoKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50cyA9IE9iamVjdC5rZXlzKHRoaXMuZXZlbnRzKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnROYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRMaXN0ZW5lcjogR3RtVGFnRXZlbnQgPSBuZXcgdGhpcy5ldmVudHNbZXZlbnROYW1lXSgpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRMaXN0ZW5lci5saXN0ZW4oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvRXZlbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0V2ZW50IHtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50TmFtZTtcclxuICAgIHByb3RlY3RlZCBvcmlnaW5hbEV2ZW50RGF0YTtcclxuICAgIHB1YmxpYyBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiR3RtVGFnRXZlbnRcIik7XHJcbiAgICBzZW5kVGFnTmFtZTtcclxuICAgIGV2ZW50U2VydmljZTogRXZlbnRTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlID0gRXZlbnRTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxpc3RlbigpIHsgfVxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhOiBhbnkpIHtcclxuICAgICAgICB0aGlzLm9yaWdpbmFsRXZlbnREYXRhID0gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZW5kVGFnTmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kVGFnTmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS5zZW5kRXZlbnQodGFnTmFtZSB8fCB0aGlzLmdldFNlbmRUYWdOYW1lKCksIHRhZ0RhdGEgfHwgdGhpcy5nZXRTZW5kVGFnRGF0YSgpKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEdlbmVyaWNUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vLi4vR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTcEd0bVRhZ0V2ZW50IGV4dGVuZHMgR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWVzID0gW107XHJcbiAgICBjdXJyZW50RXZlbnROYW1lXHJcblxyXG4gICAgcHVibGljIGxpc3RlbigpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMgJiYgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50TmFtZXMuZm9yRWFjaCgoZXZlbnROYW1lLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbkV2ZW50KHRoaXMub3JpZ2luYWxFdmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcIk5vIGV2ZW50IE5hbWUgaW4gT2JqZWN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihcImFkZFNQVGFncy5FcnJvclwiLCBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxpc3RlbkV2ZW50KGV2ZW50TmFtZSkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiUmVnaXN0ZXJpbmcgU1AgVGFnc1wiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBrby5wb3N0Ym94LnN1YnNjcmliZShldmVudE5hbWUsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkZpcmluZ1wiLCBldmVudE5hbWUsIFwiZGF0YVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3JpZ2luYWxFdmVudERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUYWdUb0FuYWxpdGNzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoXCJhZGRTUFRhZ3MuRXJyb3JcIiwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbmRUYWdUb0FuYWxpdGNzKHRhZ05hbWU/LCB0YWdEYXRhPykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlLnNlbmRFdmVudCh0YWdOYW1lIHx8IHRoaXMuZ2V0U2VuZFRhZ05hbWUoKSwgdGFnRGF0YSB8fCB0aGlzLmdldFNlbmRUYWdEYXRhKCksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCk6IGFueSB7XHJcbiAgICAgICAgbGV0IHRhZ0V2ZW50TmFtZSA9IHRoaXMuZ2V0U2VuZFRhZ05hbWUoKTtcclxuICAgICAgICBpZiAodGFnRXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8R2VuZXJpY1RhZz57fVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufSIsIlxyXG5pbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJpbGxpbmdBZGRyZXNzQ29tcGxldGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJiaWxsaW5nX2FkZHJlc3NfY29tcGxldGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5CaWxsaW5nQWRkcmVzc0NvbXBsZXRlZFwiO1xyXG59IiwiaW1wb3J0IHsgQ2hlY2tvdXRTdGFydFRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvc3AvdGFncy9UYWdNb2RlbHNcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDaGVja291dFN0YXJ0VGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJwcmVzZW50YXRpb25fbG9hZGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5DaGVja291dFN0YXJ0XCI7XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgY29uc3QgZm5OYW1lID0gXCJnZXRTZW5kVGFnRGF0YVwiO1xyXG4gICAgICAgIGxldCBwaWQ7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImV2ZW50XCIsIFwiZGF0YVwiLCBkYXRhKTtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEucHJvbW90aW9uc0xpc3QpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcIkhhcyBQcm9tb3Rpb25zTGlzdFwiKTtcclxuICAgICAgICAgICAgcGlkID0gQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGRhdGEucHJvbW90aW9uc0xpc3QsIHMgPT4gcy5waWQpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJIYXMgUHJvbW90aW9uc0xpc3QucGlkTGlzdFwiLCBwaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICBsZXQgdGFnRGF0YSA9IDxDaGVja291dFN0YXJ0VGFnPntcclxuICAgICAgICAgICAgc3BfcGlkOiBwaWRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkYXRhLnBhcmFtcyAmJiBkYXRhLnBhcmFtcy5wcmVzZW50YXRpb25OYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ3JlYXRlQ2hlY2tvdXRTdGFydFRhZ1wiLCBcIkhhcyBQcmVzZW50YXRpb24gUGFyYW1zXCIpO1xyXG4gICAgICAgICAgICB0YWdEYXRhW1wic3BfcHJlc2VudGF0aW9uTmFtZVwiXSA9IGRhdGEucGFyYW1zLnByZXNlbnRhdGlvbk5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKGZuTmFtZSwgXCJ0YWdEYXRhID0+XCIsIHRhZ0RhdGEpO1xyXG4gICAgICAgIHJldHVybiB0YWdEYXRhO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVhdGVkTmV3VXNlcnRhZ0V2ZW50IGV4dGVuZHMgU3BHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiY3JlYXRlZF9uZXdfdXNlcl9lXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwic3AuQ3JlYXRlZE5ld1VzZXJcIjtcclxufSIsImltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVsZXZlcnlBZGRyZXNzQ29tcGxldGVkIGV4dGVuZHMgU3BHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwiZGVsaXZlcnlfYWRkcmVzc19jb21wbGV0ZWRfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLkRlbGl2ZXJ5QWRkcmVzc0NvbXBsZXRlZFwiO1xyXG59IiwiaW1wb3J0IHsgT2ZmZXJJbnB1dEludGVyZmFjZSB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9jb2xsZWN0b3JzL3NwLWNvbGxlY3Rvci9pbnRlcmZhY2VzL09mZmVySW5wdXRJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlclRhZ01vZGVsIHtcclxuICAgIElkOiBzdHJpbmc7XHJcbiAgICBQbGFuTmFtZTogc3RyaW5nO1xyXG4gICAgVG90YWxQcmljZTogbnVtYmVyO1xyXG4gICAgVHlwZTogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKSB7XHJcbiAgICAgICAgdGhpcy5JZCA9IHRoaXMuZ2V0T2ZmZXJJZChvZmZlcik7XHJcbiAgICAgICAgdGhpcy5QbGFuTmFtZSA9IG9mZmVyLk5hbWUsXHJcbiAgICAgICAgdGhpcy5Ub3RhbFByaWNlID0gb2ZmZXIuVG90YWxQcmljZTtcclxuICAgICAgICB0aGlzLlR5cGUgPSB0aGlzLmdldE9mZmVyVHlwZShvZmZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRPZmZlcklkKG9mZmVyOiBPZmZlcklucHV0SW50ZXJmYWNlKXtcclxuICAgICAgICBpZihvZmZlci5PZmZlcklkKXtcclxuICAgICAgICAgICAgcmV0dXJuIG9mZmVyLk9mZmVySWQudG9TdHJpbmcoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYob2ZmZXIuUGxhbklkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvZmZlci5QbGFuSWQudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldE9mZmVyVHlwZShvZmZlcjogT2ZmZXJJbnB1dEludGVyZmFjZSl7XHJcbiAgICAgICAgaWYgKChvZmZlci5Jc0RpZ2l0YWwgfHwgb2ZmZXIuSXNFZWRpdGlvbikgJiYgb2ZmZXIuSXNQcmludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJCb3RoXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvZmZlci5Jc0RpZ2l0YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRGlnaXRhbFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob2ZmZXIuSXNQcmludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJQcmludFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlVua25vd25cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgT2ZmZXJTZWxlY3RlZFRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvc3AvdGFncy9UYWdNb2RlbHNcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLy4uL1NwR3RtVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgT2ZmZXJUYWdNb2RlbCB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9tb2RlbHMvc3AvT2ZmZXJUYWdNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9mZmVyU2VsZWN0ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9mZmVyX3NlbGVjdGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5PZmZlclNlbGVjdGVkXCI7XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgY29uc3QgZm5OYW1lID0gXCJbcHJvY2Vzcy4uLk9mZmVyU2VsZWN0ZWRdXCI7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImRhdGFcIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mZmVyVGFnRGF0YSA9IG5ldyBPZmZlclRhZ01vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpO1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgR1RNIFRhZ1xyXG4gICAgICAgICAgICByZXR1cm4gPE9mZmVyU2VsZWN0ZWRUYWc+e1xyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJJZDogb2ZmZXJUYWdEYXRhLklkLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQbGFuTmFtZTogb2ZmZXJUYWdEYXRhLlBsYW5OYW1lLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQcmljZTogb2ZmZXJUYWdEYXRhLlRvdGFsUHJpY2UsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclR5cGU6IG9mZmVyVGFnRGF0YS5UeXBlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IE9mZmVyc1ByZXNlbnRlZFRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvc3AvdGFncy9UYWdNb2RlbHNcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9TcEd0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyVGFnTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPZmZlcnNQcmVzZW50ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9mZmVyc19wcmVzZW50ZWRfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLk9mZmVyc1ByZXNlbnRlZFwiO1xyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYW5EYXRhID0gdGhpcy5nZXRQbGFuSWRzKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXJzKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gPE9mZmVyc1ByZXNlbnRlZFRhZz57XHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlcklkczogcGxhbkRhdGEucGxhbklkcyxcclxuICAgICAgICAgICAgICAgIHNwX29mZmVyUGxhbk5hbWVzOiBwbGFuRGF0YS5wbGFuTmFtZXMsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclBsYW5Db25jYXQ6IHBsYW5EYXRhLnBsYW5zQ29uY2F0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFBsYW5JZHMob2ZmZXJzKXtcclxuICAgICAgICBsZXQgcGxhbklkcyA9IFtdLFxyXG4gICAgICAgICAgICBwbGFuTmFtZXMgPSBbXSxcclxuICAgICAgICAgICAgcGxhbnNDb25jYXQgPSBbXTtcclxuXHJcbiAgICAgICAgaWYob2ZmZXJzKXtcclxuICAgICAgICAgICAgb2ZmZXJzLmZvckVhY2gob2ZmZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFnT2ZmZXIgPSBuZXcgT2ZmZXJUYWdNb2RlbChvZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbklkcy5wdXNoKHRhZ09mZmVyLklkKSxcclxuICAgICAgICAgICAgICAgICAgICBwbGFuTmFtZXMucHVzaCh0YWdPZmZlci5QbGFuTmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhbnNDb25jYXQucHVzaCh0YWdPZmZlci5JZCArIFwiOlwiICsgdGFnT2ZmZXIuUGxhbk5hbWUpXHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBsYW5JZHM6IHBsYW5JZHMudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgcGxhbk5hbWVzOiBwbGFuTmFtZXMudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgcGxhbnNDb25jYXQ6IHBsYW5zQ29uY2F0LnRvU3RyaW5nKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQYXltZW50Q29tcGxldGVkVGFnIH0gZnJvbSBcIkBEYXRhL21vZGVscy9zcC90YWdzL1RhZ01vZGVsc1wiO1xyXG5pbXBvcnQgeyBQYXltZW50VHlwZXMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29uc3RhbnRzL1BheW1lbnRUeXBlc1wiO1xyXG5pbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBheW1lbnRDb21wbGV0ZWRUYWdFdmVudCBleHRlbmRzIFNwR3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWVzID0gT2JqZWN0LmtleXMoUGF5bWVudFR5cGVzKTtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5QYXltZW50Q29tcGxldGVkXCI7XHJcblxyXG5cclxuICAgIGdldFNlbmRUYWdEYXRhKCkge1xyXG4gICAgICAgIGxldCBmbk5hbWUgPSBcIltwcm9jZXNzLi4uUGF5bWVudENvbXBsZXRlZF1cIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcGF5bWVudE1ldGhvZCA9IFBheW1lbnRUeXBlc1t0aGlzLmN1cnJlbnRFdmVudE5hbWVdO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwicGF5bWVudE1ldGhvZFwiLCBwYXltZW50TWV0aG9kKTtcclxuICAgICAgICAgICAgLy8gY3JlYXRlIEdUTSBUYWdcclxuICAgICAgICAgICAgcmV0dXJuIDxQYXltZW50Q29tcGxldGVkVGFnPntcclxuICAgICAgICAgICAgICAgIHNwX3BheW1lbnRUeXBlOiBwYXltZW50TWV0aG9kXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdWJzY3JpcHRpb25Db21wbGV0ZWRUYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL3NwL3RhZ3MvVGFnTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwR3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9TcEd0bVRhZ0V2ZW50XCI7XHJcbmltcG9ydCB7IE9mZmVyVGFnTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL3NwL09mZmVyVGFnTW9kZWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25TdWNjZXNzVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJhZGRfc3Vic2NyaXB0aW9uX3N1Y2Nlc3NfZVwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcInNwLlN1YnNjcmlwdGlvblN1Y2Nlc3NcIjtcclxuXHJcbiAgICBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgR1RNIFRhZ1xyXG4gICAgICAgICAgICBjb25zdCBvZmZlclRhZyA9IG5ldyBPZmZlclRhZ01vZGVsKHRoaXMub3JpZ2luYWxFdmVudERhdGEub2ZmZXIpO1xyXG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLnN1YnNjcmlwdGlvbiB8fCB7fTtcclxuICAgICAgICAgICAgcmV0dXJuIDxTdWJzY3JpcHRpb25Db21wbGV0ZWRUYWc+e1xyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJJZDogb2ZmZXJUYWcuSWQgLFxyXG4gICAgICAgICAgICAgICAgc3Bfb2ZmZXJQbGFuTmFtZTogb2ZmZXJUYWcuUGxhbk5hbWUsXHJcbiAgICAgICAgICAgICAgICBzcF9vZmZlclByaWNlOiBvZmZlclRhZy5Ub3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgc3Bfc3ViRXZlbnRJZDogc3Vic2NyaXB0aW9uLkV2ZW50SWQsXHJcbiAgICAgICAgICAgICAgICBzcF9hY2NvdW50TnVtYmVyOiBzdWJzY3JpcHRpb24uQWNjb3VudE51bWJlcixcclxuICAgICAgICAgICAgICAgIHNwX3BheW1lbnRBdXRob3JpemF0aW9uQ29kZTogc3Vic2NyaXB0aW9uLlBheW1lbnRBdXRob3JpemF0aW9uQ29kZSxcclxuICAgICAgICAgICAgICAgIHNwX3N1YlN1YnNjcmlwdGlvbklkOiBzdWJzY3JpcHRpb24uU3Vic2NyaXB0aW9uSUQsXHJcbiAgICAgICAgICAgICAgICBzcF9zdWJTdWJzY3JpYmVySWQ6IHN1YnNjcmlwdGlvbi5TdWJzY3JpYmVySUQsXHJcbiAgICAgICAgICAgICAgICBzcF9yZWRpcmVjdFVybDogc3Vic2NyaXB0aW9uLlJlZGlyZWN0VXJsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgeyBTcEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4vLi4vU3BHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvQ29tcGxldGVkVGFnRXZlbnQgZXh0ZW5kcyBTcEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1c2VyX2luZm9fY29tcGxldGVkX2VcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJzcC5Vc2VySW5mb0NvbXBsZXRlZFwiO1xyXG59IiwiZXhwb3J0IHsgQmlsbGluZ0FkZHJlc3NDb21wbGV0ZWRUYWdFdmVudCB9IGZyb20gXCIuL0JpbGxpbmdBZGRyZXNzQ29tcGxldGVkVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQ2hlY2tvdXRTdGFydFRhZ0V2ZW50IH0gZnJvbSBcIi4vQ2hlY2tvdXRTdGFydFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IENyZWF0ZWROZXdVc2VydGFnRXZlbnQgfSBmcm9tIFwiLi9DcmVhdGVkTmV3VXNlcnRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IERlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZCB9IGZyb20gXCIuL0RlbGV2ZXJ5QWRkcmVzc0NvbXBsZXRlZFwiO1xyXG5leHBvcnQgeyBPZmZlclNlbGVjdGVkVGFnRXZlbnQgfSBmcm9tIFwiLi9PZmZlclNlbGVjdGVkVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgT2ZmZXJzUHJlc2VudGVkVGFnRXZlbnQgfSBmcm9tIFwiLi9PZmZlcnNQcmVzZW50ZWRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBQYXltZW50Q29tcGxldGVkVGFnRXZlbnQgfSBmcm9tIFwiLi9QYXltZW50Q29tcGxldGVkVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgU3Vic2NyaXB0aW9uU3VjY2Vzc1RhZ0V2ZW50IH0gZnJvbSBcIi4vU3Vic2NyaXB0aW9uU3VjY2Vzc1RhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IFVzZXJJbmZvQ29tcGxldGVkVGFnRXZlbnQgfSBmcm9tIFwiLi9Vc2VySW5mb0NvbXBsZXRlZFRhZ0V2ZW50XCI7IiwiaW1wb3J0IHsgR3RtVGFnQ29sbGVjdG9yIH0gZnJvbSBcIi4uLy4uL0d0bVRhZ0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgKiBhcyBSZWdpc3RlcmVkVGFnRXZlbnRzIGZyb20gXCIuL2V2ZW50c1wiXHJcblxyXG5leHBvcnQgY2xhc3MgU3BHdG1UYWdDb2xsZWN0b3IgIGV4dGVuZHMgR3RtVGFnQ29sbGVjdG9yIHtcclxuICAgIGV2ZW50czogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBSZWdpc3RlcmVkVGFnRXZlbnRzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uLy4uL0d0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29ubmV4dEd0bVRhZ0V2ZW50IGV4dGVuZHMgR3RtVGFnRXZlbnQge1xyXG4gICAgcHJvdGVjdGVkIGZpbHRlckZ1bmN0aW9uOiBGdW5jdGlvbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZSB9O1xyXG5cclxuICAgIHB1YmxpYyBsaXN0ZW4oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxFdmVudE5hbWUgKSB7XHJcbiAgICAgICAgICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCB0aGlzLm9yaWdpbmFsRXZlbnROYW1lLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZWVkQ29udGludWUgPSB0aGlzLmZpbHRlckZ1bmN0aW9uLmNhbGwodGhpcywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZWVkQ29udGludWUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE9yaWdpbmFsRXZlbnREYXRhKGUuZGV0YWlsKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRUYWdUb0FuYWxpdGNzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTWV0ZXJMZXZlbERpY3QsIE1ldGVyTGV2ZWwgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvTWV0ZXJMZXZlbE1vZGVsc1wiO1xyXG5pbXBvcnQgeyBNZXRlckxldmVsRGV0ZXJtaW5lZFRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC90YWdzL01ldGVyTGV2ZWxEZXRlcm1pbmVkVGFnXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZXRlckxldmVsU2V0VGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTWV0ZXJMZXZlbFNldFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm1ldGVyTGV2ZWxTZXRcIjtcclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIisrKysgcHJvY2Vzc2luZy4uLlwiLCBkYXRhKTtcclxuICAgICAgICAgICAgcmV0dXJuIDxNZXRlckxldmVsRGV0ZXJtaW5lZFRhZz57XHJcbiAgICAgICAgICAgICAgICBtZXRlckxldmVsOiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLk1ldGVyTGV2ZWwsXHJcbiAgICAgICAgICAgICAgICBtZXRlckxldmVsRGV0ZXJtaW5lTWV0aG9kOiBkYXRhLk1ldGhvZCxcclxuICAgICAgICAgICAgICAgIG1ldGVyUnVsZU5hbWU6IChkYXRhLlJ1bGUpID8gZGF0YS5SdWxlLk5hbWUgOiBcIk5vIFJ1bGVcIlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGVyU3RvcFRhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJtZXRlclN0b3BcIjtcclxufSIsImltcG9ydCB7IE1ldGVyU3RvcFRhZ0V2ZW50IH0gZnJvbSBcIi4vTWV0ZXJTdG9wVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEJhc2VBY3Rpb25UYWcgfSBmcm9tIFwiQERhdGEvbW9kZWxzL2Nvbm5leHQvdGFncy9BY3Rpb25UYWdzXCI7XHJcbmltcG9ydCB7IEFjdGlvblR5cGUsIEFjdGlvblR5cGVEaWN0LCBBY3Rpb25UeXBlcyB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9BY3Rpb25Nb2RlbHNcIjtcclxuaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGlvblNob3duVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQWN0aW9uU2hvd25cIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJhY3Rpb25TaG93blwiO1xyXG4gICAgcHJpdmF0ZSBhY3Rpb25UeXBlO1xyXG4gICAgcHJpdmF0ZSBhY3Rpb25TaG93VGFnO1xyXG4gICAgcHJpdmF0ZSBzZW5kRGF0YTtcclxuXHJcbiAgICBzZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhOiBhbnkpIHtcclxuICAgICAgICB0aGlzLnNlbmRUYWdOYW1lID0gXCJhY3Rpb25TaG93blwiO1xyXG4gICAgICAgIHN1cGVyLnNldE9yaWdpbmFsRXZlbnREYXRhKGRhdGEpO1xyXG4gICAgICAgIGxldCBldmVudERhdGEgPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkV2ZW50RGF0YTtcclxuICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSB0aGlzLmdldEFjdGlvblR5cGUoZXZlbnREYXRhID8gZXZlbnREYXRhLkFjdGlvblR5cGVJZCA6IFwiXCIpO1xyXG4gICAgICAgIHRoaXMuYWN0aW9uU2hvd1RhZyA9IHRoaXMuZ2V0QWN0aW9uU2hvd1RhZygpO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvblR5cGUgPT09IEFjdGlvblR5cGVzLlBheXdhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIklzIFBheXdhbGxcIik7XHJcbiAgICAgICAgICAgIG5ldyBNZXRlclN0b3BUYWdFdmVudCgpLnNlbmRUYWdUb0FuYWxpdGNzKG51bGwsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYWN0aW9uU2hvd1RhZykpOyAvLyBnbG9iYWwgYXJyYXkgc3RvcmVzIGxpbmtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZW5kRGF0YSA9IHRoaXMuYWN0aW9uU2hvd1RhZztcclxuICAgIH07XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYWdOYW1lKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvblR5cGUgIT09IEFjdGlvblR5cGVzLlBheXdhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIk5PVCBQYXl3YWxsXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kVGFnTmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEFjdGlvblNob3dUYWcoKTogYW55IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhID0gdGhpcy5vcmlnaW5hbEV2ZW50RGF0YS5FdmVudERhdGE7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwicHJvY2Vzc2luZy4uLlwiLCBldmVudERhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvblR5cGUgPSBldmVudERhdGEuQWN0aW9uVHlwZSB8fCB0aGlzLmdldEFjdGlvblR5cGUoZXZlbnREYXRhLkFjdGlvblR5cGVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJBY3Rpb25UeXBlXCIsIHRoaXMuYWN0aW9uVHlwZSk7XHJcbiAgICAgICAgICAgIGxldCBwYXJzZWRVc2VyRGVmaW5lZERhdGEgPSBVdGlscy5wYXJzZUpzb24oZXZlbnREYXRhLlVzZXJEZWZpbmVkRGF0YSk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyRGVmaW5lZERhdGE7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZWRVc2VyRGVmaW5lZERhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgdXNlckRlZmluZWREYXRhID0gcGFyc2VkVXNlckRlZmluZWREYXRhLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY3JlYXRlIGJhc2UgdGFnIG5vdywgYW5kIHRoZW4gd2UgY2FuIHBhc3MgdGhpcyBpbnRvIGVpdGhlciBoYW5kbGVBY3Rpb25TaG93biBvciBoYW5kbGVQYXl3YWxsLlxyXG4gICAgICAgICAgICBsZXQgYmFzZUFjdGlvblNob3duVGFnID0gPEJhc2VBY3Rpb25UYWc+e1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogZXZlbnREYXRhLk5hbWUsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb25EZXNjcmlwdGlvbjogZXZlbnREYXRhLkRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uVHlwZTogdGhpcy5hY3Rpb25UeXBlLFxyXG4gICAgICAgICAgICAgICAgdXNlckRlZmluZWREYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyRGVmaW5lZERhdGEpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIud2FybihcIkJhc2UgQWN0aW9uIFNob3duIFRhZ1wiLCBiYXNlQWN0aW9uU2hvd25UYWcpO1xyXG4gICAgICAgICAgICByZXR1cm4gYmFzZUFjdGlvblNob3duVGFnO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QWN0aW9uVHlwZSh0eXBlOiBudW1iZXIpOiBBY3Rpb25UeXBlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImdldEFjdGlvblR5cGVcIiwgdHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBBY3Rpb25UeXBlRGljdFt0eXBlXTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZXRlclN0YXJ0VGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcIm1ldGVyU3RhcnRcIjtcclxufSIsImltcG9ydCB7IENvbnZlcnNhdGlvblRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC90YWdzL0NvbnZlcnNhdGlvblRhZ1wiO1xyXG5pbXBvcnQgeyBDb25uZXh0R3RtVGFnRXZlbnQgfSBmcm9tIFwiLi8uLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuaW1wb3J0IHsgTWV0ZXJTdGFydFRhZ0V2ZW50IH0gZnJvbSBcIi4vTWV0ZXJTdGFydFRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFRhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJvbkNvbnZlcnNhdGlvbkRldGVybWluZWRcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJjb252ZXJzYXRpb25EZXRlcm1pbmVkXCI7XHJcbiAgICBwcml2YXRlIGNvbnZlcnNhdGlvblRhZztcclxuICAgIHByaXZhdGUgY29udmVyc2F0aW9uO1xyXG4gICAgcHJpdmF0ZSBwcm9wZXJ0aWVzO1xyXG5cclxuICAgIHNldE9yaWdpbmFsRXZlbnREYXRhKGRhdGEpIHtcclxuICAgICAgICBzdXBlci5zZXRPcmlnaW5hbEV2ZW50RGF0YShkYXRhKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInByb2Nlc3NpbmcuLi5cIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udmVyc2F0aW9uVGFnKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTWV0ZXJTdGFydCgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXRlclN0YXJ0VGFnKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udmVyc2F0aW9uVGFnO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0Q29udmVyc2F0aW9uVGFnKCk6IGFueSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5jb252ZXJzYXRpb24gPSB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLkNvbnZlcnNhdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gdGhpcy5jb252ZXJzYXRpb24gID8gKHRoaXMuY29udmVyc2F0aW9uLlByb3BzIHx8IHRoaXMuY29udmVyc2F0aW9uLlByb3BlcnRpZXMpIDoge307XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiaGFuZGxlQ29udmVyc2F0aW9uRGV0ZXJtaW5lZFwiLCBcImNvbnZlcnNhdGlvbkRhdGFcIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUT0RPOlxyXG4gICAgICAgICAgICAvLyBsZXQgZGF0YSA9IHRoaXMuY29udmVyc2F0aW9uZGF0YTtcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlU3RhcnRlZCA9IG5ldyBEYXRlKGRhdGEuUHJvcHMuRGF0ZS5zdGFydGVkKTtcclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVFeHBpcmF0aW9uID0gbmV3IERhdGUoZGF0YS5Qcm9wcy5EYXRlLmV4cGlyYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVTdGFydGVkID0gbmV3IERhdGUoZGF0YS5Qcm9wcy5EYXRlLnN0YXJ0ZWQpLnRvTG9jYWxlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vIHZhciBkYXRlRXhwaXJhdGlvbiA9IG5ldyBEYXRlKGRhdGEuUHJvcHMuRGF0ZS5leHBpcmF0aW9uKS50b0xvY2FsZVN0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVTdGFydGVkID0gXCIyMDE4MDYyNFwiO1xyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZUV4cGlyYXRpb24gPSBcIjIwMTgwNjI2XCI7XHJcbiAgICAgICAgICAgIGxldCBkYXRlU3RhcnRlZCwgZGF0ZUV4cGlyYXRpb247XHJcbiAgICAgICAgICAgIGxldCBkYXRlUHJvcGVydGllcyA9IHRoaXMucHJvcGVydGllcy5EYXRlO1xyXG4gICAgICAgICAgICBpZiAoZGF0ZVByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVTdGFydGVkID0gbmV3IERhdGUoZGF0ZVByb3BlcnRpZXMuU3RhcnRlZCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAtNSkgKyBcIlpcIjtcclxuICAgICAgICAgICAgICAgIGRhdGVFeHBpcmF0aW9uID0gZGF0ZVByb3BlcnRpZXMuRXhwaXJhdGlvbiA/IChuZXcgRGF0ZShkYXRlUHJvcGVydGllcy5FeHBpcmF0aW9uKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIC01KSArIFwiWlwiKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRvVVRDU3RyaW5nKClcclxuICAgICAgICAgICAgLy8gMjAxNi0wMS0xNyAwODo0NDoyOVxyXG4gICAgICAgICAgICAvLyB2YXIgZGF0ZVN0YXJ0ZWQgPSBkYXRhLlByb3BzLkRhdGUuc3RhcnRlZDtcclxuICAgICAgICAgICAgLy8gdmFyIGRhdGVFeHBpcmF0aW9uID0gZGF0YS5Qcm9wcy5EYXRlLmV4cGlyYXRpb247XHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgY29udmVyc2F0aW9uVGFnLlxyXG4gICAgICAgICAgICB0aGlzLmNvbnZlcnNhdGlvblRhZyA9IDxDb252ZXJzYXRpb25UYWc+e1xyXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uTmFtZTogdGhpcy5jb252ZXJzYXRpb24uTmFtZSxcclxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvblZpZXdzOiAodGhpcy5wcm9wZXJ0aWVzLlZpZXdzID09PSAwKSA/IDEgOiB0aGlzLnByb3BlcnRpZXMuVmlld3MsIC8vIGZpeCBmb3IgYSBjb25uZXh0IGJ1ZyB3aGVyZSBpZiBmaXJzdCBjb252ZXJzYXRpb24gdmlldyBpcyBhIG5vbi1tZXRlcmVkIGNvbnZvIHRoZW4gZmlyc3QgbWV0ZXJlZCBjb252byB3aWxsIGhhdmUgYXJ0aWNsZXZpZXcgPSAwLlxyXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uVmlld3NMZWZ0OiB0aGlzLnByb3BlcnRpZXMuQXJ0aWNsZUxlZnQsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25QYXl3YWxsTGltaXQ6IHRoaXMucHJvcGVydGllcy5QYXl3YWxsTGltaXQsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25EYXRlU3RhcnRlZDogZGF0ZVN0YXJ0ZWQsXHJcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25EYXRlRXhwaXJhdGF0aW9uOiBkYXRlRXhwaXJhdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJDb252ZXJzYXRpb25UYWdcIiwgdGhpcy5jb252ZXJzYXRpb25UYWcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNNZXRlclN0YXJ0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgIGxldCB2aWV3cyA9IHRoaXMucHJvcGVydGllcy5WaWV3cztcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oXCJpc01ldGVyU3RhcnQgLS0gdmlld3NcIiwgZGF0YS5Qcm9wcy52aWV3cy50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgIC8vIG9yIHN0YXRlbWVudCBpcyBmaXggZm9yIGEgY29ubmV4dCBidWcgd2hlcmUgaWYgZmlyc3QgY29udmVyc2F0aW9uIHZpZXcgaXMgYSBub24tbWV0ZXJlZCBjb252byB0aGVuIGZpcnN0IG1ldGVyZWQgY29udm8gd2lsbCBoYXZlIGFydGljbGV2aWV3ID0gMC5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoKHZpZXdzID09PSAxIHx8IHZpZXdzID09PSAwKSAmJiB0aGlzLm9yaWdpbmFsRXZlbnREYXRhLk1ldGVyTGV2ZWxJZCA9PT0gMikgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VuZE1ldGVyU3RhcnRUYWcoKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJoYW5kbGVNZXRlclN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAvLyBzaW5jZSBhbGwgQ29udmVyc2F0aW9uIERMVidzIGFyZSBzZXQgaW4gaGFuZGxlQ29udmVyc2F0aW9uRGV0ZXJtaW5lZCBhbmQgYXMgb2Ygbm93IHdlIGRvbid0IG5lZWQgZXh0cmEgZGF0YSBmb3IgTWV0ZXJTdGFydCwganVzdCBzZW5kIGVtcHR5IHBheWxvYWQuXHJcbiAgICAgICAgICAgIG5ldyBNZXRlclN0YXJ0VGFnRXZlbnQoKS5zZW5kVGFnVG9BbmFsaXRjcygpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPbkluaXRUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25Jbml0XCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwib25Jbml0XCI7XHJcbn0iLCJpbXBvcnQgeyBDb25uZXh0R3RtVGFnRXZlbnQgfSBmcm9tIFwiLi4vQ29ubmV4dEd0bVRhZ0V2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZVZpZXdUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25GaW5pc2hcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gXCJwYWdlVmlld1wiO1xyXG59IiwiaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIi4uL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5pbXBvcnQgeyBFbWFpbFByZWZlcmVuY2VJbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvY29sbGVjdG9ycy9jb25uZXh0LWNvbGxlY3Rvci9pbnRlcmZhY2VzL0VtYWlsUHJlZmVyZW5jZUludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5ld3NsZXR0ZXJTaWduVXBUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25OZXdzbGV0dGVyU2lnblVwXCI7XHJcbiAgICBzZW5kVGFnTmFtZSA9IFwibmV3c2xldHRlclNpZ251cFwiO1xyXG5cclxuICAgIHB1YmxpYyBnZXRTZW5kVGFnRGF0YSgpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHRoaXMub3JpZ2luYWxFdmVudERhdGE7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGVtYWlsUHJlZmVyZW5jZUlkOiB0aGlzLmdldEVtYWlsUHJlZmVyZW5jZUlkcyhkYXRhLkV2ZW50RGF0YSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEVtYWlsUHJlZmVyZW5jZUlkcyhldmVudERhdGE6IGFueSk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VJZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZUlkO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBlbWFpbFByZWZlcmVuY2VzSWRzID0gW107XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50RGF0YS5FbWFpbFByZWZlcmVuY2VzKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLkVtYWlsUHJlZmVyZW5jZXMuZm9yRWFjaCgoZW1haWxQcmVmZXJlbmNlOiBFbWFpbFByZWZlcmVuY2VJbnRlcmZhY2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbFByZWZlcmVuY2VzSWRzLnB1c2goZW1haWxQcmVmZXJlbmNlLklkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbWFpbFByZWZlcmVuY2VzSWRzLmpvaW4oXCIsXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgVXNlclN0YXRlID0ge1xyXG4gICAgXCJMb2dnZWRJblwiOiBcIktub3duXCIsXHJcbiAgICBcIlN1YnNjcmliZXJcIjogXCJTdWJzY3JpYmVyXCIsXHJcbiAgICBcIlVua25vd25cIjogXCJVbmtub3duXCJcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvbm5leHRVc2VyU3RhdGUgPSB7XHJcbiAgICBcIm5vdEF1dGhvcml6ZWRcIjogVXNlclN0YXRlLlVua25vd24sXHJcbiAgICBcImF1dGhvcml6ZWRcIjogVXNlclN0YXRlLkxvZ2dlZEluLFxyXG4gICAgXCJoYXNBY2Nlc3NcIjogVXNlclN0YXRlLlN1YnNjcmliZXJcclxufSIsImltcG9ydCB7IENvbm5leHRVc2VyU3RhdGUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vZGF0YS9tb2RlbHMvY29tbW9uL1VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9kYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBIYXNBY2Nlc3NUYWdFdmVudCBleHRlbmRzIENvbm5leHRHdG1UYWdFdmVudCB7XHJcbiAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwib25IYXNBY2Nlc3NcIjtcclxuICAgIHNlbmRUYWdOYW1lID0gQ29ubmV4dFVzZXJTdGF0ZS5oYXNBY2Nlc3M7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImhhbmRsZVVzZXJTdGF0ZVwiLCBcImV2ZW50XCIsIFwiZGF0YVwiLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5zZXRVc2VyU3RhdGUodGhpcy5zZW5kVGFnTmFtZSwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25uZXh0VXNlclN0YXRlIH0gZnJvbSBcIkBEYXRhL21vZGVscy9jb21tb24vVXNlck1vZGVsXCI7XHJcbmltcG9ydCB7IFVzZXJTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCJAQ29sbGVjdG9ycy9ndG1UYWctY29sbGVjdG9yL3RhZy1jb2xsZWN0b3JzL2Nvbm5leHQtdGFncy9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdXRob3JpemVkVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uQXV0aG9yaXplZFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLmF1dGhvcml6ZWQ7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImhhbmRsZVVzZXJTdGF0ZVwiLCBcImV2ZW50XCIsIFwiZGF0YVwiLCB0aGlzLm9yaWdpbmFsRXZlbnREYXRhKTtcclxuICAgICAgICAgICAgdGhpcy51c2VyU2VydmljZS5zZXRVc2VyU3RhdGUodGhpcy5zZW5kVGFnTmFtZSwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25uZXh0VXNlclN0YXRlIH0gZnJvbSBcIi4vLi4vLi4vLi4vLi4vLi4vZGF0YS9tb2RlbHMvY29tbW9uL1VzZXJNb2RlbFwiO1xyXG5pbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9kYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdFdmVudCB9IGZyb20gXCIuLi9Db25uZXh0R3RtVGFnRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOb3RBdXRob3JpemVkVGFnRXZlbnQgZXh0ZW5kcyBDb25uZXh0R3RtVGFnRXZlbnQge1xyXG4gICAgb3JpZ2luYWxFdmVudE5hbWUgPSBcIm9uTm90QXV0aG9yaXplZFwiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBDb25uZXh0VXNlclN0YXRlLm5vdEF1dGhvcml6ZWQ7XHJcbiAgICBwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyU2VydmljZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMudXNlclNlcnZpY2UgPSBVc2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnVG9BbmFsaXRjcyh0YWdOYW1lPywgdGFnRGF0YT8pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImhhbmRsZVVzZXJTdGF0ZVwiLCBcImRhdGFcIiwgdGhpcy5vcmlnaW5hbEV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclNlcnZpY2Uuc2V0VXNlclN0YXRlKHRoaXMuc2VuZFRhZ05hbWUsIHRoaXMub3JpZ2luYWxFdmVudERhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29ubmV4dEd0bVRhZ0V2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2d0bVRhZy1jb2xsZWN0b3IvdGFnLWNvbGxlY3RvcnMvY29ubmV4dC10YWdzL0Nvbm5leHRHdG1UYWdFdmVudFwiO1xyXG5pbXBvcnQgeyBDb25uZXh0TW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2Nvbm5leHRNb2R1bGUvQ29ubmV4dE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBDbGlja0FjdGlvblRhZyB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC90YWdzL0NsaWNrQWN0aW9uVGFnXCI7XHJcbmltcG9ydCB7IENsaWNrVXRpbHMgfSBmcm9tIFwiQFV0aWxzL0NsaWNrVXRpbHNcIjtcclxuaW1wb3J0IHsgQ2xpY2tBY3Rpb25Nb2RlbCB9IGZyb20gXCJARGF0YS9tb2RlbHMvY29ubmV4dC9DbGlja0FjdGlvbk1vZGVsXCI7XHJcbmltcG9ydCB7IENsaWNrRXZlbnROYW1lIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NvbnN0YW50cy9FdmVudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDbGlja1RhZ0V2ZW50IGV4dGVuZHMgQ29ubmV4dEd0bVRhZ0V2ZW50IHtcclxuICAgIG9yaWdpbmFsRXZlbnROYW1lID0gXCJjbGlja1wiO1xyXG4gICAgc2VuZFRhZ05hbWUgPSBcImNsaWNrXCI7XHJcbiAgICBjbGlja2VkRWxlbWVudDtcclxuICAgIG1nMmF0dHI6IHN0cmluZztcclxuICAgIGFsbG93ZWRBdHRycyA9IFtcclxuICAgICAgICBDbGlja0V2ZW50TmFtZS5Mb2dpbixcclxuICAgICAgICBDbGlja0V2ZW50TmFtZS5BY3RpdmF0ZSxcclxuICAgICAgICBDbGlja0V2ZW50TmFtZS5SZWdpc3RlcixcclxuICAgICAgICBDbGlja0V2ZW50TmFtZS5Mb2dvdXQsXHJcbiAgICAgICAgQ2xpY2tFdmVudE5hbWUuU3Vic2NyaWJlXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5maWx0ZXJGdW5jdGlvbiA9IGZ1bmN0aW9uKGU6IEN1c3RvbUV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ2xpY2sgRXZlbnRcIiwgZSwgXCJlLnRhcmdldFwiLCBlLnRhcmdldCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xpY2tlZEVsZW1lbnQgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgdGhpcy5tZzJhdHRyID0gQ2xpY2tVdGlscy5nZXRFdmVudE5hbWUodGhpcy5jbGlja2VkRWxlbWVudCBhcyBIVE1MRWxlbWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbG93ZWRBdHRycy5pbmRleE9mKHRoaXMubWcyYXR0cikgIT09IC0xO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2VuZFRhZ0RhdGEoKTogYW55IHtcclxuICAgICAgICBsZXQgYWN0aW9uRGF0YTogIENsaWNrQWN0aW9uTW9kZWwgPSBDb25uZXh0TW9kdWxlLmdldEFjdGlvbkRhdGFGcm9tRWxlbWVudCh0aGlzLmNsaWNrZWRFbGVtZW50KTtcclxuICAgICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBDb25uZXh0TW9kdWxlLmdldEN1cnJlbnRDb252ZXJzYXRpb24oKSBhcyB7IElkOiBudW1iZXIsIE5hbWU6IHN0cmluZyB9O1xyXG4gICAgICAgIGNvbnN0IGFydGljbGVWaWV3cyA9IENvbm5leHRNb2R1bGUuR2V0Q3VycmVudENvbnZlcnNhdGlvblZpZXdDb3VudCgpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IDxDbGlja0FjdGlvblRhZz57XHJcbiAgICAgICAgICAgIENsaWNrQWN0aW9uOiB0aGlzLm1nMmF0dHIsXHJcbiAgICAgICAgICAgIEFjdGlvbk5hbWU6IGFjdGlvbkRhdGE/LkFjdGlvbk5hbWUgfHwgbnVsbCxcclxuICAgICAgICAgICAgQWN0aW9uSWQ6IGFjdGlvbkRhdGE/LkFjdGlvbklkIHx8IG51bGwsXHJcbiAgICAgICAgICAgIEJ1dHRvblRleHQ6IHRoaXMuY2xpY2tlZEVsZW1lbnQudGV4dENvbnRlbnQgfHwgdGhpcy5jbGlja2VkRWxlbWVudC5pbm5lclRleHQsXHJcbiAgICAgICAgICAgIENvbnZlcnNhdGlvbk5hbWU6IGNvbnZlcnNhdGlvbi5OYW1lLFxyXG4gICAgICAgICAgICBBcnRpY2xlVmlld3M6IGFydGljbGVWaWV3cyAhPT0gbnVsbCA/IGFydGljbGVWaWV3cyArIFwiXCIgOiBudWxsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IHsgTWV0ZXJMZXZlbFNldFRhZ0V2ZW50IH0gZnJvbSBcIi4vTWV0ZXJMZXZlbFNldFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IEFjdGlvblNob3duVGFnRXZlbnQgfSBmcm9tIFwiLi9BY3Rpb25TaG93blRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IENvbnZlcnNhdGlvbkRldGVybWluZWRUYWdFdmVudCB9IGZyb20gXCIuL0NvbnZlcnNhdGlvbkRldGVybWluZWRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBNZXRlclN0YXJ0VGFnRXZlbnQgfSBmcm9tIFwiLi9NZXRlclN0YXJ0VGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgTWV0ZXJTdG9wVGFnRXZlbnQgfSBmcm9tIFwiLi9NZXRlclN0b3BUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBPbkluaXRUYWdFdmVudCB9IGZyb20gXCIuL09uSW5pdFRhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IFBhZ2VWaWV3VGFnRXZlbnQgfSBmcm9tIFwiLi9QYWdlVmlld1RhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IE5ld3NsZXR0ZXJTaWduVXBUYWdFdmVudCB9IGZyb20gXCIuL05ld3NsZXR0ZXJTaWduVXBUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBIYXNBY2Nlc3NUYWdFdmVudCB9IGZyb20gXCIuL0hhc0FjY2Vzc1RhZ0V2ZW50XCI7XHJcbmV4cG9ydCB7IEF1dGhvcml6ZWRUYWdFdmVudCB9IGZyb20gXCIuL0F1dGhvcml6ZWRUYWdFdmVudFwiO1xyXG5leHBvcnQgeyBOb3RBdXRob3JpemVkVGFnRXZlbnQgfSBmcm9tIFwiLi9Ob3RBdXRob3JpemVkVGFnRXZlbnRcIjtcclxuZXhwb3J0IHsgQ2xpY2tUYWdFdmVudCB9IGZyb20gXCIuL0NsaWNrVGFnRXZlbnRcIjsiLCJpbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi4vLi4vR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCAqIGFzIFJlZ2lzdGVyZWRUYWdFdmVudHMgZnJvbSBcIi4vZXZlbnRzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZXh0R3RtVGFnQ29sbGVjdG9yIGV4dGVuZHMgR3RtVGFnQ29sbGVjdG9yIHtcclxuICAgIGV2ZW50czogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSBSZWdpc3RlcmVkVGFnRXZlbnRzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29sbGVjdG9yVHlwZXMgfSBmcm9tIFwiLi8uLi9jb25zdGFudHMvQ29sbGVjdG9yVHlwZXNcIjtcclxuaW1wb3J0IHsgRmFjdG9yeSB9IGZyb20gXCJAQ29yZS9iYXNlL2ZhY3RvcnkvRmFjdG9yeVwiO1xyXG5pbXBvcnQgeyBHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi9HdG1UYWdDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgU3BHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi90YWctY29sbGVjdG9ycy9zcC10YWdzL1NwR3RtVGFnQ29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IENvbm5leHRHdG1UYWdDb2xsZWN0b3IgfSBmcm9tIFwiLi90YWctY29sbGVjdG9ycy9jb25uZXh0LXRhZ3MvQ29ubmV4dEd0bVRhZ0NvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEd0bVRhZ0NvbGxlY3RvckZhY3RvcnkgZXh0ZW5kcyBGYWN0b3J5IHtcclxuICAgIHByaXZhdGUgY29sbGVjdG9yVHlwZTogR3RtVGFnQ29sbGVjdG9yO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0b3I7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJDb2xsZWN0b3JGYWN0b3J5XCIpO1xyXG4gICAgcHVibGljIGNvbGxlY3RNZXRhVGFnczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbGxlY3RvcjogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RvciA9IGNvbGxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29sbGVjdG9yKCk6IEd0bVRhZ0NvbGxlY3RvciB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNvbGxlY3RvciA9IHRoaXMuY29sbGVjdG9yO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNyZWF0aW5nIENvbGxlY3RvcjogXCIsIGNvbGxlY3Rvcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29sbGVjdG9yLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuQ29ubmV4dC50b1VwcGVyQ2FzZSgpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdG9yVHlwZSA9IG5ldyBDb25uZXh0R3RtVGFnQ29sbGVjdG9yKClcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ29sbGVjdG9yVHlwZXMuU1AudG9VcHBlckNhc2UoKTpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RvclR5cGUgPSBuZXcgU3BHdG1UYWdDb2xsZWN0b3IoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJOb3QgYSB2YWxpZCBjb2xsZWN0b3JcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RvclR5cGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgR3RtVGFnQ29sbGVjdG9yRmFjdG9yeSB9IGZyb20gXCIuL0d0bVRhZ0NvbGxlY3RvckZhY3RvcnlcIjtcclxuaW1wb3J0IHsgSW5pdE9wdGlvbnMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL0luaXRPcHRpb25zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR3RtVGFnQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiR3RtVGFnTW9kdWxlXCIpO1xyXG4gICAgcHVibGljIHNldHVwKG9wdGlvbnM6IEluaXRPcHRpb25zKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGNvbGxlY3RvcnMgPSBvcHRpb25zLmNvbGxlY3RvcnM7XHJcblxyXG4gICAgICAgICAgICBjb2xsZWN0b3JzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29sbGVjdG9yVHlwZSA9IG5ldyBHdG1UYWdDb2xsZWN0b3JGYWN0b3J5KGl0ZW0pLmNyZWF0ZUNvbGxlY3RvcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIkAgZm9yRWFjaC5Db2xsZWN0b3IgPSBjb2xsZWN0b3JUeXBlXCIsIGNvbGxlY3RvclR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsZWN0b3JUeXBlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0b3JUeXBlLnJlZ2lzdGVyVGFnRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnQgY29uc3QgR3RtVGFnTW9kdWxlID0gbmV3IEd0bVRhZ0NsYXNzKCk7IiwiaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBpQ29udGVudE1vZGVsIHtcclxuICAgIGFydGljbGVfaWQ6IHN0cmluZztcclxuICAgIGNvbnRlbnRfaWQ6IHN0cmluZztcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBrZXl3b3Jkczogc3RyaW5nO1xyXG4gICAgc2VjdGlvbjogc3RyaW5nO1xyXG4gICAgdXJsOiBzdHJpbmc7XHJcbiAgICBjb250ZW50X3R5cGU6IHN0cmluZztcclxuICAgIGF1dGhvcjogc3RyaW5nO1xyXG4gICAgdGFnczogc3RyaW5nW10gPSBbXTtcclxuICAgIGxlYWRfaW1hZ2VfdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaXNoX2RhdGU6IHN0cmluZztcclxuICAgIHBpY3R1cmVzOiBudW1iZXI7XHJcbiAgICB2aWRlbzogbnVtYmVyO1xyXG4gICAgbGlrZXM6IG51bWJlcjtcclxuICAgIHNoYXJlczogbnVtYmVyO1xyXG4gICAgYnJlYWtpbmdfbmV3czogYm9vbGVhbjtcclxuICAgIHByZW1pdW06IGJvb2xlYW47XHJcbiAgICBsYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgbGVhZF90ZXh0OiBzdHJpbmc7XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY29udGVudF9pZCA9IHRoaXMudG9TdHJpbmcoZGF0YS5Db250ZW50SWQpO1xyXG4gICAgICAgIHRoaXMuYXJ0aWNsZV9pZCA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuYXJ0aWNsZV9pZCk7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuVGl0bGUpO1xyXG4gICAgICAgIHRoaXMua2V5d29yZHMgPSAgdGhpcy50b1N0cmluZyhkYXRhLktleXdvcmRzKTtcclxuICAgICAgICB0aGlzLnNlY3Rpb24gPSAgdGhpcy50b1N0cmluZyhkYXRhLlNlY3Rpb24pO1xyXG4gICAgICAgIHRoaXMudXJsID0gZGF0YS5Vcmw7XHJcbiAgICAgICAgdGhpcy5hdXRob3IgPSAgdGhpcy50b1N0cmluZyhkYXRhLkF1dGhvcik7XHJcbiAgICAgICAgdGhpcy50YWdzID0gZGF0YS5UYWdzID8gZGF0YS5UYWdzLnNwbGl0KFwiLFwiKSA6IHRoaXMudGFncztcclxuICAgICAgICB0aGlzLmNvbnRlbnRfdHlwZSA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuQ29udGVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMucHVibGlzaF9kYXRlID0gZGF0YS5QdWJsaXNoRGF0ZTtcclxuICAgICAgICB0aGlzLmxlYWRfdGV4dCA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuTGVhZFRleHQpO1xyXG4gICAgICAgIHRoaXMudGV4dCA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuVGV4dCk7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9ICB0aGlzLnRvU3RyaW5nKGRhdGEuRGVzY3JpcHRpb24pO1xyXG4gICAgICAgIHRoaXMucGljdHVyZXMgPSArZGF0YS5QaWN0dXJlcztcclxuICAgICAgICB0aGlzLnZpZGVvID0gK2RhdGEuVmlkZW87XHJcbiAgICAgICAgdGhpcy5saWtlcyA9ICtkYXRhLkxpa2VzO1xyXG4gICAgICAgIHRoaXMuc2hhcmVzID0gK2RhdGEuU2hhcmVzO1xyXG4gICAgICAgIHRoaXMuYnJlYWtpbmdfbmV3cyA9IGRhdGEuQnJlYWtpbmdOZXdzO1xyXG4gICAgICAgIHRoaXMucHJlbWl1bSA9IGRhdGEuUHJlbWl1bTtcclxuICAgICAgICB0aGlzLmxhbmd1YWdlID0gZGF0YS5MYW5ndWFnZTtcclxuICAgICAgICB0aGlzLmxlYWRfaW1hZ2VfdXJsID0gZGF0YS5MZWFkSW1hZ2VVcmxcclxuICAgIH1cclxuXHJcbiAgICB0b1N0cmluZyh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChVdGlscy5pc3NldCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCB7IERhdGVVdGlsIH0gZnJvbSBcIkBVdGlscy9EYXRlVXRpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRlbnRNb2RlbCB7XHJcbiAgICBUaXRsZTogc3RyaW5nO1xyXG4gICAgS2V5d29yZHM6IHN0cmluZztcclxuICAgIFNlY3Rpb246IHN0cmluZztcclxuICAgIFVybDogc3RyaW5nO1xyXG4gICAgQ29udGVudFR5cGU6IHN0cmluZztcclxuICAgIEF1dGhvcjogc3RyaW5nO1xyXG4gICAgVGFnczogc3RyaW5nO1xyXG4gICAgQ29udGVudElkOiBzdHJpbmc7XHJcbiAgICBQdWJsaXNoRGF0ZTogc3RyaW5nO1xyXG4gICAgTGVhZFRleHQ6IHN0cmluZztcclxuICAgIFRleHQ6IHN0cmluZztcclxuICAgIERlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBQaWN0dXJlczogbnVtYmVyO1xyXG4gICAgVmlkZW86IG51bWJlcjtcclxuICAgIExpa2VzOiBudW1iZXI7XHJcbiAgICBTaGFyZXM6IG51bWJlcjtcclxuICAgIEJyZWFraW5nTmV3czogYm9vbGVhbjtcclxuICAgIFByZW1pdW06IGJvb2xlYW47XHJcbiAgICBMYW5ndWFnZTogc3RyaW5nO1xyXG4gICAgTGVhZEltYWdlVXJsOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YTogYW55KSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuVGl0bGUgPSBkYXRhLlRpdGxlO1xyXG4gICAgICAgIHRoaXMuS2V5d29yZHMgPSBkYXRhLktleXdvcmRzO1xyXG4gICAgICAgIHRoaXMuU2VjdGlvbiA9IGRhdGEuU2VjdGlvbjtcclxuICAgICAgICB0aGlzLlVybCA9IGRhdGEuVXJsO1xyXG4gICAgICAgIHRoaXMuQ29udGVudFR5cGUgPSBkYXRhLkNvbnRlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuQXV0aG9yID0gZGF0YS5BdXRob3I7XHJcbiAgICAgICAgdGhpcy5UYWdzID0gZGF0YS5UYWdzO1xyXG4gICAgICAgIHRoaXMuQ29udGVudElkID0gZGF0YS5Db250ZW50SWQ7XHJcbiAgICAgICAgdGhpcy5QdWJsaXNoRGF0ZSA9IERhdGVVdGlsLmdldElTT0Zvcm1hdChkYXRhLlB1Ymxpc2hEYXRlKSB8fCBkYXRhLlB1Ymxpc2hEYXRlO1xyXG4gICAgICAgIHRoaXMuTGVhZFRleHQgPSBkYXRhLkxlYWRUZXh0O1xyXG4gICAgICAgIHRoaXMuVGV4dCA9IGRhdGEuVGV4dDtcclxuICAgICAgICB0aGlzLkRlc2NyaXB0aW9uID0gZGF0YS5EZXNjcmlwdGlvbjtcclxuICAgICAgICB0aGlzLlBpY3R1cmVzID0gZGF0YS5QaWN0dXJlcztcclxuICAgICAgICB0aGlzLlZpZGVvID0gZGF0YS5WaWRlbztcclxuICAgICAgICB0aGlzLkxpa2VzID0gZGF0YS5MaWtlcztcclxuICAgICAgICB0aGlzLlNoYXJlcyA9IGRhdGEuU2hhcmVzO1xyXG4gICAgICAgIHRoaXMuQnJlYWtpbmdOZXdzID0gZGF0YS5CcmVha2luZ05ld3M7XHJcbiAgICAgICAgdGhpcy5QcmVtaXVtID0gZGF0YS5QcmVtaXVtO1xyXG4gICAgICAgIHRoaXMuTGFuZ3VhZ2UgPSBkYXRhLkxhbmd1YWdlO1xyXG4gICAgICAgIHRoaXMuTGVhZEltYWdlVXJsID0gZGF0YS5MZWFkSW1hZ2VVcmw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBpc0FydGljbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLkNvbnRlbnRUeXBlKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gXCJhcnRpY2xlXCI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RpbWVuc2lvbnNNb2R1bGUvRGltZW5zaW9uc01vZHVsZVwiO1xyXG5pbXBvcnQgeyBBcGlDb250ZW50TW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL0FwaUNvbnRlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBDb250ZW50TW9kZWwgfSBmcm9tIFwiLi4vbW9kZWxzL0NvbnRlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlLCBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFdvcmtmbG93TW9kdWxlLCBSRUpFQ1RFRF9TRVJWSUNFUyB9IGZyb20gXCJATW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvV29ya2Zsb3dNb2R1bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250ZW50U2VydmljZUNsYXNzIHtcclxuICAgIHBhZ2VDb250ZW50OiBDb250ZW50TW9kZWw7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJBcnRpY2xlU3RvcmFnZVwiKTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0UGFnZUNvbnRlbnQoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlQ29udGVudCA9IG5ldyBDb250ZW50TW9kZWwoRGltZW5zaW9uc01vZHVsZS5nZXREaW1lbnNpb25zKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VDb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb250ZW50RXhpc3RzSW5DZHAoY29udGVudElkKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwiYXJ0aWNsZS9leGlzdHNcIiwgeyBjb250ZW50X2lkOiBjb250ZW50SWQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRDb250ZW50SW5DZHAoYXJ0aWNsZTogQ29udGVudE1vZGVsLCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHNlbmREYXRhID0gbmV3IEFwaUNvbnRlbnRNb2RlbChhcnRpY2xlKTtcclxuXHJcbiAgICAgICAgc2VuZERhdGFbXCJhcnRpY2xlX25vdF9leGlzdHNfYXBwcm92ZWRcIl0gPSBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZDtcclxuICAgICAgICBzZW5kRGF0YVtcInNpdGVfY29kZVwiXSA9IENvbmZpZ01vZHVsZS5nZXRTaXRlQ29kZSgpO1xyXG4gICAgICAgIHNlbmREYXRhW1wiY2xpZW50X2NvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UucG9zdChcImFydGljbGVcIiwgc2VuZERhdGEpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXJ0aWNsZVN0YXRzKGNvbnRlbnRJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwiYXJ0aWNsZS9zdGF0c1wiLCB7IGNvbnRlbnRfaWQ6IGNvbnRlbnRJZCB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvbnRlbnRTZXJ2aWNlID0gV29ya2Zsb3dNb2R1bGUuYXBwbHlSZWplY3RzKG5ldyBDb250ZW50U2VydmljZUNsYXNzKCksIFJFSkVDVEVEX1NFUlZJQ0VTLkNvbnRlbnRTZXJ2aWNlKTsiLCJpbXBvcnQgeyBDb250ZW50U2VydmljZSB9IGZyb20gXCIuL2NsYXNzZXMvQ29udGVudFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29udGVudE1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL0NvbnRlbnRNb2RlbFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSwgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuXHJcbmNsYXNzIFBhZ2VNb2R1bGVDbGFzcyB7XHJcbiAgICBpc0NoZWNrZWRBcnRpY2xlSW5DZHAgPSBmYWxzZTtcclxuICAgIHBhZ2VDb250ZW50OiBDb250ZW50TW9kZWw7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJQYWdlTW9kdWxlXCIpO1xyXG5cclxuICAgIHByaXZhdGUgc3Vic2NyaWJlUGFnZUxlYXZlKCkge1xyXG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IFV0aWxzLmdldFBhZ2VMZWF2ZUV2ZW50VHJpZ2dlcigpO1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgQ29udGVudFNlcnZpY2Uuc2VuZENvbnRlbnRJbkNkcCh0aGlzLnBhZ2VDb250ZW50LCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZW5kQ29udGVudFRvQ2RwKCkge1xyXG4gICAgICAgIGxldCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaWJlUGFnZUxlYXZlKCk7XHJcbiAgICAgICAgdGhpcy5wYWdlQ29udGVudCA9IENvbnRlbnRTZXJ2aWNlLmdldFBhZ2VDb250ZW50KCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRlbnQuaXNBcnRpY2xlKCkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRlbnQuQ29udGVudElkKSB7XHJcbiAgICAgICAgICAgICAgICBDb250ZW50U2VydmljZS5jb250ZW50RXhpc3RzSW5DZHAodGhpcy5wYWdlQ29udGVudC5Db250ZW50SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQ2hlY2tlZEFydGljbGVJbkNkcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29udGVudFtcImFydGljbGVfaWRcIl0gPSByZXN1bHRbXCJhcnRpY2xlX2lkXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29udGVudFNlcnZpY2Uuc2VuZENvbnRlbnRJbkNkcCh0aGlzLnBhZ2VDb250ZW50LCBhcnRpY2xlTm90RXhpc3RBcHByb3ZlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNDaGVja2VkQXJ0aWNsZUluQ2RwID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFydGljbGVOb3RFeGlzdEFwcHJvdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIENvbnRlbnRTZXJ2aWNlLnNlbmRDb250ZW50SW5DZHAodGhpcy5wYWdlQ29udGVudCwgYXJ0aWNsZU5vdEV4aXN0QXBwcm92ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NoZWNrZWRBcnRpY2xlSW5DZHAgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRBcnRpY2xlU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICB0aGlzLnBhZ2VDb250ZW50ID0gQ29udGVudFNlcnZpY2UuZ2V0UGFnZUNvbnRlbnQoKTtcclxuICAgICAgICBpZiAodGhpcy5wYWdlQ29udGVudC5pc0FydGljbGUoKSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYWdlQ29udGVudC5Db250ZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICByZXR1cm4gQ29udGVudFNlcnZpY2UuZ2V0QXJ0aWNsZVN0YXRzKHRoaXMucGFnZUNvbnRlbnQuQ29udGVudElkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiQ29udGVudElkIGlzIG5vdCBkZWZpbmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlRoaXMgcGFnZSBpcyBub3QgYXJ0aWNsZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUGFnZU1vZHVsZSA9IG5ldyBQYWdlTW9kdWxlQ2xhc3MoKTsiLCJpbXBvcnQgeyBDZHBNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY2RwTW9kdWxlL0NkcE1vZHVsZVwiO1xyXG5pbXBvcnQgeyBBcGlEbFJlc3BvbnNlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9pbnRlcmZhY2VzL0FwaURsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IFBhZ2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvcGFnZU1vZHVsZS9QYWdlTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRExDZHBQdWJsaWMge1xyXG5cclxuICAgIHB1YmxpYyBnZXRVc2VyRGF0YSgpOiBQcm9taXNlPEFwaURsUmVzcG9uc2U+IHtcclxuICAgICAgICByZXR1cm4gQ2RwTW9kdWxlLmdldERsSW5mb3JtYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXJ0aWNsZVN0YXRzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIFBhZ2VNb2R1bGUuZ2V0QXJ0aWNsZVN0YXRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJlY29tbWVuZGF0aW9uc1N0YXRzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRSZWNvbW1lbmRhdGlvbnNTdGF0cygpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJlY29tbWVuZGF0aW9ucygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBDZHBNb2R1bGUuZ2V0UmVjb21tZW5kYXRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEludGVyZXN0c1N0YXRzKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRVc2VySW50ZXJlc3RzU3RhdHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXJTdGF0cygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBDZHBNb2R1bGUuZ2V0RXJJbnRlcnByZXRhdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBcGlWZXJzaW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRBcGlWZXJzaW9uKCkudGhlbih2ZXJzaW9uRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGhlIHZlcnNpb24gb2YgdGhlIHBsYXRmb3JtIC1cIiArIHZlcnNpb25EYXRhLnZlcnNpb24pO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRoZSB2ZXJzaW9uIGlzIG5vdCBnZXQuIEVycm9yIC1cIiArIGVycm9yKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQcm9maWxlRGF0YShwYXJhbXM6IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcE1vZHVsZS5nZXRQcm9maWxlRGF0YShwYXJhbXMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ2RwQ29sbGVjdG9yTW9kdWxlIH0gZnJvbSBcIi4vY29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBDb2xsZWN0b3JNb2R1bGVcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIi4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IEd0bVRhZ01vZHVsZSB9IGZyb20gXCIuL2NvbGxlY3RvcnMvZ3RtVGFnLWNvbGxlY3Rvci9HdG1UYWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vZGF0YS9zZXJ2aWNlcy9UYWdNYW5hZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBJVGFnTWFuYWdlclNlcnZpY2UsIE1ldGFEYXRhU2VydmljZSwgRXZlbnRTZXJ2aWNlLCBBdXRob3JpemF0aW9uU2VydmljZX0gZnJvbSBcIi4vZGF0YS9zZXJ2aWNlcy9JbmRleFwiO1xyXG5pbXBvcnQgeyBBenVyZVNlcnZpY2UgfSBmcm9tIFwiLi9kYXRhL3NlcnZpY2VzL0F6dXJlU2VydmljZVwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL2RhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29va2llc1N0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVzU3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tIFwiLi9jb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBQYWdlTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL3BhZ2VNb2R1bGUvUGFnZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgRExDZHBQdWJsaWMgfSBmcm9tIFwiLi9ETENkcFB1YmxpY1wiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2RldmljZU1vZHVsZS9EZXZpY2VNb2R1bGVcIjtcclxuaW1wb3J0IHsgTWlzY01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9taXNjTW9kdWxlL01pc2NNb2R1bGVcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvd29ya2Zsb3dNb2RlTW9kdWxlL1dvcmtmbG93TW9kdWxlXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFBsdWdpbkNsYXNzIHtcclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBhenVyZVNlcnZpY2U6IEF6dXJlU2VydmljZTtcclxuICAgIHByaXZhdGUgdGFnTWFuYWdlclNlcnZpY2U6IElUYWdNYW5hZ2VyU2VydmljZTtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiUGx1Z2luXCIpO1xyXG4gICAgcHJpdmF0ZSBkZXZpY2VJZDogc3RyaW5nO1xyXG5cclxuICAgIGdldCBEYXRhTGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFnTWFuYWdlclNlcnZpY2UuZ2V0RGF0YUxheWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCIqKioqIEcySW5zaWdodHMgSW5pdGlhbGl6aW5nICoqKipcIik7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZSA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYXp1cmVTZXJ2aWNlID0gQXp1cmVTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2UgPSBUYWdNYW5hZ2VyU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvblNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXQob3B0czogT3B0aW9uc0ludGVyZmFjZSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIERldmljZU1vZHVsZS5pbml0RGV2aWNlSWQoKVxyXG4gICAgICAgICAgICAudGhlbigoZGV2aWNlSWQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2Uuc2V0RExWKFwiZmluZ2VyUHJpbnRJZFwiLCBkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuSW5zdGFuY2Uuc2VuZFRhZ0NvbGxlY3RlZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJObyBPcHRpb25zIFBhc3NlZCBJblwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5QbHVnaW5zRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBDb25maWdNb2R1bGUuc2V0SW5pdE9wdGlvbnMob3B0cyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5pdE1vZGVsID0gQ29uZmlnTW9kdWxlLmdldEluaXRDb25maWd1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkluaXRpYWxpemluZyBHMkFuYWx5dGljcyB3aXRoIG9wdGlvbnMuLi5cIiwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICBXb3JrZmxvd01vZHVsZS5zZXRNb2Rlcyhpbml0TW9kZWwuZmxvd01vZGVzKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50U2VydmljZS5JbnN0YW5jZS5yZXNlbmRGYWlsZWRFdmVudHMoKTsgLy8gbXVzdCBiZSBhZnRlciBpbml0IGNvbmZpZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGluaXRNb2RlbC5kZWJ1Zykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgcGFzc2VkIGluIGRlYnVnIHNldHRpbmcgYW5kIGl0IGlzIHRydWUsIHNvIHNldCBjb29raWUuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIENvb2tpZXNTdG9yYWdlLnNldChDb25zdGFudHMuY29va2llcy5Mb2dFbmFibGVkLCBpbml0TW9kZWwuZGVidWcudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluaXRNb2RlbC5jb250YWluZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTm8gQ29udGFpbmVyIElkIFNldFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpbml0TW9kZWwuY29sbGVjdG9ycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTm8gQ29sbGVjdG9ycyBTZXRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpbml0TW9kZWwuc2Vzc2lvbklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJIYXMgU2Vzc2lvbklkIFBhZ2VTZXNzaW9uSWQgWFhYLi4uLlwiLCBpbml0TW9kZWwuc2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQgPSBpbml0TW9kZWwuc2Vzc2lvbklkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBwYXNzZWQgaW4gYW5hbHlzaXMgb3B0aW9ucywgc2V0IHRoZXNlIG9wdGlvbnMgdG8gdGhlIHNlcnZpY2UuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25TZXJ2aWNlLnNldHVwKGluaXRNb2RlbC5kaW1lbnNpb25zKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdE1vZGVsLmFuYWx5c2lzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5henVyZVNlcnZpY2Uuc2V0dXAoaW5pdE1vZGVsLmFuYWx5c2lzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmpvaG5BenVyZVNlcnZpY2Uuc2V0dXAob3B0cy5hbmFseXNpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdE1vZGVsLmNvbGxlY3RvcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBDZHBDb2xsZWN0b3JNb2R1bGUuc2V0dXAoaW5pdE1vZGVsLmNvbGxlY3RvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0TW9kZWwuY2RwICYmIGluaXRNb2RlbC5jZHAuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZzJpX2RsID0gbmV3IERMQ2RwUHVibGljKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENkcE1vZHVsZS5zZXREbEluZm9ybWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2VNb2R1bGUuc2VuZENvbnRlbnRUb0NkcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBHdG1UYWdNb2R1bGUuc2V0dXAoaW5pdE1vZGVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5pdE1vZGVsLm1pc2MpIHtcclxuICAgICAgICAgICAgICAgICAgICBNaXNjTW9kdWxlLnByb2Nlc3MoaW5pdE1vZGVsLm1pc2MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY2FsbCB0aGlzIGZpcnN0IHNvIHdlIGNhbiBsb2FkIEdBIGFuZCBHVE1cclxuICAgICAgICAgICAgICAgIHRoaXMudGFnTWFuYWdlclNlcnZpY2Uuc2V0dXAoaW5pdE1vZGVsLmNvbnRhaW5lcklkKTtcclxuICAgICAgICAgICAgICAgIC8vIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIHRoaXMuYXp1cmVTZXJ2aWNlLnNlbmREYXRhKFwiZzJpT25Jbml0XCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gLy8gfSwgMzAwMCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmpvaG5BenVyZVNlcnZpY2Uuc2VuZERhdGEoXCJnMmlPbkluaXRcIik7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBHZXQvU2V0IEZwSWQgLS0gbWF5YmUgc2V0IGZwSWQgaW4gdXNlclNlcnZpY2VcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEZpcmUgZzJPbkluaXQgdG8gQXp1cmVTZXJ2aWNlIC0tIHNlcnZpY2Ugd2lsbCB0YWtlIGNhcmUgb2Ygc2VuZGluZyBkYXRhIG9yIG5vdCwgc28gbm8gbmVlZCB0byBjaGVjayBpZiB0aGlzIGlzIGVuYWJsZWQgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy8gLy8gdmFyIGVudGl0eSA9IHtcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIlBhcnRpdGlvbktleVwiOiBcIm9uSW5pdFwiLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiUm93S2V5XCI6IFwiNTc0YTQwMWUzMjliODAxZmIyMDQ1Y2I3YWUwYzE2NDNcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIkFpQXZhaWxcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIkdhQXZhaWxcIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIkd0bUF2YWlsXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJDeHRBdmFpbFwiOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiU2Vzc2lvbklkXCI6IFwiNzhkNTVkZTRhMGY1OTdiMzMwZDRmMmQ4OGQ3MGE4YzFcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIlRpbWVzcGFuXCI6IDE1NDE4MjcwNzA5OTcsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJEb21haW5cIjogXCJ3d3cuc3RhdGVzbWFuLmNvbVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiQnJvd3NlclwiOiBcIkNocm9tZVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gLy8gICAgIFwiT1NcIjogXCJ3aW5kb3dzXCIsXHJcbiAgICAgICAgICAgICAgICAvLyAvLyAgICAgXCJQYWdlXCI6IFwiL2VudGVydGFpbm1lbnRsaWZlLzIwMTgxMTA5L2F1c3RpbnMtZmlyc3QtaGlzcGFuaWMtZGV0ZWN0aXZlLXNhdy1pdC1hbGxcIixcclxuICAgICAgICAgICAgICAgIC8vIC8vICAgICBcIkZQSWRcIjogXCI1MzZlY2IxMGU5OTBjNDUzZTlmZjMzMzA1Njc3MGUyMlwiXHJcbiAgICAgICAgICAgICAgICAvLyAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyAvLyB0aGlzLmF6dXJlU2VydmljZS5zZW5kRGF0YShlbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jb2xsZWN0b3JTZXJ2aWNlLnNldHVwKG9wdHMuY29sbGVjdG9ycyk7XHJcbiAgICAgICAgICAgICAgICAvLyBpZihvcHRzLmRpbWVuc2lvbnMpe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuZGltZW5zaW9uU2VydmljZS5wcm9jZXNzKG9wdHMuZGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLm1ldGFUYWdTZXJ2aWNlLnByb2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IEZpcmUgZzJPbkZpbmlzaCB0byBBenVyZVNlcnZpY2UgLS0gc2VydmljZSB3aWxsIHRha2UgY2FyZSBvZiBzZW5kaW5nIGRhdGEgb3Igbm90LCBzbyBubyBuZWVkIHRvIGNoZWNrIGlmIHRoaXMgaXMgZW5hYmxlZCBoZXJlXHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwiRG9uZSBTZXR0aW5nIFVwIENvbGxlY3RvcnNcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU2V0TG9nZ2VyRW5hYmxlZCh2YWw6IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBMb2dnZXJTZXJ2aWNlLnNldEVuYWJsZWQodmFsKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgR2V0Q3VycmVudENEUERhdGEoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuY2RwU2VydmljZS5DRFBEYXRhO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGdldCBDRFBEYXRhKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmNkcFNlcnZpY2UuQ0RQRGF0YTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBnZXQgUXVldWVkQ0RQRGF0YSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5jZHBTZXJ2aWNlLlF1ZXVlZENEUERhdGE7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgZ2V0IEJyb3dzZXJTZXNzaW9uSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0RGV2aWNlU2Vzc2lvbklkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldExvZ0xldmVsKHN0ckxvZ0xldmVsOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBMb2dnZXJTZXJ2aWNlLnNldExldmVsKHN0ckxvZ0xldmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxpc3RlblBsdWdpbnNFdmVudHMoKSB7XHJcbiAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiTG9hZGVyOlJlY2FsY3VsYXRlOlNlc3Npb25JZFwiLCAoZXZlbnREYXRhOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQgPSBldmVudERhdGEuZGV0YWlsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuZXhwb3J0IGNvbnN0IFBsdWdpbiA9IG5ldyBQbHVnaW5DbGFzcygpOyIsImltcG9ydCB7IFBsdWdpbiB9IGZyb20gXCIuL1BsdWdpblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFB1YmxpY1BsdWdpbiB7XHJcblxyXG4gICAgaW5pdChpbml0T3B0aW9ucykge1xyXG4gICAgICAgIFBsdWdpbi5pbml0KGluaXRPcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgRGF0YUxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiBQbHVnaW4uRGF0YUxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRMb2dnZXJFbmFibGVkKHZhbDogYW55KSB7XHJcbiAgICAgICAgUGx1Z2luLlNldExvZ2dlckVuYWJsZWQodmFsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TG9nTGV2ZWwoc3RyTG9nTGV2ZWw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIFBsdWdpbi5TZXRMb2dMZXZlbChzdHJMb2dMZXZlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcclxuICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgYXJlIGluc2VydGVkIGJ5IENJIFRva2VuaXplclxyXG4gICAgICAgIHJldHVybiBcIlZlcnNpb246IFwiICsgKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0VmVyc2lvbkluZm8oKTogc3RyaW5nIHtcclxuICAgICAgICAvLyB0aGVzZSB2YWx1ZXMgYXJlIGluc2VydGVkIGJ5IENJIFRva2VuaXplclxyXG4gICAgICAgIHJldHVybiBcIlZlcnNpb246IFwiICsgKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKSArIFwiLCBCdWlsZDogXCIgKyAoXCIje19fQnVpbGQuQnVpbGROdW1iZXJfX30jXCIgfHwgXCJsb2NhbFwiKTtcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgeyBQdWJsaWNQbHVnaW4gfSBmcm9tIFwiLi9wbHVnaW4vUHVibGljUGx1Z2luXCI7XHJcbmltcG9ydCB7IERMQ2RwUHVibGljIH0gZnJvbSBcIi4vcGx1Z2luL0RMQ2RwUHVibGljXCI7XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcclxuICAgICAgICBDbm5YdDogYW55O1xyXG4gICAgICAgIENvbm5leHQ6IGFueTtcclxuICAgICAgICBGcHJpbnRpbmc6IGFueTtcclxuICAgICAgICBGaW5nZXJwcmludDogYW55O1xyXG4gICAgICAgIEZpbmdlcnByaW50MjogYW55O1xyXG4gICAgICAgIGcyaV9kbDogRExDZHBQdWJsaWM7XHJcbiAgICAgICAgZzJFeHRlbmRJbml0czogYW55O1xyXG4gICAgICAgIERldmljZURldGVjdG9yOiBEZXZpY2VEZXRlY3RvckxpYjtcclxuICAgIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIERldmljZURldGVjdG9yTGliIHtcclxuICAgIERldmljZTogYW55LFxyXG4gICAgVUE6IGFueSxcclxuICAgIEJyb3dzZXJzOiBBcnJheTxhbnk+XHJcbiAgICBPc0xpc3Q6ICBBcnJheTxhbnk+LFxyXG4gICAgUGxhdGZvcm1zOiAgQXJyYXk8YW55PlxyXG59XHJcblxyXG5sZXQgcGx1Z2luSW5zdGFuY2UgPSBuZXcgUHVibGljUGx1Z2luKCk7XHJcbig8YW55PndpbmRvdykuRzJBbmFseXRpY3MgPSBwbHVnaW5JbnN0YW5jZTtcclxuKDxhbnk+d2luZG93KS5HMkluc2lnaHRzID0gcGx1Z2luSW5zdGFuY2U7XHJcbig8YW55PndpbmRvdykuTUcySW5zaWdodHMgPSBwbHVnaW5JbnN0YW5jZTtcclxubGV0IE1HMkRMID0gd2luZG93W1wiRzJBbmFseXRpY3NcIl0uRGF0YUxheWVyOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9262\n')},8546:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "h": () => (/* binding */ CdpEventsManager)\n/* harmony export */ });\n/* unused harmony export CdpEventsManagerClass */\n/* harmony import */ var _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(438);\n/* harmony import */ var _Utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8652);\n/* harmony import */ var _Modules_dataCollector_DataCollector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5107);\n/* harmony import */ var _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8578);\n/* harmony import */ var _Data_services_FailedEventService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4757);\n/* harmony import */ var _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8908);\n/* harmony import */ var _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(3822);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CdpEventsManagerClass = (function () {\r\n    function CdpEventsManagerClass() {\r\n        this.Logger = _Utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_1__/* .LoggerService.createLogger */ .mQ.createLogger("CdpModule");\r\n        this.sessionService = _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_0__/* .SessionService.Instance */ .m.Instance;\r\n        this.CollectMetaTags = false;\r\n        this.firedEvents = [];\r\n        this.sendEventsDelay = 0;\r\n        this.isClosePageFlag = false;\r\n        this.lastSendedIds = [];\r\n        this.needExcludeOptionalFields = false;\r\n    }\r\n    CdpEventsManagerClass.prototype.setClosePageFlag = function (closeFlag) {\r\n        this.isClosePageFlag = closeFlag;\r\n    };\r\n    CdpEventsManagerClass.prototype.getClosePageFlag = function () {\r\n        return this.isClosePageFlag;\r\n    };\r\n    CdpEventsManagerClass.prototype.sentQueryEvents = function (updatedData) {\r\n        var _this = this;\r\n        if (this.firedEvents.length > 0) {\r\n            this.firedEvents.forEach(function (firedEvent) {\r\n                firedEvent.updateEventModel();\r\n                firedEvent.updateEventData();\r\n                firedEvent.updateRequiredFields(updatedData);\r\n                var firedData = firedEvent.getCalculateModel();\r\n                _Modules_dataCollector_DataCollector__WEBPACK_IMPORTED_MODULE_2__/* .DataCollector.addEventInCollector */ .M.addEventInCollector(firedEvent);\r\n                _this.sendEvent(firedData, firedEvent.getEventOptions());\r\n            });\r\n            this.firedEvents = [];\r\n        }\r\n    };\r\n    CdpEventsManagerClass.prototype.updateG2IDeviceId = function () {\r\n        var _this = this;\r\n        this.needExcludeOptionalFields = true;\r\n        if (this.firedEvents.length > 0) {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("has_events_queue=" + this.firedEvents.length);\r\n            this.firedEvents.forEach(function (cdpEvent) {\r\n                var isValid = cdpEvent.isValid(_this.needExcludeOptionalFields);\r\n                if (isValid) {\r\n                    var sendData = cdpEvent.getCalculateModel();\r\n                    _this.sessionService.saveRequiredData(sendData);\r\n                }\r\n            });\r\n            var sessionRequiredData = this.sessionService.getRequiredData();\r\n            if (sessionRequiredData) {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("has_valid_event");\r\n                this.sentQueryEvents(sessionRequiredData);\r\n            }\r\n            else {\r\n                var lastEvent_1 = this.firedEvents[this.firedEvents.length - 1];\r\n                var emptyFields_1 = [];\r\n                lastEvent_1.requiredFields.forEach(function (field) { return !lastEvent_1[field] && emptyFields_1.push(field); });\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("missed_required_fields: " + emptyFields_1.toString());\r\n            }\r\n        }\r\n    };\r\n    CdpEventsManagerClass.prototype.eventFire = function (input) {\r\n        var cdpEvent = input;\r\n        this.Logger.debug("eventFire EventModel - ", cdpEvent.eventModel);\r\n        this.Logger.debug("eventFire EventType - ", cdpEvent.eventModel.EventType);\r\n        this.Logger.debug("eventFire DeviceId - ", cdpEvent.eventModel.DeviceId);\r\n        var sendData = cdpEvent.getEventModel();\r\n        if (!sendData)\r\n            return;\r\n        var sessionRequiredData = this.sessionService.getRequiredData();\r\n        var isValid = cdpEvent.isValid(this.needExcludeOptionalFields);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.logEventFire */ .Y.logEventFire(sendData, isValid, this.firedEvents);\r\n        if (isValid) {\r\n            this.Logger.debug("eventFire EventType - " + cdpEvent.eventModel.EventType + " isValid");\r\n            if (!sessionRequiredData) {\r\n                this.sessionService.saveRequiredData(sendData);\r\n                this.sentQueryEvents(sendData);\r\n            }\r\n            else {\r\n                this.sentQueryEvents(sessionRequiredData);\r\n            }\r\n            _Modules_dataCollector_DataCollector__WEBPACK_IMPORTED_MODULE_2__/* .DataCollector.addEventInCollector */ .M.addEventInCollector(cdpEvent);\r\n            this.sendEvent(sendData, cdpEvent.getEventOptions());\r\n        }\r\n        else {\r\n            this.Logger.debug("eventFire EventType - " + cdpEvent.eventModel.EventType + " is not isValid");\r\n            if (sessionRequiredData) {\r\n                cdpEvent.updateRequiredFields(sessionRequiredData);\r\n                _Modules_dataCollector_DataCollector__WEBPACK_IMPORTED_MODULE_2__/* .DataCollector.addEventInCollector */ .M.addEventInCollector(cdpEvent);\r\n                this.sendEvent(cdpEvent.getCalculateModel(), cdpEvent.getEventOptions());\r\n            }\r\n            else {\r\n                this.firedEvents.push(cdpEvent);\r\n                this.Logger.debug("add Event in query - " + cdpEvent.eventModel.EventType + " is not isValid", this.firedEvents);\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    CdpEventsManagerClass.prototype.sendEvent = function (sendData, options) {\r\n        var _this = this;\r\n        if (!Array.isArray(sendData)) {\r\n            sendData = [sendData];\r\n        }\r\n        this.Logger.debug("sendArrayData", sendData);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.logSendEvent */ .Y.logSendEvent(sendData, options);\r\n        sendData.forEach(function (data) {\r\n            var eventId = data.Id;\r\n            if (_this.lastSendedIds.indexOf(eventId) === -1) {\r\n                _this.lastSendedIds.push();\r\n                _this.lastSendedIds = _this.lastSendedIds.slice(-10);\r\n                if (_this.isBeaconSupported()) {\r\n                    _this.cdpSendBeacon(data);\r\n                }\r\n                else {\r\n                    _this.sendDataFetch(data);\r\n                }\r\n            }\r\n            else {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.logPreventDuplicate */ .Y.logPreventDuplicate(eventId);\r\n            }\r\n        });\r\n    };\r\n    CdpEventsManagerClass.prototype.cdpSendBeacon = function (cdpData) {\r\n        var success = false;\r\n        var url = _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_6__/* .ConfigModule.getCdpEventsUrl */ .p.getCdpEventsUrl() + "?" + _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.getBeaconRequestUrlParam */ .Y.getBeaconRequestUrlParam(cdpData);\r\n        success = navigator.sendBeacon(url, JSON.stringify(cdpData));\r\n        return success;\r\n    };\r\n    CdpEventsManagerClass.prototype.isBeaconSupported = function () {\r\n        return navigator.sendBeacon ? true : false;\r\n    };\r\n    CdpEventsManagerClass.prototype.sendDataFetch = function (cdpData) {\r\n        if (this.getClosePageFlag()) {\r\n            _Data_services_FailedEventService__WEBPACK_IMPORTED_MODULE_4__/* .FailedEventService.Instance.stash */ .l.Instance.stash(cdpData);\r\n            return;\r\n        }\r\n        _Data_services_FailedEventService__WEBPACK_IMPORTED_MODULE_4__/* .FailedEventService.Instance.drop */ .l.Instance.drop(cdpData);\r\n        var fetchOptions = {};\r\n        fetchOptions = _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addFetchEventsLogHeader */ .Y.addFetchEventsLogHeader(fetchOptions);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addEventsCall */ .Y.addEventsCall(cdpData, "BEBORE_SEND");\r\n        _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.disableAuth */ .O.disableAuth();\r\n        _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.post */ .O.post("", cdpData, fetchOptions, _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_6__/* .ConfigModule.getCdpEventsUrl */ .p.getCdpEventsUrl())\r\n            .then(function () {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addEventsCall */ .Y.addEventsCall(cdpData, "THEN_FETCH");\r\n        })\r\n            .catch(function (error) {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addEventsCall */ .Y.addEventsCall(cdpData, "CATCH_FETCH " + String(error));\r\n        });\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_3__/* .BugTrackUtil.addEventsCall */ .Y.addEventsCall(cdpData, "AFTER_SEND");\r\n    };\r\n    return CdpEventsManagerClass;\r\n}());\r\n\r\nvar CdpEventsManager = new CdpEventsManagerClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsZ0JBQWdCLEVBQUUsRUFBRTtZQUN6Qix3SEFBaUMsQ0FBQyxPQUF3QixDQUFDLENBQUM7WUFDNUQsT0FBTztTQUNWO1FBSUQsc0hBQWdDLENBQUMsT0FBd0IsQ0FBQyxDQUFDO1FBRTNELElBQUksWUFBWSxHQUFHLEVBQWlCLENBQUM7UUFDckMsWUFBWSxHQUFHLHNIQUFvQyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2xFLGtHQUEwQixDQUFDLE9BQXdCLEVBQUUsYUFBYSxDQUFDLENBQUM7UUFFcEUsbUdBQXVCLEVBQUUsQ0FBQztRQUMxQixxRkFBZ0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxxSEFBNEIsRUFBRSxDQUFDO2FBQ3RFLElBQUksQ0FBQztZQUNGLGtHQUEwQixDQUFDLE9BQXdCLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDdkUsQ0FBQyxDQUFDO2FBQ0QsS0FBSyxDQUFDLFVBQUMsS0FBSztZQUNULGtHQUEwQixDQUFDLE9BQXdCLEVBQUUsaUJBQWUsTUFBTSxDQUFDLEtBQUssQ0FBRyxDQUFDLENBQUM7UUFDekYsQ0FBQyxDQUFDLENBQUM7UUFDUCxrR0FBMEIsQ0FBQyxPQUF3QixFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFDTCw0QkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLHFCQUFxQixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50c01hbmFnZXIudHM/NGM5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBTZW5kT3B0aW9uc01vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbCB9IGZyb20gXCIuL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50IH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50XCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgRGF0YUNvbGxlY3RvciB9IGZyb20gXCJATW9kdWxlcy9kYXRhQ29sbGVjdG9yL0RhdGFDb2xsZWN0b3JcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL2ludGVyZmFjZXMvbW9kZWxzL0NkcEV2ZW50TW9kZWxJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuaW1wb3J0IHsgRmFpbGVkRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL0ZhaWxlZEV2ZW50U2VydmljZVwiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWxJbnRlcmZhY2UgfSBmcm9tIFwiLi9pbnRlcmZhY2VzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEh0dHBPcHRpb25zIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cFwiO1xyXG5pbXBvcnQgeyBDZHBFdmVudEludGVyZmFjZSB9IGZyb20gXCIuL0NkcEV2ZW50SW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2RwRXZlbnRzTWFuYWdlckNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkNkcE1vZHVsZVwiKTtcclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2UgPSBTZXNzaW9uU2VydmljZS5JbnN0YW5jZTtcclxuICAgIHB1YmxpYyBDb2xsZWN0TWV0YVRhZ3M6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHB1YmxpYyBmaXJlZEV2ZW50czogQ2RwRXZlbnRJbnRlcmZhY2VbXSA9IFtdO1xyXG4gICAgcHVibGljIHNlbmRFdmVudHNEZWxheSA9IDA7XHJcbiAgICBwcml2YXRlIGlzQ2xvc2VQYWdlRmxhZyA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsYXN0U2VuZGVkSWRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBuZWVkRXhjbHVkZU9wdGlvbmFsRmllbGRzID0gZmFsc2U7XHJcblxyXG4gICAgc2V0Q2xvc2VQYWdlRmxhZyhjbG9zZUZsYWc6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLmlzQ2xvc2VQYWdlRmxhZyA9IGNsb3NlRmxhZztcclxuICAgIH1cclxuXHJcbiAgICBnZXRDbG9zZVBhZ2VGbGFnKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzQ2xvc2VQYWdlRmxhZztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbnRRdWVyeUV2ZW50cyh1cGRhdGVkRGF0YTogQ2RwRXZlbnRNb2RlbCkge1xyXG4gICAgICAgIGlmICh0aGlzLmZpcmVkRXZlbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5maXJlZEV2ZW50cy5mb3JFYWNoKChmaXJlZEV2ZW50OiBDZHBFdmVudEludGVyZmFjZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmlyZWRFdmVudC51cGRhdGVFdmVudE1vZGVsKCk7XHJcbiAgICAgICAgICAgICAgICBmaXJlZEV2ZW50LnVwZGF0ZUV2ZW50RGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmlyZWRFdmVudC51cGRhdGVSZXF1aXJlZEZpZWxkcyh1cGRhdGVkRGF0YSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJlZERhdGEgPSBmaXJlZEV2ZW50LmdldENhbGN1bGF0ZU1vZGVsKCkgYXMgQ2RwRXZlbnRNb2RlbDtcclxuICAgICAgICAgICAgICAgIERhdGFDb2xsZWN0b3IuYWRkRXZlbnRJbkNvbGxlY3RvcihmaXJlZEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZEV2ZW50KGZpcmVkRGF0YSwgZmlyZWRFdmVudC5nZXRFdmVudE9wdGlvbnMoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmZpcmVkRXZlbnRzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVHMklEZXZpY2VJZCgpIHtcclxuICAgICAgICB0aGlzLm5lZWRFeGNsdWRlT3B0aW9uYWxGaWVsZHMgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLmZpcmVkRXZlbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBoYXNfZXZlbnRzX3F1ZXVlPSR7dGhpcy5maXJlZEV2ZW50cy5sZW5ndGh9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlyZWRFdmVudHMuZm9yRWFjaCgoY2RwRXZlbnQ6IENkcEV2ZW50SW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gY2RwRXZlbnQuaXNWYWxpZCh0aGlzLm5lZWRFeGNsdWRlT3B0aW9uYWxGaWVsZHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZW5kRGF0YSA9IGNkcEV2ZW50LmdldENhbGN1bGF0ZU1vZGVsKCkgYXMgQ2RwRXZlbnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLnNhdmVSZXF1aXJlZERhdGEoc2VuZERhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblJlcXVpcmVkRGF0YTogQ2RwRXZlbnRNb2RlbCA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0UmVxdWlyZWREYXRhKCk7XHJcbiAgICAgICAgICAgIGlmIChzZXNzaW9uUmVxdWlyZWREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJoYXNfdmFsaWRfZXZlbnRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbnRRdWVyeUV2ZW50cyhzZXNzaW9uUmVxdWlyZWREYXRhKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RFdmVudCA9IHRoaXMuZmlyZWRFdmVudHNbdGhpcy5maXJlZEV2ZW50cy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVtcHR5RmllbGRzID0gW107XHJcbiAgICAgICAgICAgICAgICBsYXN0RXZlbnQucmVxdWlyZWRGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiAhbGFzdEV2ZW50W2ZpZWxkXSAmJiBlbXB0eUZpZWxkcy5wdXNoKGZpZWxkKSk7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYG1pc3NlZF9yZXF1aXJlZF9maWVsZHM6ICR7ZW1wdHlGaWVsZHMudG9TdHJpbmcoKX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXZlbnRGaXJlKGlucHV0OiBhbnkpIHtcclxuICAgICAgICBjb25zdCBjZHBFdmVudCA9IGlucHV0IGFzIENkcEV2ZW50SW50ZXJmYWNlO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiZXZlbnRGaXJlIEV2ZW50TW9kZWwgLSBcIiwgY2RwRXZlbnQuZXZlbnRNb2RlbCk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmVudEZpcmUgRXZlbnRUeXBlIC0gXCIsIGNkcEV2ZW50LmV2ZW50TW9kZWwuRXZlbnRUeXBlKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2ZW50RmlyZSBEZXZpY2VJZCAtIFwiLCBjZHBFdmVudC5ldmVudE1vZGVsLkRldmljZUlkKTtcclxuICAgICAgICBsZXQgc2VuZERhdGEgPSBjZHBFdmVudC5nZXRFdmVudE1vZGVsKCkgYXMgQ2RwRXZlbnRNb2RlbDtcclxuICAgICAgICBpZiAoIXNlbmREYXRhKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHNlc3Npb25SZXF1aXJlZERhdGE6IENkcEV2ZW50TW9kZWwgPSB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldFJlcXVpcmVkRGF0YSgpO1xyXG4gICAgICAgIGxldCBpc1ZhbGlkID0gY2RwRXZlbnQuaXNWYWxpZCh0aGlzLm5lZWRFeGNsdWRlT3B0aW9uYWxGaWVsZHMpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5sb2dFdmVudEZpcmUoc2VuZERhdGEsIGlzVmFsaWQsIHRoaXMuZmlyZWRFdmVudHMpO1xyXG5cclxuICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2ZW50RmlyZSBFdmVudFR5cGUgLSBcIiArIGNkcEV2ZW50LmV2ZW50TW9kZWwuRXZlbnRUeXBlICsgXCIgaXNWYWxpZFwiKTtcclxuICAgICAgICAgICAgaWYgKCFzZXNzaW9uUmVxdWlyZWREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLnNhdmVSZXF1aXJlZERhdGEoc2VuZERhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW50UXVlcnlFdmVudHMoc2VuZERhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW50UXVlcnlFdmVudHMoc2Vzc2lvblJlcXVpcmVkRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRGF0YUNvbGxlY3Rvci5hZGRFdmVudEluQ29sbGVjdG9yKGNkcEV2ZW50IGFzIENkcEV2ZW50SW50ZXJmYWNlKTtcclxuICAgICAgICAgICAgdGhpcy5zZW5kRXZlbnQoc2VuZERhdGEsIGNkcEV2ZW50LmdldEV2ZW50T3B0aW9ucygpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImV2ZW50RmlyZSBFdmVudFR5cGUgLSBcIiArIGNkcEV2ZW50LmV2ZW50TW9kZWwuRXZlbnRUeXBlICsgXCIgaXMgbm90IGlzVmFsaWRcIik7XHJcbiAgICAgICAgICAgIGlmIChzZXNzaW9uUmVxdWlyZWREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjZHBFdmVudC51cGRhdGVSZXF1aXJlZEZpZWxkcyhzZXNzaW9uUmVxdWlyZWREYXRhKTtcclxuICAgICAgICAgICAgICAgIERhdGFDb2xsZWN0b3IuYWRkRXZlbnRJbkNvbGxlY3RvcihjZHBFdmVudCBhcyBDZHBFdmVudEludGVyZmFjZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRFdmVudChjZHBFdmVudC5nZXRDYWxjdWxhdGVNb2RlbCgpIGFzIENkcEV2ZW50TW9kZWwsIGNkcEV2ZW50LmdldEV2ZW50T3B0aW9ucygpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlyZWRFdmVudHMucHVzaChjZHBFdmVudCBhcyBDZHBFdmVudEludGVyZmFjZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImFkZCBFdmVudCBpbiBxdWVyeSAtIFwiICsgY2RwRXZlbnQuZXZlbnRNb2RlbC5FdmVudFR5cGUgKyBcIiBpcyBub3QgaXNWYWxpZFwiLCB0aGlzLmZpcmVkRXZlbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNlbmRFdmVudChzZW5kRGF0YTogQ2RwRXZlbnRNb2RlbCB8IENkcEV2ZW50TW9kZWxbXSwgb3B0aW9ucz86IFNlbmRPcHRpb25zTW9kZWxJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VuZERhdGEpKSB7XHJcbiAgICAgICAgICAgIHNlbmREYXRhID0gW3NlbmREYXRhXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZW5kQXJyYXlEYXRhXCIsIHNlbmREYXRhKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwubG9nU2VuZEV2ZW50KHNlbmREYXRhLCBvcHRpb25zIGFzIFNlbmRPcHRpb25zTW9kZWwpO1xyXG4gICAgICAgIHNlbmREYXRhLmZvckVhY2goKGRhdGE6IENkcEV2ZW50TW9kZWwpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRJZCA9IGRhdGEuSWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RTZW5kZWRJZHMuaW5kZXhPZihldmVudElkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFNlbmRlZElkcy5wdXNoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RTZW5kZWRJZHMgPSB0aGlzLmxhc3RTZW5kZWRJZHMuc2xpY2UoLTEwKTsgLy8gc3RvcmUgbGFzdCAxMFxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzQmVhY29uU3VwcG9ydGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNkcFNlbmRCZWFjb24oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZERhdGFGZXRjaChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5sb2dQcmV2ZW50RHVwbGljYXRlKGV2ZW50SWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY291bGQgcmV0dXJuIGZhbHNlIHdoZW4gcmVxdWVzdCBpcyB2YWxpZCwgc28gd2Ugc3RvcCB1c2UgdGhpcyB2YWx1ZVxyXG4gICAgcHJpdmF0ZSBjZHBTZW5kQmVhY29uKGNkcERhdGE6IENkcEV2ZW50TW9kZWxJbnRlcmZhY2UpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NvbmZpZ01vZHVsZS5nZXRDZHBFdmVudHNVcmwoKX0/JHtCdWdUcmFja1V0aWwuZ2V0QmVhY29uUmVxdWVzdFVybFBhcmFtKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCl9YDtcclxuICAgICAgICBzdWNjZXNzID0gbmF2aWdhdG9yLnNlbmRCZWFjb24odXJsLCBKU09OLnN0cmluZ2lmeShjZHBEYXRhKSk7XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0JlYWNvblN1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnNlbmRCZWFjb24gPyB0cnVlIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZW5kRGF0YUZldGNoKGNkcERhdGE6IENkcEV2ZW50TW9kZWxJbnRlcmZhY2UpOiB2b2lkIHtcclxuICAgICAgICAvLyB3ZSBoYXZlbid0IGJlYWNvbiBzbyByZXNlbmQgZXZlbnRzIG9uIG5leHQgcGFnZWxvYWQgYWZ0ZXIgb25sb2FkIGV2ZW50XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q2xvc2VQYWdlRmxhZygpKSB7XHJcbiAgICAgICAgICAgIEZhaWxlZEV2ZW50U2VydmljZS5JbnN0YW5jZS5zdGFzaChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB3ZSBjYW4ndCB3YWl0IGZvciBzdWNjZXNzL2ZhaWwgY2FsbGJhY2tcclxuICAgICAgICAvLyBhbmQgd2UgZG9uJ3QgdHJ1c3QgZmFpbCBjYWxsYmFja1xyXG4gICAgICAgIEZhaWxlZEV2ZW50U2VydmljZS5JbnN0YW5jZS5kcm9wKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCk7XHJcblxyXG4gICAgICAgIGxldCBmZXRjaE9wdGlvbnMgPSB7fSBhcyBIdHRwT3B0aW9ucztcclxuICAgICAgICBmZXRjaE9wdGlvbnMgPSBCdWdUcmFja1V0aWwuYWRkRmV0Y2hFdmVudHNMb2dIZWFkZXIoZmV0Y2hPcHRpb25zKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXZlbnRzQ2FsbChjZHBEYXRhIGFzIENkcEV2ZW50TW9kZWwsIFwiQkVCT1JFX1NFTkRcIik7XHJcblxyXG4gICAgICAgIEh0dHBTZXJ2aWNlLmRpc2FibGVBdXRoKCk7XHJcbiAgICAgICAgSHR0cFNlcnZpY2UucG9zdChcIlwiLCBjZHBEYXRhLCBmZXRjaE9wdGlvbnMsIENvbmZpZ01vZHVsZS5nZXRDZHBFdmVudHNVcmwoKSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIlRIRU5fRkVUQ0hcIik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRFdmVudHNDYWxsKGNkcERhdGEgYXMgQ2RwRXZlbnRNb2RlbCwgYENBVENIX0ZFVENIICR7U3RyaW5nKGVycm9yKX1gKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEV2ZW50c0NhbGwoY2RwRGF0YSBhcyBDZHBFdmVudE1vZGVsLCBcIkFGVEVSX1NFTkRcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBFdmVudHNNYW5hZ2VyID0gbmV3IENkcEV2ZW50c01hbmFnZXJDbGFzcygpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8546\n')},6432:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "D": () => (/* binding */ SendOptionsModel)\n/* harmony export */ });\nvar SendOptionsModel = (function () {\r\n    function SendOptionsModel(data) {\r\n        this.IsAsync = false;\r\n        this.IsResend = false;\r\n        if (!data) {\r\n            return;\r\n        }\r\n        this.IsAsync = data.IsAsync;\r\n        this.IsResend = data.IsResend;\r\n    }\r\n    return SendOptionsModel;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQzMi5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtJQUlJLDBCQUFZLElBQUs7UUFIakIsWUFBTyxHQUFZLEtBQUssQ0FBQztRQUN6QixhQUFRLEdBQVksS0FBSyxDQUFDO1FBR3RCLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDUCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ2xDLENBQUM7SUFDTCx1QkFBQztBQUFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9TZW5kT3B0aW9uc01vZGVsLnRzPzNlNWUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNlbmRPcHRpb25zTW9kZWwge1xyXG4gICAgSXNBc3luYzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgSXNSZXNlbmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhPykge1xyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuSXNBc3luYyA9IGRhdGEuSXNBc3luYztcclxuICAgICAgICB0aGlzLklzUmVzZW5kID0gZGF0YS5Jc1Jlc2VuZDtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6432\n')},5079:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "g": () => (/* binding */ Constants)\n/* harmony export */ });\nvar Constants = (function () {\r\n    function Constants() {\r\n    }\r\n    Constants.preface = "G2I_";\r\n    Constants.cookies = {\r\n        LogLevel: Constants.preface + "logLevel",\r\n        LogEnabled: Constants.preface + "logEnabled",\r\n        FingerPrint: Constants.preface + "fingerPrintId",\r\n        BrowserSessionId: Constants.preface + "browserSessionId"\r\n    };\r\n    Constants.NoErInformation = -1;\r\n    Constants.EventsSources = {\r\n        "G2Insights": "g2i",\r\n        "Connext": "nxt",\r\n        "Panel": "pnl",\r\n        "Widget": "wid"\r\n    };\r\n    return Constants;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3OS5qcyIsIm1hcHBpbmdzIjoiOzs7QUFFQTtJQUFBO0lBaUJBLENBQUM7SUFoQlUsaUJBQU8sR0FBRyxNQUFNLENBQUM7SUFFakIsaUJBQU8sR0FBRztRQUNiLFFBQVEsRUFBRSxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVU7UUFDeEMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxPQUFPLEdBQUcsWUFBWTtRQUM1QyxXQUFXLEVBQUUsU0FBUyxDQUFDLE9BQU8sR0FBRyxlQUFlO1FBQ2hELGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxPQUFPLEdBQUcsa0JBQWtCO0tBQzNEO0lBRU0seUJBQWUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNyQix1QkFBYSxHQUFHO1FBQ25CLFlBQVksRUFBRSxLQUFLO1FBQ25CLFNBQVMsRUFBRSxLQUFLO1FBQ2hCLE9BQU8sRUFBRSxLQUFLO1FBQ2QsUUFBUSxFQUFFLEtBQUs7S0FDbEI7SUFDTCxnQkFBQztDQUFBO0FBakJxQiIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvcmUvY29uc3RhbnRzL0NvbnN0YW50cy50cz81YmZjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIENvbGxlY3RvclR5cGUgPSBcIkNPTk5FWFRcIiB8IFwiU1BcIiB8IFwiRkxJVFRaXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uc3RhbnRzIHtcclxuICAgIHN0YXRpYyBwcmVmYWNlID0gXCJHMklfXCI7XHJcblxyXG4gICAgc3RhdGljIGNvb2tpZXMgPSB7XHJcbiAgICAgICAgTG9nTGV2ZWw6IENvbnN0YW50cy5wcmVmYWNlICsgXCJsb2dMZXZlbFwiLFxyXG4gICAgICAgIExvZ0VuYWJsZWQ6IENvbnN0YW50cy5wcmVmYWNlICsgXCJsb2dFbmFibGVkXCIsXHJcbiAgICAgICAgRmluZ2VyUHJpbnQ6IENvbnN0YW50cy5wcmVmYWNlICsgXCJmaW5nZXJQcmludElkXCIsXHJcbiAgICAgICAgQnJvd3NlclNlc3Npb25JZDogQ29uc3RhbnRzLnByZWZhY2UgKyBcImJyb3dzZXJTZXNzaW9uSWRcIlxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBOb0VySW5mb3JtYXRpb24gPSAtMTtcclxuICAgIHN0YXRpYyBFdmVudHNTb3VyY2VzID0ge1xyXG4gICAgICAgIFwiRzJJbnNpZ2h0c1wiOiBcImcyaVwiLFxyXG4gICAgICAgIFwiQ29ubmV4dFwiOiBcIm54dFwiLFxyXG4gICAgICAgIFwiUGFuZWxcIjogXCJwbmxcIixcclxuICAgICAgICBcIldpZGdldFwiOiBcIndpZFwiXHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5079\n')},3483:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "B": () => (/* binding */ FirstVisitProperties)\n/* harmony export */ });\nvar FirstVisitProperties = {\r\n    CollectTime: "ts_diff",\r\n    CountClick: "cnt_click",\r\n    CountPageview: "cnt_pageview",\r\n    CountCreateAccountEvents: "cnt_createaccount",\r\n    CountCheckoutStartEvents: "cnt_checkoutstart"\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ4My5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBTyxJQUFNLG9CQUFvQixHQUFHO0lBQ2hDLFdBQVcsRUFBRSxTQUFTO0lBQ3RCLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLGFBQWEsRUFBRSxjQUFjO0lBQzdCLHdCQUF3QixFQUFFLG1CQUFtQjtJQUM3Qyx3QkFBd0IsRUFBRSxtQkFBbUI7Q0FDaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb3JlL2NvbnN0YW50cy9GaXJzdFZpc2l0UHJvcGVydGllcy50cz9lY2RiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBGaXJzdFZpc2l0UHJvcGVydGllcyA9IHtcclxuICAgIENvbGxlY3RUaW1lOiBcInRzX2RpZmZcIixcclxuICAgIENvdW50Q2xpY2s6IFwiY250X2NsaWNrXCIsXHJcbiAgICBDb3VudFBhZ2V2aWV3OiBcImNudF9wYWdldmlld1wiLFxyXG4gICAgQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzOiBcImNudF9jcmVhdGVhY2NvdW50XCIsXHJcbiAgICBDb3VudENoZWNrb3V0U3RhcnRFdmVudHM6IFwiY250X2NoZWNrb3V0c3RhcnRcIlxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3483\n')},9615:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "U": () => (/* binding */ PluginInnerEvents)\n/* harmony export */ });\nvar PluginInnerEvents = {\r\n    DlCdpGetSuccess: "g2iDlFinished",\r\n    DlCdpGetFail: "g2iDlError",\r\n    GetInterestsStats: "g2iDInterestsStatsFinished",\r\n    GetInterestsStatsError: "g2iDInterestsStatsError",\r\n    GetErInterpretation: "onG2ISetErInterpretation",\r\n    GetErInterpretationError: "onG2IErrorSetErInterpretation",\r\n    DlRecommendationsFinished: "g2iDlRecommendationsFinished",\r\n    DlRecommendationsError: "g2iDlRecommendationsError",\r\n    DlRecommendationsStatsFinished: "g2iDlRecommendationsStatsFinished",\r\n    DlRecommendationsStatsError: "g2iDlRecommendationsStatsError",\r\n    InnerClick: "onInnerClick",\r\n    RegenererationResendSuccess: "g2iRegenererationResendSuccess",\r\n    G2IAfterSetInitOptions: "g2iAfterSetInitOptions"\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTYxNS5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBTyxJQUFNLGlCQUFpQixHQUFHO0lBQzdCLGVBQWUsRUFBRSxlQUFlO0lBQ2hDLFlBQVksRUFBRSxZQUFZO0lBQzFCLGlCQUFpQixFQUFFLDRCQUE0QjtJQUMvQyxzQkFBc0IsRUFBRSx5QkFBeUI7SUFDakQsbUJBQW1CLEVBQUUsMEJBQTBCO0lBQy9DLHdCQUF3QixFQUFFLCtCQUErQjtJQUN6RCx5QkFBeUIsRUFBRSw4QkFBOEI7SUFDekQsc0JBQXNCLEVBQUUsMkJBQTJCO0lBQ25ELDhCQUE4QixFQUFFLG1DQUFtQztJQUNuRSwyQkFBMkIsRUFBRSxnQ0FBZ0M7SUFDN0QsVUFBVSxFQUFFLGNBQWM7SUFDMUIsMkJBQTJCLEVBQUUsZ0NBQWdDO0lBQzdELHNCQUFzQixFQUFFLHdCQUF3QjtDQUNuRCIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzLnRzP2FmOGUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBsdWdpbklubmVyRXZlbnRzID0ge1xyXG4gICAgRGxDZHBHZXRTdWNjZXNzOiBcImcyaURsRmluaXNoZWRcIixcclxuICAgIERsQ2RwR2V0RmFpbDogXCJnMmlEbEVycm9yXCIsXHJcbiAgICBHZXRJbnRlcmVzdHNTdGF0czogXCJnMmlESW50ZXJlc3RzU3RhdHNGaW5pc2hlZFwiLFxyXG4gICAgR2V0SW50ZXJlc3RzU3RhdHNFcnJvcjogXCJnMmlESW50ZXJlc3RzU3RhdHNFcnJvclwiLFxyXG4gICAgR2V0RXJJbnRlcnByZXRhdGlvbjogXCJvbkcySVNldEVySW50ZXJwcmV0YXRpb25cIixcclxuICAgIEdldEVySW50ZXJwcmV0YXRpb25FcnJvcjogXCJvbkcySUVycm9yU2V0RXJJbnRlcnByZXRhdGlvblwiLFxyXG4gICAgRGxSZWNvbW1lbmRhdGlvbnNGaW5pc2hlZDogXCJnMmlEbFJlY29tbWVuZGF0aW9uc0ZpbmlzaGVkXCIsXHJcbiAgICBEbFJlY29tbWVuZGF0aW9uc0Vycm9yOiBcImcyaURsUmVjb21tZW5kYXRpb25zRXJyb3JcIixcclxuICAgIERsUmVjb21tZW5kYXRpb25zU3RhdHNGaW5pc2hlZDogXCJnMmlEbFJlY29tbWVuZGF0aW9uc1N0YXRzRmluaXNoZWRcIixcclxuICAgIERsUmVjb21tZW5kYXRpb25zU3RhdHNFcnJvcjogXCJnMmlEbFJlY29tbWVuZGF0aW9uc1N0YXRzRXJyb3JcIixcclxuICAgIElubmVyQ2xpY2s6IFwib25Jbm5lckNsaWNrXCIsXHJcbiAgICBSZWdlbmVyZXJhdGlvblJlc2VuZFN1Y2Nlc3M6IFwiZzJpUmVnZW5lcmVyYXRpb25SZXNlbmRTdWNjZXNzXCIsXHJcbiAgICBHMklBZnRlclNldEluaXRPcHRpb25zOiBcImcyaUFmdGVyU2V0SW5pdE9wdGlvbnNcIlxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9615\n')},5045:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "v": () => (/* binding */ CookiesStorage)\n});\n\n// UNUSED EXPORTS: CookiesStorageClass\n\n// EXTERNAL MODULE: ./src/plugin/utils/DeviceDetector.ts\nvar DeviceDetector = __webpack_require__(9276);\n// EXTERNAL MODULE: ./src/plugin/core/storages/local/LocalStorage.ts\nvar LocalStorage = __webpack_require__(2880);\n;// CONCATENATED MODULE: ./src/plugin/core/storages/cookies/CookieDublicator.ts\n\r\n\r\nvar CookieDublicator = (function () {\r\n    function CookieDublicator() {\r\n        this.safariCookieMaxAge = 604800000;\r\n        this.prefix = "Cookie_";\r\n        this.localStorage = new LocalStorage/* LocalStorage */.m();\r\n    }\r\n    CookieDublicator.prototype.dublicateCookieToLocalStorageIfItNeed = function (key, value, attributes) {\r\n        if (!this.isDublicateToLocalStorage(key, value, attributes) || !value) {\r\n            this.localStorage.delete(this.prefix + key);\r\n            return false;\r\n        }\r\n        var cookie = Object.assign({}, attributes);\r\n        cookie["key"] = key;\r\n        cookie["value"] = value;\r\n        this.localStorage.set(this.prefix + key, cookie);\r\n    };\r\n    CookieDublicator.prototype.dublicateLocalStorageToCookieIfItNeed = function (key) {\r\n        if (!this.isDublicateToCookie(key)) {\r\n            return false;\r\n        }\r\n        var cookie, cookieAge;\r\n        try {\r\n            cookie = this.localStorage.get(this.prefix + key);\r\n            cookieAge = new Date(cookie.expires);\r\n        }\r\n        catch (e) {\r\n            this.localStorage.delete(this.prefix + key);\r\n            return false;\r\n        }\r\n        if (this.isOutDatedLocalStorage(cookieAge)) {\r\n            this.localStorage.delete(this.prefix + key);\r\n            return false;\r\n        }\r\n        document.cookie = this.stringifyAttributes(cookie);\r\n    };\r\n    CookieDublicator.prototype.isDublicateToCookie = function (key) {\r\n        return this.isSafari();\r\n    };\r\n    CookieDublicator.prototype.isDublicateToLocalStorage = function (key, value, attributes) {\r\n        if (this.isSafari()) {\r\n            return this.isDublicateSafari(new Date(attributes.expires));\r\n        }\r\n        return false;\r\n    };\r\n    CookieDublicator.prototype.isDublicateSafari = function (cookieAge) {\r\n        return cookieAge.getTime() > (new Date()).getTime() + this.safariCookieMaxAge;\r\n    };\r\n    CookieDublicator.prototype.stringifyAttributes = function (attributes) {\r\n        var stringifiedAttributes = attributes.key + "=" + attributes.value;\r\n        delete attributes.key;\r\n        delete attributes.value;\r\n        for (var attributeName in attributes) {\r\n            if (!attributes[attributeName]) {\r\n                continue;\r\n            }\r\n            stringifiedAttributes += "; " + attributeName;\r\n            if (attributes[attributeName] === true) {\r\n                continue;\r\n            }\r\n            stringifiedAttributes += "=" + attributes[attributeName];\r\n        }\r\n        return stringifiedAttributes;\r\n    };\r\n    CookieDublicator.prototype.isOutDatedLocalStorage = function (cookieAge) {\r\n        return (new Date).getTime() >= cookieAge.getTime();\r\n    };\r\n    CookieDublicator.prototype.isSafari = function () {\r\n        return DeviceDetector/* DeviceDetector.getBrowser */.D.getBrowser() === "Safari";\r\n    };\r\n    ;\r\n    return CookieDublicator;\r\n}());\r\n;\r\nvar cookieDublicator = new CookieDublicator();\r\n\n;// CONCATENATED MODULE: ./src/plugin/core/storages/cookies/JsCookie.ts\n\r\nvar JsCookie = (function () {\r\n    function JsCookie() {\r\n        this.defaults = {};\r\n    }\r\n    JsCookie.getInstance = function () {\r\n        if (!JsCookie.instance) {\r\n            JsCookie.instance = new JsCookie();\r\n        }\r\n        return JsCookie.instance;\r\n    };\r\n    JsCookie.prototype.extend = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var i = 0;\r\n        var result = {};\r\n        for (; i < args.length; i++) {\r\n            var attributes = args[i];\r\n            for (var key in attributes) {\r\n                result[key] = attributes[key];\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    JsCookie.prototype.set = function (key, value, attributes, converter) {\r\n        if (converter === void 0) { converter = {}; }\r\n        var result;\r\n        if (typeof document === "undefined") {\r\n            return false;\r\n        }\r\n        attributes = this.extend({\r\n            path: "/"\r\n        }, this.defaults, attributes);\r\n        if (typeof attributes.expires === "number") {\r\n            var expires = new Date();\r\n            expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n            attributes.expires = expires;\r\n        }\r\n        attributes.expires = attributes.expires ? attributes.expires.toUTCString() : "";\r\n        try {\r\n            result = JSON.stringify(value);\r\n            if (/^[\\{\\[]/.test(result)) {\r\n                value = result;\r\n            }\r\n        }\r\n        catch (e) { }\r\n        if (!converter.write) {\r\n            value = encodeURIComponent(String(value))\r\n                .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\r\n        }\r\n        else {\r\n            value = converter.write(value, key);\r\n        }\r\n        key = encodeURIComponent(String(key));\r\n        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\r\n        key = key.replace(/[\\(\\)]/g, escape);\r\n        var stringifiedAttributes = "";\r\n        for (var attributeName in attributes) {\r\n            if (!attributes[attributeName]) {\r\n                continue;\r\n            }\r\n            stringifiedAttributes += "; " + attributeName;\r\n            if (attributes[attributeName] === true) {\r\n                continue;\r\n            }\r\n            stringifiedAttributes += "=" + attributes[attributeName];\r\n        }\r\n        cookieDublicator.dublicateCookieToLocalStorageIfItNeed(key, value, attributes);\r\n        document.cookie = key + "=" + value + stringifiedAttributes;\r\n        return true;\r\n    };\r\n    JsCookie.prototype.get = function (key, converter, json) {\r\n        if (converter === void 0) { converter = {}; }\r\n        if (json === void 0) { json = false; }\r\n        var result;\r\n        if (typeof document === "undefined") {\r\n            return;\r\n        }\r\n        if (!key) {\r\n            result = {};\r\n        }\r\n        cookieDublicator.dublicateLocalStorageToCookieIfItNeed(key);\r\n        var cookies = document.cookie ? document.cookie.split("; ") : [];\r\n        var rdecode = /(%[0-9A-Z]{2})+/g;\r\n        var i = 0;\r\n        for (; i < cookies.length; i++) {\r\n            var parts = cookies[i].split("=");\r\n            var cookie = parts.slice(1).join("=");\r\n            if (!json && cookie.charAt(0) === "\\"") {\r\n                cookie = cookie.slice(1, -1);\r\n            }\r\n            try {\r\n                var name_1 = parts[0].replace(rdecode, decodeURIComponent);\r\n                cookie = converter.read ? converter.read(cookie, name_1) : cookie.replace(rdecode, decodeURIComponent);\r\n                if (json) {\r\n                    try {\r\n                        cookie = JSON.parse(cookie);\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                if (key === name_1) {\r\n                    result = cookie;\r\n                    break;\r\n                }\r\n                if (!key) {\r\n                    result[name_1] = cookie;\r\n                }\r\n            }\r\n            catch (e) { }\r\n        }\r\n        return result;\r\n    };\r\n    JsCookie.prototype.getJson = function (key, converter) {\r\n        if (converter === void 0) { converter = {}; }\r\n        return this.get(key, converter, true);\r\n    };\r\n    JsCookie.prototype.remove = function (key, attributes) {\r\n        return this.set(key, "", this.extend(attributes, {\r\n            expires: -1\r\n        }));\r\n    };\r\n    ;\r\n    return JsCookie;\r\n}());\r\n\r\n;\r\n\n// EXTERNAL MODULE: ./src/plugin/core/storages/memoryProxy/MemoryProxyStorage.ts + 1 modules\nvar MemoryProxyStorage = __webpack_require__(219);\n;// CONCATENATED MODULE: ./src/plugin/core/storages/cookies/CookiesStorage.ts\n\r\n\r\nvar CookiesStorageClass = (function () {\r\n    function CookiesStorageClass() {\r\n        this.cookies = JsCookie.getInstance();\r\n        return MemoryProxyStorage/* MemoryProxyStorage.applyProxy */.H.applyProxy(this, "CookiesStorage");\r\n    }\r\n    CookiesStorageClass.prototype.isSupported = function () {\r\n        var cookies = JsCookie.getInstance();\r\n        var result = false;\r\n        try {\r\n            var key = "isSupportedCookieKey";\r\n            var value = "isSupportedCookieValue";\r\n            cookies.set(key, value, null);\r\n            if (cookies.get(key) === value) {\r\n                cookies.remove(key, null);\r\n                result = true;\r\n            }\r\n        }\r\n        catch (ex) {\r\n            result = false;\r\n        }\r\n        finally {\r\n            return result;\r\n        }\r\n    };\r\n    CookiesStorageClass.prototype.get = function (key, converter) {\r\n        if (converter === void 0) { converter = {}; }\r\n        return this.cookies.get(key, converter);\r\n    };\r\n    CookiesStorageClass.prototype.set = function (key, value, options, converter) {\r\n        if (converter === void 0) { converter = {}; }\r\n        if (options && options.daysOfLife) {\r\n            var expireDate = new Date();\r\n            expireDate.setDate(expireDate.getDate() + options.daysOfLife);\r\n            options.expires = expireDate;\r\n        }\r\n        return this.cookies.set(key, value, options, converter);\r\n    };\r\n    CookiesStorageClass.prototype.delete = function (key, options) {\r\n        return this.cookies.remove(key, options);\r\n    };\r\n    CookiesStorageClass.prototype.clear = function () {\r\n        return false;\r\n    };\r\n    return CookiesStorageClass;\r\n}());\r\n\r\nvar CookiesStorage = new CookiesStorageClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQztZQUM5RCxPQUFPLENBQUMsT0FBTyxHQUFHLFVBQVUsQ0FBQztTQUNoQztRQUNELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVNLG9DQUFNLEdBQWIsVUFBYyxHQUFXLEVBQUUsT0FBUTtRQUMvQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRU0sbUNBQUssR0FBWjtRQUNJLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFDTCwwQkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxjQUFjLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9jb29raWVzL0Nvb2tpZUR1YmxpY2F0b3IudHM/OGM5MSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvSnNDb29raWUudHM/MWNjMiIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2Nvb2tpZXMvQ29va2llc1N0b3JhZ2UudHM/YTc1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZXZpY2VEZXRlY3RvciB9IGZyb20gXCJAVXRpbHMvRGV2aWNlRGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uL2xvY2FsL0xvY2FsU3RvcmFnZVwiO1xyXG5cclxuY2xhc3MgQ29va2llRHVibGljYXRvciB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNhZmFyaUNvb2tpZU1heEFnZSA9IDYwNDgwMDAwMDsgLy8gNyBkYXlzXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByZWZpeCA9IFwiQ29va2llX1wiO1xyXG4gICAgcHJpdmF0ZSBsb2NhbFN0b3JhZ2U6IExvY2FsU3RvcmFnZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmxvY2FsU3RvcmFnZSA9IG5ldyBMb2NhbFN0b3JhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHVibGljYXRlQ29va2llVG9Mb2NhbFN0b3JhZ2VJZkl0TmVlZChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cmlidXRlczogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRHVibGljYXRlVG9Mb2NhbFN0b3JhZ2Uoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcykgfHwgIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLmRlbGV0ZSh0aGlzLnByZWZpeCArIGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNvb2tpZSA9IE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIGNvb2tpZVtcImtleVwiXSA9IGtleTtcclxuICAgICAgICBjb29raWVbXCJ2YWx1ZVwiXSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlLnNldCh0aGlzLnByZWZpeCArIGtleSwgY29va2llKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHVibGljYXRlTG9jYWxTdG9yYWdlVG9Db29raWVJZkl0TmVlZChrZXk6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0R1YmxpY2F0ZVRvQ29va2llKGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29va2llLFxyXG4gICAgICAgICAgICBjb29raWVBZ2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29va2llID0gdGhpcy5sb2NhbFN0b3JhZ2UuZ2V0KHRoaXMucHJlZml4ICsga2V5KTtcclxuICAgICAgICAgICAgY29va2llQWdlID0gbmV3IERhdGUoY29va2llLmV4cGlyZXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UuZGVsZXRlKHRoaXMucHJlZml4ICsga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pc091dERhdGVkTG9jYWxTdG9yYWdlKGNvb2tpZUFnZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UuZGVsZXRlKHRoaXMucHJlZml4ICsga2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSB0aGlzLnN0cmluZ2lmeUF0dHJpYnV0ZXMoY29va2llKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRHVibGljYXRlVG9Db29raWUoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1NhZmFyaSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEdWJsaWNhdGVUb0xvY2FsU3RvcmFnZShrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgYXR0cmlidXRlczogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTYWZhcmkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0R1YmxpY2F0ZVNhZmFyaShuZXcgRGF0ZShhdHRyaWJ1dGVzLmV4cGlyZXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEdWJsaWNhdGVTYWZhcmkoY29va2llQWdlOiBEYXRlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGNvb2tpZUFnZS5nZXRUaW1lKCkgPiAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgdGhpcy5zYWZhcmlDb29raWVNYXhBZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdHJpbmdpZnlBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IGFueSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHN0cmluZ2lmaWVkQXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMua2V5ICsgXCI9XCIgKyBhdHRyaWJ1dGVzLnZhbHVlO1xyXG4gICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzLmtleTtcclxuICAgICAgICBkZWxldGUgYXR0cmlidXRlcy52YWx1ZTtcclxuICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gXCI7IFwiICsgYXR0cmlidXRlTmFtZTtcclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSBcIj1cIiArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZEF0dHJpYnV0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc091dERhdGVkTG9jYWxTdG9yYWdlKGNvb2tpZUFnZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAobmV3IERhdGUpLmdldFRpbWUoKSA+PSBjb29raWVBZ2UuZ2V0VGltZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNTYWZhcmkoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZURldGVjdG9yLmdldEJyb3dzZXIoKSA9PT0gXCJTYWZhcmlcIjtcclxuICAgIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29va2llRHVibGljYXRvciA9IG5ldyBDb29raWVEdWJsaWNhdG9yKCk7IiwiaW1wb3J0IHsgY29va2llRHVibGljYXRvciB9IGZyb20gXCIuL0Nvb2tpZUR1YmxpY2F0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBKc0Nvb2tpZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBkZWZhdWx0cztcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBKc0Nvb2tpZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEpzQ29va2llIHtcclxuICAgICAgICBpZiAoIUpzQ29va2llLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIEpzQ29va2llLmluc3RhbmNlID0gbmV3IEpzQ29va2llKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBKc0Nvb2tpZS5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICB0aGlzLmRlZmF1bHRzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleHRlbmQoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIGZvciAoOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYXR0cmlidXRlcyA9IGFyZ3NbaV07XHJcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcywgY29udmVydGVyOiBhbnkgPSB7fSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCByZXN1bHQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzID0gdGhpcy5leHRlbmQoe1xyXG4gICAgICAgICAgICBwYXRoOiBcIi9cIlxyXG4gICAgICAgIH0sIHRoaXMuZGVmYXVsdHMsIGF0dHJpYnV0ZXMpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMuZXhwaXJlcyA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBsZXQgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGV4cGlyZXMuc2V0TWlsbGlzZWNvbmRzKGV4cGlyZXMuZ2V0TWlsbGlzZWNvbmRzKCkgKyBhdHRyaWJ1dGVzLmV4cGlyZXMgKiA4NjRlKzUpO1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmV4cGlyZXMgPSBleHBpcmVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2UncmUgdXNpbmcgXCJleHBpcmVzXCIgYmVjYXVzZSBcIm1heC1hZ2VcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXHJcbiAgICAgICAgYXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiBcIlwiO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICgvXltcXHtcXFtdLy50ZXN0KHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XHJcblxyXG4gICAgICAgIGlmICghY29udmVydGVyLndyaXRlKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh2YWx1ZSkpXHJcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvJSgyM3wyNHwyNnwyQnwzQXwzQ3wzRXwzRHwyRnwzRnw0MHw1Qnw1RHw1RXw2MHw3Qnw3RHw3QykvZywgZGVjb2RlVVJJQ29tcG9uZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGtleSA9IGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoa2V5KSk7XHJcbiAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoLyUoMjN8MjR8MjZ8MkJ8NUV8NjB8N0MpL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcbiAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1tcXChcXCldL2csIGVzY2FwZSk7XHJcblxyXG4gICAgICAgIGxldCBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgPSBcIlwiO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdHJpbmdpZmllZEF0dHJpYnV0ZXMgKz0gXCI7IFwiICsgYXR0cmlidXRlTmFtZTtcclxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSBcIj1cIiArIGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb29raWVEdWJsaWNhdG9yLmR1YmxpY2F0ZUNvb2tpZVRvTG9jYWxTdG9yYWdlSWZJdE5lZWQoa2V5LCB2YWx1ZSwgYXR0cmlidXRlcyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGtleSArIFwiPVwiICsgdmFsdWUgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXM7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldChrZXksIGNvbnZlcnRlcjogYW55ID0ge30sIGpzb246IGJvb2xlYW4gPSBmYWxzZSk6IGFueSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgha2V5KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHt9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29va2llRHVibGljYXRvci5kdWJsaWNhdGVMb2NhbFN0b3JhZ2VUb0Nvb2tpZUlmSXROZWVkKGtleSk7XHJcblxyXG4gICAgICAgIGxldCBjb29raWVzID0gZG9jdW1lbnQuY29va2llID8gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiOyBcIikgOiBbXTtcclxuICAgICAgICBsZXQgcmRlY29kZSA9IC8oJVswLTlBLVpdezJ9KSsvZztcclxuICAgICAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgICAgIGZvciAoOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGFydHMgPSBjb29raWVzW2ldLnNwbGl0KFwiPVwiKTtcclxuICAgICAgICAgICAgbGV0IGNvb2tpZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oXCI9XCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFqc29uICYmIGNvb2tpZS5jaGFyQXQoMCkgPT09IFwiXFxcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBjb29raWUuc2xpY2UoMSwgLTEpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBwYXJ0c1swXS5yZXBsYWNlKHJkZWNvZGUsIGRlY29kZVVSSUNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICBjb29raWUgPSBjb252ZXJ0ZXIucmVhZCA/IGNvbnZlcnRlci5yZWFkKGNvb2tpZSwgbmFtZSkgOiBjb29raWUucmVwbGFjZShyZGVjb2RlLCBkZWNvZGVVUklDb21wb25lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llID0gSlNPTi5wYXJzZShjb29raWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IG5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjb29raWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBjb29raWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SnNvbihrZXksIGNvbnZlcnRlcjogYW55ID0ge30pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoa2V5LCBjb252ZXJ0ZXIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmUoa2V5LCBhdHRyaWJ1dGVzKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KGtleSwgXCJcIiwgdGhpcy5leHRlbmQoYXR0cmlidXRlcywge1xyXG4gICAgICAgICAgICBleHBpcmVzOiAtMVxyXG4gICAgICAgIH0pKTtcclxuICAgIH07XHJcbn07XHJcbiIsImltcG9ydCB7IENvb2tpZU9wdGlvbnMgfSBmcm9tIFwiLi9Db29raWVPcHRpb25zXCI7XHJcbmltcG9ydCB7IEpzQ29va2llIH0gZnJvbSBcIi4vSnNDb29raWVcIjtcclxuaW1wb3J0IHsgU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCIuLi9TdG9yYWdlSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1lbW9yeVByb3h5U3RvcmFnZSB9IGZyb20gXCIuLi9tZW1vcnlQcm94eS9NZW1vcnlQcm94eVN0b3JhZ2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb29raWVzU3RvcmFnZUNsYXNzIGltcGxlbWVudHMgU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICBwcml2YXRlIGNvb2tpZXM6IEpzQ29va2llO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY29va2llcyA9IEpzQ29va2llLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgcmV0dXJuIE1lbW9yeVByb3h5U3RvcmFnZS5hcHBseVByb3h5KHRoaXMsIFwiQ29va2llc1N0b3JhZ2VcIikgYXMgQ29va2llc1N0b3JhZ2VDbGFzcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNTdXBwb3J0ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgY29va2llcyA9IEpzQ29va2llLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFwiaXNTdXBwb3J0ZWRDb29raWVLZXlcIjtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcImlzU3VwcG9ydGVkQ29va2llVmFsdWVcIjtcclxuICAgICAgICAgICAgY29va2llcy5zZXQoa2V5LCB2YWx1ZSwgbnVsbCk7XHJcbiAgICAgICAgICAgIGlmIChjb29raWVzLmdldChrZXkpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29va2llcy5yZW1vdmUoa2V5LCBudWxsKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZVxyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcsIGNvbnZlcnRlciA9IHt9KTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb29raWVzLmdldChrZXksIGNvbnZlcnRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG9iamVjdCwgb3B0aW9ucz86IENvb2tpZU9wdGlvbnMsIGNvbnZlcnRlciA9IHt9KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kYXlzT2ZMaWZlKSB7XHJcbiAgICAgICAgICAgIGxldCBleHBpcmVEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZXhwaXJlRGF0ZS5zZXREYXRlKGV4cGlyZURhdGUuZ2V0RGF0ZSgpICsgb3B0aW9ucy5kYXlzT2ZMaWZlKTtcclxuICAgICAgICAgICAgb3B0aW9ucy5leHBpcmVzID0gZXhwaXJlRGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29va2llcy5zZXQoa2V5LCB2YWx1ZSwgb3B0aW9ucywgY29udmVydGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlKGtleTogc3RyaW5nLCBvcHRpb25zPyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvb2tpZXMucmVtb3ZlKGtleSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvb2tpZXNTdG9yYWdlID0gbmV3IENvb2tpZXNTdG9yYWdlQ2xhc3MoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5045\n')},7912:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "e": () => (/* binding */ Http)\n/* harmony export */ });\n/* harmony import */ var _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8578);\n/* harmony import */ var _Utils_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7753);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\n\r\nvar Http = (function () {\r\n    function Http() {\r\n    }\r\n    Http.prototype.get = function (url, payload, options) {\r\n        return this.call("GET", url, payload, options);\r\n    };\r\n    Http.prototype.post = function (url, payload, options) {\r\n        return this.call("POST", url, payload, options);\r\n    };\r\n    Http.prototype.call = function (method, url, payload, options) {\r\n        var _this = this;\r\n        if (payload === void 0) { payload = {}; }\r\n        if (options === void 0) { options = {}; }\r\n        var fetchURL = new URL(url);\r\n        var fetchOptions = {};\r\n        var guid = _Utils_Utils__WEBPACK_IMPORTED_MODULE_1__/* .Utils.createGUID */ .c.createGUID();\r\n        if (options.headers) {\r\n            var headers = new Headers(options.headers);\r\n            headers.append("Content-Type", options.contentType ? options.contentType : "application/json");\r\n            headers.append("Accept", "application/json");\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_0__/* .BugTrackUtil.addFetchLogHeader */ .Y.addFetchLogHeader(headers, fetchURL);\r\n            fetchOptions["headers"] = headers;\r\n        }\r\n        fetchOptions["method"] = method;\r\n        if (method === "GET") {\r\n            if (payload) {\r\n                Object.keys(payload).forEach(function (key) {\r\n                    fetchURL.searchParams.append(key, payload[key]);\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            fetchOptions["body"] = JSON.stringify(payload);\r\n        }\r\n        return fetch(fetchURL.href, fetchOptions)\r\n            .then(function (response) { return __awaiter(_this, void 0, void 0, function () {\r\n            var textData, jsonData, text, error_1, excludedStatuses, contentType, error_2, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        textData = null;\r\n                        jsonData = null;\r\n                        text = "";\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4, response.text()];\r\n                    case 2:\r\n                        text = _a.sent();\r\n                        textData = JSON.parse(text);\r\n                        return [3, 4];\r\n                    case 3:\r\n                        error_1 = _a.sent();\r\n                        excludedStatuses = [404, 500, 502];\r\n                        if (excludedStatuses.indexOf(response.status) !== -1) {\r\n                            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_0__/* .BugTrackUtil.addHttpNotJson */ .Y.addHttpNotJson(JSON.stringify({ error: text, status: response.status, url: fetchURL.href }));\r\n                        }\r\n                        return [3, 4];\r\n                    case 4:\r\n                        if (!!textData) return [3, 9];\r\n                        _a.label = 5;\r\n                    case 5:\r\n                        _a.trys.push([5, 8, , 9]);\r\n                        if (!response.ok) return [3, 7];\r\n                        contentType = response.headers.get("content-type");\r\n                        if (!(contentType && contentType.includes("application/json"))) return [3, 7];\r\n                        return [4, response.json()];\r\n                    case 6:\r\n                        jsonData = _a.sent();\r\n                        _a.label = 7;\r\n                    case 7: return [3, 9];\r\n                    case 8:\r\n                        error_2 = _a.sent();\r\n                        return [3, 9];\r\n                    case 9:\r\n                        data = textData || jsonData || { custom_error: "error for log" };\r\n                        return [2, { response: response, data: data }];\r\n                }\r\n            });\r\n        }); })\r\n            .then(function (_a) {\r\n            var _b;\r\n            var response = _a.response, data = _a.data;\r\n            var cdpReqIdHeader = "x-request-id";\r\n            var status = "aft-fet:id=" + guid.substr(0, 4) + "->" + response.headers.get(cdpReqIdHeader);\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_0__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus(status);\r\n            var needUseExposedHeaders = !!((_b = options.exposedHeaders) === null || _b === void 0 ? void 0 : _b.length);\r\n            var needUseStatusCode = options.statusCodeEnabled === true;\r\n            var needUseExtendModel = needUseExposedHeaders || needUseStatusCode;\r\n            var httpResponse = { data: data };\r\n            if (needUseExposedHeaders) {\r\n                httpResponse.exposedHeaders = {};\r\n                options.exposedHeaders.forEach(function (header) {\r\n                    httpResponse.exposedHeaders[header] = response.headers.get(header);\r\n                });\r\n            }\r\n            if (needUseStatusCode) {\r\n                httpResponse.statusCode = response.status + "";\r\n            }\r\n            var result = needUseExtendModel ? httpResponse : httpResponse.data;\r\n            if (!response.ok) {\r\n                return Promise.reject(result);\r\n            }\r\n            else {\r\n                return result;\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            return Promise.reject(error);\r\n        });\r\n    };\r\n    return Http;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkxMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtRDtBQUNkO0FBZ0JyQztJQUFBO0lBa0dBLENBQUM7SUFqR1Usa0JBQUcsR0FBVixVQUFXLEdBQVcsRUFBRSxPQUFhLEVBQUUsT0FBYTtRQUNoRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVNLG1CQUFJLEdBQVgsVUFBWSxHQUFXLEVBQUUsT0FBYSxFQUFFLE9BQWE7UUFDakQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTyxtQkFBSSxHQUFaLFVBQWEsTUFBYyxFQUFFLEdBQVcsRUFBRSxPQUFpQixFQUFFLE9BQXdDO1FBQXJHLGlCQXdGQztRQXhGeUMsc0NBQWlCO1FBQUUsb0NBQXVCLEVBQWlCO1FBQ2pHLElBQUksUUFBUSxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVCLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUV0QixJQUFNLElBQUksR0FBRyw4RUFBZ0IsRUFBRSxDQUFDO1FBQ2hDLElBQUksT0FBTyxDQUFDLE9BQU8sRUFBRTtZQUNqQixJQUFJLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDM0MsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUMvRixPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBQzdDLDBHQUE4QixDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNsRCxZQUFZLENBQUMsU0FBUyxDQUFDLEdBQUcsT0FBTyxDQUFDO1NBQ3JDO1FBRUQsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sQ0FBQztRQUdoQyxJQUFJLE1BQU0sS0FBSyxLQUFLLEVBQUU7WUFDbEIsSUFBSSxPQUFPLEVBQUU7Z0JBQ1QsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFHO29CQUM3QixRQUFRLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ3BELENBQUMsQ0FBQyxDQUFDO2FBQ047U0FDSjthQUFNO1lBQ0gsWUFBWSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxPQUFPLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQzthQUNwQyxJQUFJLENBQUMsVUFBTyxRQUFROzs7Ozt3QkFDYixRQUFRLEdBQUcsSUFBSSxDQUFDO3dCQUNoQixRQUFRLEdBQUcsSUFBSSxDQUFDO3dCQUNoQixJQUFJLEdBQUcsRUFBRSxDQUFDOzs7O3dCQUVILFdBQU0sUUFBUSxDQUFDLElBQUksRUFBRTs7d0JBQTVCLElBQUksR0FBRyxTQUFxQixDQUFDO3dCQUM3QixRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozt3QkFHdEIsZ0JBQWdCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO3dCQUN6QyxJQUFJLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7NEJBQ2xELG9HQUEyQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO3lCQUM3Rzs7OzZCQUVELENBQUMsUUFBUSxFQUFULGNBQVM7Ozs7NkJBRUQsUUFBUSxDQUFDLEVBQUUsRUFBWCxjQUFXO3dCQUNMLFdBQVcsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQzs2QkFDckQsWUFBVyxJQUFJLFdBQVcsQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsR0FBdkQsY0FBdUQ7d0JBQzVDLFdBQU0sUUFBUSxDQUFDLElBQUksRUFBRTs7d0JBQWhDLFFBQVEsR0FBRyxTQUFxQixDQUFDOzs7Ozs7O3dCQU8zQyxJQUFJLEdBQUcsUUFBUSxJQUFJLFFBQVEsSUFBSSxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsQ0FBQzt3QkFDdkUsV0FBTyxFQUFFLFFBQVEsWUFBRSxJQUFJLFFBQUUsRUFBQzs7O2FBQzdCLENBQUM7YUFDRCxJQUFJLENBQUMsVUFBQyxFQUFrQjs7Z0JBQWhCLFFBQVEsZ0JBQUUsSUFBSTtZQUNuQixJQUFNLGNBQWMsR0FBRyxjQUFjLENBQUM7WUFDdEMsSUFBTSxNQUFNLEdBQUcsZ0JBQWMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFVBQUssUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFHLENBQUM7WUFDMUYsb0dBQTJCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFcEMsSUFBSSxxQkFBcUIsR0FBRyxDQUFDLFFBQUMsT0FBTyxDQUFDLGNBQWMsMENBQUUsTUFBTSxFQUFDO1lBQzdELElBQUksaUJBQWlCLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixLQUFLLElBQUksQ0FBQztZQUMzRCxJQUFJLGtCQUFrQixHQUFHLHFCQUFxQixJQUFJLGlCQUFpQixDQUFDO1lBQ3BFLElBQU0sWUFBWSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBa0IsQ0FBQztZQUVwRCxJQUFJLHFCQUFxQixFQUFFO2dCQUN2QixZQUFZLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztnQkFDakMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsZ0JBQU07b0JBQ2pDLFlBQVksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3ZFLENBQUMsQ0FBQyxDQUFDO2FBQ047WUFFRCxJQUFJLGlCQUFpQixFQUFFO2dCQUNuQixZQUFZLENBQUMsVUFBVSxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO2FBQ2xEO1lBRUQsSUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztZQUVyRSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRTtnQkFDZCxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDakM7aUJBQU07Z0JBQ0gsT0FBTyxNQUFNLENBQUM7YUFDakI7UUFDTCxDQUFDLENBQUM7YUFDRCxLQUFLLENBQUMsZUFBSztZQUNSLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvaHR0cC9IdHRwLnRzPzUwYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IEh0dHBJbnRlcmZhY2UgfSBmcm9tIFwiLi9IdHRwSW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgdHlwZSBIdHRwT3B0aW9ucyA9IHtcclxuICAgIGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9O1xyXG4gICAgY29udGVudFR5cGU6IHN0cmluZztcclxuICAgIGV4cG9zZWRIZWFkZXJzPzogc3RyaW5nW107XHJcbiAgICBzdGF0dXNDb2RlRW5hYmxlZD86IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEh0dHBSZXNwb25zZSA9IHtcclxuICAgIGRhdGE6IGFueTtcclxuICAgIGV4cG9zZWRIZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfTtcclxuICAgIHN0YXR1c0NvZGU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEh0dHAgaW1wbGVtZW50cyBIdHRwSW50ZXJmYWNlIHtcclxuICAgIHB1YmxpYyBnZXQodXJsOiBzdHJpbmcsIHBheWxvYWQ/OiBhbnksIG9wdGlvbnM/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwoXCJHRVRcIiwgdXJsLCBwYXlsb2FkLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9zdCh1cmw6IHN0cmluZywgcGF5bG9hZD86IGFueSwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChcIlBPU1RcIiwgdXJsLCBwYXlsb2FkLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGwobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnkgPSB7fSwgb3B0aW9uczogSHR0cE9wdGlvbnMgPSB7fSBhcyBIdHRwT3B0aW9ucyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgbGV0IGZldGNoVVJMID0gbmV3IFVSTCh1cmwpO1xyXG4gICAgICAgIGxldCBmZXRjaE9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3VpZCA9IFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTtcclxuICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgb3B0aW9ucy5jb250ZW50VHlwZSA/IG9wdGlvbnMuY29udGVudFR5cGUgOiBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEZldGNoTG9nSGVhZGVyKGhlYWRlcnMsIGZldGNoVVJMKTtcclxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zW1wiaGVhZGVyc1wiXSA9IGhlYWRlcnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmZXRjaE9wdGlvbnNbXCJtZXRob2RcIl0gPSBtZXRob2Q7XHJcblxyXG5cclxuICAgICAgICBpZiAobWV0aG9kID09PSBcIkdFVFwiKSB7XHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhwYXlsb2FkKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBmZXRjaFVSTC5zZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgcGF5bG9hZFtrZXldKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmV0Y2hPcHRpb25zW1wiYm9keVwiXSA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGZldGNoVVJMLmhyZWYsIGZldGNoT3B0aW9ucylcclxuICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGV4dERhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgbGV0IGpzb25EYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0RGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGNsdWRlZFN0YXR1c2VzID0gWzQwNCwgNTAwLCA1MDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGNsdWRlZFN0YXR1c2VzLmluZGV4T2YocmVzcG9uc2Uuc3RhdHVzKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEh0dHBOb3RKc29uKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IHRleHQsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCB1cmw6IGZldGNoVVJMLmhyZWYgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGV4dERhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7fVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0ZXh0RGF0YSB8fCBqc29uRGF0YSB8fCB7IGN1c3RvbV9lcnJvcjogXCJlcnJvciBmb3IgbG9nXCIgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlc3BvbnNlLCBkYXRhIH07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKCh7IHJlc3BvbnNlLCBkYXRhIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNkcFJlcUlkSGVhZGVyID0gXCJ4LXJlcXVlc3QtaWRcIjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGBhZnQtZmV0OmlkPSR7Z3VpZC5zdWJzdHIoMCwgNCl9LT4ke3Jlc3BvbnNlLmhlYWRlcnMuZ2V0KGNkcFJlcUlkSGVhZGVyKX1gO1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKHN0YXR1cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG5lZWRVc2VFeHBvc2VkSGVhZGVycyA9ICEhb3B0aW9ucy5leHBvc2VkSGVhZGVycz8ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5lZWRVc2VTdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlRW5hYmxlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBuZWVkVXNlRXh0ZW5kTW9kZWwgPSBuZWVkVXNlRXhwb3NlZEhlYWRlcnMgfHwgbmVlZFVzZVN0YXR1c0NvZGU7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBodHRwUmVzcG9uc2UgPSB7IGRhdGE6IGRhdGEgfSBhcyBIdHRwUmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRVc2VFeHBvc2VkSGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBSZXNwb25zZS5leHBvc2VkSGVhZGVycyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwUmVzcG9uc2UuZXhwb3NlZEhlYWRlcnNbaGVhZGVyXSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KGhlYWRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRVc2VTdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUgPSByZXNwb25zZS5zdGF0dXMgKyBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5lZWRVc2VFeHRlbmRNb2RlbCA/IGh0dHBSZXNwb25zZSA6IGh0dHBSZXNwb25zZS5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7912\n')},2880:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "m": () => (/* binding */ LocalStorage)\n/* harmony export */ });\n/* harmony import */ var _memoryProxy_MemoryProxyStorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(219);\n\r\nvar LocalStorage = (function () {\r\n    function LocalStorage() {\r\n        return _memoryProxy_MemoryProxyStorage__WEBPACK_IMPORTED_MODULE_0__/* .MemoryProxyStorage.applyProxy */ .H.applyProxy(this, "LocalStorage");\r\n    }\r\n    LocalStorage.prototype.isSupported = function () {\r\n        var result;\r\n        try {\r\n            var key = "isSupportedLocalStorageKey";\r\n            var value = "isSupportedLocalStorageValue";\r\n            localStorage.setItem(key, value);\r\n            if (localStorage.getItem(key) === value) {\r\n                localStorage.removeItem(key);\r\n                result = true;\r\n            }\r\n        }\r\n        catch (ex) {\r\n            result = false;\r\n        }\r\n        finally {\r\n            return result;\r\n        }\r\n    };\r\n    LocalStorage.prototype.get = function (key) {\r\n        try {\r\n            var data = localStorage.getItem(key);\r\n            return JSON.parse(data);\r\n        }\r\n        catch (ex) {\r\n            return null;\r\n        }\r\n    };\r\n    LocalStorage.prototype.set = function (key, object) {\r\n        var success;\r\n        try {\r\n            localStorage.setItem(key, JSON.stringify(object));\r\n            success = true;\r\n        }\r\n        catch (ex) {\r\n            success = false;\r\n        }\r\n        finally {\r\n            return success;\r\n        }\r\n    };\r\n    LocalStorage.prototype.delete = function (key) {\r\n        var success;\r\n        try {\r\n            localStorage.removeItem(key);\r\n            success = true;\r\n        }\r\n        catch (ex) {\r\n            success = false;\r\n        }\r\n        finally {\r\n            return success;\r\n        }\r\n    };\r\n    LocalStorage.prototype.clear = function () {\r\n        var success;\r\n        try {\r\n            localStorage.clear();\r\n            success = true;\r\n        }\r\n        catch (ex) {\r\n            success = false;\r\n        }\r\n        finally {\r\n            return success;\r\n        }\r\n    };\r\n    return LocalStorage;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjg4MC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQ3VFO0FBRXZFO0lBQ0k7UUFDSSxPQUFPLDhHQUE2QixDQUFDLElBQUksRUFBRSxjQUFjLENBQWlCLENBQUM7SUFDL0UsQ0FBQztJQUVNLGtDQUFXLEdBQWxCO1FBQ0ksSUFBSSxNQUFNLENBQUM7UUFDWCxJQUFJO1lBQ0EsSUFBTSxHQUFHLEdBQUcsNEJBQTRCLENBQUM7WUFDekMsSUFBTSxLQUFLLEdBQUcsOEJBQThCLENBQUM7WUFDN0MsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDakMsSUFBSSxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtnQkFDckMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDN0IsTUFBTSxHQUFHLElBQUksQ0FBQzthQUNqQjtTQUNKO1FBQUMsT0FBTyxFQUFFLEVBQUU7WUFDVCxNQUFNLEdBQUcsS0FBSztTQUNqQjtnQkFBUztZQUNOLE9BQU8sTUFBTSxDQUFDO1NBQ2pCO0lBQ0wsQ0FBQztJQUVNLDBCQUFHLEdBQVYsVUFBVyxHQUFXO1FBQ2xCLElBQUk7WUFDQSxJQUFJLElBQUksR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjtRQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ1QsT0FBTyxJQUFJLENBQUM7U0FDZjtJQUNMLENBQUM7SUFFTSwwQkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLE1BQVc7UUFDL0IsSUFBSSxPQUFPLENBQUM7UUFDWixJQUFJO1lBQ0EsWUFBWSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2xELE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDbEI7UUFBQyxPQUFPLEVBQUUsRUFBRTtZQUNULE9BQU8sR0FBRyxLQUFLLENBQUM7U0FDbkI7Z0JBQVM7WUFDTixPQUFPLE9BQU8sQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFFTSw2QkFBTSxHQUFiLFVBQWMsR0FBVztRQUNyQixJQUFJLE9BQU8sQ0FBQztRQUNaLElBQUk7WUFDQSxZQUFZLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDbEI7UUFBQyxPQUFPLEVBQUUsRUFBRTtZQUNULE9BQU8sR0FBRyxLQUFLLENBQUM7U0FDbkI7Z0JBQVM7WUFDTixPQUFPLE9BQU8sQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFFTSw0QkFBSyxHQUFaO1FBQ0ksSUFBSSxPQUFPLENBQUM7UUFDWixJQUFJO1lBQ0EsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3JCLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDbEI7UUFBQyxPQUFPLEVBQUUsRUFBRTtZQUNULE9BQU8sR0FBRyxLQUFLLENBQUM7U0FDbkI7Z0JBQVM7WUFDTixPQUFPLE9BQU8sQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFDTCxtQkFBQztBQUFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9jb3JlL3N0b3JhZ2VzL2xvY2FsL0xvY2FsU3RvcmFnZS50cz8zZTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0b3JhZ2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vU3RvcmFnZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNZW1vcnlQcm94eVN0b3JhZ2UgfSBmcm9tIFwiLi4vbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlIGltcGxlbWVudHMgU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICByZXR1cm4gTWVtb3J5UHJveHlTdG9yYWdlLmFwcGx5UHJveHkodGhpcywgXCJMb2NhbFN0b3JhZ2VcIikgYXMgTG9jYWxTdG9yYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFwiaXNTdXBwb3J0ZWRMb2NhbFN0b3JhZ2VLZXlcIjtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcImlzU3VwcG9ydGVkTG9jYWxTdG9yYWdlVmFsdWVcIjtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZVxyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQoa2V5OiBzdHJpbmcsIG9iamVjdDogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShvYmplY3QpKTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVsZXRlKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2880\n')},219:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "H": () => (/* binding */ MemoryProxyStorage)\n});\n\n;// CONCATENATED MODULE: ./src/plugin/core/storages/memory/MemoryStorage.ts\nvar MemoryStorageClass = (function () {\r\n    function MemoryStorageClass() {\r\n        this._keys = [];\r\n        this._memory = {};\r\n    }\r\n    MemoryStorageClass.prototype.isSupported = function () {\r\n        return true;\r\n    };\r\n    MemoryStorageClass.prototype.get = function (key) {\r\n        return this._memory.hasOwnProperty(key) ? this._memory[key] : null;\r\n    };\r\n    MemoryStorageClass.prototype.set = function (key, value) {\r\n        this._memory[key] = value;\r\n        if (this._keys.indexOf(key) < 0) {\r\n            this._keys.push(key);\r\n        }\r\n        return true;\r\n    };\r\n    MemoryStorageClass.prototype.delete = function (key) {\r\n        delete this._memory[key];\r\n        var index = this._keys.indexOf(key);\r\n        if (index < 0)\r\n            return false;\r\n        this._keys.splice(index, 1);\r\n        return true;\r\n    };\r\n    MemoryStorageClass.prototype.clear = function () {\r\n        this._memory = {};\r\n        this._keys = [];\r\n        return true;\r\n    };\r\n    return MemoryStorageClass;\r\n}());\r\nvar MemoryStorage = new MemoryStorageClass();\r\n\n;// CONCATENATED MODULE: ./src/plugin/core/storages/memoryProxy/MemoryProxyStorage.ts\n\r\nvar MemoryProxyStorageClass = (function () {\r\n    function MemoryProxyStorageClass() {\r\n        this.proxyMethods = ["get", "set", "delete", "clear"];\r\n        this.prefixMap = [];\r\n        this.keys = [];\r\n    }\r\n    MemoryProxyStorageClass.prototype.applyProxy = function (originalThis, storagePrefix) {\r\n        var _this_1 = this;\r\n        if (originalThis.isSupported()) {\r\n            return originalThis;\r\n        }\r\n        this.prefixMap.push({ _this: originalThis, prefix: storagePrefix });\r\n        var _loop_1 = function (method) {\r\n            originalThis[method] = function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                _this_1.currentContext = originalThis;\r\n                return _this_1[method].apply(_this_1, args);\r\n            };\r\n        };\r\n        for (var _i = 0, _a = this.proxyMethods; _i < _a.length; _i++) {\r\n            var method = _a[_i];\r\n            _loop_1(method);\r\n        }\r\n        return originalThis;\r\n    };\r\n    MemoryProxyStorageClass.prototype.isSupported = function () {\r\n        return true;\r\n    };\r\n    MemoryProxyStorageClass.prototype.get = function (key) {\r\n        return MemoryStorage.get(this.getExpandKey(key));\r\n    };\r\n    MemoryProxyStorageClass.prototype.set = function (key, data) {\r\n        var expandKey = this.getExpandKey(key);\r\n        MemoryStorage.set(expandKey, data);\r\n        this.addKey(expandKey);\r\n        return true;\r\n    };\r\n    MemoryProxyStorageClass.prototype.delete = function (key) {\r\n        var expandKey = this.getExpandKey(key);\r\n        this.removeKey(expandKey);\r\n        return MemoryStorage["delete"](expandKey);\r\n    };\r\n    MemoryProxyStorageClass.prototype.clear = function () {\r\n        for (var _i = 0, _a = this.getCurrentStorageKeys(); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            this.delete(key);\r\n        }\r\n        return true;\r\n    };\r\n    MemoryProxyStorageClass.prototype.getExpandKey = function (key) {\r\n        var storagePrefix = this.getCurrentPrefix();\r\n        return storagePrefix + "__" + key;\r\n    };\r\n    MemoryProxyStorageClass.prototype.getCurrentPrefix = function () {\r\n        var _this_1 = this;\r\n        var contextMap = this.prefixMap.find(function (map) {\r\n            return map._this === _this_1.currentContext;\r\n        });\r\n        return contextMap ? contextMap.prefix : "NOT_FOUND";\r\n    };\r\n    MemoryProxyStorageClass.prototype.getCurrentStorageKeys = function () {\r\n        var currentPrefix = this.getCurrentPrefix();\r\n        return this.keys.filter(function (key) { return key.startsWith(currentPrefix); });\r\n    };\r\n    MemoryProxyStorageClass.prototype.addKey = function (expandKey) {\r\n        var index = this.keys.indexOf(expandKey);\r\n        if (index === -1) {\r\n            this.keys.push(expandKey);\r\n        }\r\n    };\r\n    MemoryProxyStorageClass.prototype.removeKey = function (expandKey) {\r\n        var index = this.keys.indexOf(expandKey);\r\n        if (index !== -1) {\r\n            this.keys.splice(index, 1);\r\n        }\r\n    };\r\n    return MemoryProxyStorageClass;\r\n}());\r\nvar MemoryProxyStorage = new MemoryProxyStorageClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FBYyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUN4RCxDQUFDO0lBRU8sdURBQXFCLEdBQTdCO1FBQ0ksSUFBTSxhQUFhLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDOUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFDLEdBQVcsSUFBSyxVQUFHLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUE3QixDQUE2QixDQUFDLENBQUM7SUFDNUUsQ0FBQztJQUVPLHdDQUFNLEdBQWQsVUFBZSxTQUFpQjtRQUM1QixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzQyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQzdCO0lBQ0wsQ0FBQztJQUVPLDJDQUFTLEdBQWpCLFVBQWtCLFNBQWlCO1FBQy9CLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzNDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzlCO0lBQ0wsQ0FBQztJQUNMLDhCQUFDO0FBQUQsQ0FBQztBQUVNLElBQU0sa0JBQWtCLEdBQUcsSUFBSSx1QkFBdUIsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9tZW1vcnkvTWVtb3J5U3RvcmFnZS50cz83OGFmIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2NvcmUvc3RvcmFnZXMvbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlLnRzPzU1YmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RvcmFnZUludGVyZmFjZSB9IGZyb20gXCIuLi9TdG9yYWdlSW50ZXJmYWNlXCI7XHJcblxyXG5jbGFzcyBNZW1vcnlTdG9yYWdlQ2xhc3MgaW1wbGVtZW50cyBTdG9yYWdlSW50ZXJmYWNlIHtcclxuICAgIHByaXZhdGUgX2tleXM6IHN0cmluZ1tdO1xyXG4gICAgcHJpdmF0ZSBfbWVtb3J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLl9rZXlzID0gW107XHJcbiAgICAgICAgdGhpcy5fbWVtb3J5ID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQoa2V5OiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZW1vcnkuaGFzT3duUHJvcGVydHkoa2V5KSA/IHRoaXMuX21lbW9yeVtrZXldIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgdGhpcy5fbWVtb3J5W2tleV0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAodGhpcy5fa2V5cy5pbmRleE9mKGtleSkgPCAwKSB7XHJcbiAgICAgICAgICB0aGlzLl9rZXlzLnB1c2goa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlbGV0ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tZW1vcnlba2V5XTtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZihrZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCA8IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICB0aGlzLl9rZXlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIE5PVEU6IG5vIGV2ZW50IHN1cHBvcnRcclxuICAgICAgICB0aGlzLl9tZW1vcnkgPSB7fTtcclxuICAgICAgICB0aGlzLl9rZXlzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBNZW1vcnlTdG9yYWdlID0gbmV3IE1lbW9yeVN0b3JhZ2VDbGFzcygpO1xyXG4iLCJpbXBvcnQgeyBTdG9yYWdlSW50ZXJmYWNlIH0gZnJvbSBcIi4uL1N0b3JhZ2VJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgTWVtb3J5U3RvcmFnZSB9IGZyb20gXCIuLi9tZW1vcnkvTWVtb3J5U3RvcmFnZVwiO1xyXG5cclxuY2xhc3MgTWVtb3J5UHJveHlTdG9yYWdlQ2xhc3MgaW1wbGVtZW50cyBTdG9yYWdlSW50ZXJmYWNlIHtcclxuICAgIHByaXZhdGUgcHJveHlNZXRob2RzID0gW1wiZ2V0XCIsIFwic2V0XCIsIFwiZGVsZXRlXCIsIFwiY2xlYXJcIl07XHJcbiAgICBwcml2YXRlIHByZWZpeE1hcDogeyBfdGhpczogb2JqZWN0LCBwcmVmaXg6IHN0cmluZyB9W10gPSBbXTtcclxuICAgIHByaXZhdGUga2V5czogc3RyaW5nW10gPSBbXTtcclxuICAgIHByaXZhdGUgY3VycmVudENvbnRleHQ6IG9iamVjdDtcclxuXHJcbiAgICBhcHBseVByb3h5KG9yaWdpbmFsVGhpczogU3RvcmFnZUludGVyZmFjZSwgc3RvcmFnZVByZWZpeDogc3RyaW5nKTogU3RvcmFnZUludGVyZmFjZSB7XHJcbiAgICAgICAgaWYgKG9yaWdpbmFsVGhpcy5pc1N1cHBvcnRlZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbFRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJlZml4TWFwLnB1c2goeyBfdGhpczogb3JpZ2luYWxUaGlzLCBwcmVmaXg6IHN0b3JhZ2VQcmVmaXggfSk7XHJcbiAgICAgICAgZm9yIChsZXQgbWV0aG9kIG9mIHRoaXMucHJveHlNZXRob2RzKSB7XHJcbiAgICAgICAgICAgIG9yaWdpbmFsVGhpc1ttZXRob2RdID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENvbnRleHQgPSBvcmlnaW5hbFRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1ttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbFRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzU3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChrZXk6IHN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBNZW1vcnlTdG9yYWdlLmdldCh0aGlzLmdldEV4cGFuZEtleShrZXkpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQoa2V5OiBzdHJpbmcsIGRhdGE6IGFueSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGV4cGFuZEtleSA9IHRoaXMuZ2V0RXhwYW5kS2V5KGtleSk7XHJcbiAgICAgICAgTWVtb3J5U3RvcmFnZS5zZXQoZXhwYW5kS2V5LCBkYXRhKTtcclxuICAgICAgICB0aGlzLmFkZEtleShleHBhbmRLZXkpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGV4cGFuZEtleSA9IHRoaXMuZ2V0RXhwYW5kS2V5KGtleSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVLZXkoZXhwYW5kS2V5KTtcclxuICAgICAgICByZXR1cm4gTWVtb3J5U3RvcmFnZS5kZWxldGUoZXhwYW5kS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpOiBib29sZWFuIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgdGhpcy5nZXRDdXJyZW50U3RvcmFnZUtleXMoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEV4cGFuZEtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZVByZWZpeCA9IHRoaXMuZ2V0Q3VycmVudFByZWZpeCgpO1xyXG4gICAgICAgIHJldHVybiBgJHtzdG9yYWdlUHJlZml4fV9fJHtrZXl9YDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEN1cnJlbnRQcmVmaXgoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBjb250ZXh0TWFwID0gdGhpcy5wcmVmaXhNYXAuZmluZCgobWFwKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXAuX3RoaXMgPT09IHRoaXMuY3VycmVudENvbnRleHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHRNYXAgPyBjb250ZXh0TWFwLnByZWZpeCA6IFwiTk9UX0ZPVU5EXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDdXJyZW50U3RvcmFnZUtleXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcmVmaXggPSB0aGlzLmdldEN1cnJlbnRQcmVmaXgoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5rZXlzLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGtleS5zdGFydHNXaXRoKGN1cnJlbnRQcmVmaXgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZEtleShleHBhbmRLZXk6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5rZXlzLmluZGV4T2YoZXhwYW5kS2V5KTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMua2V5cy5wdXNoKGV4cGFuZEtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlS2V5KGV4cGFuZEtleTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmtleXMuaW5kZXhPZihleHBhbmRLZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5rZXlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTWVtb3J5UHJveHlTdG9yYWdlID0gbmV3IE1lbW9yeVByb3h5U3RvcmFnZUNsYXNzKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///219\n')},8908:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "O": () => (/* binding */ HttpService)\n});\n\n// EXTERNAL MODULE: ./src/plugin/core/storages/http/Http.ts\nvar Http = __webpack_require__(7912);\n// EXTERNAL MODULE: ./src/plugin/modules/configModule/ConfigModule.ts\nvar ConfigModule = __webpack_require__(3822);\n// EXTERNAL MODULE: ./src/plugin/modules/deviceModule/DeviceModule.ts\nvar DeviceModule = __webpack_require__(4658);\n// EXTERNAL MODULE: ./src/plugin/data/services/MetaDataService.ts\nvar MetaDataService = __webpack_require__(6573);\n// EXTERNAL MODULE: ./src/plugin/data/services/AzureService.ts\nvar AzureService = __webpack_require__(4580);\n// EXTERNAL MODULE: ./src/plugin/data/services/UserService.ts\nvar UserService = __webpack_require__(979);\n// EXTERNAL MODULE: ./src/plugin/data/services/TagManagerService.ts\nvar TagManagerService = __webpack_require__(4259);\n// EXTERNAL MODULE: ./src/plugin/data/services/EventService.ts\nvar EventService = __webpack_require__(6320);\n// EXTERNAL MODULE: ./src/plugin/data/services/SessionService.ts + 1 modules\nvar SessionService = __webpack_require__(438);\n// EXTERNAL MODULE: ./src/plugin/data/services/AppInsightsService.ts\nvar AppInsightsService = __webpack_require__(4116);\n// EXTERNAL MODULE: ./src/plugin/data/services/AuthorizationService.ts\nvar AuthorizationService = __webpack_require__(8737);\n;// CONCATENATED MODULE: ./src/plugin/data/services/index.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/data/modules/HttpService.ts\n\r\n\r\n\r\n\r\nvar HttpServiceClass = (function () {\r\n    function HttpServiceClass() {\r\n        this.useAuthHeader = true;\r\n        this.addDeviceId = true;\r\n        this.http = new Http/* Http */.e();\r\n    }\r\n    HttpServiceClass.prototype.disableAuth = function () {\r\n        this.useAuthHeader = false;\r\n    };\r\n    HttpServiceClass.prototype.disableDeviceId = function () {\r\n        this.addDeviceId = false;\r\n    };\r\n    HttpServiceClass.prototype.get = function (url, payload, options, apiPath) {\r\n        var _this = this;\r\n        if (payload === void 0) { payload = {}; }\r\n        if (options === void 0) { options = {}; }\r\n        var useAuthHeader = this.useAuthHeader;\r\n        var addDeviceId = this.addDeviceId;\r\n        return DeviceModule/* DeviceModule.getDeviceIdToApi */.M.getDeviceIdToApi().then(function (deviceId) {\r\n            _this.useAuthHeader = useAuthHeader;\r\n            _this.addDeviceId = addDeviceId;\r\n            if (_this.addDeviceId) {\r\n                payload["deviceid"] = deviceId;\r\n            }\r\n            return _this.call("get", url, payload, options, apiPath);\r\n        });\r\n    };\r\n    HttpServiceClass.prototype.post = function (url, payload, options, apiPath) {\r\n        if (options === void 0) { options = {}; }\r\n        return this.call("post", url, payload, options, apiPath);\r\n    };\r\n    HttpServiceClass.prototype.call = function (method, url, payload, options, apiPath) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this.API_PATH = apiPath || ConfigModule/* ConfigModule.getCdpApiUrl */.p.getCdpApiUrl();\r\n        options.headers = options.headers || {};\r\n        options.headers["Site-Code"] = ConfigModule/* ConfigModule.getSiteCode */.p.getSiteCode();\r\n        options.headers["Client-Code"] = ConfigModule/* ConfigModule.getClientCode */.p.getClientCode();\r\n        var send = function (method, url, payload, options, apiPath) {\r\n            if (options === void 0) { options = {}; }\r\n            return _this.http[method](_this.API_PATH + url, payload, options);\r\n        };\r\n        if (this.useAuthHeader) {\r\n            return AuthorizationService/* AuthorizationService.getAuthToken */.Z.getAuthToken().then(function (token) {\r\n                if (token) {\r\n                    options.headers["Authorization"] = token;\r\n                }\r\n                var needCode = options.statusCodeEnabled || false;\r\n                options.statusCodeEnabled = true;\r\n                var needExtendedModel = function (options) { var _a; return options.statusCodeEnabled === true || ((_a = options.exposedHeaders) === null || _a === void 0 ? void 0 : _a.length); };\r\n                return send(method, url, payload, options).then(function (res) {\r\n                    options.statusCodeEnabled = needCode;\r\n                    return needExtendedModel(options) ? res : res.data;\r\n                }).catch(function (res) {\r\n                    options.statusCodeEnabled = needCode;\r\n                    if (res.statusCode === "403") {\r\n                        return AuthorizationService/* AuthorizationService.updateToken */.Z.updateToken().then(function (token) {\r\n                            options.headers["Authorization"] = token;\r\n                            return send(method, url, payload, options);\r\n                        });\r\n                    }\r\n                    return needExtendedModel(options) ? res : res.data;\r\n                });\r\n            });\r\n        }\r\n        else {\r\n            this.useAuthHeader = true;\r\n            return send(method, url, payload, options);\r\n        }\r\n    };\r\n    return HttpServiceClass;\r\n}());\r\nvar HttpService = new HttpServiceClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7U0FDOUM7SUFDTCxDQUFDO0lBQ0wsdUJBQUM7QUFBRCxDQUFDO0FBRU0sSUFBTSxXQUFXLEdBQUcsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9pbmRleC50cz9jYjFmIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2RhdGEvbW9kdWxlcy9IdHRwU2VydmljZS50cz81NTg3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCIuL01ldGFEYXRhU2VydmljZVwiO1xyXG5leHBvcnQgeyBBenVyZVNlcnZpY2UgfSBmcm9tIFwiLi9BenVyZVNlcnZpY2VcIjtcclxuZXhwb3J0IHsgVXNlclNlcnZpY2UgfSBmcm9tIFwiLi9Vc2VyU2VydmljZVwiO1xyXG5leHBvcnQgeyBJVXNlclNlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lVc2VyU2VydmljZVwiO1xyXG5leHBvcnQgeyBUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuL1RhZ01hbmFnZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElUYWdNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSVRhZ01hbmFnZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gXCIuL0V2ZW50U2VydmljZVwiO1xyXG5leHBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElFdmVudFNlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lFdmVudFNlcnZpY2VcIjtcclxuZXhwb3J0IHsgQXBwSW5zaWdodHNTZXJ2aWNlIH0gZnJvbSBcIi4vQXBwSW5zaWdodHNTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElBcHBJbnNpZ2h0c1NlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lBcHBJbnNpZ2h0c1NlcnZpY2VcIjtcclxuZXhwb3J0IHsgSUZhaWxlZEV2ZW50U2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUZhaWxlZEV2ZW50U2VydmljZVwiO1xyXG5leHBvcnQgeyBJQXV0aG9yaXphdGlvblNlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lBdXRob3JpemF0aW9uU2VydmljZVwiO1xyXG5leHBvcnQgeyBBdXRob3JpemF0aW9uU2VydmljZSB9IGZyb20gXCIuL0F1dGhvcml6YXRpb25TZXJ2aWNlXCI7IiwiaW1wb3J0IHsgSHR0cCwgSHR0cE9wdGlvbnMsIEh0dHBSZXNwb25zZSB9IGZyb20gXCIuLi8uLi9jb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cFwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBEZXZpY2VNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGV2aWNlTW9kdWxlL0RldmljZU1vZHVsZVwiO1xyXG5pbXBvcnQgeyBBdXRob3JpemF0aW9uU2VydmljZSB9IGZyb20gXCJARGF0YS9zZXJ2aWNlc1wiO1xyXG5cclxuY2xhc3MgSHR0cFNlcnZpY2VDbGFzcyB7XHJcbiAgICBwcml2YXRlIGh0dHA6IEh0dHA7XHJcbiAgICBwcml2YXRlIEFQSV9QQVRIOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHVzZUF1dGhIZWFkZXI6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBhZGREZXZpY2VJZDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5odHRwID0gbmV3IEh0dHAoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzYWJsZUF1dGgoKSB7XHJcbiAgICAgICAgdGhpcy51c2VBdXRoSGVhZGVyID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVEZXZpY2VJZCgpIHtcclxuICAgICAgICB0aGlzLmFkZERldmljZUlkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICBwdWJsaWMgZ2V0KHVybDogc3RyaW5nLCBwYXlsb2FkOiBhbnk9IHt9LCBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zLCBhcGlQYXRoPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCB1c2VBdXRoSGVhZGVyID0gdGhpcy51c2VBdXRoSGVhZGVyO1xyXG4gICAgICAgIGNvbnN0IGFkZERldmljZUlkID0gdGhpcy5hZGREZXZpY2VJZDtcclxuICAgICAgICByZXR1cm4gRGV2aWNlTW9kdWxlLmdldERldmljZUlkVG9BcGkoKS50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVzZUF1dGhIZWFkZXIgPSB1c2VBdXRoSGVhZGVyO1xyXG4gICAgICAgICAgICB0aGlzLmFkZERldmljZUlkID0gYWRkRGV2aWNlSWQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFkZERldmljZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkW1wiZGV2aWNlaWRcIl0gPSBkZXZpY2VJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsKFwiZ2V0XCIsIHVybCwgcGF5bG9hZCwgb3B0aW9ucywgYXBpUGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvc3QodXJsOiBzdHJpbmcsIHBheWxvYWQ6IGFueSwgb3B0aW9uczogSHR0cE9wdGlvbnMgPSB7fSBhcyBIdHRwT3B0aW9ucywgYXBpUGF0aD86IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbChcInBvc3RcIiwgdXJsLCBwYXlsb2FkLCBvcHRpb25zLCBhcGlQYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGwobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXlsb2FkPzogYW55LCBvcHRpb25zOiBIdHRwT3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zLCBhcGlQYXRoPzogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICB0aGlzLkFQSV9QQVRIID0gYXBpUGF0aCB8fCBDb25maWdNb2R1bGUuZ2V0Q2RwQXBpVXJsKCk7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1tcIlNpdGUtQ29kZVwiXSA9IENvbmZpZ01vZHVsZS5nZXRTaXRlQ29kZSgpO1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1tcIkNsaWVudC1Db2RlXCJdID0gQ29uZmlnTW9kdWxlLmdldENsaWVudENvZGUoKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VuZCA9IChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBheWxvYWQ/OiBhbnksIG9wdGlvbnM6IEh0dHBPcHRpb25zID0ge30gYXMgSHR0cE9wdGlvbnMsIGFwaVBhdGg/OiBzdHJpbmcpOiBQcm9taXNlPGFueT4gPT5cclxuICAgICAgICAgICAgdGhpcy5odHRwW21ldGhvZF0odGhpcy5BUElfUEFUSCArIHVybCwgcGF5bG9hZCwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZUF1dGhIZWFkZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEF1dGhvcml6YXRpb25TZXJ2aWNlLmdldEF1dGhUb2tlbigpLnRoZW4oKHRva2VuOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlRW5hYmxlZCB8fCBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc3RhdHVzQ29kZUVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmVlZEV4dGVuZGVkTW9kZWwgPSAob3B0aW9uczogSHR0cE9wdGlvbnMpID0+IG9wdGlvbnMuc3RhdHVzQ29kZUVuYWJsZWQgPT09IHRydWUgfHwgb3B0aW9ucy5leHBvc2VkSGVhZGVycz8ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmQobWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdGlvbnMpLnRoZW4oKHJlczogSHR0cFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdGF0dXNDb2RlRW5hYmxlZCA9IG5lZWRDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZWVkRXh0ZW5kZWRNb2RlbChvcHRpb25zKSA/IHJlcyA6IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goKHJlczogSHR0cFJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdGF0dXNDb2RlRW5hYmxlZCA9IG5lZWRDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzQ29kZSA9PT0gXCI0MDNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXV0aG9yaXphdGlvblNlcnZpY2UudXBkYXRlVG9rZW4oKS50aGVuKHRva2VuID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5kKG1ldGhvZCwgdXJsLCBwYXlsb2FkLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZWVkRXh0ZW5kZWRNb2RlbChvcHRpb25zKSA/IHJlcyA6IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51c2VBdXRoSGVhZGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbmQobWV0aG9kLCB1cmwsIHBheWxvYWQsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEh0dHBTZXJ2aWNlID0gbmV3IEh0dHBTZXJ2aWNlQ2xhc3MoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8908\n')},9296:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "n": () => (/* binding */ LocalStorageService)\n/* harmony export */ });\n/* unused harmony export LocalStorageServiceClass */\n/* harmony import */ var _Core_storages_local_LocalStorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2880);\n/* harmony import */ var _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3822);\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar LocalStorageServiceClass = (function (_super) {\r\n    __extends(LocalStorageServiceClass, _super);\r\n    function LocalStorageServiceClass() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.localStorage = new _Core_storages_local_LocalStorage__WEBPACK_IMPORTED_MODULE_0__/* .LocalStorage */ .m();\r\n        return _this;\r\n    }\r\n    LocalStorageServiceClass.prototype.expandKey = function (key) {\r\n        var siteCode = _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__/* .ConfigModule.getSiteCode */ .p.getSiteCode();\r\n        var clientCode = _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__/* .ConfigModule.getClientCode */ .p.getClientCode();\r\n        if (!siteCode || !clientCode) {\r\n            return key;\r\n        }\r\n        var expandedKey = [\r\n            key,\r\n            siteCode,\r\n            clientCode\r\n        ].join("_");\r\n        return expandedKey;\r\n    };\r\n    LocalStorageServiceClass.prototype.get = function (key, expand) {\r\n        if (expand === void 0) { expand = true; }\r\n        key = expand ? this.expandKey(key) : key;\r\n        return this.localStorage.get(key);\r\n    };\r\n    LocalStorageServiceClass.prototype.set = function (key, value, expand) {\r\n        if (expand === void 0) { expand = true; }\r\n        key = expand ? this.expandKey(key) : key;\r\n        return this.localStorage.set(key, value);\r\n    };\r\n    LocalStorageServiceClass.prototype.delete = function (key, expand) {\r\n        if (expand === void 0) { expand = true; }\r\n        key = expand ? this.expandKey(key) : key;\r\n        return this.localStorage.delete(key);\r\n    };\r\n    return LocalStorageServiceClass;\r\n}(_Core_storages_local_LocalStorage__WEBPACK_IMPORTED_MODULE_0__/* .LocalStorage */ .m));\r\n\r\nvar LocalStorageService = new LocalStorageServiceClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI5Ni5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ0M7QUFFbEU7SUFBOEMsNENBQVk7SUFBMUQ7UUFBQSxxRUFrQ0M7UUFqQ1csa0JBQVksR0FBRyxJQUFJLG9GQUFZLEVBQUUsQ0FBQzs7SUFpQzlDLENBQUM7SUEvQkcsNENBQVMsR0FBVCxVQUFVLEdBQVc7UUFDakIsSUFBTSxRQUFRLEdBQUcsNkdBQXdCLEVBQUU7UUFDM0MsSUFBTSxVQUFVLEdBQUcsaUhBQTBCLEVBQUUsQ0FBQztRQUVoRCxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQzFCLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7UUFFRCxJQUFNLFdBQVcsR0FBRztZQUNoQixHQUFHO1lBQ0gsUUFBUTtZQUNSLFVBQVU7U0FDYixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVaLE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxzQ0FBRyxHQUFILFVBQUksR0FBVyxFQUFFLE1BQXNCO1FBQXRCLHNDQUFzQjtRQUNuQyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDekMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsc0NBQUcsR0FBSCxVQUFJLEdBQVcsRUFBRyxLQUFVLEVBQUUsTUFBc0I7UUFBdEIsc0NBQXNCO1FBQ2hELEdBQUcsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUN6QyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRUQseUNBQU0sR0FBTixVQUFPLEdBQVcsRUFBRSxNQUFzQjtRQUF0QixzQ0FBc0I7UUFDdEMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO1FBQ3pDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUNMLCtCQUFDO0FBQUQsQ0FBQyxDQWxDNkMsb0ZBQVksR0FrQ3pEOztBQUVNLElBQU0sbUJBQW1CLEdBQUcsSUFBSSx3QkFBd0IsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vZGF0YS9tb2R1bGVzL0xvY2FsU3RvcmFnZVNlcnZpY2UudHM/YjkyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvbG9jYWwvTG9jYWxTdG9yYWdlXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9jYWxTdG9yYWdlU2VydmljZUNsYXNzIGV4dGVuZHMgTG9jYWxTdG9yYWdlIHtcclxuICAgIHByaXZhdGUgbG9jYWxTdG9yYWdlID0gbmV3IExvY2FsU3RvcmFnZSgpO1xyXG5cclxuICAgIGV4cGFuZEtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3Qgc2l0ZUNvZGUgPSBDb25maWdNb2R1bGUuZ2V0U2l0ZUNvZGUoKVxyXG4gICAgICAgIGNvbnN0IGNsaWVudENvZGUgPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG5cclxuICAgICAgICBpZiAoIXNpdGVDb2RlIHx8ICFjbGllbnRDb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBleHBhbmRlZEtleSA9IFtcclxuICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICBzaXRlQ29kZSxcclxuICAgICAgICAgICAgY2xpZW50Q29kZVxyXG4gICAgICAgIF0uam9pbihcIl9cIik7XHJcblxyXG4gICAgICAgIHJldHVybiBleHBhbmRlZEtleTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQoa2V5OiBzdHJpbmcsIGV4cGFuZDogYm9vbGVhbiA9IHRydWUpOiBhbnkge1xyXG4gICAgICAgIGtleSA9IGV4cGFuZCA/IHRoaXMuZXhwYW5kS2V5KGtleSkgOiBrZXk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yYWdlLmdldChrZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChrZXk6IHN0cmluZywgIHZhbHVlOiBhbnksIGV4cGFuZDogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICBrZXkgPSBleHBhbmQgPyB0aGlzLmV4cGFuZEtleShrZXkpIDoga2V5O1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlKGtleTogc3RyaW5nLCBleHBhbmQ6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAga2V5ID0gZXhwYW5kID8gdGhpcy5leHBhbmRLZXkoa2V5KSA6IGtleTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFN0b3JhZ2UuZGVsZXRlKGtleSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBMb2NhbFN0b3JhZ2VTZXJ2aWNlID0gbmV3IExvY2FsU3RvcmFnZVNlcnZpY2VDbGFzcygpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9296\n')},4116:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "r": () => (/* binding */ AppInsightsService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _MetaDataService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6573);\n\r\n\r\nvar AppInsightsService = (function () {\r\n    function AppInsightsService() {\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("AppInsightsService");\r\n        this.aiAvailable = true;\r\n        this.dimensionService = _MetaDataService__WEBPACK_IMPORTED_MODULE_1__/* .MetaDataService.Instance */ .G.Instance;\r\n    }\r\n    Object.defineProperty(AppInsightsService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new AppInsightsService();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    AppInsightsService.prototype.trackEvent = function (eventName, eventPayload) {\r\n        try {\r\n            if (window["g2iAppInsights"]) {\r\n                this.Logger.info("^^^^^^^^^^^^^^^^^^^^^", eventPayload);\r\n                window["g2iAppInsights"].trackEvent(eventName, eventPayload);\r\n            }\r\n            if (this.aiAvailable) {\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.aiAvailable = false;\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    AppInsightsService.prototype.trackPageView = function (pageName, pageData) {\r\n        try {\r\n            this.Logger.debug("trackPageView", pageName);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return AppInsightsService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDExNi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RTtBQUVuQjtBQUVwRDtJQWlCSTtRQWZRLFdBQU0sR0FBVyx3R0FBMEIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBR2xFLGdCQUFXLEdBQVksSUFBSSxDQUFDO1FBYWhDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyx3RkFBd0IsQ0FBQztJQUNyRCxDQUFDO0lBWkQsc0JBQVcsOEJBQVE7YUFBbkI7WUFDSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssU0FBUyxFQUFFO2dCQUV2RCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksa0JBQWtCLEVBQUUsQ0FBQzthQUM1QztpQkFBTTthQUVOO1lBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBTU0sdUNBQVUsR0FBakIsVUFBa0IsU0FBaUIsRUFBRSxZQUFvQjtRQUNyRCxJQUFJO1lBTUEsSUFBSSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsWUFBWSxDQUFDLENBQUM7Z0JBQ3hELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7YUFDaEU7WUFDRCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7YUFDckI7U0FDSjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7WUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBRU0sMENBQWEsR0FBcEIsVUFBcUIsUUFBZ0IsRUFBRSxRQUFpQjtRQUNwRCxJQUFJO1lBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQ2hEO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFDTCx5QkFBQztBQUFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0FwcEluc2lnaHRzU2VydmljZS50cz85NGFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgSUFwcEluc2lnaHRzU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUFwcEluc2lnaHRzU2VydmljZVwiO1xyXG5pbXBvcnQgeyBNZXRhRGF0YVNlcnZpY2UgfSBmcm9tIFwiLi9NZXRhRGF0YVNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBJbnNpZ2h0c1NlcnZpY2UgaW1wbGVtZW50cyBJQXBwSW5zaWdodHNTZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBBcHBJbnNpZ2h0c1NlcnZpY2U7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJBcHBJbnNpZ2h0c1NlcnZpY2VcIik7XHJcbiAgICBwcml2YXRlIGRpbWVuc2lvblNlcnZpY2U6IE1ldGFEYXRhU2VydmljZTtcclxuXHJcbiAgICBwcml2YXRlIGFpQXZhaWxhYmxlOiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkFwcEluc2lnaHRzU2VydmljZS5HZXRJbnN0YW5jZS4gTk8gSU5TVEFOQ0UsIENSRUFUSU5HXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEFwcEluc2lnaHRzU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXBwSW5zaWdodHNTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9uU2VydmljZSA9IE1ldGFEYXRhU2VydmljZS5JbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJhY2tFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRQYXlsb2FkOiBvYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiXl5eIDEuLi4uIFwiLCBldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCJeXl5eXiAyLi4uLiBcIiwgdGhpcy5kaW1lbnNpb25TZXJ2aWNlLmNvbGxlY3RlZERpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICAvLyBsZXQgY29tYmluZWRQYXlsb2FkID0gT2JqZWN0LmFzc2lnbihldmVudFBheWxvYWQsIHRoaXMuZGltZW5zaW9uU2VydmljZS5jb2xsZWN0ZWREaW1lbnNpb25zKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcIl5eXl5eXl5eXl5eIDMuLi4uIFwiLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiXl5eXl5eXl5eXl5eXl5eXl5eXl5eIDQuLi4uIFwiLCBjb21iaW5lZFBheWxvYWQpO1xyXG4gICAgICAgICAgICBpZiAod2luZG93W1wiZzJpQXBwSW5zaWdodHNcIl0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oXCJeXl5eXl5eXl5eXl5eXl5eXl5eXl5cIiwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvd1tcImcyaUFwcEluc2lnaHRzXCJdLnRyYWNrRXZlbnQoZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFpQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWlBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0cmFja1BhZ2VWaWV3KHBhZ2VOYW1lOiBzdHJpbmcsIHBhZ2VEYXRhPzogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ0cmFja1BhZ2VWaWV3XCIsIHBhZ2VOYW1lKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4116\n')},8737:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Z": () => (/* binding */ AuthorizationService)\n/* harmony export */ });\n/* harmony import */ var _Utils_Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7753);\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8652);\n/* harmony import */ var _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9615);\n/* harmony import */ var _Modules_cdpModule_CdpDataLayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8474);\n/* harmony import */ var _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9296);\n/* harmony import */ var _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8908);\n/* harmony import */ var _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1921);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar AuthorizationServiceClass = (function () {\r\n    function AuthorizationServiceClass() {\r\n        this.tokenLocalStorageKey = "g2iToken";\r\n        this.createTokenUri = "auth/token";\r\n        this.refreshTokenUri = "auth/token/refresh";\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_1__/* .LoggerService.createLogger */ .mQ.createLogger("AuthorizationService");\r\n        this.tokenModel = null;\r\n        this.authorizationPromise = Promise.resolve();\r\n        this.isTokenUpdated = false;\r\n        this.Logger.trace("CTOR");\r\n        this.tokenModel = this.getTokenLocalStorage();\r\n        this.listen();\r\n    }\r\n    AuthorizationServiceClass.prototype.getAuthToken = function () {\r\n        var _this = this;\r\n        return this.authorizationPromise.then(function () {\r\n            var _a;\r\n            return ((_a = _this.tokenModel) === null || _a === void 0 ? void 0 : _a.token) || "";\r\n        }).catch(function () {\r\n            return "";\r\n        });\r\n    };\r\n    AuthorizationServiceClass.prototype.listen = function () {\r\n        var _this = this;\r\n        this.Logger.trace("listenDlCdpGetSuccess");\r\n        this.authorizationPromise = new Promise(function (resolve) {\r\n            _Utils_Utils__WEBPACK_IMPORTED_MODULE_0__/* .Utils.addCustomEventListener */ .c.addCustomEventListener(document, _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_2__/* .PluginInnerEvents.DlCdpGetSuccess */ .U.DlCdpGetSuccess, function () { return __awaiter(_this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!(this.tokenModel && !this.checkExpiredToken())) return [3, 3];\r\n                            if (!this.checkExpireLessThanHour()) return [3, 2];\r\n                            resolve(null);\r\n                            return [4, this.refreshToken()];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [3, 5];\r\n                        case 3: return [4, this.createToken()];\r\n                        case 4:\r\n                            _a.sent();\r\n                            _a.label = 5;\r\n                        case 5:\r\n                            resolve(null);\r\n                            return [2];\r\n                    }\r\n                });\r\n            }); });\r\n        });\r\n    };\r\n    AuthorizationServiceClass.prototype.getTokenLocalStorage = function () {\r\n        return _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_4__/* .LocalStorageService.get */ .n.get(this.tokenLocalStorageKey, false) || null;\r\n    };\r\n    AuthorizationServiceClass.prototype.setTokenLocalStorage = function (token) {\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_4__/* .LocalStorageService.set */ .n.set(this.tokenLocalStorageKey, token, false);\r\n    };\r\n    AuthorizationServiceClass.prototype.deleteTokenLocalStorage = function () {\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_4__/* .LocalStorageService["delete"] */ .n["delete"](this.tokenLocalStorageKey, false);\r\n    };\r\n    AuthorizationServiceClass.prototype.checkExpiredToken = function () {\r\n        return _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.getDateValueFromTimestamp */ .E.getDateValueFromTimestamp(this.tokenModel.expire_at) < Date.now();\r\n    };\r\n    AuthorizationServiceClass.prototype.checkExpireLessThanHour = function () {\r\n        return _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.getDateValueFromTimestamp */ .E.getDateValueFromTimestamp(this.tokenModel.expire_at) < _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.addHours */ .E.addHours(new Date(), 1);\r\n    };\r\n    AuthorizationServiceClass.prototype.updateToken = function () {\r\n        if (!this.isTokenUpdated) {\r\n            this.isTokenUpdated = true;\r\n            this.authorizationPromise = this.createToken();\r\n        }\r\n        return this.getAuthToken();\r\n    };\r\n    AuthorizationServiceClass.prototype.createToken = function () {\r\n        var payload = {\r\n            g2ideviceid: _Modules_cdpModule_CdpDataLayer__WEBPACK_IMPORTED_MODULE_3__/* .CdpDataLayer.getG2iDeviceId */ .S.getG2iDeviceId(),\r\n            endpoints: ["/article", "/profile"]\r\n        };\r\n        _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.disableAuth */ .O.disableAuth();\r\n        var promise = _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.post */ .O.post(this.createTokenUri, payload);\r\n        return this.handleApiCall(promise);\r\n    };\r\n    AuthorizationServiceClass.prototype.refreshToken = function () {\r\n        var _this = this;\r\n        var promise = _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.post */ .O.post(this.refreshTokenUri, {});\r\n        promise.catch(function () { return _this.createToken(); });\r\n        return this.handleApiCall(promise);\r\n    };\r\n    AuthorizationServiceClass.prototype.handleApiCall = function (promise) {\r\n        var _this = this;\r\n        return promise.then(function (token) {\r\n            _this.setTokenLocalStorage(token);\r\n        }).catch(function () {\r\n            _this.deleteTokenLocalStorage();\r\n        }).then(function () {\r\n            _this.tokenModel = _this.getTokenLocalStorage();\r\n        });\r\n    };\r\n    return AuthorizationServiceClass;\r\n}());\r\nvar AuthorizationService = new AuthorizationServiceClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0wsZ0NBQUM7QUFBRCxDQUFDO0FBRU0sSUFBTSxvQkFBb0IsR0FBRyxJQUFJLHlCQUF5QixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0F1dGhvcml6YXRpb25TZXJ2aWNlLnRzPzM4ZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUF1dGhvcml6YXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4vSW5kZXhcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IENkcERhdGFMYXllciB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwRGF0YUxheWVyXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFRva2VuTW9kZWwgfSBmcm9tIFwiQERhdGEvbW9kZWxzXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgRGF0ZVV0aWwgfSBmcm9tIFwiQFV0aWxzL0RhdGVVdGlsXCI7XHJcblxyXG5jbGFzcyBBdXRob3JpemF0aW9uU2VydmljZUNsYXNzIGltcGxlbWVudHMgSUF1dGhvcml6YXRpb25TZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgdG9rZW5Mb2NhbFN0b3JhZ2VLZXkgPSBcImcyaVRva2VuXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNyZWF0ZVRva2VuVXJpID0gXCJhdXRoL3Rva2VuXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHJlZnJlc2hUb2tlblVyaSA9IFwiYXV0aC90b2tlbi9yZWZyZXNoXCI7XHJcblxyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQXV0aG9yaXphdGlvblNlcnZpY2VcIik7XHJcbiAgICBwcml2YXRlIHRva2VuTW9kZWw6IFRva2VuTW9kZWwgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgYXV0aG9yaXphdGlvblByb21pc2U6IFByb21pc2U8YW55PiA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG5cclxuICAgIHByaXZhdGUgaXNUb2tlblVwZGF0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNUT1JcIik7XHJcbiAgICAgICAgdGhpcy50b2tlbk1vZGVsID0gdGhpcy5nZXRUb2tlbkxvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1dGhUb2tlbigpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhvcml6YXRpb25Qcm9taXNlLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbk1vZGVsPy50b2tlbiB8fCBcIlwiO1xyXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxpc3RlbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcImxpc3RlbkRsQ2RwR2V0U3VjY2Vzc1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5hdXRob3JpemF0aW9uUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFBsdWdpbklubmVyRXZlbnRzLkRsQ2RwR2V0U3VjY2VzcywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9rZW5Nb2RlbCAmJiAhdGhpcy5jaGVja0V4cGlyZWRUb2tlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tFeHBpcmVMZXNzVGhhbkhvdXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlZnJlc2hUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VG9rZW5Mb2NhbFN0b3JhZ2UoKTogVG9rZW5Nb2RlbCB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRoaXMudG9rZW5Mb2NhbFN0b3JhZ2VLZXksIGZhbHNlKSB8fCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0VG9rZW5Mb2NhbFN0b3JhZ2UodG9rZW46IFRva2VuTW9kZWwpOiB2b2lkIHtcclxuICAgICAgICBMb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCh0aGlzLnRva2VuTG9jYWxTdG9yYWdlS2V5LCB0b2tlbiwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVsZXRlVG9rZW5Mb2NhbFN0b3JhZ2UoKTogdm9pZCB7XHJcbiAgICAgICAgTG9jYWxTdG9yYWdlU2VydmljZS5kZWxldGUodGhpcy50b2tlbkxvY2FsU3RvcmFnZUtleSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tFeHBpcmVkVG9rZW4oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVVdGlsLmdldERhdGVWYWx1ZUZyb21UaW1lc3RhbXAodGhpcy50b2tlbk1vZGVsLmV4cGlyZV9hdCkgPCBEYXRlLm5vdygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tFeHBpcmVMZXNzVGhhbkhvdXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIERhdGVVdGlsLmdldERhdGVWYWx1ZUZyb21UaW1lc3RhbXAodGhpcy50b2tlbk1vZGVsLmV4cGlyZV9hdCkgPCBEYXRlVXRpbC5hZGRIb3VycyhuZXcgRGF0ZSgpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA0MDMgY2FzZVxyXG4gICAgLy8gcmVjYWxsIG9uZSB0aW1lXHJcbiAgICBwdWJsaWMgdXBkYXRlVG9rZW4oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVG9rZW5VcGRhdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUb2tlblVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmF1dGhvcml6YXRpb25Qcm9taXNlID0gdGhpcy5jcmVhdGVUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdXRoVG9rZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVRva2VuKCkge1xyXG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICBnMmlkZXZpY2VpZCA6IENkcERhdGFMYXllci5nZXRHMmlEZXZpY2VJZCgpLFxyXG4gICAgICAgICAgICBlbmRwb2ludHM6IFtcIi9hcnRpY2xlXCIsIFwiL3Byb2ZpbGVcIl1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBIdHRwU2VydmljZS5kaXNhYmxlQXV0aCgpO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBIdHRwU2VydmljZS5wb3N0KHRoaXMuY3JlYXRlVG9rZW5VcmksIHBheWxvYWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUFwaUNhbGwocHJvbWlzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWZyZXNoVG9rZW4oKSB7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IEh0dHBTZXJ2aWNlLnBvc3QodGhpcy5yZWZyZXNoVG9rZW5VcmksIHt9KTtcclxuICAgICAgICBwcm9taXNlLmNhdGNoKCgpID0+IHRoaXMuY3JlYXRlVG9rZW4oKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQXBpQ2FsbChwcm9taXNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUFwaUNhbGwocHJvbWlzZTogUHJvbWlzZTxUb2tlbk1vZGVsPikge1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKHRva2VuOiBUb2tlbk1vZGVsKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VG9rZW5Mb2NhbFN0b3JhZ2UodG9rZW4pO1xyXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVUb2tlbkxvY2FsU3RvcmFnZSgpO1xyXG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBpbiBjYXNlIHdoZW4gc3RvcmFnZSB3aWxsIG1vZGlmeSBkYXRhXHJcbiAgICAgICAgICAgIHRoaXMudG9rZW5Nb2RlbCA9IHRoaXMuZ2V0VG9rZW5Mb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEF1dGhvcml6YXRpb25TZXJ2aWNlID0gbmV3IEF1dGhvcml6YXRpb25TZXJ2aWNlQ2xhc3MoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8737\n')},4580:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "z": () => (/* binding */ AzureService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _utils_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7753);\n/* harmony import */ var _Index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5908);\n\r\n\r\n\r\nvar AzureService = (function () {\r\n    function AzureService() {\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("AzureService", "#b270df");\r\n        this.OPTIONS = {\r\n            enabled: false\r\n        };\r\n        this.Logger.trace("CTOR");\r\n        this.sessionService = _Index__WEBPACK_IMPORTED_MODULE_2__/* .SessionService.Instance */ .mj.Instance;\r\n    }\r\n    Object.defineProperty(AzureService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new AzureService();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    AzureService.prototype.setup = function (opts) {\r\n        try {\r\n            this.Logger.trace("setOptions", opts);\r\n            this.OPTIONS = opts;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    AzureService.prototype.createPayload = function (eventName) {\r\n        try {\r\n            var entity = {\r\n                PartitionKey: eventName,\r\n                RowKey: _utils_Utils__WEBPACK_IMPORTED_MODULE_1__/* .Utils.createGUID */ .c.createGUID(),\r\n                SessionId: this.sessionService.PageSessionId,\r\n                AiAvail: _utils_Utils__WEBPACK_IMPORTED_MODULE_1__/* .Utils.IsAppInsightsAvail */ .c.IsAppInsightsAvail(),\r\n                GaAvail: _utils_Utils__WEBPACK_IMPORTED_MODULE_1__/* .Utils.IsGoogleAnalyticsAvail */ .c.IsGoogleAnalyticsAvail(),\r\n                GtmAvail: _utils_Utils__WEBPACK_IMPORTED_MODULE_1__/* .Utils.IsGTMAvail */ .c.IsGTMAvail(),\r\n                CxtAvail: _utils_Utils__WEBPACK_IMPORTED_MODULE_1__/* .Utils.IsConnextAvail */ .c.IsConnextAvail()\r\n            };\r\n            return entity;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    AzureService.prototype.sendData = function (eventName, eventData) {\r\n        try {\r\n            if (!this.OPTIONS.enabled) {\r\n                this.Logger.trace("sendData", "NOT ENABLED");\r\n                return;\r\n            }\r\n            this.Logger.info("sendData this.pageService.PageSessionId", this.sessionService.PageSessionId);\r\n            var payload = this.createPayload(eventName);\r\n            this.Logger.debug("sendData", "EventName => ", eventName, "EventData => ", eventData, "Payload => ", payload);\r\n            return;\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return AzureService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU4MC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUU7QUFFN0I7QUFDRDtBQU16QztJQXFCSTtRQWxCUSxXQUFNLEdBQVcsd0dBQTBCLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBR3ZFLFlBQU8sR0FBNkI7WUFDeEMsT0FBTyxFQUFFLEtBQUs7U0FDakI7UUFjRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsY0FBYyxHQUFHLDhFQUF1QixDQUFDO0lBRWxELENBQUM7SUFmRCxzQkFBVyx3QkFBUTthQUFuQjtZQUVJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBRXZELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQzthQUN0QztpQkFBTTthQUVOO1lBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBVUQsNEJBQUssR0FBTCxVQUFNLElBQThCO1FBQ2hDLElBQUk7WUFDQSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7U0FDdkI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVPLG9DQUFhLEdBQXJCLFVBQXNCLFNBQWlCO1FBQ25DLElBQUk7WUFFQSxJQUFJLE1BQU0sR0FBRztnQkFDVCxZQUFZLEVBQUUsU0FBUztnQkFDdkIsTUFBTSxFQUFFLDhFQUFnQixFQUFFO2dCQUMxQixTQUFTLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhO2dCQUM1QyxPQUFPLEVBQUUsOEZBQXdCLEVBQUU7Z0JBQ25DLE9BQU8sRUFBRSxzR0FBNEIsRUFBRTtnQkFDdkMsUUFBUSxFQUFFLDhFQUFnQixFQUFFO2dCQUM1QixRQUFRLEVBQUUsc0ZBQW9CLEVBQUU7YUFDbkM7WUFnQkQsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVELCtCQUFRLEdBQVIsVUFBUyxTQUFpQixFQUFFLFNBQWtCO1FBQzFDLElBQUk7WUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDN0MsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMseUNBQXlDLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMvRixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzVDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1lBQzlHLE9BQU87U0FZVjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9BenVyZVNlcnZpY2UudHM/NzExNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2dnZXIsIExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiLi4vLi4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IElBenVyZVNlcnZpY2UgfSBmcm9tIFwiLi4vY29udHJhY3RzL0lBenVyZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiLi9JbmRleFwiO1xyXG5pbXBvcnQgeyBBbmFseXNpc09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL0FuYWx5c2lzT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5cclxuLy8gaW1wb3J0IHsgQmFzZURhdGFTZXJ2aWNlIH0gZnJvbSBcIi4vYmFzZS9CYXNlRGF0YVNlcnZpY2VcIjtcclxuLy8gaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiLi9TZXNzaW9uU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF6dXJlU2VydmljZSBpbXBsZW1lbnRzIElBenVyZVNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IEF6dXJlU2VydmljZTtcclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQXp1cmVTZXJ2aWNlXCIsIFwiI2IyNzBkZlwiKTtcclxuICAgIC8vIHByaXZhdGUgZXZlbnRTZXJ2aWNlOiBFdmVudFNlcnZpY2U7XHJcbiAgICAvLyBwdWJsaWMgcGFnZVNlc3Npb25JZDI6IHN0cmluZztcclxuICAgIHByaXZhdGUgT1BUSU9OUzogQW5hbHlzaXNPcHRpb25zSW50ZXJmYWNlID0ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCBJbnN0YW5jZSgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkF6dXJlU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJBenVyZVNlcnZpY2UuTkVXIEluc3RhbmNlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEF6dXJlU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXp1cmVTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgLy8gdGhpcy5ldmVudFNlcnZpY2UgPSBFdmVudFNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2V0T3B0aW9ucyhvcHRzOiBBbmFseXNpc09wdGlvbnMpXHJcblxyXG4gICAgc2V0dXAob3B0czogQW5hbHlzaXNPcHRpb25zSW50ZXJmYWNlKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJzZXRPcHRpb25zXCIsIG9wdHMpO1xyXG4gICAgICAgICAgICB0aGlzLk9QVElPTlMgPSBvcHRzO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlUGF5bG9hZChldmVudE5hbWU6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eIGNyZWF0ZVBheWxvYWRcIiwgZXZlbnROYW1lLCBcIiAtLS0tLSAgU2Vzc2lvbklkID09PlwiLCB0aGlzLkJhc2VTZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICBsZXQgZW50aXR5ID0ge1xyXG4gICAgICAgICAgICAgICAgUGFydGl0aW9uS2V5OiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgICAgICBSb3dLZXk6IFV0aWxzLmNyZWF0ZUdVSUQoKSxcclxuICAgICAgICAgICAgICAgIFNlc3Npb25JZDogdGhpcy5zZXNzaW9uU2VydmljZS5QYWdlU2Vzc2lvbklkLFxyXG4gICAgICAgICAgICAgICAgQWlBdmFpbDogVXRpbHMuSXNBcHBJbnNpZ2h0c0F2YWlsKCksXHJcbiAgICAgICAgICAgICAgICBHYUF2YWlsOiBVdGlscy5Jc0dvb2dsZUFuYWx5dGljc0F2YWlsKCksXHJcbiAgICAgICAgICAgICAgICBHdG1BdmFpbDogVXRpbHMuSXNHVE1BdmFpbCgpLFxyXG4gICAgICAgICAgICAgICAgQ3h0QXZhaWw6IFV0aWxzLklzQ29ubmV4dEF2YWlsKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB2YXIgZW50aXR5ID0ge1xyXG4gICAgICAgICAgICAvLyAgICAgUGFydGl0aW9uS2V5OiBldmVudE5hbWUsXHJcbiAgICAgICAgICAgIC8vICAgICBSb3dLZXk6IFV0aWxzLmNyZWF0ZUdVSUQoKSxcclxuICAgICAgICAgICAgLy8gICAgIEFpQXZhaWw6IFV0aWxzLklzQXBwSW5zaWdodHNBdmFpbCgpLFxyXG4gICAgICAgICAgICAvLyAgICAgR2FBdmFpbDogVXRpbHMuSXNHb29nbGVBbmFseXRpY3NBdmFpbCgpLFxyXG4gICAgICAgICAgICAvLyAgICAgR3RtQXZhaWw6IFV0aWxzLklzR1RNQXZhaWwoKSxcclxuICAgICAgICAgICAgLy8gICAgIEN4dEF2YWlsOiBVdGlscy5Jc0Nvbm5leHRBdmFpbCgpLFxyXG4gICAgICAgICAgICAvLyAgICAgU2Vzc2lvbklkOiB0aGlzLl9pbml0T3B0aW9ucy5zZXNzaW9uSWQsXHJcbiAgICAgICAgICAgIC8vICAgICBUaW1lc3BhbjogdGltZUluaXQsXHJcbiAgICAgICAgICAgIC8vICAgICBEb21haW46IGxvY2F0aW9uLmhvc3RuYW1lLFxyXG4gICAgICAgICAgICAvLyAgICAgQnJvd3NlcjogdXNlck1ldGFEYXRhLkJyb3dzZXIsXHJcbiAgICAgICAgICAgIC8vICAgICBPUzogdXNlck1ldGFEYXRhLk9TLFxyXG4gICAgICAgICAgICAvLyAgICAgUGFnZTogbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZShcIixcIiwgXCJeXCIpLFxyXG4gICAgICAgICAgICAvLyAgICAgRlBJZDogZmluZ2VyUHJpbnRJZFxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZERhdGEoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50RGF0YT86IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5PUFRJT05TLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwic2VuZERhdGFcIiwgXCJOT1QgRU5BQkxFRFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwic2VuZERhdGEgdGhpcy5wYWdlU2VydmljZS5QYWdlU2Vzc2lvbklkXCIsIHRoaXMuc2Vzc2lvblNlcnZpY2UuUGFnZVNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgIGxldCBwYXlsb2FkID0gdGhpcy5jcmVhdGVQYXlsb2FkKGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2VuZERhdGFcIiwgXCJFdmVudE5hbWUgPT4gXCIsIGV2ZW50TmFtZSwgXCJFdmVudERhdGEgPT4gXCIsIGV2ZW50RGF0YSwgXCJQYXlsb2FkID0+IFwiLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAvLyBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgLy8gdHJ5IHtcclxuICAgICAgICAgICAgLy8gICAgIHhoci5vcGVuKCdwb3N0JywgdGhpcy5PUFRJT05TLnVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLy90aGlzLkxvZ2dlci5kZWJ1ZyhcIkF6dXJlIERhdGEgTG9hZGVkXCIsIGUuY3VycmVudFRhcmdldFsnc3RhdHVzVGV4dCddKTtcclxuICAgICAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICAgICAgICAgIC8vICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShlbnRpdHkpKTtcclxuICAgICAgICAgICAgLy8gfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmVycm9yKFwiRXJyb3IgU2VuZGluZyBBenVyZSBEYXRhXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4580\n')},6320:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "P": () => (/* binding */ EventService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _Index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5908);\n/* harmony import */ var _MetaDataService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6573);\n/* harmony import */ var _SessionService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(438);\n/* harmony import */ var _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9276);\n/* harmony import */ var _FailedEventService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4757);\n\r\n\r\n\r\n\r\n\r\n\r\nvar EventService = (function () {\r\n    function EventService() {\r\n        var _this = this;\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("EventService", "#fb9b25");\r\n        this.collectedEvents = [];\r\n        this.Logger.trace("CTOR");\r\n        this.sessionService = _SessionService__WEBPACK_IMPORTED_MODULE_3__/* .SessionService.Instance */ .m.Instance;\r\n        this.azureService = _Index__WEBPACK_IMPORTED_MODULE_1__/* .AzureService.Instance */ .zb.Instance;\r\n        this.tagManagerService = _Index__WEBPACK_IMPORTED_MODULE_1__/* .TagManagerService.Instance */ .c$.Instance;\r\n        this.appInsightsService = _Index__WEBPACK_IMPORTED_MODULE_1__/* .AppInsightsService.Instance */ .rs.Instance;\r\n        this.dimensionService = _MetaDataService__WEBPACK_IMPORTED_MODULE_2__/* .MetaDataService.Instance */ .G.Instance;\r\n        this.failedEventService = _FailedEventService__WEBPACK_IMPORTED_MODULE_5__/* .FailedEventService.Instance */ .l.Instance;\r\n        var checkQueryEventsInterval = setInterval(function () {\r\n            if (_this.collectedEvents && _this.collectedEvents.length && _this.isReadyDeviceId()) {\r\n                clearInterval(checkQueryEventsInterval);\r\n                _this.sendTagCollectedEvents();\r\n            }\r\n        }, 1000);\r\n    }\r\n    Object.defineProperty(EventService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new EventService();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    EventService.prototype.sendEvent = function (eventName, eventPayload, skipCollectedDimensions) {\r\n        if (this.isReadyDeviceId()) {\r\n            if (this.collectedEvents && this.collectedEvents.length) {\r\n                this.collectedEvents.push({\r\n                    eventName: eventName,\r\n                    eventPayload: eventPayload,\r\n                    skipCollectedDimensions: skipCollectedDimensions\r\n                });\r\n                this.sendTagCollectedEvents();\r\n            }\r\n            else {\r\n                this.sendApprovedEvent(eventName, eventPayload, skipCollectedDimensions);\r\n            }\r\n        }\r\n        else {\r\n            this.collectedEvents.push({\r\n                eventName: eventName,\r\n                eventPayload: eventPayload,\r\n                skipCollectedDimensions: skipCollectedDimensions\r\n            });\r\n        }\r\n    };\r\n    EventService.prototype.isReadyDeviceId = function () {\r\n        if (_Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_4__/* .DeviceDetector.getCalculatedDeviceId */ .D.getCalculatedDeviceId()) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    EventService.prototype.sendTagCollectedEvents = function () {\r\n        var _this = this;\r\n        if (!this.collectedEvents) {\r\n            return;\r\n        }\r\n        this.collectedEvents.forEach(function (event) {\r\n            _this.sendApprovedEvent(event.eventName, event.eventPayload, event.skipCollectedDimensions);\r\n        });\r\n        this.collectedEvents = [];\r\n    };\r\n    EventService.prototype.sendApprovedEvent = function (eventName, eventPayload, skipCollectedDimensions) {\r\n        try {\r\n            this.Logger.debug("EventService.sendEvent...", eventName, eventPayload);\r\n            this.azureService.sendData(eventName, eventPayload);\r\n            if (!skipCollectedDimensions) {\r\n                if (!eventPayload) {\r\n                    eventPayload = {};\r\n                }\r\n                if (this.dimensionService && this.dimensionService.analyticsDimensions) {\r\n                    eventPayload = Object.assign(eventPayload, this.dimensionService.analyticsDimensions);\r\n                }\r\n            }\r\n            this.tagManagerService.sendTag(eventName, eventPayload);\r\n            delete eventPayload["gtm.uniqueEventId"];\r\n            this.appInsightsService.trackEvent(eventName, eventPayload);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    EventService.prototype.resendFailedEvents = function () {\r\n        this.failedEventService.clean();\r\n    };\r\n    return EventService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bnRTZXJ2aWNlLnRzPzE2MTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJRXZlbnRTZXJ2aWNlLCBUYWdNYW5hZ2VyU2VydmljZSwgSVRhZ01hbmFnZXJTZXJ2aWNlLCBBcHBJbnNpZ2h0c1NlcnZpY2UsIElBcHBJbnNpZ2h0c1NlcnZpY2UsIEF6dXJlU2VydmljZSB9IGZyb20gXCIuL0luZGV4XCI7XHJcbmltcG9ydCB7IE1ldGFEYXRhU2VydmljZSB9IGZyb20gXCIuL01ldGFEYXRhU2VydmljZVwiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuL1Nlc3Npb25TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBGYWlsZWRFdmVudFNlcnZpY2UgfSBmcm9tIFwiLi9GYWlsZWRFdmVudFNlcnZpY2VcIjtcclxuXHJcbi8qKlxyXG4gKiBFdmVudFNlcnZpY2UgaXMgdGhlIG1haW4gY2xhc3MgZm9yIGFsbCBkYXRhIHRoYXQgaXMgc2VudC5cclxuICogSXQgd2lsbCBzdG9yZSBjb21tb24gZGF0YSBhbmQgaGFuZGxlIGZvcndhcmRpbmcgYWxsIGV2ZW50cyB0byBhbGwgb3RoZXIgYXBwcm9wcmlhdGUgc2VydmljZXMgKEdBLCBDRFAsIEF6dXJlKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEV2ZW50U2VydmljZSBpbXBsZW1lbnRzIElFdmVudFNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiRXZlbnRTZXJ2aWNlXCIsIFwiI2ZiOWIyNVwiKTtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRXZlbnRTZXJ2aWNlO1xyXG5cclxuICAgIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSB0YWdNYW5hZ2VyU2VydmljZTogVGFnTWFuYWdlclNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGFwcEluc2lnaHRzU2VydmljZTogSUFwcEluc2lnaHRzU2VydmljZTtcclxuICAgIHByaXZhdGUgZGltZW5zaW9uU2VydmljZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBhenVyZVNlcnZpY2U6IEF6dXJlU2VydmljZTtcclxuICAgIHByaXZhdGUgZmFpbGVkRXZlbnRTZXJ2aWNlOiBGYWlsZWRFdmVudFNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGNvbGxlY3RlZEV2ZW50cyA9IFtdO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkV2ZW50U2VydmljZS5HZXRJbnN0YW5jZS4gTk8gSU5TVEFOQ0UsIENSRUFUSU5HXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEV2ZW50U2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRXZlbnRTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy5henVyZVNlcnZpY2UgPSBBenVyZVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZSA9IFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuYXBwSW5zaWdodHNTZXJ2aWNlID0gQXBwSW5zaWdodHNTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9uU2VydmljZSA9IE1ldGFEYXRhU2VydmljZS5JbnN0YW5jZTtcclxuICAgICAgICB0aGlzLmZhaWxlZEV2ZW50U2VydmljZSA9IEZhaWxlZEV2ZW50U2VydmljZS5JbnN0YW5jZTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hlY2tRdWVyeUV2ZW50c0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsZWN0ZWRFdmVudHMgJiYgdGhpcy5jb2xsZWN0ZWRFdmVudHMubGVuZ3RoICYmIHRoaXMuaXNSZWFkeURldmljZUlkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tRdWVyeUV2ZW50c0ludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRhZ0NvbGxlY3RlZEV2ZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZEV2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBldmVudFBheWxvYWQ/OiBvYmplY3QsIHNraXBDb2xsZWN0ZWREaW1lbnNpb25zPzogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVhZHlEZXZpY2VJZCgpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxlY3RlZEV2ZW50cyAmJiB0aGlzLmNvbGxlY3RlZEV2ZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGVkRXZlbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogZXZlbnROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZDogZXZlbnRQYXlsb2FkLFxyXG4gICAgICAgICAgICAgICAgICAgIHNraXBDb2xsZWN0ZWREaW1lbnNpb25zOiBza2lwQ29sbGVjdGVkRGltZW5zaW9uc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRUYWdDb2xsZWN0ZWRFdmVudHMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgdGhpcy5zZW5kQXBwcm92ZWRFdmVudChldmVudE5hbWUsIGV2ZW50UGF5bG9hZCwgc2tpcENvbGxlY3RlZERpbWVuc2lvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZDogZXZlbnRQYXlsb2FkLFxyXG4gICAgICAgICAgICAgICAgc2tpcENvbGxlY3RlZERpbWVuc2lvbnM6IHNraXBDb2xsZWN0ZWREaW1lbnNpb25zXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzUmVhZHlEZXZpY2VJZCgpIHtcclxuICAgICAgICBpZiAoRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnQ29sbGVjdGVkRXZlbnRzKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb2xsZWN0ZWRFdmVudHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cy5mb3JFYWNoKChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZEFwcHJvdmVkRXZlbnQoZXZlbnQuZXZlbnROYW1lLCBldmVudC5ldmVudFBheWxvYWQsIGV2ZW50LnNraXBDb2xsZWN0ZWREaW1lbnNpb25zKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBlbmhhbmNlIHRoaXMgdG8gYmV0dGVyIGhhbmRsZSBkaWZmZXJlbnQgZGF0YSBkZXN0aW5hdGlvbnMuXHJcbiAgICAvLyAgICAgIDEuIFBvc3NpYmx5IG1ha2UgY29weSBvZiBldmVudFBheWxvYWQgc28gd2UgZG9uJ3QgbmVlZCB0byByZW1vdmUgYW55IG9iamVjdHMuXHJcbiAgICAvLyAgICAgIDIuIE1vdmUgYXNzaWduaW5nIGNvbGxlY3RlZERpbWVuc2lvbnMgdG8gVGFnTWFuYWdlclNlcnZpY2VcclxuICAgIHB1YmxpYyBzZW5kQXBwcm92ZWRFdmVudChldmVudE5hbWU6IHN0cmluZywgZXZlbnRQYXlsb2FkPzogb2JqZWN0LCBza2lwQ29sbGVjdGVkRGltZW5zaW9ucz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNlbmRFdmVudC4uLlwiLCBldmVudE5hbWUsIGV2ZW50UGF5bG9hZCwgXCJQYWdlU2Vzc2lvbklkID09PiBcIiwgdGhpcy5wYWdlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuaW5mbyhcInNlbmRFdmVudC4uLnRoaXMucGFnZVNlcnZpY2UuUGFnZVNlc3Npb25JZFwiLCB0aGlzLnNlc3Npb25TZXJ2aWNlLlBhZ2VTZXNzaW9uSWQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiPz8/Pz8/Pz8/Pz8/Pz8/IHNlbmRFdmVudC4uLnRoaXMucGFnZVNlcnZpY2UuRGV2aWNlU2Vzc2lvbklkXCIsIHRoaXMuc2Vzc2lvblNlcnZpY2UuRGV2aWNlU2Vzc2lvbklkKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJFdmVudFNlcnZpY2Uuc2VuZEV2ZW50Li4uXCIsIGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5jZHBTZXJ2aWNlLnNlbmREYXRhKGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgdGhpcy5henVyZVNlcnZpY2Uuc2VuZERhdGEoZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGNvbGxlY3RlZCBkaW1lbnNpb25zIHRvIHRoZSBldmVudFBheWxvYWQuXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IGNvbW1lbnRlZCBiZWNhdXNlIEkgdGhpbmsgbWVyZ2luZyB0aGlzIGlzIG5vdCB0aGUgYmVzdCBhcHByb2FjaCwgaW5zdGVhZCBJIHNob3VsZCBsb29wIHRocm91Z2ggdGhlc2UgcHJvcHMgYW5kIHNldCB0aGUgRExWIGZvciBlYWNoLlxyXG4gICAgICAgICAgICBpZiAoIXNraXBDb2xsZWN0ZWREaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50UGF5bG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9uU2VydmljZSAmJiB0aGlzLmRpbWVuc2lvblNlcnZpY2UuYW5hbHl0aWNzRGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oZXZlbnRQYXlsb2FkLCB0aGlzLmRpbWVuc2lvblNlcnZpY2UuYW5hbHl0aWNzRGltZW5zaW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZS5zZW5kVGFnKGV2ZW50TmFtZSwgZXZlbnRQYXlsb2FkKTtcclxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50UGF5bG9hZFtcImd0bS51bmlxdWVFdmVudElkXCJdO1xyXG4gICAgICAgICAgICAvLyBOT1RFOiBjb21tZW50aW5nIG91dCBiZWNhdXNlIGlmIGkgcmVtb3ZlIHRoaXMgdGhlbiBHVE0gUHJldmlld2VyIGRvZXNuJ3Qga25vdyB3aGljaCBldmVudHMgd2VyZSBmaXJlZC5cclxuICAgICAgICAgICAgLy8gZGVsZXRlIGV2ZW50UGF5bG9hZFsnZXZlbnQnXTtcclxuICAgICAgICAgICAgdGhpcy5hcHBJbnNpZ2h0c1NlcnZpY2UudHJhY2tFdmVudChldmVudE5hbWUsIGV2ZW50UGF5bG9hZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZW5kRmFpbGVkRXZlbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZmFpbGVkRXZlbnRTZXJ2aWNlLmNsZWFuKCk7XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6320\n')},4757:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "l": () => (/* binding */ FailedEventService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _Collectors_cdp_collectors_CdpEventsManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8546);\n/* harmony import */ var _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9296);\n/* harmony import */ var _Collectors_cdp_collectors_models_SendOptionsModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6432);\n/* harmony import */ var _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8578);\n/* harmony import */ var _SessionService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(438);\n/* harmony import */ var _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1921);\n/* harmony import */ var _Utils_Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(7753);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar FailedEventService = (function () {\r\n    function FailedEventService() {\r\n        this.failedEventStoragePrefix = "FailedEvent_";\r\n        this.mutexKey = "FailedEventMutex";\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("FailedEventService");\r\n    }\r\n    Object.defineProperty(FailedEventService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new FailedEventService();\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    FailedEventService.prototype.stash = function (data) {\r\n        if (!data)\r\n            return;\r\n        var key = this.getFailedEventKey(data);\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService.set */ .n.set(key, data, false);\r\n        this.Logger.debug("stash", key);\r\n    };\r\n    FailedEventService.prototype.drop = function (data) {\r\n        if (!data)\r\n            return;\r\n        var key = this.getFailedEventKey(data);\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService["delete"] */ .n["delete"](key, false);\r\n        this.Logger.debug("drop", key);\r\n    };\r\n    FailedEventService.prototype.clean = function () {\r\n        var _this = this;\r\n        var delay = _Utils_Utils__WEBPACK_IMPORTED_MODULE_7__/* .Utils.getRandomIntegerInRange */ .c.getRandomIntegerInRange(0, 1000);\r\n        setTimeout(function () {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addRepeatDelay */ .Y.addRepeatDelay(delay);\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.createEventsCall */ .Y.createEventsCall();\r\n            try {\r\n                var mutexId = _this.getMutexId();\r\n                if (mutexId && mutexId !== _SessionService__WEBPACK_IMPORTED_MODULE_5__/* .SessionService.Instance.PageSessionId */ .m.Instance.PageSessionId) {\r\n                    if (_Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.daysDiff */ .E.daysDiff(_this.getMutexDate()) > 10) {\r\n                        _this.deleteMutex();\r\n                    }\r\n                    else {\r\n                        return;\r\n                    }\r\n                }\r\n                _this.setMutex();\r\n                _this.getFailedEventKeys().forEach(function (expandedKey) {\r\n                    var data = _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService.get */ .n.get(expandedKey, false);\r\n                    var options = new _Collectors_cdp_collectors_models_SendOptionsModel__WEBPACK_IMPORTED_MODULE_3__/* .SendOptionsModel */ .D({ IsAsync: true, IsResend: true });\r\n                    _Collectors_cdp_collectors_CdpEventsManager__WEBPACK_IMPORTED_MODULE_1__/* .CdpEventsManager.sendEvent */ .h.sendEvent(data, options);\r\n                    _this.drop(data);\r\n                });\r\n            }\r\n            catch (e) {\r\n            }\r\n            finally {\r\n                _this.deleteMutex();\r\n            }\r\n        }, delay);\r\n    };\r\n    FailedEventService.prototype.getMutexId = function () {\r\n        var mutexValue = _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService.get */ .n.get(this.mutexKey, false);\r\n        if (!mutexValue)\r\n            return null;\r\n        var _a = mutexValue.split("__"), id = _a[0], date = _a[1];\r\n        return id;\r\n    };\r\n    FailedEventService.prototype.getMutexDate = function () {\r\n        var mutexValue = _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService.get */ .n.get(this.mutexKey, false);\r\n        if (!mutexValue)\r\n            return null;\r\n        var _a = mutexValue.split("__"), id = _a[0], date = _a[1];\r\n        return date;\r\n    };\r\n    FailedEventService.prototype.setMutex = function () {\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService.set */ .n.set(this.mutexKey, _SessionService__WEBPACK_IMPORTED_MODULE_5__/* .SessionService.Instance.PageSessionId */ .m.Instance.PageSessionId + "__" + new Date().valueOf(), false);\r\n    };\r\n    FailedEventService.prototype.deleteMutex = function () {\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_2__/* .LocalStorageService["delete"] */ .n["delete"](this.mutexKey, false);\r\n    };\r\n    FailedEventService.prototype.getFailedEventKey = function (data) {\r\n        return this.failedEventStoragePrefix + data.Id;\r\n    };\r\n    FailedEventService.prototype.getFailedEventKeys = function () {\r\n        var _this = this;\r\n        try {\r\n            return Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.failedEventStoragePrefix); });\r\n        }\r\n        catch (ex) {\r\n            return [];\r\n        }\r\n    };\r\n    return FailedEventService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VCxPQUFPLEVBQUUsQ0FBQztTQUNiO0lBQ0wsQ0FBQztJQUNMLHlCQUFDO0FBQUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvRmFpbGVkRXZlbnRTZXJ2aWNlLnRzP2M3MGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJRmFpbGVkRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL2NvbnRyYWN0cy9JRmFpbGVkRXZlbnRTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL0NkcEV2ZW50TW9kZWxcIjtcclxuaW1wb3J0IHsgQ2RwRXZlbnRzTWFuYWdlciB9IGZyb20gXCJAQ29sbGVjdG9ycy9jZHAtY29sbGVjdG9ycy9DZHBFdmVudHNNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiLi9TZXNzaW9uU2VydmljZVwiO1xyXG5pbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmFpbGVkRXZlbnRTZXJ2aWNlIGltcGxlbWVudHMgSUZhaWxlZEV2ZW50U2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRmFpbGVkRXZlbnRTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBmYWlsZWRFdmVudFN0b3JhZ2VQcmVmaXg6IHN0cmluZyA9IFwiRmFpbGVkRXZlbnRfXCI7XHJcbiAgICBwcml2YXRlIG11dGV4S2V5OiBzdHJpbmcgPSBcIkZhaWxlZEV2ZW50TXV0ZXhcIjtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkZhaWxlZEV2ZW50U2VydmljZVwiKTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEZhaWxlZEV2ZW50U2VydmljZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFzaChkYXRhOiBDZHBFdmVudE1vZGVsKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRGYWlsZWRFdmVudEtleShkYXRhKTtcclxuICAgICAgICBMb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldChrZXksIGRhdGEsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInN0YXNoXCIsIGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJvcChkYXRhOiBDZHBFdmVudE1vZGVsKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZXRGYWlsZWRFdmVudEtleShkYXRhKTtcclxuICAgICAgICBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmRlbGV0ZShrZXksIGZhbHNlKTtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImRyb3BcIiwga2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhbigpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBkZWxheSA9IFV0aWxzLmdldFJhbmRvbUludGVnZXJJblJhbmdlKDAsIDEwMDApO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkUmVwZWF0RGVsYXkoZGVsYXkpO1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuY3JlYXRlRXZlbnRzQ2FsbCgpO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3NlZCBieSBhbm90aGVyIHRhYlxyXG4gICAgICAgICAgICAgICAgY29uc3QgbXV0ZXhJZCA9IHRoaXMuZ2V0TXV0ZXhJZCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG11dGV4SWQgJiYgbXV0ZXhJZCAhPT0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2UuUGFnZVNlc3Npb25JZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZlcnkgb2xkIG11dGV4XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKERhdGVVdGlsLmRheXNEaWZmKHRoaXMuZ2V0TXV0ZXhEYXRlKCkpID4gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVNdXRleCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNdXRleCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRGYWlsZWRFdmVudEtleXMoKS5mb3JFYWNoKChleHBhbmRlZEtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YTogQ2RwRXZlbnRNb2RlbCA9IExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KGV4cGFuZGVkS2V5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBuZXcgU2VuZE9wdGlvbnNNb2RlbCh7IElzQXN5bmM6IHRydWUsIElzUmVzZW5kOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIENkcEV2ZW50c01hbmFnZXIuc2VuZEV2ZW50KGRhdGEsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAvLyBndWFyYW50ZWUgb2YgcmVtb3ZhbCBtdXRleFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVNdXRleCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TXV0ZXhJZCgpIHtcclxuICAgICAgICBjb25zdCBtdXRleFZhbHVlID0gTG9jYWxTdG9yYWdlU2VydmljZS5nZXQodGhpcy5tdXRleEtleSwgZmFsc2UpO1xyXG4gICAgICAgIGlmICghbXV0ZXhWYWx1ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgY29uc3QgW2lkLCBkYXRlXSA9IG11dGV4VmFsdWUuc3BsaXQoXCJfX1wiKTtcclxuICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNdXRleERhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgbXV0ZXhWYWx1ZSA9IExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRoaXMubXV0ZXhLZXksIGZhbHNlKTtcclxuICAgICAgICBpZiAoIW11dGV4VmFsdWUpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGNvbnN0IFtpZCwgZGF0ZV0gPSBtdXRleFZhbHVlLnNwbGl0KFwiX19cIik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRNdXRleCgpIHtcclxuICAgICAgICBMb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCh0aGlzLm11dGV4S2V5LCBgJHtTZXNzaW9uU2VydmljZS5JbnN0YW5jZS5QYWdlU2Vzc2lvbklkfV9fJHtuZXcgRGF0ZSgpLnZhbHVlT2YoKX1gLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZWxldGVNdXRleCgpIHtcclxuICAgICAgICBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmRlbGV0ZSh0aGlzLm11dGV4S2V5LCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGYWlsZWRFdmVudEtleShkYXRhOiBDZHBFdmVudE1vZGVsKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mYWlsZWRFdmVudFN0b3JhZ2VQcmVmaXggKyBkYXRhLklkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RmFpbGVkRXZlbnRLZXlzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoKGtleTogc3RyaW5nKSA9PiBrZXkuc3RhcnRzV2l0aCh0aGlzLmZhaWxlZEV2ZW50U3RvcmFnZVByZWZpeCkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4757\n')},5908:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "G5": () => (/* reexport safe */ _MetaDataService__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   "zb": () => (/* reexport safe */ _AzureService__WEBPACK_IMPORTED_MODULE_1__.z),\n/* harmony export */   "c$": () => (/* reexport safe */ _TagManagerService__WEBPACK_IMPORTED_MODULE_3__.c),\n/* harmony export */   "PO": () => (/* reexport safe */ _EventService__WEBPACK_IMPORTED_MODULE_4__.P),\n/* harmony export */   "mj": () => (/* reexport safe */ _SessionService__WEBPACK_IMPORTED_MODULE_5__.m),\n/* harmony export */   "rs": () => (/* reexport safe */ _AppInsightsService__WEBPACK_IMPORTED_MODULE_6__.r)\n/* harmony export */ });\n/* harmony import */ var _MetaDataService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6573);\n/* harmony import */ var _AzureService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4580);\n/* harmony import */ var _UserService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(979);\n/* harmony import */ var _TagManagerService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4259);\n/* harmony import */ var _EventService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6320);\n/* harmony import */ var _SessionService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(438);\n/* harmony import */ var _AppInsightsService__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(4116);\n/* harmony import */ var _AuthorizationService__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8737);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkwOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ047QUFDRjtBQUVZO0FBRVY7QUFDSTtBQUVRO0FBSUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL0luZGV4LnRzPzRmYjgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgTWV0YURhdGFTZXJ2aWNlIH0gZnJvbSBcIi4vTWV0YURhdGFTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IEF6dXJlU2VydmljZSB9IGZyb20gXCIuL0F6dXJlU2VydmljZVwiO1xyXG5leHBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gXCIuL1VzZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElVc2VyU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSVVzZXJTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuZXhwb3J0IHsgSVRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuZXhwb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIi4vRXZlbnRTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSBcIi4vU2Vzc2lvblNlcnZpY2VcIjtcclxuZXhwb3J0IHsgSUV2ZW50U2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUV2ZW50U2VydmljZVwiO1xyXG5leHBvcnQgeyBBcHBJbnNpZ2h0c1NlcnZpY2UgfSBmcm9tIFwiLi9BcHBJbnNpZ2h0c1NlcnZpY2VcIjtcclxuZXhwb3J0IHsgSUFwcEluc2lnaHRzU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUFwcEluc2lnaHRzU2VydmljZVwiO1xyXG5leHBvcnQgeyBJRmFpbGVkRXZlbnRTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JRmFpbGVkRXZlbnRTZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IElBdXRob3JpemF0aW9uU2VydmljZSB9IGZyb20gXCIuLi9jb250cmFjdHMvSUF1dGhvcml6YXRpb25TZXJ2aWNlXCI7XHJcbmV4cG9ydCB7IEF1dGhvcml6YXRpb25TZXJ2aWNlIH0gZnJvbSBcIi4vQXV0aG9yaXphdGlvblNlcnZpY2VcIjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5908\n')},6573:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "G": () => (/* binding */ MetaDataService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n\r\nvar MetaDataService = (function () {\r\n    function MetaDataService() {\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("MetaDataService");\r\n        this.customCollectedDimensions = [];\r\n        this.dimensionsToCollect = [];\r\n        this.collectableDimensions = [];\r\n        this.Logger.trace("CTOR");\r\n        this.analyticsDimensions = {};\r\n        this.setDefaultDimensions();\r\n    }\r\n    Object.defineProperty(MetaDataService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new MetaDataService();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MetaDataService.prototype.setup = function (dimensions) {\r\n        this.customDimensions = dimensions;\r\n    };\r\n    MetaDataService.prototype.process = function () {\r\n        try {\r\n            this.Logger.debug("Processing....", this.customDimensions, "dimensionsToCollect", this.dimensionsToCollect);\r\n            if (this.customDimensions) {\r\n                this.evalCustomDimensions(this.customDimensions);\r\n            }\r\n            this.loadMetaTags();\r\n            this.Logger.debug("collectedDimensions", this.analyticsDimensions);\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    MetaDataService.prototype.setDefaultDimensions = function () {\r\n        try {\r\n            this.Logger.debug("Setting Default Dimensions");\r\n            this.dimensionsToCollect.push({\r\n                Id: "contentType",\r\n                Name: "ContentType",\r\n                Required: true,\r\n                MetaTagNames: ["type", "og:type"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "keywords",\r\n                Name: "Keywords",\r\n                Required: true,\r\n                MetaTagNames: ["keywords", "og:keywords", "bt:keywords"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "section",\r\n                Name: "Section",\r\n                Required: true,\r\n                MetaTagNames: ["section", "og:section"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "author",\r\n                Name: "Author",\r\n                Required: true,\r\n                MetaTagNames: ["byline", "author", "bt:author"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "title",\r\n                Name: "Title",\r\n                Required: true,\r\n                MetaTagNames: ["title", "og:title"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "tags",\r\n                Name: "Tags",\r\n                Required: false,\r\n                MetaTagNames: ["tags"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "contentId",\r\n                Name: "ContentId",\r\n                Required: false,\r\n                MetaTagNames: ["contentid"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "publishDate",\r\n                Name: "PublishDate",\r\n                Required: false,\r\n                MetaTagNames: ["publishDate", "pubdate", "og:pers_rec_first_pub_date", "bt:pubDate"]\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "text",\r\n                Name: "Text",\r\n                Required: false,\r\n                ExcludeFromAnalytics: true\r\n            });\r\n            this.dimensionsToCollect.push({\r\n                Id: "leadText",\r\n                Name: "LeadText",\r\n                Required: false,\r\n                ExcludeFromAnalytics: true\r\n            });\r\n            this.collectableDimensions = Object.assign(this.collectableDimensions, this.dimensionsToCollect);\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    MetaDataService.prototype.getCustomDimensions = function () {\r\n        return this.customCollectedDimensions;\r\n    };\r\n    MetaDataService.prototype.evalCustomDimensions = function (dimensions) {\r\n        var _this = this;\r\n        try {\r\n            Object.keys(dimensions).forEach(function (key) {\r\n                var cdim = dimensions[key];\r\n                _this.Logger.debug(key, cdim, typeof cdim);\r\n                if (typeof cdim === "function") {\r\n                    _this.Logger.debug("Is Function");\r\n                    var dimVal = cdim.call();\r\n                    _this.Logger.debug("Is Function VALUE", dimVal);\r\n                    _this.collectDimensionForAnalytics(key, dimVal);\r\n                    _this.customCollectedDimensions[key] = dimVal;\r\n                    var index = _this.dimensionsToCollect.findIndex(function (d) { return d.Id === key; });\r\n                    if (index >= 0) {\r\n                        _this.Logger.debug("evalCD Index", _this.dimensionsToCollect[index]);\r\n                        _this.dimensionsToCollect.splice(index, 1);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    MetaDataService.prototype.loadMetaTags = function () {\r\n        var _this = this;\r\n        try {\r\n            var meta = document.querySelectorAll("meta");\r\n            Array.prototype.forEach.call(meta, function (node) {\r\n                var metaData = _this.getMetaData(node);\r\n                if (metaData) {\r\n                    _this.screenData(metaData);\r\n                }\r\n            });\r\n            this.Logger.debug("this.dimensionsToCollect", this.dimensionsToCollect);\r\n            this.Logger.debug("this.collectableDimensions", this.collectableDimensions);\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    MetaDataService.prototype.getMetaData = function (metaTag) {\r\n        try {\r\n            var metaProperty = (metaTag.attributes["property"] ? metaTag.attributes["property"].value : "");\r\n            var metaName = (metaTag.attributes["name"] ? metaTag.attributes["name"].value : "");\r\n            var metaPropCleaned = metaName || metaProperty;\r\n            if (metaPropCleaned) {\r\n                var metaValue = metaTag.attributes["value"] || metaTag.content;\r\n                if (metaValue) {\r\n                    var tag = {\r\n                        Name: metaPropCleaned,\r\n                        Value: metaValue\r\n                    };\r\n                    return tag;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n            return null;\r\n        }\r\n    };\r\n    MetaDataService.prototype.screenData = function (metaTag) {\r\n        var _this = this;\r\n        try {\r\n            var fnName = "screenData";\r\n            var allowedTagData = this.dimensionsToCollect.filter(function (element, index, array) {\r\n                if (!element || !element.MetaTagNames) {\r\n                    return;\r\n                }\r\n                var isAllowed = element.MetaTagNames.some(function (x) { return x === metaTag.Name; });\r\n                if (isAllowed) {\r\n                    var alreadyCollected = _this.dimensionsToCollect.some(function (x) { return x.Name === element.Id; });\r\n                    if (!alreadyCollected) {\r\n                        _this.analyticsDimensions[element.Id] = metaTag.Value;\r\n                    }\r\n                    else {\r\n                    }\r\n                }\r\n                else {\r\n                }\r\n            });\r\n        }\r\n        catch (e) {\r\n            this.Logger.error(e);\r\n        }\r\n    };\r\n    MetaDataService.prototype.collectDimensionForAnalytics = function (dimensionName, dimVal) {\r\n        var collectDimension = this.dimensionsToCollect.find(function (d) { return d.Name === dimensionName; });\r\n        if (collectDimension && !collectDimension.ExcludeFromAnalytics) {\r\n            this.analyticsDimensions[collectDimension.Id] = dimVal;\r\n        }\r\n    };\r\n    return MetaDataService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNELElBQUksU0FBUyxHQUFZLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQUMsSUFBSSxRQUFDLEtBQUssT0FBTyxDQUFDLElBQUksRUFBbEIsQ0FBa0IsQ0FBQyxDQUFDO2dCQUM1RSxJQUFJLFNBQVMsRUFBRTtvQkFHWCxJQUFJLGdCQUFnQixHQUFZLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsV0FBQyxJQUFJLFFBQUMsQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDLEVBQUUsRUFBckIsQ0FBcUIsQ0FBQyxDQUFDO29CQU0xRixJQUFJLENBQUMsZ0JBQWdCLEVBQUU7d0JBRW5CLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztxQkFDeEQ7eUJBQU07cUJBRU47aUJBQ0o7cUJBQU07aUJBRU47WUFDTCxDQUFDLENBQUMsQ0FBQztTQUNOO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFFRCxzREFBNEIsR0FBNUIsVUFBNkIsYUFBYSxFQUFFLE1BQU07UUFDOUMsSUFBTSxnQkFBZ0IsR0FBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFdBQUMsSUFBSSxRQUFDLENBQUMsSUFBSSxLQUFLLGFBQWEsRUFBeEIsQ0FBd0IsQ0FBQyxDQUFDO1FBQ3JGLElBQUcsZ0JBQWdCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsRUFBQztZQUN6RCxJQUFJLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDO1NBQzNEO0lBQ0wsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL2RhdGEvc2VydmljZXMvTWV0YURhdGFTZXJ2aWNlLnRzPzY5YmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25UeXBlLCBDb2xsZWN0ZWREaW1lbnNpb25zIH0gZnJvbSBcIi4uL21vZGVscy9JbmRleFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1ldGFEYXRhU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogTWV0YURhdGFTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiTWV0YURhdGFTZXJ2aWNlXCIpO1xyXG4gICAgLy8gaG9sZHMgY3VzdG9tIGRpbWVuc2lvbnMgdG8gZXZhbHVhdGVcclxuICAgIHByaXZhdGUgY3VzdG9tRGltZW5zaW9uczogYW55O1xyXG4gICAgcHJpdmF0ZSBjdXN0b21Db2xsZWN0ZWREaW1lbnNpb25zID0gW107XHJcbiAgICBwdWJsaWMgZGltZW5zaW9uc1RvQ29sbGVjdDogQXJyYXk8RGltZW5zaW9uVHlwZT4gPSBbXTtcclxuICAgIHB1YmxpYyBjb2xsZWN0YWJsZURpbWVuc2lvbnM6IEFycmF5PERpbWVuc2lvblR5cGU+ID0gW107XHJcbiAgICBwdWJsaWMgYW5hbHl0aWNzRGltZW5zaW9uczogQ29sbGVjdGVkRGltZW5zaW9ucztcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkRpbWVuc2lvblNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBNZXRhRGF0YVNlcnZpY2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkRpbWVuc2lvblNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDVE9SXCIpO1xyXG4gICAgICAgIHRoaXMuYW5hbHl0aWNzRGltZW5zaW9ucyA9IDxDb2xsZWN0ZWREaW1lbnNpb25zPnt9O1xyXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdERpbWVuc2lvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0dXAoZGltZW5zaW9ucz86IG9iamVjdCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByb2Nlc3MoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJQcm9jZXNzaW5nLi4uLlwiLCB0aGlzLmN1c3RvbURpbWVuc2lvbnMsIFwiZGltZW5zaW9uc1RvQ29sbGVjdFwiLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGN1c3RvbSBkaW1lbnNpb25zIHBhc3NlZCBpbiwgc28gcHJvY2VzcyB0aGVtIGZpcnN0LlxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXN0b21EaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBldmFsIHBhc3NlZCBpbiBjdXN0b20gZGltZW5zaW9ucy5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXZhbEN1c3RvbURpbWVuc2lvbnModGhpcy5jdXN0b21EaW1lbnNpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyByZWdhcmRsZXNzIGlmIHdlIGhhdmUgY3VzdG9tIGRpbWVuc2lvbnMgcGFzc2VkIGluLCB3ZSBjb2xsZWN0IG1ldGEgdGFncy5cclxuICAgICAgICAgICAgdGhpcy5sb2FkTWV0YVRhZ3MoKTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJjb2xsZWN0ZWREaW1lbnNpb25zXCIsIHRoaXMuYW5hbHl0aWNzRGltZW5zaW9ucyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldHMgdGhlIGRlZmF1bHQgdGFncyB0aGF0IHNob3VsZCBiZSBjb2xsZWN0ZWQuXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXREZWZhdWx0RGltZW5zaW9ucygpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIlNldHRpbmcgRGVmYXVsdCBEaW1lbnNpb25zXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJjb250ZW50VHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJDb250ZW50VHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcInR5cGVcIiwgXCJvZzp0eXBlXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJrZXl3b3Jkc1wiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJLZXl3b3Jkc1wiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcImtleXdvcmRzXCIsIFwib2c6a2V5d29yZHNcIiwgXCJidDprZXl3b3Jkc1wiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwic2VjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJTZWN0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1wic2VjdGlvblwiLCBcIm9nOnNlY3Rpb25cIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcImF1dGhvclwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJBdXRob3JcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJieWxpbmVcIiwgXCJhdXRob3JcIiwgXCJidDphdXRob3JcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcInRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1widGl0bGVcIiwgXCJvZzp0aXRsZVwiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwidGFnc1wiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJUYWdzXCIsXHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBNZXRhVGFnTmFtZXM6IFtcInRhZ3NcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1RvQ29sbGVjdC5wdXNoKDxEaW1lbnNpb25UeXBlPntcclxuICAgICAgICAgICAgICAgIElkOiBcImNvbnRlbnRJZFwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJDb250ZW50SWRcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIE1ldGFUYWdOYW1lczogW1wiY29udGVudGlkXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJwdWJsaXNoRGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJQdWJsaXNoRGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgTWV0YVRhZ05hbWVzOiBbXCJwdWJsaXNoRGF0ZVwiLCBcInB1YmRhdGVcIiwgXCJvZzpwZXJzX3JlY19maXJzdF9wdWJfZGF0ZVwiLCBcImJ0OnB1YkRhdGVcIl1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QucHVzaCg8RGltZW5zaW9uVHlwZT57XHJcbiAgICAgICAgICAgICAgICBJZDogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlRleHRcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIEV4Y2x1ZGVGcm9tQW5hbHl0aWNzOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnB1c2goPERpbWVuc2lvblR5cGU+e1xyXG4gICAgICAgICAgICAgICAgSWQ6IFwibGVhZFRleHRcIixcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiTGVhZFRleHRcIixcclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIEV4Y2x1ZGVGcm9tQW5hbHl0aWNzOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBtYWtlIGNvcHkgb2YgYXJyYXkuXHJcbiAgICAgICAgICAgIC8vIHdlIHVzZSBjb2xsZWN0YWJsZURpbWVuc2lvbnMgdG8gdXNlIGluIENEUCBzbyB3ZSBjYW4gc2V0IG51bGwgc3RyaW5ncy5cclxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0YWJsZURpbWVuc2lvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuY29sbGVjdGFibGVEaW1lbnNpb25zLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGdldEN1c3RvbURpbWVuc2lvbnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tQ29sbGVjdGVkRGltZW5zaW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXZhbEN1c3RvbURpbWVuc2lvbnMoZGltZW5zaW9uczogb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJldmFsQ3VzdG9tRGltZW5zaW9ucyBTVEFSVFwiLCB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QpO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkaW1lbnNpb25zKS5mb3JFYWNoKFxyXG4gICAgICAgICAgICAgICAga2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2RpbSA9IGRpbWVuc2lvbnNba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhrZXksIGNkaW0sIHR5cGVvZiBjZGltKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNkaW0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIklzIEZ1bmN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGltVmFsID0gY2RpbS5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSXMgRnVuY3Rpb24gVkFMVUVcIiwgZGltVmFsKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdERpbWVuc2lvbkZvckFuYWx5dGljcyhrZXksIGRpbVZhbCk7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbUNvbGxlY3RlZERpbWVuc2lvbnNba2V5XSA9IGRpbVZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LmZpbmRJbmRleChkID0+IGQuSWQgPT09IGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMga2V5IGlzIGluIGRpbWVuc2lvbnNUb0NvbGxlY3QuIE5lZWQgdGhpcyBpbiBjYXNlIGNsaWVudCBhZGRzIG5vbi1zdXBwb3J0ZWQgZGltZW5zaW9uIGluIGRpbWVuc2lvbnMgaW5pdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJldmFsQ0QgSW5kZXhcIiwgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0W2luZGV4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3RbaW5kZXhdLkNvbGxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRNZXRhVGFncygpOiB2b2lkIHtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkxvYWRpbmcgTWV0YSBUYWdzXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBtZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIm1ldGFcIik7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiTG9hZGluZyBNZXRhIFRhZ3MuIE1FVEFcIiwgbWV0YSk7XHJcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbGwgbWV0YSBub2Rlc1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG1ldGEsIChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk1ldGFUYWcuRWFjaFwiLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIC8vIGdldCBkYXRhIGZyb20gdGhpcyBub2RlIChoYW5kbGVzIGxvZ2ljIGZvciBuYW1lL3Byb3BlcnkvdmFsdWUgZXRjLi4uKVxyXG4gICAgICAgICAgICAgICAgbGV0IG1ldGFEYXRhID0gPENvbGxlY3RlZERpbWVuc2lvbnM+dGhpcy5nZXRNZXRhRGF0YShub2RlKTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiKioqKiogbWV0YSBkYXRhXCIsIG1ldGFEYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmIChtZXRhRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwibWV0YURhdGFcIiwgbWV0YURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgbWV0YURhdGEgc28gY2hlY2sgaWYgd2Ugc2hvdWxkIGNvbGxlY3QgdGhpcy5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmVlbkRhdGEobWV0YURhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3RcIiwgdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0KTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJ0aGlzLmNvbGxlY3RhYmxlRGltZW5zaW9uc1wiLCB0aGlzLmNvbGxlY3RhYmxlRGltZW5zaW9ucyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNZXRhRGF0YShtZXRhVGFnKTogQ29sbGVjdGVkRGltZW5zaW9ucyB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IG1ldGFQcm9wZXJ0eSA9IChtZXRhVGFnLmF0dHJpYnV0ZXNbXCJwcm9wZXJ0eVwiXSA/IG1ldGFUYWcuYXR0cmlidXRlc1tcInByb3BlcnR5XCJdLnZhbHVlIDogXCJcIik7XHJcbiAgICAgICAgICAgIGxldCBtZXRhTmFtZSA9IChtZXRhVGFnLmF0dHJpYnV0ZXNbXCJuYW1lXCJdID8gbWV0YVRhZy5hdHRyaWJ1dGVzW1wibmFtZVwiXS52YWx1ZSA6IFwiXCIpO1xyXG4gICAgICAgICAgICBsZXQgbWV0YVByb3BDbGVhbmVkID0gbWV0YU5hbWUgfHwgbWV0YVByb3BlcnR5O1xyXG4gICAgICAgICAgICBpZiAobWV0YVByb3BDbGVhbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWV0YVZhbHVlID0gbWV0YVRhZy5hdHRyaWJ1dGVzW1widmFsdWVcIl0gfHwgbWV0YVRhZy5jb250ZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKG1ldGFWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWcgPSA8Q29sbGVjdGVkRGltZW5zaW9ucz57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWU6IG1ldGFQcm9wQ2xlYW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG1ldGFWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCIrKysrKysrKysrIGdldE1ldGFEYXRhXCIsIHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVGhpcyB0YWtlcyBhbiBJQ29sbGVjdGVkTWV0YVRhZyBhbmQgc2NyZWVucyBpdCBhZ2FpbnN0IHRoZSBkYXRhIHdlIGFyZSBhbGxvd2VkIHRvIGNvbGxlY3QgYXMgd2VsbCBhcyBkYXRhIHdlIGFscmVhZHkgY29sbGVjdGVkLlxyXG4gICAgKiBAcGFyYW0gbWV0YVRhZ1xyXG4gICAgKi9cclxuICAgIHByaXZhdGUgc2NyZWVuRGF0YShtZXRhVGFnOiBDb2xsZWN0ZWREaW1lbnNpb25zKTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGZuTmFtZSA9IFwic2NyZWVuRGF0YVwiO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiTWV0YVRhZ1wiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gbGV0IGkgPSAwO1xyXG4gICAgICAgICAgICAvLyAvLyB0aGlzLm4rKztcclxuICAgICAgICAgICAgLy8gLy8gLy8gdGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LmZvckVhY2goKGRpbSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAvLyAvLyAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImRpbS5FQUNIXCIsIGRpbSk7XHJcbiAgICAgICAgICAgIC8vIC8vIC8vICAgICBpZiAoIWRpbS5Db2xsZWN0ZWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIC8vIC8vICAgICB9XHJcbiAgICAgICAgICAgIC8vIC8vIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyAvLyBsZXQgYWxsb3dlZFRhZ0RhdGEgPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmlsdGVyKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IHtcclxuICAgICAgICAgICAgLy8gLy8gICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImZpbHRlclwiLCBcImVsZW1lbnRcIiwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICBsZXQgaXNBbGxvd2VkID0gPGJvb2xlYW4+ZWxlbWVudC5NZXRhVGFnTmFtZXMuc29tZSh4ID0+IHggPT09IG1ldGFUYWcuTmFtZSk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICBpZiAoaXNBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcImZpbHRlclwiLCBcImVsZW1lbnRcIiwgZWxlbWVudCwgXCIqKiBJUyAqKiBBbGxvd2VkXCIpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoXCImJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmIFNEIFRhZ0FsbG93ZWRcIiwgbWV0YVRhZyk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy90aGlzIHRhZyBpcyBhbGxvd2VkLiBjaGVjayBpZiB3ZSBhbHJlYWR5IGNvbGxlY3RlZCB0aGlzIGJ5IGFsbG93ZWREYXRhLkRhdGFOYW1lXHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gbGV0IGFscmVhZHlDb2xsZWN0ZWQgPSA8Ym9vbGVhbj50aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc29tZSh4ID0+IHguTmFtZSA9PT0gZWxlbWVudC5JZCk7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gbGV0IGFscmVhZHlDb2xsZWN0ZWQyID0gPGJvb2xlYW4+dGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnNvbWUoeCA9PiB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJSUlJSUlJSUlJSUlJSUgc2NyZWVuRGF0YVwiLCBcImFscmVhZHlDb2xsZWN0ZWQuU09NRVwiLCBcInggPT5cIiwgeCwgXCJlbGVtZW50XCIsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vICAgICByZXR1cm4gKHguTmFtZSA9PT0gZWxlbWVudC5JZCAmJiBlbGVtZW50LkNvbGxlY3RlZCA9PSB0cnVlKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiIyMjIyMjIyMjIyMjIyMjIyMgKioqKioqKiBTRCBUYWdBbGxvd2VkIC0tIE5vdCBDb2xsZWN0ZWRcIiwgZWxlbWVudCwgbWV0YVRhZywgXCJhbHJlYWR5Q29sbGVjdGVkMlwiLCBhbHJlYWR5Q29sbGVjdGVkMik7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gaWYgKCFhbHJlYWR5Q29sbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIC8vIC8vICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmluZm8oXCImJiYmJiAqKioqKioqIFNEIFRhZ0FsbG93ZWQgLS0gTm90IENvbGxlY3RlZFwiLCBlbGVtZW50LCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyAgICAgdGhpcy5jb2xsZWN0ZWREaW1lbnNpb25zW2VsZW1lbnQuSWRdID0gbWV0YVRhZy5WYWx1ZTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmICoqKioqKiogU0QgVGFnQWxsb3dlZCAtLSBBbHJlYWR5IENvbGxlY3RlZFwiLCBhbHJlYWR5Q29sbGVjdGVkKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgICAgIC8vdGhpcy5Mb2dnZXIuZGVidWcoXCImJiYmJiYmJiYgeHh4eCBTRCBOT1QgQUxMT1dFRFwiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgLy8gLy8gICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZmlsdGVyXCIsIFwiZWxlbWVudFwiLCBlbGVtZW50LCBcIioqIE5PVCAqKiBBbGxvd2VkXCIpO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgfVxyXG4gICAgICAgICAgICAvLyAvLyAgICAgaSsrO1xyXG4gICAgICAgICAgICAvLyAvLyAgICAgdGhpcy5uKys7XHJcbiAgICAgICAgICAgIC8vIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyAvLyB0aGlzLmkrKztcclxuICAgICAgICAgICAgLy8gLy8gdGhpcy5Mb2dnZXIuZGVidWcoZm5OYW1lLCBcIiMjIyMjIyMjIyMjIyMgXCIsIGkpO1xyXG4gICAgICAgICAgICBsZXQgYWxsb3dlZFRhZ0RhdGEgPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmlsdGVyKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiU0QgYWxsb3dlZFRhZ0RhdGEuIEVMRU1FTlRcIiwgZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBpZighZWxlbWVudCB8fCAhZWxlbWVudC5NZXRhVGFnTmFtZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBpc0FsbG93ZWQgPSA8Ym9vbGVhbj5lbGVtZW50Lk1ldGFUYWdOYW1lcy5zb21lKHggPT4geCA9PT0gbWV0YVRhZy5OYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0FsbG93ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYgU0QgVGFnQWxsb3dlZFwiLCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHRhZyBpcyBhbGxvd2VkLiBjaGVjayBpZiB3ZSBhbHJlYWR5IGNvbGxlY3RlZCB0aGlzIGJ5IGFsbG93ZWREYXRhLkRhdGFOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFscmVhZHlDb2xsZWN0ZWQgPSA8Ym9vbGVhbj50aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3Quc29tZSh4ID0+IHguTmFtZSA9PT0gZWxlbWVudC5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGFscmVhZHlDb2xsZWN0ZWQyID0gPGJvb2xlYW4+dGhpcy5kaW1lbnNpb25zVG9Db2xsZWN0LnNvbWUoeCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJSUlJSUlJSUlJSUlJSUgc2NyZWVuRGF0YVwiLCBcImFscmVhZHlDb2xsZWN0ZWQuU09NRVwiLCBcInggPT5cIiwgeCwgXCJlbGVtZW50XCIsIGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXR1cm4gKHguTmFtZSA9PT0gZWxlbWVudC5JZCAmJiBlbGVtZW50LkNvbGxlY3RlZCA9PSB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiIyMjIyMjIyMjIyMjIyMjIyMgKioqKioqKiBTRCBUYWdBbGxvd2VkIC0tIE5vdCBDb2xsZWN0ZWRcIiwgZWxlbWVudCwgbWV0YVRhZywgXCJhbHJlYWR5Q29sbGVjdGVkMlwiLCBhbHJlYWR5Q29sbGVjdGVkMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5Q29sbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmluZm8oXCImJiYmJiAqKioqKioqIFNEIFRhZ0FsbG93ZWQgLS0gTm90IENvbGxlY3RlZFwiLCBlbGVtZW50LCBtZXRhVGFnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmFseXRpY3NEaW1lbnNpb25zW2VsZW1lbnQuSWRdID0gbWV0YVRhZy5WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIiYmJiYmICoqKioqKiogU0QgVGFnQWxsb3dlZCAtLSBBbHJlYWR5IENvbGxlY3RlZFwiLCBhbHJlYWR5Q29sbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLmRlYnVnKFwiJiYmJiYmJiYmIHh4eHggU0QgTk9UIEFMTE9XRURcIiwgbWV0YVRhZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbGxlY3REaW1lbnNpb25Gb3JBbmFseXRpY3MoZGltZW5zaW9uTmFtZSwgZGltVmFsKXtcclxuICAgICAgICBjb25zdCBjb2xsZWN0RGltZW5zaW9uPSB0aGlzLmRpbWVuc2lvbnNUb0NvbGxlY3QuZmluZChkID0+IGQuTmFtZSA9PT0gZGltZW5zaW9uTmFtZSk7XHJcbiAgICAgICAgaWYoY29sbGVjdERpbWVuc2lvbiAmJiAhY29sbGVjdERpbWVuc2lvbi5FeGNsdWRlRnJvbUFuYWx5dGljcyl7XHJcbiAgICAgICAgICAgICB0aGlzLmFuYWx5dGljc0RpbWVuc2lvbnNbY29sbGVjdERpbWVuc2lvbi5JZF0gPSBkaW1WYWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6573\n')},438:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "m": () => (/* binding */ SessionService)\n});\n\n// EXTERNAL MODULE: ./src/plugin/utils/logger/Logger.Core.ts + 1 modules\nvar Logger_Core = __webpack_require__(8652);\n// EXTERNAL MODULE: ./src/plugin/utils/Utils.ts\nvar Utils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./src/plugin/core/constants/Constants.ts\nvar Constants = __webpack_require__(5079);\n// EXTERNAL MODULE: ./src/plugin/core/storages/memoryProxy/MemoryProxyStorage.ts + 1 modules\nvar MemoryProxyStorage = __webpack_require__(219);\n;// CONCATENATED MODULE: ./src/plugin/core/storages/session/SessionStorage.ts\n\r\nvar SessionStorage = (function () {\r\n    function SessionStorage() {\r\n        return MemoryProxyStorage/* MemoryProxyStorage.applyProxy */.H.applyProxy(this, "SessionStorage");\r\n    }\r\n    SessionStorage.prototype.isSupported = function () {\r\n        var result;\r\n        try {\r\n            var key = "isSupportedSessionStorageKey";\r\n            var value = "isSupportedSessionStorageValue";\r\n            sessionStorage.setItem(key, value);\r\n            if (sessionStorage.getItem(key) === value) {\r\n                sessionStorage.removeItem(key);\r\n                result = true;\r\n            }\r\n        }\r\n        catch (ex) {\r\n            result = false;\r\n        }\r\n        finally {\r\n            return result;\r\n        }\r\n    };\r\n    SessionStorage.prototype.get = function (key) {\r\n        try {\r\n            return sessionStorage.getItem(key);\r\n        }\r\n        catch (ex) {\r\n            return null;\r\n        }\r\n    };\r\n    SessionStorage.prototype.set = function (key, data) {\r\n        var success;\r\n        try {\r\n            sessionStorage.setItem(key, data);\r\n            success = true;\r\n        }\r\n        catch (ex) {\r\n            success = false;\r\n        }\r\n        finally {\r\n            return success;\r\n        }\r\n    };\r\n    SessionStorage.prototype.delete = function (key) {\r\n        var success;\r\n        try {\r\n            sessionStorage.removeItem(key);\r\n            success = true;\r\n        }\r\n        catch (ex) {\r\n            success = false;\r\n        }\r\n        finally {\r\n            return success;\r\n        }\r\n    };\r\n    SessionStorage.prototype.clear = function () {\r\n        var success;\r\n        try {\r\n            sessionStorage.clear();\r\n            success = true;\r\n        }\r\n        catch (ex) {\r\n            success = false;\r\n        }\r\n        finally {\r\n            return success;\r\n        }\r\n    };\r\n    return SessionStorage;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/data/services/SessionService.ts\n\r\n\r\n\r\n\r\nvar SessionService = (function () {\r\n    function SessionService() {\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("SessionService", "#dfa870");\r\n        this.savedCdpModel = null;\r\n        this.Logger.trace("CTOR");\r\n        this.PageSessionId = Utils/* Utils.createGUID */.c.createGUID();\r\n        this.sessionStorage = new SessionStorage();\r\n        var storedBrowserSessionId = this.sessionStorage.get(Constants/* Constants.cookies.BrowserSessionId */.g.cookies.BrowserSessionId);\r\n        this.Logger.trace("CTOR", "storedBrowserSessionId", storedBrowserSessionId);\r\n        if (!storedBrowserSessionId) {\r\n            this.deviceBrowserSessionId = Utils/* Utils.createGUID */.c.createGUID();\r\n            this.Logger.trace("CTOR", "NO storedBrowserSessionId... New deviceBrowserSessionId", this.deviceBrowserSessionId);\r\n            this.sessionStorage.set(Constants/* Constants.cookies.BrowserSessionId */.g.cookies.BrowserSessionId, this.deviceBrowserSessionId);\r\n        }\r\n        else {\r\n            this.deviceBrowserSessionId = storedBrowserSessionId;\r\n        }\r\n        this.startPageSession = Math.floor(Date.now() / 1000);\r\n    }\r\n    Object.defineProperty(SessionService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new SessionService();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    SessionService.prototype.getStartPageSession = function () {\r\n        return this.startPageSession;\r\n    };\r\n    SessionService.prototype.setStartPageSession = function (startPageSession) {\r\n        this.startPageSession = startPageSession;\r\n    };\r\n    SessionService.prototype.saveRequiredData = function (data) {\r\n        if (Array.isArray(data)) {\r\n            this.savedCdpModel = data[0];\r\n        }\r\n        else {\r\n            this.savedCdpModel = data;\r\n        }\r\n    };\r\n    SessionService.prototype.getRequiredData = function () {\r\n        return this.savedCdpModel;\r\n    };\r\n    SessionService.prototype.init = function () {\r\n        this.Logger.debug("Init");\r\n    };\r\n    SessionService.prototype.getDeviceSessionId = function () {\r\n        return this.deviceBrowserSessionId;\r\n    };\r\n    return SessionService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNJLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUM5QixDQUFDO0lBRU0sNkJBQUksR0FBWDtRQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCwyQ0FBa0IsR0FBbEI7UUFDSSxPQUFPLElBQUksQ0FBQyxzQkFBc0IsQ0FBQztJQUN2QyxDQUFDO0lBRUwscUJBQUM7QUFBRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vY29yZS9zdG9yYWdlcy9zZXNzaW9uL1Nlc3Npb25TdG9yYWdlLnRzP2FlMTkiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9TZXNzaW9uU2VydmljZS50cz85M2Q1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0b3JhZ2VJbnRlcmZhY2UgfSBmcm9tIFwiLi4vU3RvcmFnZUludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNZW1vcnlQcm94eVN0b3JhZ2UgfSBmcm9tIFwiLi4vbWVtb3J5UHJveHkvTWVtb3J5UHJveHlTdG9yYWdlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2Vzc2lvblN0b3JhZ2UgaW1wbGVtZW50cyBTdG9yYWdlSW50ZXJmYWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiBNZW1vcnlQcm94eVN0b3JhZ2UuYXBwbHlQcm94eSh0aGlzLCBcIlNlc3Npb25TdG9yYWdlXCIpIGFzIFNlc3Npb25TdG9yYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1N1cHBvcnRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IFwiaXNTdXBwb3J0ZWRTZXNzaW9uU3RvcmFnZUtleVwiO1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwiaXNTdXBwb3J0ZWRTZXNzaW9uU3RvcmFnZVZhbHVlXCI7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSkgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2VcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0KGtleTogc3RyaW5nKTogYW55IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0KGtleTogc3RyaW5nLCBkYXRhOiBhbnkpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgc3VjY2VzcztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2VzcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlbGV0ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBzdWNjZXNzO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHN1Y2Nlc3M7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENkcEV2ZW50TW9kZWwgfSBmcm9tIFwiLi8uLi8uLi9jb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi4vLi4vdXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIi4uLy4uL2NvcmUvY29uc3RhbnRzL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBTZXNzaW9uU3RvcmFnZSB9IGZyb20gXCJAQ29yZS9zdG9yYWdlcy9zZXNzaW9uL1Nlc3Npb25TdG9yYWdlXCI7XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBFdmVudFNlcnZpY2UgaXMgdGhlIG1haW4gY2xhc3MgZm9yIGFsbCBkYXRhIHRoYXQgaXMgc2VudC5cclxuICogSXQgd2lsbCBzdG9yZSBjb21tb24gZGF0YSBhbmQgaGFuZGxlIGZvcndhcmRpbmcgYWxsIGV2ZW50cyB0byBhbGwgb3RoZXIgYXBwcm9wcmlhdGUgc2VydmljZXMgKEdBLCBDRFAsIEF6dXJlKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFNlc3Npb25TZXJ2aWNlIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlNlc3Npb25TZXJ2aWNlXCIsIFwiI2RmYTg3MFwiKTtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBTZXNzaW9uU2VydmljZTtcclxuICAgIHByaXZhdGUgc2Vzc2lvblN0b3JhZ2U6IFNlc3Npb25TdG9yYWdlO1xyXG4gICAgcHJpdmF0ZSBkZXZpY2VCcm93c2VyU2Vzc2lvbklkOiBzdHJpbmc7XHJcbiAgICAvLyBwdWJsaWMgRGV2aWNlU2Vzc2lvbklkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgUGFnZVNlc3Npb25JZDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBzYXZlZENkcE1vZGVsOiBDZHBFdmVudE1vZGVsID0gbnVsbDtcclxuICAgIHByaXZhdGUgc3RhcnRQYWdlU2Vzc2lvbjtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IEluc3RhbmNlKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiTG9nZ2VyU2VydmljZS5HZXRJbnN0YW5jZVwiKTtcclxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSA9PT0gbnVsbCB8fCB0aGlzLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFdmVudFNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBTZXNzaW9uU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiRXZlbnRTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLlBhZ2VTZXNzaW9uSWQgPSBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICAgICAgdGhpcy5zZXNzaW9uU3RvcmFnZSA9IG5ldyBTZXNzaW9uU3RvcmFnZSgpO1xyXG4gICAgICAgIGxldCBzdG9yZWRCcm93c2VyU2Vzc2lvbklkID0gdGhpcy5zZXNzaW9uU3RvcmFnZS5nZXQoQ29uc3RhbnRzLmNvb2tpZXMuQnJvd3NlclNlc3Npb25JZCk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJDVE9SXCIsIFwic3RvcmVkQnJvd3NlclNlc3Npb25JZFwiLCBzdG9yZWRCcm93c2VyU2Vzc2lvbklkKTtcclxuICAgICAgICBpZiAoIXN0b3JlZEJyb3dzZXJTZXNzaW9uSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXZpY2VCcm93c2VyU2Vzc2lvbklkID0gVXRpbHMuY3JlYXRlR1VJRCgpO1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkNUT1JcIiwgXCJOTyBzdG9yZWRCcm93c2VyU2Vzc2lvbklkLi4uIE5ldyBkZXZpY2VCcm93c2VyU2Vzc2lvbklkXCIsIHRoaXMuZGV2aWNlQnJvd3NlclNlc3Npb25JZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvblN0b3JhZ2Uuc2V0KENvbnN0YW50cy5jb29raWVzLkJyb3dzZXJTZXNzaW9uSWQsIHRoaXMuZGV2aWNlQnJvd3NlclNlc3Npb25JZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZXZpY2VCcm93c2VyU2Vzc2lvbklkID0gc3RvcmVkQnJvd3NlclNlc3Npb25JZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGFydFBhZ2VTZXNzaW9uID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3RhcnRQYWdlU2Vzc2lvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFBhZ2VTZXNzaW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFN0YXJ0UGFnZVNlc3Npb24oc3RhcnRQYWdlU2Vzc2lvbikge1xyXG4gICAgICAgIHRoaXMuc3RhcnRQYWdlU2Vzc2lvbiA9IHN0YXJ0UGFnZVNlc3Npb247XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVJlcXVpcmVkRGF0YShkYXRhOiBDZHBFdmVudE1vZGVsIHwgQ2RwRXZlbnRNb2RlbFtdKSB7XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlZENkcE1vZGVsID0gZGF0YVswXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVkQ2RwTW9kZWwgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXF1aXJlZERhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZWRDZHBNb2RlbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkluaXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGV2aWNlU2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV2aWNlQnJvd3NlclNlc3Npb25JZDtcclxuICAgIH1cclxuXHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///438\n')},4259:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "c": () => (/* binding */ TagManagerService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n\r\nvar TagManagerService = (function () {\r\n    function TagManagerService() {\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("TagManagerService", "#d234c3");\r\n    }\r\n    Object.defineProperty(TagManagerService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new TagManagerService();\r\n                this.instance._dataLayer = [];\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TagManagerService.prototype.getDataLayer = function () {\r\n        return this._dataLayer;\r\n    };\r\n    TagManagerService.prototype.setup = function (containerId) {\r\n        try {\r\n            this.Logger.debug("Initializing TagManager With ContainerId: ", containerId);\r\n            (function (windowArg, documentArg, scriptArg, dataLayerArg, GTMId) {\r\n                var winDataLayer = windowArg["G2Analytics"].DataLayer;\r\n                windowArg[dataLayerArg] = winDataLayer || [];\r\n                windowArg[dataLayerArg].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });\r\n                var f = documentArg.getElementsByTagName(scriptArg)[0];\r\n                var j = documentArg.createElement(scriptArg);\r\n                var dl = dataLayerArg !== "dataLayer" ? "&l=" + dataLayerArg : "";\r\n                j.async = true;\r\n                j.src = "https://www.googletagmanager.com/gtm.js?id=" + GTMId + dl;\r\n                f.parentNode.insertBefore(j, f);\r\n            })(window, document, "script", "MG2DL", containerId);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    TagManagerService.prototype.sendTag = function (eventName, eventPayload) {\r\n        try {\r\n            eventPayload["event"] = eventName;\r\n            this.Logger.info("Sending Tag.... ", eventName, eventPayload);\r\n            this._dataLayer.push(eventPayload);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    TagManagerService.prototype.setDLV = function (varName, value) {\r\n        try {\r\n            this.Logger.debug("setDLV", varName, value);\r\n            var obj = {};\r\n            obj[varName] = value;\r\n            this._dataLayer.push(obj);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return TagManagerService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7WUFDNUMsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1lBQ2IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUNyQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM3QjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBQ0wsd0JBQUM7QUFBRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vZGF0YS9zZXJ2aWNlcy9UYWdNYW5hZ2VyU2VydmljZS50cz8yN2IwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi8uLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgSVRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL2NvbnRyYWN0cy9JVGFnTWFuYWdlclNlcnZpY2VcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERhdGFMYXllck1vZGVsID0gQXJyYXk8b2JqZWN0PjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWdNYW5hZ2VyU2VydmljZSBpbXBsZW1lbnRzIElUYWdNYW5hZ2VyU2VydmljZSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVGFnTWFuYWdlclNlcnZpY2U7XHJcbiAgICBwcml2YXRlIF9kYXRhTGF5ZXI6IERhdGFMYXllck1vZGVsO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiVGFnTWFuYWdlclNlcnZpY2VcIiwgXCIjZDIzNGMzXCIpO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlRhZ01hbmFnZXJTZXJ2aWNlLkdldEluc3RhbmNlLiBOTyBJTlNUQU5DRSwgQ1JFQVRJTkdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgVGFnTWFuYWdlclNlcnZpY2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5fZGF0YUxheWVyID0gW107XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUYWdNYW5hZ2VyU2VydmljZS5HZXRJbnN0YW5jZS4gSEFTIElOU1RBTkNFXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgRGF0YUxheWVyXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREYXRhTGF5ZXIoKTogRGF0YUxheWVyTW9kZWwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhTGF5ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXAoY29udGFpbmVySWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiSW5pdGlhbGl6aW5nIFRhZ01hbmFnZXIgV2l0aCBDb250YWluZXJJZDogXCIsIGNvbnRhaW5lcklkKTtcclxuICAgICAgICAgICAgKGZ1bmN0aW9uICh3aW5kb3dBcmcsIGRvY3VtZW50QXJnLCBzY3JpcHRBcmcsIGRhdGFMYXllckFyZywgR1RNSWQpIHtcclxuICAgICAgICAgICAgICAgIGxldCB3aW5EYXRhTGF5ZXIgPSB3aW5kb3dBcmdbXCJHMkFuYWx5dGljc1wiXS5EYXRhTGF5ZXI7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3dBcmdbZGF0YUxheWVyQXJnXSA9IHdpbkRhdGFMYXllciB8fCBbXTtcclxuICAgICAgICAgICAgICAgIHdpbmRvd0FyZ1tkYXRhTGF5ZXJBcmddLnB1c2goeyBcImd0bS5zdGFydFwiOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgZXZlbnQ6IFwiZ3RtLmpzXCIgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZiA9IGRvY3VtZW50QXJnLmdldEVsZW1lbnRzQnlUYWdOYW1lKHNjcmlwdEFyZylbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDxIVE1MU2NyaXB0RWxlbWVudD5kb2N1bWVudEFyZy5jcmVhdGVFbGVtZW50KHNjcmlwdEFyZyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGwgPSBkYXRhTGF5ZXJBcmcgIT09IFwiZGF0YUxheWVyXCIgPyBcIiZsPVwiICsgZGF0YUxheWVyQXJnIDogXCJcIjtcclxuICAgICAgICAgICAgICAgIGouYXN5bmMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgai5zcmMgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZXRhZ21hbmFnZXIuY29tL2d0bS5qcz9pZD1cIiArIEdUTUlkICsgZGw7XHJcbiAgICAgICAgICAgICAgICBmLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGosIGYpO1xyXG4gICAgICAgICAgICB9KSh3aW5kb3csIGRvY3VtZW50LCBcInNjcmlwdFwiLCBcIk1HMkRMXCIsIGNvbnRhaW5lcklkKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmZhdGFsKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kVGFnKGV2ZW50TmFtZTogc3RyaW5nLCBldmVudFBheWxvYWQ/OiBvYmplY3QpOiB2b2lkIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBldmVudFBheWxvYWRbXCJldmVudFwiXSA9IGV2ZW50TmFtZTtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuaW5mbyhcIlNlbmRpbmcgVGFnLi4uLiBcIiwgZXZlbnROYW1lLCBldmVudFBheWxvYWQpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5pbmZvKFwiU2VuZGluZyBUYWcgUGF5bG9hZCBcIiwgZXZlbnRQYXlsb2FkLCB0aGlzLl9kYXRhTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhTGF5ZXIucHVzaChldmVudFBheWxvYWQpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRETFYodmFyTmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgb2JqZWN0KTogdm9pZCB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZXRETFZcIiwgdmFyTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICBsZXQgb2JqID0ge307XHJcbiAgICAgICAgICAgIG9ialt2YXJOYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhTGF5ZXIucHVzaChvYmopO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZmF0YWwoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIGV4cG9ydCBsZXQgVGFnTWFuYWdlciA9IFRhZ01hbmFnZXJTaW5nbGV0b24uSW5zdGFuY2U7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4259\n')},979:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "K": () => (/* binding */ UserService)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _Index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5908);\n/* harmony import */ var _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9276);\n\r\n\r\n\r\nvar UserService = (function () {\r\n    function UserService() {\r\n        this.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("UserService");\r\n        this.tagManagerService = _Index__WEBPACK_IMPORTED_MODULE_1__/* .TagManagerService.Instance */ .c$.Instance;\r\n        this.Logger.trace("CTOR");\r\n        this.setDeviceDetails();\r\n    }\r\n    Object.defineProperty(UserService, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new UserService();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    UserService.prototype.setDeviceDetails = function () {\r\n        this.Logger.trace("setDeviceDetails");\r\n        this.DeviceDetails = _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_2__/* .DeviceDetector.getMetaData */ .D.getMetaData();\r\n        this.Logger.debug("setDeviceDetails", "this.DeviceDetails", this.DeviceDetails);\r\n    };\r\n    UserService.prototype.setUserState = function (userState, userData) {\r\n        try {\r\n            this.Logger.debug("setUserState userState => ", userState, "userData", userData);\r\n            if (userState) {\r\n                this.tagManagerService.setDLV("userState", userState);\r\n            }\r\n            this.Logger.debug("setUserState userState => ", userState);\r\n        }\r\n        catch (e) {\r\n            this.Logger.fatal(e);\r\n        }\r\n    };\r\n    return UserService;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RTtBQUNiO0FBRUg7QUFFdkQ7SUFtQkk7UUFqQlEsV0FBTSxHQUFXLHdHQUEwQixDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBa0IvRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUZBQTBCLENBQUM7UUFDcEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUIsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQWRELHNCQUFXLHVCQUFRO2FBQW5CO1lBQ0ksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFFdkQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO2FBQ3JDO2lCQUFNO2FBRU47WUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFRTyxzQ0FBZ0IsR0FBeEI7UUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxhQUFhLEdBQUcsa0dBQTBCLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxvQkFBb0IsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDcEYsQ0FBQztJQUVNLGtDQUFZLEdBQW5CLFVBQW9CLFNBQWlCLEVBQUUsUUFBYTtRQUNoRCxJQUFJO1lBQ0EsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNqRixJQUFJLFNBQVMsRUFBRTtnQkFDWCxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsQ0FBQzthQUN6RDtZQUNELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLDRCQUE0QixFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQzlEO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9kYXRhL3NlcnZpY2VzL1VzZXJTZXJ2aWNlLnRzPzlmOGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyLCBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2xvZ2dlci9Mb2dnZXIuQ29yZVwiO1xyXG5pbXBvcnQgeyBJVXNlclNlcnZpY2UsIFRhZ01hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4vSW5kZXhcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0YWlscyB9IGZyb20gXCIuLi9tb2RlbHMvY29tbW9uL0RldmljZURldGFpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlclNlcnZpY2UgaW1wbGVtZW50cyBJVXNlclNlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IFVzZXJTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiVXNlclNlcnZpY2VcIik7XHJcbiAgICBwcml2YXRlIHRhZ01hbmFnZXJTZXJ2aWNlOiBUYWdNYW5hZ2VyU2VydmljZTtcclxuXHJcblxyXG5cclxuICAgIHB1YmxpYyBEZXZpY2VEZXRhaWxzOiBEZXZpY2VEZXRhaWxzO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgdGhpcy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNlclNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBVc2VyU2VydmljZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVXNlclNlcnZpY2UuR2V0SW5zdGFuY2UuIEhBUyBJTlNUQU5DRVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZSA9IFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuTG9nZ2VyLnRyYWNlKFwiQ1RPUlwiKTtcclxuICAgICAgICB0aGlzLnNldERldmljZURldGFpbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERldmljZURldGFpbHMoKSB7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIudHJhY2UoXCJzZXREZXZpY2VEZXRhaWxzXCIpO1xyXG4gICAgICAgIHRoaXMuRGV2aWNlRGV0YWlscyA9IERldmljZURldGVjdG9yLmdldE1ldGFEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJzZXREZXZpY2VEZXRhaWxzXCIsIFwidGhpcy5EZXZpY2VEZXRhaWxzXCIsIHRoaXMuRGV2aWNlRGV0YWlscyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFVzZXJTdGF0ZSh1c2VyU3RhdGU6IHN0cmluZywgdXNlckRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwic2V0VXNlclN0YXRlIHVzZXJTdGF0ZSA9PiBcIiwgdXNlclN0YXRlLCBcInVzZXJEYXRhXCIsIHVzZXJEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHVzZXJTdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWdNYW5hZ2VyU2VydmljZS5zZXRETFYoXCJ1c2VyU3RhdGVcIiwgdXNlclN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcInNldFVzZXJTdGF0ZSB1c2VyU3RhdGUgPT4gXCIsIHVzZXJTdGF0ZSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5mYXRhbChlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///979\n')},9945:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "n": () => (/* binding */ BotDetector)\n});\n\n;// CONCATENATED MODULE: ./src/plugin/modules/botDetection/BotModel.ts\nvar BotModel = (function () {\r\n    function BotModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.category = data.category;\r\n        this.name = data.name;\r\n    }\r\n    return BotModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/botDetection/BotList.ts\nvar BotList = [\r\n    {\r\n        regex: "360Spider(-Image|-Video)?",\r\n        name: "360Spider",\r\n        category: "Search bot"\r\n    },\r\n    {\r\n        regex: "Googlebot(-Mobile|-Image|-Video|-News)?|Feedfetcher-Google|Google-Test|Google-Site-Verification|Google Web Preview|AdsBot-Google(-Mobile)?|Google-Adwords-Instant|Mediapartners-Google|Google.*/\\+/web/snippet|GoogleProducer|Google[ -]Publisher[ -]Plugin|Google-Shopping-Quality|Google-Adwords-DisplayAds|Google-Assess|Google-AdWords-Express|Google-speakr|GoogleDocs",\r\n        name: "Googlebot",\r\n        category: "Search bot"\r\n    },\r\n    {\r\n        regex: "googleweblight|Google Page Speed Insights|Google PP Default|Google Search Console|Google Web Preview|Google Web Preview Analytics|Google_Analytics_Snippet_Validator|Google-Adwords-DisplayAds-WebRender|Google-AdWords-Express|Google-Adwords-Instant|Google-Calendar-Importer",\r\n        name: "Google",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Google-SearchByImage|Googlebot-Image",\r\n        name: "Google-SearchByImage",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Google-Site-Verification",\r\n        name: "Google-Site-Verification",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Google Desktop",\r\n        name: "Google Desktop",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Mozilla/5.0 (Windows NT 6.1; rv:6.0) Gecko/20110814 Firefox/6.0",\r\n        name: "Google Plus Share",\r\n        category: "Service Agent"\r\n    },\r\n    {\r\n        regex: "Mozilla/5.0 (iPad; CPU OS 5_0_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A405 Safari/7534.48.3,gzip(gfe) (via translate.google.com)",\r\n        name: "Google Translate",\r\n        category: "Service Agent"\r\n    },\r\n    {\r\n        regex: "Google-Structured-Data-Testing-Tool",\r\n        name: "Google-Structured-Data-Testing-Tool",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Google Favicon",\r\n        name: "Google Favicon",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Neustar WPM",\r\n        name: "Neustar WPM",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Google Keyword Suggestion",\r\n        name: "Google Keyword Suggestion",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "InbyBot",\r\n        name: "InbyBot",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "GetLinkInfo",\r\n        name: "GetLinkInfo",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "downforeveryoneorjustme",\r\n        name: "downforeveryoneorjustme",\r\n        category: "Site Monitor"\r\n    },\r\n    {\r\n        regex: "DNS-Digger-Explorer",\r\n        name: "DNS-Digger-Explorer",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "NetSeer",\r\n        name: "NetSeer",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Blekkobot",\r\n        name: "Blekkobot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "https://developers.google.com/+/web/snippet",\r\n        name: "Googlebot snippet",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Google-Publisher-Plugin",\r\n        name: "Google",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "proximic",\r\n        name: "Comscore Crawler",\r\n        category: "Search bot"\r\n    },\r\n    {\r\n        regex: "SirdataBot",\r\n        name: "SirdataBot",\r\n    },\r\n    {\r\n        regex: "Clickagy Intelligence Bot v2|Clickagy",\r\n        name: "Clickagy Intelligence Bot v2",\r\n        category: "Bad Bot"\r\n    },\r\n    {\r\n        regex: "baiduspider(-image)?|baidu Transcoder|baidu.*spider",\r\n        name: "Baidu Spider",\r\n        category: "Bad Bot"\r\n    },\r\n    {\r\n        regex: "dotbot",\r\n        name: "DotBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "GiftGhostBot",\r\n        name: "GiftGhostBot",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "GrapeshotCrawler|grapeFX|grapeshot",\r\n        name: "Grapeshot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "SeznamBot|SklikBot|Seznam screenshot-generator",\r\n        name: "Seznam Bot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "MetaURI",\r\n        name: "MetaURI",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "PaperLiBot",\r\n        name: "PaperLiBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Genieo",\r\n        name: "Genieo Web filter",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "a.pr-cy.ru",\r\n        name: "a.pr-cy.ru",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Cliqzbot|Cliqz",\r\n        name: "Cliqzbot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "BomboraBot|bombora",\r\n        name: "BomboraBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "A6-Indexer|bombora",\r\n        name: "A6-Indexer",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Ahrefs(Bot|SiteAudit)",\r\n        name: "AhrefsBot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Genieo",\r\n        name: "Genieo",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Baiduspider",\r\n        name: "Baiduspider",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "bingbot|BingPreview",\r\n        name: "Bing",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Yandex(SpravBot|ScreenshotBot|MobileBot|AccessibilityBot|ForDomain|Vertis|Market|Catalog|Calendar|Sitelinks|AdNet|Pagechecker|Webmaster|Media|Video|Bot|Images|Antivirus|Direct|Blogs|Favicons|ImageResizer|Verticals|News(links)?|Metrika|\\.Gazeta Bot)|YaDirectFetcher",\r\n        name: "YandexBot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "CCBot",\r\n        name: "CCBot",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "YisouSpider",\r\n        name: "YisouSpider",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Slurp|Yahoo!-AdCrawler",\r\n        name: "Yahoo! Slurp",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Yahoo Pipes",\r\n        name: "Yahoo Pipes",\r\n        category: "Feed Fetcher"\r\n    },\r\n    {\r\n        regex: "Y!J",\r\n        name: "Y!J-BRJ/YATS Crawler",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "008/0.85",\r\n        name: "008/0.85",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "Sogou",\r\n        name: "Sogou",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "URLAppendBot",\r\n        name: "URLAppendBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "DomainAppender",\r\n        name: "DomainAppender",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "msnbot",\r\n        name: "msnbot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "DuckDuckBot|DuckDuckGo-Favicons-Bot",\r\n        name: "DuckDuckBot",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "acebookexternalhit|facebookexternalhit",\r\n        name: "facebookexternalhit",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "facebookplatform|Facebot|Visionutils|datagnionbot",\r\n        name: "Facebook",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "Exabot|Exabot-Images|Exabot-Thumbnails|Konqueror|ExaleadCloudview",\r\n        name: "ExaLead by Dassault Systemes",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "ia_archiver|alexabot|verifybot",\r\n        name: "Internet Archive",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "linkdexbot",\r\n        name: "Linkdex Limited",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "contxbot",\r\n        name: "Contxbot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "YodaoBot",\r\n        name: "Youdao ",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "spbot",\r\n        name: "Link Profiler ",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "MJ12bot",\r\n        name: "MJ12bot ",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Mail.RU_Bot",\r\n        name: "Mail.RU_Bot ",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "BUbiNG",\r\n        name: "Universita Delgi Studi Di Milano ",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "SputnikBot",\r\n        name: "OJSC Rostelecom ",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "NerdyBot",\r\n        name: "NerdyBot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "NerdyBot",\r\n        name: "NerdyBot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Opebot",\r\n        name: "Opebot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Scrapy",\r\n        name: "Scrapy",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Gigabot",\r\n        name: "Gigabot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "CatchBot",\r\n        name: "CatchBot",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "Zeus 32297",\r\n        name: "Zeus 32297",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "SafetyNet",\r\n        name: "SafetyNet",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "linklooker",\r\n        name: "linklooker",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "INGRID",\r\n        name: "INGRID",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "EnigmaBot",\r\n        name: "EnigmaBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "adidxbot",\r\n        name: "Advertising",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "AMZNKAssocBot",\r\n        name: "Advertising",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "YandexDirect",\r\n        name: "Advertising",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "aolbuild",\r\n        name: "aolbuild",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Butterfly",\r\n        name: "Butterfly",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "cg-eye",\r\n        name: "cg-eye",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "changedetection",\r\n        name: "changedetection",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "CligooRobot",\r\n        name: "CligooRobot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "coccoc",\r\n        name: "coccoc",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Daumoa",\r\n        name: "Daumoa",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "DealGates",\r\n        name: "DealGates",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "DeuSu",\r\n        name: "DeuSu",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Elefent",\r\n        name: "Elefent",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "enlle",\r\n        name: "enlle",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Findxbot",\r\n        name: "Findxbot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "GigablastOpenSource",\r\n        name: "GigablastOpenSource",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "VoilaBot",\r\n        name: "VoilaBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "panscient.com",\r\n        name: "panscient.com",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Pinterest/\\d\\.\\d.*www\\.pinterest\\.com.*",\r\n        name: "Pinterest",\r\n        category: "Web Scraper"\r\n    },\r\n    {\r\n        regex: "Charlotte",\r\n        name: "Charlotte",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "Twitterbot",\r\n        name: "Twitterbot",\r\n        category: "Search Engine"\r\n    },\r\n    {\r\n        regex: "MonTools",\r\n        name: "Site Monitor",\r\n        category: "Site Monitor"\r\n    },\r\n    {\r\n        regex: "LinkWalker",\r\n        name: "LinkWalker",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Slackbot|Slack-ImgProxy",\r\n        name: "Slackbot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "AdMantX.*admantx\\.com",\r\n        name: "ADMantX",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Envolk",\r\n        name: "Envolk",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "FlightDeckReportsBot",\r\n        name: "FlightDeckReportsBot",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "AddSearchBot",\r\n        name: "AddSearchBot",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "findlink",\r\n        name: "findlink",\r\n        category: "Scraping"\r\n    },\r\n    {\r\n        regex: "JikeSpider",\r\n        name: "People\'s Daily Newspaper",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "TelegramBot",\r\n        name: "TelegramBot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "yacybot",\r\n        name: "yacybot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "Caliperbot",\r\n        name: "Caliperbot",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "AnyEvent",\r\n        name: "AnyEvent",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "awesomecrawler",\r\n        name: "awesomecrawler",\r\n        category: "Crawler"\r\n    },\r\n    {\r\n        regex: "/bot|crawler|spider|crawling/i",\r\n        name: "Generic Bot",\r\n        category: "Generic Bot"\r\n    }\r\n];\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/botDetection/BotDetector.ts\n\r\n\r\nvar BotDetector = (function () {\r\n    function BotDetector(userAgentInfo) {\r\n        if (window.DeviceDetector && window.DeviceDetector.Device) {\r\n            this.detectBot = window.DeviceDetector.Device.bot;\r\n            return;\r\n        }\r\n        var userAgent = userAgentInfo || navigator.userAgent;\r\n        var botRegExpLength = BotList.length;\r\n        for (var i = 0; i < botRegExpLength; i++) {\r\n            if (new RegExp(BotList[i].regex).test(userAgent)) {\r\n                this.detectBot = new BotModel(BotList[i]);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    BotDetector.prototype.getDetectBot = function () {\r\n        return this.detectBot || null;\r\n    };\r\n    return BotDetector;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdE1vZGVsLnRzP2Q2ZWYiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9ib3REZXRlY3Rpb24vQm90TGlzdC50cz9mMGU0Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvYm90RGV0ZWN0aW9uL0JvdERldGVjdG9yLnRzP2U1MTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEJvdE1vZGVsIHtcclxuICAgIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY2F0ZWdvcnkgPSBkYXRhLmNhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcclxuICAgIH1cclxufSIsIi8vIGh0dHBzOi8vd3d3LmRpc3RpbG5ldHdvcmtzLmNvbS9cclxuXHJcbmV4cG9ydCBjb25zdCBCb3RMaXN0ID0gW1xyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIjM2MFNwaWRlcigtSW1hZ2V8LVZpZGVvKT9cIixcclxuICAgICAgICBuYW1lOiBcIjM2MFNwaWRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBib3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGVib3QoLU1vYmlsZXwtSW1hZ2V8LVZpZGVvfC1OZXdzKT98RmVlZGZldGNoZXItR29vZ2xlfEdvb2dsZS1UZXN0fEdvb2dsZS1TaXRlLVZlcmlmaWNhdGlvbnxHb29nbGUgV2ViIFByZXZpZXd8QWRzQm90LUdvb2dsZSgtTW9iaWxlKT98R29vZ2xlLUFkd29yZHMtSW5zdGFudHxNZWRpYXBhcnRuZXJzLUdvb2dsZXxHb29nbGUuKi9cXCsvd2ViL3NuaXBwZXR8R29vZ2xlUHJvZHVjZXJ8R29vZ2xlWyAtXVB1Ymxpc2hlclsgLV1QbHVnaW58R29vZ2xlLVNob3BwaW5nLVF1YWxpdHl8R29vZ2xlLUFkd29yZHMtRGlzcGxheUFkc3xHb29nbGUtQXNzZXNzfEdvb2dsZS1BZFdvcmRzLUV4cHJlc3N8R29vZ2xlLXNwZWFrcnxHb29nbGVEb2NzXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGVib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggYm90XCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiZ29vZ2xld2VibGlnaHR8R29vZ2xlIFBhZ2UgU3BlZWQgSW5zaWdodHN8R29vZ2xlIFBQIERlZmF1bHR8R29vZ2xlIFNlYXJjaCBDb25zb2xlfEdvb2dsZSBXZWIgUHJldmlld3xHb29nbGUgV2ViIFByZXZpZXcgQW5hbHl0aWNzfEdvb2dsZV9BbmFseXRpY3NfU25pcHBldF9WYWxpZGF0b3J8R29vZ2xlLUFkd29yZHMtRGlzcGxheUFkcy1XZWJSZW5kZXJ8R29vZ2xlLUFkV29yZHMtRXhwcmVzc3xHb29nbGUtQWR3b3Jkcy1JbnN0YW50fEdvb2dsZS1DYWxlbmRhci1JbXBvcnRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtU2VhcmNoQnlJbWFnZXxHb29nbGVib3QtSW1hZ2VcIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZS1TZWFyY2hCeUltYWdlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtU2l0ZS1WZXJpZmljYXRpb25cIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZS1TaXRlLVZlcmlmaWNhdGlvblwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUgRGVza3RvcFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlIERlc2t0b3BcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBydjo2LjApIEdlY2tvLzIwMTEwODE0IEZpcmVmb3gvNi4wXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgUGx1cyBTaGFyZVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlcnZpY2UgQWdlbnRcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNb3ppbGxhLzUuMCAoaVBhZDsgQ1BVIE9TIDVfMF8xIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzUzNC40NiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNS4xIE1vYmlsZS85QTQwNSBTYWZhcmkvNzUzNC40OC4zLGd6aXAoZ2ZlKSAodmlhIHRyYW5zbGF0ZS5nb29nbGUuY29tKVwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlIFRyYW5zbGF0ZVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlcnZpY2UgQWdlbnRcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtU3RydWN0dXJlZC1EYXRhLVRlc3RpbmctVG9vbFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlLVN0cnVjdHVyZWQtRGF0YS1UZXN0aW5nLVRvb2xcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdvb2dsZSBGYXZpY29uXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgRmF2aWNvblwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTmV1c3RhciBXUE1cIixcclxuICAgICAgICBuYW1lOiBcIk5ldXN0YXIgV1BNXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUgS2V5d29yZCBTdWdnZXN0aW9uXCIsXHJcbiAgICAgICAgbmFtZTogXCJHb29nbGUgS2V5d29yZCBTdWdnZXN0aW9uXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJJbmJ5Qm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJJbmJ5Qm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHZXRMaW5rSW5mb1wiLFxyXG4gICAgICAgIG5hbWU6IFwiR2V0TGlua0luZm9cIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImRvd25mb3JldmVyeW9uZW9yanVzdG1lXCIsXHJcbiAgICAgICAgbmFtZTogXCJkb3duZm9yZXZlcnlvbmVvcmp1c3RtZVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNpdGUgTW9uaXRvclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkROUy1EaWdnZXItRXhwbG9yZXJcIixcclxuICAgICAgICBuYW1lOiBcIkROUy1EaWdnZXItRXhwbG9yZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk5ldFNlZXJcIixcclxuICAgICAgICBuYW1lOiBcIk5ldFNlZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJsZWtrb2JvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQmxla2tvYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tLysvd2ViL3NuaXBwZXRcIixcclxuICAgICAgICBuYW1lOiBcIkdvb2dsZWJvdCBzbmlwcGV0XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHb29nbGUtUHVibGlzaGVyLVBsdWdpblwiLFxyXG4gICAgICAgIG5hbWU6IFwiR29vZ2xlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcInByb3hpbWljXCIsXHJcbiAgICAgICAgbmFtZTogXCJDb21zY29yZSBDcmF3bGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIGJvdFwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNpcmRhdGFCb3RcIixcclxuICAgICAgICBuYW1lOiBcIlNpcmRhdGFCb3RcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ2xpY2thZ3kgSW50ZWxsaWdlbmNlIEJvdCB2MnxDbGlja2FneVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2xpY2thZ3kgSW50ZWxsaWdlbmNlIEJvdCB2MlwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkJhZCBCb3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJiYWlkdXNwaWRlcigtaW1hZ2UpP3xiYWlkdSBUcmFuc2NvZGVyfGJhaWR1LipzcGlkZXJcIixcclxuICAgICAgICBuYW1lOiBcIkJhaWR1IFNwaWRlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkJhZCBCb3RcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJkb3Rib3RcIixcclxuICAgICAgICBuYW1lOiBcIkRvdEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHaWZ0R2hvc3RCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkdpZnRHaG9zdEJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiR3JhcGVzaG90Q3Jhd2xlcnxncmFwZUZYfGdyYXBlc2hvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR3JhcGVzaG90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNlem5hbUJvdHxTa2xpa0JvdHxTZXpuYW0gc2NyZWVuc2hvdC1nZW5lcmF0b3JcIixcclxuICAgICAgICBuYW1lOiBcIlNlem5hbSBCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTWV0YVVSSVwiLFxyXG4gICAgICAgIG5hbWU6IFwiTWV0YVVSSVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJQYXBlckxpQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJQYXBlckxpQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkdlbmllb1wiLFxyXG4gICAgICAgIG5hbWU6IFwiR2VuaWVvIFdlYiBmaWx0ZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYS5wci1jeS5ydVwiLFxyXG4gICAgICAgIG5hbWU6IFwiYS5wci1jeS5ydVwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJDbGlxemJvdHxDbGlxelwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2xpcXpib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQm9tYm9yYUJvdHxib21ib3JhXCIsXHJcbiAgICAgICAgbmFtZTogXCJCb21ib3JhQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkE2LUluZGV4ZXJ8Ym9tYm9yYVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQTYtSW5kZXhlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJBaHJlZnMoQm90fFNpdGVBdWRpdClcIixcclxuICAgICAgICBuYW1lOiBcIkFocmVmc0JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHZW5pZW9cIixcclxuICAgICAgICBuYW1lOiBcIkdlbmllb1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJCYWlkdXNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiQmFpZHVzcGlkZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYmluZ2JvdHxCaW5nUHJldmlld1wiLFxyXG4gICAgICAgIG5hbWU6IFwiQmluZ1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJZYW5kZXgoU3ByYXZCb3R8U2NyZWVuc2hvdEJvdHxNb2JpbGVCb3R8QWNjZXNzaWJpbGl0eUJvdHxGb3JEb21haW58VmVydGlzfE1hcmtldHxDYXRhbG9nfENhbGVuZGFyfFNpdGVsaW5rc3xBZE5ldHxQYWdlY2hlY2tlcnxXZWJtYXN0ZXJ8TWVkaWF8VmlkZW98Qm90fEltYWdlc3xBbnRpdmlydXN8RGlyZWN0fEJsb2dzfEZhdmljb25zfEltYWdlUmVzaXplcnxWZXJ0aWNhbHN8TmV3cyhsaW5rcyk/fE1ldHJpa2F8XFwuR2F6ZXRhIEJvdCl8WWFEaXJlY3RGZXRjaGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJZYW5kZXhCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQ0NCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkNDQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJZaXNvdVNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiWWlzb3VTcGlkZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2x1cnB8WWFob28hLUFkQ3Jhd2xlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiWWFob28hIFNsdXJwXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllhaG9vIFBpcGVzXCIsXHJcbiAgICAgICAgbmFtZTogXCJZYWhvbyBQaXBlc1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkZlZWQgRmV0Y2hlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlkhSlwiLFxyXG4gICAgICAgIG5hbWU6IFwiWSFKLUJSSi9ZQVRTIENyYXdsZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiMDA4LzAuODVcIixcclxuICAgICAgICBuYW1lOiBcIjAwOC8wLjg1XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTb2dvdVwiLFxyXG4gICAgICAgIG5hbWU6IFwiU29nb3VcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiVVJMQXBwZW5kQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJVUkxBcHBlbmRCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRG9tYWluQXBwZW5kZXJcIixcclxuICAgICAgICBuYW1lOiBcIkRvbWFpbkFwcGVuZGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJtc25ib3RcIixcclxuICAgICAgICBuYW1lOiBcIm1zbmJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJEdWNrRHVja0JvdHxEdWNrRHVja0dvLUZhdmljb25zLUJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiRHVja0R1Y2tCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImFjZWJvb2tleHRlcm5hbGhpdHxmYWNlYm9va2V4dGVybmFsaGl0XCIsXHJcbiAgICAgICAgbmFtZTogXCJmYWNlYm9va2V4dGVybmFsaGl0XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJmYWNlYm9va3BsYXRmb3JtfEZhY2Vib3R8VmlzaW9udXRpbHN8ZGF0YWduaW9uYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJGYWNlYm9va1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRXhhYm90fEV4YWJvdC1JbWFnZXN8RXhhYm90LVRodW1ibmFpbHN8S29ucXVlcm9yfEV4YWxlYWRDbG91ZHZpZXdcIixcclxuICAgICAgICBuYW1lOiBcIkV4YUxlYWQgYnkgRGFzc2F1bHQgU3lzdGVtZXNcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiaWFfYXJjaGl2ZXJ8YWxleGFib3R8dmVyaWZ5Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJJbnRlcm5ldCBBcmNoaXZlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2NyYXBpbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJsaW5rZGV4Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJMaW5rZGV4IExpbWl0ZWRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiY29udHhib3RcIixcclxuICAgICAgICBuYW1lOiBcIkNvbnR4Ym90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllvZGFvQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJZb3VkYW8gXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcInNwYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJMaW5rIFByb2ZpbGVyIFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNSjEyYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJNSjEyYm90IFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJNYWlsLlJVX0JvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiTWFpbC5SVV9Cb3QgXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJVYmlOR1wiLFxyXG4gICAgICAgIG5hbWU6IFwiVW5pdmVyc2l0YSBEZWxnaSBTdHVkaSBEaSBNaWxhbm8gXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiV2ViIFNjcmFwZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJTcHV0bmlrQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJPSlNDIFJvc3RlbGVjb20gXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIk5lcmR5Qm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJOZXJkeUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJOZXJkeUJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiTmVyZHlCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiT3BlYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJPcGVib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2NyYXB5XCIsXHJcbiAgICAgICAgbmFtZTogXCJTY3JhcHlcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiR2lnYWJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiR2lnYWJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJDYXRjaEJvdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2F0Y2hCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlpldXMgMzIyOTdcIixcclxuICAgICAgICBuYW1lOiBcIlpldXMgMzIyOTdcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlNhZmV0eU5ldFwiLFxyXG4gICAgICAgIG5hbWU6IFwiU2FmZXR5TmV0XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImxpbmtsb29rZXJcIixcclxuICAgICAgICBuYW1lOiBcImxpbmtsb29rZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiSU5HUklEXCIsXHJcbiAgICAgICAgbmFtZTogXCJJTkdSSURcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRW5pZ21hQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJFbmlnbWFCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYWRpZHhib3RcIixcclxuICAgICAgICBuYW1lOiBcIkFkdmVydGlzaW5nXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkFNWk5LQXNzb2NCb3RcIixcclxuICAgICAgICBuYW1lOiBcIkFkdmVydGlzaW5nXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIllhbmRleERpcmVjdFwiLFxyXG4gICAgICAgIG5hbWU6IFwiQWR2ZXJ0aXNpbmdcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiYW9sYnVpbGRcIixcclxuICAgICAgICBuYW1lOiBcImFvbGJ1aWxkXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkJ1dHRlcmZseVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQnV0dGVyZmx5XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImNnLWV5ZVwiLFxyXG4gICAgICAgIG5hbWU6IFwiY2ctZXllXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImNoYW5nZWRldGVjdGlvblwiLFxyXG4gICAgICAgIG5hbWU6IFwiY2hhbmdlZGV0ZWN0aW9uXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNsaWdvb1JvYm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJDbGlnb29Sb2JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJjb2Njb2NcIixcclxuICAgICAgICBuYW1lOiBcImNvY2NvY1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRGF1bW9hXCIsXHJcbiAgICAgICAgbmFtZTogXCJEYXVtb2FcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRGVhbEdhdGVzXCIsXHJcbiAgICAgICAgbmFtZTogXCJEZWFsR2F0ZXNcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRGV1U3VcIixcclxuICAgICAgICBuYW1lOiBcIkRldVN1XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkVsZWZlbnRcIixcclxuICAgICAgICBuYW1lOiBcIkVsZWZlbnRcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiZW5sbGVcIixcclxuICAgICAgICBuYW1lOiBcImVubGxlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkZpbmR4Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJGaW5keGJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNlYXJjaCBFbmdpbmVcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJHaWdhYmxhc3RPcGVuU291cmNlXCIsXHJcbiAgICAgICAgbmFtZTogXCJHaWdhYmxhc3RPcGVuU291cmNlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlZvaWxhQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJWb2lsYUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJwYW5zY2llbnQuY29tXCIsXHJcbiAgICAgICAgbmFtZTogXCJwYW5zY2llbnQuY29tXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlBpbnRlcmVzdC9cXGRcXC5cXGQuKnd3d1xcLnBpbnRlcmVzdFxcLmNvbS4qXCIsXHJcbiAgICAgICAgbmFtZTogXCJQaW50ZXJlc3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJXZWIgU2NyYXBlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNoYXJsb3R0ZVwiLFxyXG4gICAgICAgIG5hbWU6IFwiQ2hhcmxvdHRlXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiU2VhcmNoIEVuZ2luZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlR3aXR0ZXJib3RcIixcclxuICAgICAgICBuYW1lOiBcIlR3aXR0ZXJib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTZWFyY2ggRW5naW5lXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiTW9uVG9vbHNcIixcclxuICAgICAgICBuYW1lOiBcIlNpdGUgTW9uaXRvclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNpdGUgTW9uaXRvclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkxpbmtXYWxrZXJcIixcclxuICAgICAgICBuYW1lOiBcIkxpbmtXYWxrZXJcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiU2xhY2tib3R8U2xhY2stSW1nUHJveHlcIixcclxuICAgICAgICBuYW1lOiBcIlNsYWNrYm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkFkTWFudFguKmFkbWFudHhcXC5jb21cIixcclxuICAgICAgICBuYW1lOiBcIkFETWFudFhcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiRW52b2xrXCIsXHJcbiAgICAgICAgbmFtZTogXCJFbnZvbGtcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkZsaWdodERlY2tSZXBvcnRzQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJGbGlnaHREZWNrUmVwb3J0c0JvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQWRkU2VhcmNoQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJBZGRTZWFyY2hCb3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJTY3JhcGluZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImZpbmRsaW5rXCIsXHJcbiAgICAgICAgbmFtZTogXCJmaW5kbGlua1wiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIlNjcmFwaW5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiSmlrZVNwaWRlclwiLFxyXG4gICAgICAgIG5hbWU6IFwiUGVvcGxlJ3MgRGFpbHkgTmV3c3BhcGVyXCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIlRlbGVncmFtQm90XCIsXHJcbiAgICAgICAgbmFtZTogXCJUZWxlZ3JhbUJvdFwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCJ5YWN5Ym90XCIsXHJcbiAgICAgICAgbmFtZTogXCJ5YWN5Ym90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcIkNhbGlwZXJib3RcIixcclxuICAgICAgICBuYW1lOiBcIkNhbGlwZXJib3RcIixcclxuICAgICAgICBjYXRlZ29yeTogXCJDcmF3bGVyXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgcmVnZXg6IFwiQW55RXZlbnRcIixcclxuICAgICAgICBuYW1lOiBcIkFueUV2ZW50XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiQ3Jhd2xlclwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHJlZ2V4OiBcImF3ZXNvbWVjcmF3bGVyXCIsXHJcbiAgICAgICAgbmFtZTogXCJhd2Vzb21lY3Jhd2xlclwiLFxyXG4gICAgICAgIGNhdGVnb3J5OiBcIkNyYXdsZXJcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICByZWdleDogXCIvYm90fGNyYXdsZXJ8c3BpZGVyfGNyYXdsaW5nL2lcIixcclxuICAgICAgICBuYW1lOiBcIkdlbmVyaWMgQm90XCIsXHJcbiAgICAgICAgY2F0ZWdvcnk6IFwiR2VuZXJpYyBCb3RcIlxyXG4gICAgfVxyXG5dIiwiaW1wb3J0IHsgQm90TW9kZWwgfSBmcm9tIFwiLi9Cb3RNb2RlbFwiO1xyXG5pbXBvcnQgeyBCb3RMaXN0IH0gZnJvbSBcIi4vQm90TGlzdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJvdERldGVjdG9yIHtcclxuICAgIGRldGVjdEJvdDogQm90TW9kZWw7XHJcblxyXG4gICAgY29uc3RydWN0b3IodXNlckFnZW50SW5mbz8pIHtcclxuICAgICAgICBpZih3aW5kb3cuRGV2aWNlRGV0ZWN0b3IgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0Qm90ID0gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5ib3Q7XHJcbiAgICAgICAgICAgIHJldHVybiBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB1c2VyQWdlbnQgPSB1c2VyQWdlbnRJbmZvIHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgICAgICAgbGV0IGJvdFJlZ0V4cExlbmd0aCA9IEJvdExpc3QubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm90UmVnRXhwTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoQm90TGlzdFtpXS5yZWdleCkudGVzdCh1c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldGVjdEJvdCA9IG5ldyBCb3RNb2RlbChCb3RMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXREZXRlY3RCb3QoKTogQm90TW9kZWx8bnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV0ZWN0Qm90IHx8IG51bGw7XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9945\n')},8474:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "S": () => (/* binding */ CdpDataLayer)\n/* harmony export */ });\n/* unused harmony export DataLayerClass */\n/* harmony import */ var _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(438);\n/* harmony import */ var _Utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8652);\n/* harmony import */ var _Modules_dataCollector_DataCollector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5107);\n/* harmony import */ var _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9615);\n/* harmony import */ var _Core_constants_Constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(5079);\n/* harmony import */ var _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8908);\n/* harmony import */ var _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1921);\n/* harmony import */ var _Data_services_Index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(5908);\n/* harmony import */ var _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9296);\n/* harmony import */ var _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8578);\n/* harmony import */ var _Utils_Utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(7753);\n/* harmony import */ var _Modules_deviceModule_DeviceModule__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(4658);\n/* harmony import */ var _Collectors_cdp_collectors_CdpEventsManager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(8546);\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DataLayerClass = (function () {\r\n    function DataLayerClass() {\r\n        this.Logger = _Utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_1__/* .LoggerService.createLogger */ .mQ.createLogger("Data Layer");\r\n        this.dlStorageKey = "cdp-dl";\r\n        this.sessionService = _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_0__/* .SessionService.Instance */ .m.Instance;\r\n        this.hasNetworkError = false;\r\n        this.setLocalDlData();\r\n        this.listen();\r\n    }\r\n    DataLayerClass.prototype.setLocalDlData = function () {\r\n        var localDl = this.getCdpDlFromStorage();\r\n        if (localDl && localDl.apiDl) {\r\n            this.dlData = localDl.apiDl;\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("update_local_value");\r\n        }\r\n        else {\r\n            this.dlData = {};\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("set_local_default");\r\n        }\r\n    };\r\n    DataLayerClass.prototype.setInformation = function (deviceId) {\r\n        var _this = this;\r\n        return this.getCdpDl(deviceId)\r\n            .then(function (apiDlData) {\r\n            _Modules_dataCollector_DataCollector__WEBPACK_IMPORTED_MODULE_2__/* .DataCollector.listenErCode */ .M.listenErCode();\r\n            _this.handleCdpDlResponce(apiDlData, deviceId);\r\n            var customEvent = new CustomEvent(_Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__/* .PluginInnerEvents.DlCdpGetSuccess */ .U.DlCdpGetSuccess, { detail: _this.getDlData() });\r\n            document.dispatchEvent(customEvent);\r\n        }).catch(function (error) {\r\n            _this.handleCdpDlResponce(null, deviceId);\r\n            var customEvent = new CustomEvent(_Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__/* .PluginInnerEvents.DlCdpGetFail */ .U.DlCdpGetFail, { detail: error });\r\n            document.dispatchEvent(customEvent);\r\n        }).then(function () {\r\n            _Modules_deviceModule_DeviceModule__WEBPACK_IMPORTED_MODULE_11__/* .DeviceModule.sendSavedRegeneration */ .M.sendSavedRegeneration();\r\n            _Collectors_cdp_collectors_CdpEventsManager__WEBPACK_IMPORTED_MODULE_12__/* .CdpEventsManager.updateG2IDeviceId */ .h.updateG2IDeviceId();\r\n        });\r\n    };\r\n    DataLayerClass.prototype.handleCdpDlResponce = function (apiDlData, deviceId) {\r\n        this.setCdpDlToStorage(apiDlData, deviceId);\r\n        _Data_services_Index__WEBPACK_IMPORTED_MODULE_7__/* .TagManagerService.Instance.setDLV */ .c$.Instance.setDLV("setCdpDl", this.getErForGA() + "");\r\n        _Data_services_Index__WEBPACK_IMPORTED_MODULE_7__/* .TagManagerService.Instance.setDLV */ .c$.Instance.setDLV("setCdpDlEr", this.getEr() + "");\r\n        _Data_services_Index__WEBPACK_IMPORTED_MODULE_7__/* .TagManagerService.Instance.setDLV */ .c$.Instance.setDLV("setCdpDlErp", this.getErp() + "");\r\n        _Data_services_Index__WEBPACK_IMPORTED_MODULE_7__/* .TagManagerService.Instance.setDLV */ .c$.Instance.setDLV("setCdpDlCr", this.getCr() + "");\r\n        _Data_services_Index__WEBPACK_IMPORTED_MODULE_7__/* .TagManagerService.Instance.setDLV */ .c$.Instance.setDLV("setCdpDlCrp", this.getCrp() + "");\r\n    };\r\n    DataLayerClass.prototype.getDlData = function () {\r\n        return this.dlData;\r\n    };\r\n    DataLayerClass.prototype.getErForGA = function () {\r\n        var result = this.getDlData().er || null;\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addErStatus */ .Y.addErStatus("ga-er=" + result);\r\n        return result;\r\n    };\r\n    DataLayerClass.prototype.getCrForGA = function () {\r\n        var result = this.getDlData().cr || null;\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("ga-ch=" + result);\r\n        return result;\r\n    };\r\n    DataLayerClass.prototype.getG2iDeviceId = function () {\r\n        var result = this.getDlData().g2ideviceid || null;\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addG2iStatus */ .Y.addG2iStatus("g2i=" + result);\r\n        return result;\r\n    };\r\n    DataLayerClass.prototype.getEr = function () {\r\n        return this.getDlData().er || null;\r\n    };\r\n    DataLayerClass.prototype.getErp = function () {\r\n        return this.getDlData().erp || null;\r\n    };\r\n    DataLayerClass.prototype.getCr = function () {\r\n        return this.getDlData().cr || null;\r\n    };\r\n    DataLayerClass.prototype.getCrp = function () {\r\n        return this.getDlData().crp || null;\r\n    };\r\n    DataLayerClass.prototype.getDeviceIdFromStorage = function () {\r\n        var dlObject = this.getCdpDlFromStorage();\r\n        return dlObject ? dlObject.deviceId : null;\r\n    };\r\n    DataLayerClass.prototype.isValidLocalInformation = function (localDl) {\r\n        var isInCurrentDeviceSession = localDl && (localDl.browserSession === this.sessionService.getDeviceSessionId());\r\n        if (isInCurrentDeviceSession && this.isActualCdpDlStorage(localDl)) {\r\n            if (localDl.apiDl && localDl.apiDl.er !== _Core_constants_Constants__WEBPACK_IMPORTED_MODULE_4__/* .Constants.NoErInformation */ .g.NoErInformation) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DataLayerClass.prototype.getCdpDl = function (deviceId) {\r\n        var localDl = this.getCdpDlFromStorage();\r\n        if (this.isValidLocalInformation(localDl)) {\r\n            if (localDl.apiDl.er_expire_date && localDl.apiDl.g2ideviceid) {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("valid");\r\n            }\r\n            else {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("empty_data=" + JSON.stringify(localDl.apiDl));\r\n            }\r\n            return Promise.resolve(localDl.apiDl);\r\n        }\r\n        if (localDl) {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addUserReqReasons */ .Y.addUserReqReasons("expired");\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("expired");\r\n        }\r\n        else {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addUserReqReasons */ .Y.addUserReqReasons("empty");\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("empty");\r\n        }\r\n        return this.getCdpDlFromApi(deviceId);\r\n    };\r\n    DataLayerClass.prototype.getCdpDlFromStorage = function () {\r\n        return _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_8__/* .LocalStorageService.get */ .n.get(this.dlStorageKey);\r\n    };\r\n    DataLayerClass.prototype.updateDeviceIdInCdpDlStorage = function (deviceId) {\r\n        var dlData = _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_8__/* .LocalStorageService.get */ .n.get(this.dlStorageKey);\r\n        if (dlData) {\r\n            dlData.deviceId = deviceId;\r\n            _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_8__/* .LocalStorageService.set */ .n.set(this.dlStorageKey, dlData);\r\n        }\r\n    };\r\n    DataLayerClass.prototype.deleteCdpDlStorage = function () {\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_8__/* .LocalStorageService["delete"] */ .n["delete"](this.dlStorageKey);\r\n    };\r\n    DataLayerClass.prototype.fireG2iChangeEventIfNeed = function (dlInformation, deviceId, isSkipped) {\r\n        var _a;\r\n        var storedData = this.getCdpDlFromStorage();\r\n        var storedG2i = (_a = storedData === null || storedData === void 0 ? void 0 : storedData.apiDl) === null || _a === void 0 ? void 0 : _a.g2ideviceid;\r\n        if (storedG2i && storedG2i !== (dlInformation === null || dlInformation === void 0 ? void 0 : dlInformation.g2ideviceid)) {\r\n            var eventData = {\r\n                OldG2i: storedG2i,\r\n                NewG2i: dlInformation === null || dlInformation === void 0 ? void 0 : dlInformation.g2ideviceid,\r\n                BrowserCache: storedData,\r\n                ResposeData: dlInformation,\r\n                Skipped: isSkipped\r\n            };\r\n            var event_1 = new CustomEvent("onG2iDeviceIdChange", { detail: eventData });\r\n            document.dispatchEvent(event_1);\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addG2iUnlinking */ .Y.addG2iUnlinking(storedG2i, dlInformation === null || dlInformation === void 0 ? void 0 : dlInformation.g2ideviceid, deviceId, dlInformation);\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("before_set_ls_unlink");\r\n        }\r\n    };\r\n    DataLayerClass.prototype.mergeData = function (res) {\r\n        var _a;\r\n        if (!(res === null || res === void 0 ? void 0 : res.g2ideviceid)) {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("try_set_ls_empty");\r\n        }\r\n        var storedData = (_a = this.getCdpDlFromStorage()) === null || _a === void 0 ? void 0 : _a.apiDl;\r\n        var errorCodes = {\r\n            NetworkError: -51,\r\n            EmptyResponse: -52\r\n        };\r\n        var fallbackCode = this.hasNetworkError ? errorCodes.NetworkError : errorCodes.EmptyResponse;\r\n        var fallbackData = {\r\n            er: fallbackCode,\r\n            erp: fallbackCode,\r\n            cr: fallbackCode,\r\n            crp: fallbackCode,\r\n            g2ideviceid: String(fallbackCode),\r\n            er_expire_date: _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.getNowDateInSec */ .E.getNowDateInSec() + 1,\r\n            interests: []\r\n        };\r\n        var omitEmpty = function (obj) {\r\n            if (obj === void 0) { obj = {}; }\r\n            obj = __assign({}, obj);\r\n            Object.keys(obj).filter(function (k) { return obj[k] === null || obj[k] === undefined; }).forEach(function (k) { return delete (obj[k]); });\r\n            return obj;\r\n        };\r\n        var result = __assign(__assign(__assign({}, fallbackData), omitEmpty(storedData)), omitEmpty(res));\r\n        return result;\r\n    };\r\n    DataLayerClass.prototype.setCdpDlToStorage = function (dlInformation, deviceId) {\r\n        dlInformation = this.mergeData(dlInformation);\r\n        if (!dlInformation.er_expire_date) {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addUserReqErExpireDate */ .Y.addUserReqErExpireDate(dlInformation.er_expire_date);\r\n            dlInformation.er_expire_date = _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.getDateInSec */ .E.getDateInSec(_Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.addDays */ .E.addDays(new Date(), 1));\r\n        }\r\n        var saveDl = {\r\n            apiDl: dlInformation,\r\n            deviceId: deviceId,\r\n            browserSession: this.sessionService.getDeviceSessionId()\r\n        };\r\n        if (!this.isActualCdpDlStorage(saveDl)) {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addUserReqErExpireDate */ .Y.addUserReqErExpireDate(saveDl.apiDl.er_expire_date);\r\n        }\r\n        this.fireG2iChangeEventIfNeed(dlInformation, deviceId, false);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addUserReqAllowedSend */ .Y.addUserReqAllowedSend();\r\n        var isSet = _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_8__/* .LocalStorageService.set */ .n.set(this.dlStorageKey, saveDl);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("set_ls_success=" + isSet);\r\n        var didLs = this.getDeviceIdFromStorage();\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_ls_onupdate=" + didLs);\r\n        this.setLocalDlData();\r\n    };\r\n    DataLayerClass.prototype.isActualCdpDlStorage = function (cdpStorage) {\r\n        return (Date.now() - _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.getDateValueFromTimestamp */ .E.getDateValueFromTimestamp(cdpStorage.apiDl.er_expire_date) < 0);\r\n    };\r\n    DataLayerClass.prototype.listen = function () {\r\n        this.prolongateUserStorageIfNeed();\r\n        this.cdpDlDataAvailability();\r\n    };\r\n    DataLayerClass.prototype.prolongateUserStorageIfNeed = function () {\r\n        var _this = this;\r\n        _Utils_Utils__WEBPACK_IMPORTED_MODULE_10__/* .Utils.addCustomEventListener */ .c.addCustomEventListener(document, _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__/* .PluginInnerEvents.RegenererationResendSuccess */ .U.RegenererationResendSuccess, function (event) {\r\n            var regenerate = event.detail;\r\n            var cdpStorage = _this.getCdpDlFromStorage();\r\n            var apiDl = cdpStorage === null || cdpStorage === void 0 ? void 0 : cdpStorage.apiDl;\r\n            var date = apiDl === null || apiDl === void 0 ? void 0 : apiDl.er_expire_date;\r\n            var dateInHour = _Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.getDateInSec */ .E.getDateInSec(_Utils_DateUtil__WEBPACK_IMPORTED_MODULE_6__/* .DateUtil.addHours */ .E.addHours(new Date(), 1));\r\n            if (date && date < dateInHour) {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addStorageProlongation */ .Y.addStorageProlongation(date, dateInHour, regenerate);\r\n                apiDl.er_expire_date = dateInHour;\r\n                _this.setCdpDlToStorage(apiDl, regenerate.new_device_id);\r\n            }\r\n        });\r\n    };\r\n    DataLayerClass.prototype.cdpDlDataAvailability = function () {\r\n        var _this = this;\r\n        _Utils_Utils__WEBPACK_IMPORTED_MODULE_10__/* .Utils.addCustomEventListener */ .c.addCustomEventListener(document, _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__/* .PluginInnerEvents.G2IAfterSetInitOptions */ .U.G2IAfterSetInitOptions, function (e) {\r\n            _this.setLocalDlData();\r\n        });\r\n    };\r\n    DataLayerClass.prototype.getCdpDlFromApi = function (deviceId) {\r\n        var _this = this;\r\n        var options = _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addBotInfoHeader */ .Y.addBotInfoHeader();\r\n        options = _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addInitSettingsHeader */ .Y.addInitSettingsHeader(options);\r\n        options.exposedHeaders = options.exposedHeaders || [];\r\n        options.exposedHeaders.push("x-request-id");\r\n        options.statusCodeEnabled = true;\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("before_get_user");\r\n        _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.disableAuth */ .O.disableAuth();\r\n        return _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.get */ .O.get("user", {}, options)\r\n            .then(function (res) {\r\n            _this.trackRequestId(res);\r\n            return res.data;\r\n        }).catch(function (res) {\r\n            var isExtendedModel = res.data && res.exposedHeaders;\r\n            if (isExtendedModel) {\r\n                _this.trackRequestId(res);\r\n            }\r\n            else {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("catch=" + (res instanceof Error ? res.toString() : JSON.stringify(res)).substring(0, 64));\r\n            }\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("resend");\r\n            return _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.get */ .O.get("user", {}, options)\r\n                .then(function (res) {\r\n                _this.trackRequestId(res);\r\n                return res.data;\r\n            }).catch(function (res) {\r\n                _this.hasNetworkError = true;\r\n                var isExtendedModel = res.data && res.exposedHeaders;\r\n                if (isExtendedModel) {\r\n                    _this.trackRequestId(res);\r\n                }\r\n                else {\r\n                    _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("catch=" + (res instanceof Error ? res.toString() : JSON.stringify(res)).substring(0, 64));\r\n                }\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("double_failed");\r\n                return Promise.reject(isExtendedModel ? res.data : res);\r\n            });\r\n        });\r\n    };\r\n    DataLayerClass.prototype.trackRequestId = function (res) {\r\n        var reqid = res.exposedHeaders["x-request-id"] || "g2i_empty_fallback";\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addUserErReqid */ .Y.addUserErReqid(reqid);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("after_get_user=" + reqid);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_9__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("status_code=" + res.statusCode);\r\n    };\r\n    DataLayerClass.prototype.getProfileData = function (params) {\r\n        if (params === void 0) { params = {}; }\r\n        _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.disableDeviceId */ .O.disableDeviceId();\r\n        return _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_5__/* .HttpService.get */ .O.get("user/profile", params);\r\n    };\r\n    return DataLayerClass;\r\n}());\r\n\r\nvar CdpDataLayer = new DataLayerClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ3NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStEO0FBQ0w7QUFFVztBQUNDO0FBQ2hCO0FBRUU7QUFFYjtBQUNjO0FBQ2U7QUFDckI7QUFFZDtBQUNnRDtBQUNOO0FBRS9FO0lBT0k7UUFOUSxXQUFNLEdBQVcsd0dBQTBCLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUQsaUJBQVksR0FBRyxRQUFRLENBQUM7UUFDeEIsbUJBQWMsR0FBRyxvR0FBdUIsQ0FBQztRQUV6QyxvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUc1QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFTyx1Q0FBYyxHQUF0QjtRQUNJLElBQU0sT0FBTyxHQUF1QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUMvRCxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO1lBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztZQUM1QixvR0FBMkIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQ3JEO2FBQU07WUFDSCxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQW1CLENBQUM7WUFDbEMsb0dBQTJCLENBQUMsbUJBQW1CLENBQUMsQ0FBQztTQUNwRDtJQUNMLENBQUM7SUFFTSx1Q0FBYyxHQUFyQixVQUFzQixRQUFnQjtRQUF0QyxpQkFzQkM7UUFyQkcsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQzthQUN6QixJQUFJLENBQUMsVUFBQyxTQUF3QjtZQVEzQixrSEFBMEIsRUFBRSxDQUFDO1lBQzdCLEtBQUksQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDOUMsSUFBTSxXQUFXLEdBQUcsSUFBSSxXQUFXLENBQUMseUhBQWlDLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNyRyxRQUFRLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFDLEtBQUs7WUFDWCxLQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3pDLElBQU0sV0FBVyxHQUFHLElBQUksV0FBVyxDQUFDLG1IQUE4QixFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDdkYsUUFBUSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4QyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDSixrSUFBa0MsRUFBRSxDQUFDO1lBQ3JDLHVJQUFrQyxFQUFFLENBQUM7UUFDekMsQ0FBQyxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRU0sNENBQW1CLEdBQTFCLFVBQTJCLFNBQXdCLEVBQUUsUUFBZ0I7UUFDakUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM1Qyw2R0FBaUMsQ0FBQyxVQUFVLEVBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLDZHQUFpQyxDQUFDLFlBQVksRUFBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDcEUsNkdBQWlDLENBQUMsYUFBYSxFQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUN0RSw2R0FBaUMsQ0FBQyxZQUFZLEVBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3BFLDZHQUFpQyxDQUFDLGFBQWEsRUFBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVNLGtDQUFTLEdBQWhCO1FBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFTyxtQ0FBVSxHQUFsQjtRQUNJLElBQU0sTUFBTSxHQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDO1FBQzVDLDhGQUF3QixDQUFDLFdBQVMsTUFBUSxDQUFDLENBQUM7UUFDNUMsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVPLG1DQUFVLEdBQWxCO1FBQ0ksSUFBTSxNQUFNLEdBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUM7UUFDNUMsb0dBQTJCLENBQUMsV0FBUyxNQUFRLENBQUMsQ0FBQztRQUMvQyxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU0sdUNBQWMsR0FBckI7UUFDSSxJQUFNLE1BQU0sR0FBSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxJQUFJLElBQUksQ0FBQztRQUNyRCxnR0FBeUIsQ0FBQyxTQUFPLE1BQVEsQ0FBQyxDQUFDO1FBQzNDLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFTSw4QkFBSyxHQUFaO1FBQ0ksT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQztJQUN2QyxDQUFDO0lBRU0sK0JBQU0sR0FBYjtRQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUM7SUFDeEMsQ0FBQztJQUVNLDhCQUFLLEdBQVo7UUFDSSxPQUFPLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFFTSwrQkFBTSxHQUFiO1FBQ0ksT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQztJQUN4QyxDQUFDO0lBRU0sK0NBQXNCLEdBQTdCO1FBQ0ksSUFBTSxRQUFRLEdBQXVCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ2hFLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDL0MsQ0FBQztJQUVPLGdEQUF1QixHQUEvQixVQUFnQyxPQUEyQjtRQUN2RCxJQUFNLHdCQUF3QixHQUFHLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLEtBQUssSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUM7UUFDbEgsSUFBSSx3QkFBd0IsSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDaEUsSUFBSSxPQUFPLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLHlHQUF5QixFQUFFO2dCQUNqRSxPQUFPLElBQUksQ0FBQzthQUNmO1NBQ0o7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0saUNBQVEsR0FBZixVQUFnQixRQUFnQjtRQUM1QixJQUFNLE9BQU8sR0FBdUIsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDL0QsSUFBSSxJQUFJLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDdkMsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLGNBQWMsSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRTtnQkFDM0Qsb0dBQTJCLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDeEM7aUJBQU07Z0JBQ0gsb0dBQTJCLENBQUMsZ0JBQWMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFHLENBQUMsQ0FBQzthQUM5RTtZQUNELE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLE9BQU8sRUFBRTtZQUNULDBHQUE4QixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzFDLG9HQUEyQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQzFDO2FBQU07WUFDSCwwR0FBOEIsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN4QyxvR0FBMkIsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUN4QztRQUNELE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sNENBQW1CLEdBQTFCO1FBQ0csT0FBTyxtR0FBdUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVNLHFEQUE0QixHQUFuQyxVQUFvQyxRQUFnQjtRQUNoRCxJQUFNLE1BQU0sR0FBdUIsbUdBQXVCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzlFLElBQUksTUFBTSxFQUFFO1lBQ1IsTUFBTSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDM0IsbUdBQXVCLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQztTQUN0RDtJQUNMLENBQUM7SUFFTSwyQ0FBa0IsR0FBekI7UUFDSSwrR0FBMEIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVPLGlEQUF3QixHQUFoQyxVQUFpQyxhQUE0QixFQUFFLFFBQWdCLEVBQUUsU0FBa0I7O1FBQy9GLElBQU0sVUFBVSxHQUF1QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUNsRSxJQUFNLFNBQVMsU0FBRyxVQUFVLGFBQVYsVUFBVSx1QkFBVixVQUFVLENBQUUsS0FBSywwQ0FBRSxXQUFXLENBQUM7UUFDakQsSUFBSSxTQUFTLElBQUksU0FBUyxNQUFLLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxXQUFXLEdBQUU7WUFDdkQsSUFBTSxTQUFTLEdBQUc7Z0JBQ2QsTUFBTSxFQUFFLFNBQVM7Z0JBQ2pCLE1BQU0sRUFBRSxhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsV0FBVztnQkFDbEMsWUFBWSxFQUFFLFVBQVU7Z0JBQ3hCLFdBQVcsRUFBRSxhQUFhO2dCQUMxQixPQUFPLEVBQUUsU0FBUzthQUNyQixDQUFDO1lBQ0YsSUFBSSxPQUFLLEdBQUcsSUFBSSxXQUFXLENBQUMscUJBQXFCLEVBQUUsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQztZQUMxRSxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQUssQ0FBQyxDQUFDO1lBQzlCLHNHQUE0QixDQUFDLFNBQVMsRUFBRSxhQUFhLGFBQWIsYUFBYSx1QkFBYixhQUFhLENBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxhQUFhLENBQUMsQ0FBQztZQUM3RixvR0FBMkIsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1NBQ3ZEO0lBQ0wsQ0FBQztJQUVPLGtDQUFTLEdBQWpCLFVBQWtCLEdBQWtCOztRQUNoQyxJQUFJLEVBQUMsR0FBRyxhQUFILEdBQUcsdUJBQUgsR0FBRyxDQUFFLFdBQVcsR0FBRTtZQUNuQixvR0FBMkIsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1NBQ25EO1FBQ0QsSUFBTSxVQUFVLFNBQWtCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSwwQ0FBRSxLQUFLLENBQUM7UUFDcEUsSUFBTSxVQUFVLEdBQUc7WUFDZixZQUFZLEVBQUUsQ0FBQyxFQUFFO1lBQ2pCLGFBQWEsRUFBRSxDQUFDLEVBQUU7U0FDckIsQ0FBQztRQUNGLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUM7UUFDL0YsSUFBTSxZQUFZLEdBQWtCO1lBQ2hDLEVBQUUsRUFBRSxZQUFZO1lBQ2hCLEdBQUcsRUFBRSxZQUFZO1lBQ2pCLEVBQUUsRUFBRSxZQUFZO1lBQ2hCLEdBQUcsRUFBRSxZQUFZO1lBQ2pCLFdBQVcsRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDO1lBQ2pDLGNBQWMsRUFBRSw4RkFBd0IsRUFBRSxHQUFHLENBQUM7WUFDOUMsU0FBUyxFQUFFLEVBQUU7U0FDaEIsQ0FBQztRQUNGLElBQU0sU0FBUyxHQUFHLFVBQUMsR0FBUTtZQUFSLDhCQUFRO1lBQ3ZCLEdBQUcsZ0JBQU8sR0FBRyxDQUFDLENBQUM7WUFDZixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxXQUFDLElBQUksVUFBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxFQUF2QyxDQUF1QyxDQUFDLENBQUMsT0FBTyxDQUFDLFdBQUMsSUFBSSxjQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQWQsQ0FBYyxDQUFDO1lBQ2xHLE9BQU8sR0FBRyxDQUFDO1FBQ2YsQ0FBQyxDQUFDO1FBQ0YsSUFBTSxNQUFNLGtDQUFRLFlBQVksR0FBSyxTQUFTLENBQUMsVUFBVSxDQUFDLEdBQUssU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFFLENBQUM7UUFHaEYsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVPLDBDQUFpQixHQUF6QixVQUEwQixhQUE0QixFQUFFLFFBQWdCO1FBQ3BFLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxFQUFFO1lBQy9CLG9IQUFtQyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQztZQUNsRSxhQUFhLENBQUMsY0FBYyxHQUFHLHdGQUFxQixDQUFDLDhFQUFnQixDQUFDLElBQUksSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN6RjtRQUNELElBQU0sTUFBTSxHQUF1QjtZQUMvQixLQUFLLEVBQUUsYUFBYTtZQUNwQixRQUFRLEVBQUUsUUFBUTtZQUNsQixjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsRUFBRTtTQUMzRDtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDcEMsb0hBQW1DLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUNwRTtRQUVELElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzlELGtIQUFrQyxFQUFFLENBQUM7UUFFckMsSUFBTSxLQUFLLEdBQUcsbUdBQXVCLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNqRSxvR0FBMkIsQ0FBQyxvQkFBa0IsS0FBTyxDQUFDLENBQUM7UUFDdkQsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7UUFDNUMsb0dBQTJCLENBQUMscUJBQW1CLEtBQU8sQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRU8sNkNBQW9CLEdBQTVCLFVBQTZCLFVBQThCO1FBQ3ZELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsa0hBQWtDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNsRyxDQUFDO0lBRU8sK0JBQU0sR0FBZDtRQUNJLElBQUksQ0FBQywyQkFBMkIsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFTyxvREFBMkIsR0FBbkM7UUFBQSxpQkFjQztRQWJHLHVHQUE0QixDQUFDLFFBQVEsRUFBRSxpSkFBNkMsRUFBRSxVQUFDLEtBQWtCO1lBQ3JHLElBQUksVUFBVSxHQUFzQixLQUFLLENBQUMsTUFBTSxDQUFDO1lBQ2pELElBQU0sVUFBVSxHQUF1QixLQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUNsRSxJQUFNLEtBQUssR0FBRyxVQUFVLGFBQVYsVUFBVSx1QkFBVixVQUFVLENBQUUsS0FBSyxDQUFDO1lBQ2hDLElBQU0sSUFBSSxHQUFHLEtBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxjQUFjLENBQUM7WUFDbkMsSUFBTSxVQUFVLEdBQUcsd0ZBQXFCLENBQUMsZ0ZBQWlCLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNFLElBQUksSUFBSSxJQUFJLElBQUksR0FBRyxVQUFVLEVBQUU7Z0JBQzNCLG9IQUFtQyxDQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7Z0JBQ2xFLEtBQUssQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFDO2dCQUNsQyxLQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUMzRDtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVPLDhDQUFxQixHQUE3QjtRQUFBLGlCQUlDO1FBSEcsdUdBQTRCLENBQUMsUUFBUSxFQUFFLHVJQUF3QyxFQUFFLFVBQUMsQ0FBYztZQUM1RixLQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU8sd0NBQWUsR0FBdkIsVUFBd0IsUUFBZ0I7UUFBeEMsaUJBb0NDO1FBbkNHLElBQUksT0FBTyxHQUFHLHdHQUE2QixFQUFFLENBQUM7UUFDOUMsT0FBTyxHQUFHLGtIQUFrQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3RELE9BQU8sQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGNBQWMsSUFBSSxFQUFFLENBQUM7UUFDdEQsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDNUMsT0FBTyxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUNqQyxvR0FBMkIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQy9DLG1HQUF1QixFQUFFLENBQUM7UUFDMUIsT0FBTyxtRkFBZSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsT0FBTyxDQUFDO2FBQ3RDLElBQUksQ0FBQyxVQUFDLEdBQWlCO1lBQ3BCLEtBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekIsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQ3BCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxhQUFHO1lBQ1IsSUFBTSxlQUFlLEdBQUksR0FBb0IsQ0FBQyxJQUFJLElBQUssR0FBb0IsQ0FBQyxjQUFjLENBQUM7WUFDM0YsSUFBSSxlQUFlLEVBQUU7Z0JBQ2pCLEtBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDNUI7aUJBQU07Z0JBQ0gsb0dBQTJCLENBQUMsV0FBUyxDQUFDLEdBQUcsWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFHLENBQUMsQ0FBQzthQUMxSDtZQUNELG9HQUEyQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3RDLE9BQU8sbUZBQWUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQztpQkFDdEMsSUFBSSxDQUFDLFVBQUMsR0FBaUI7Z0JBQ3BCLEtBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3pCLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQztZQUNwQixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsYUFBRztnQkFDUixLQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztnQkFDNUIsSUFBTSxlQUFlLEdBQUksR0FBb0IsQ0FBQyxJQUFJLElBQUssR0FBb0IsQ0FBQyxjQUFjLENBQUM7Z0JBQzNGLElBQUksZUFBZSxFQUFFO29CQUNqQixLQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUM1QjtxQkFBTTtvQkFDSCxvR0FBMkIsQ0FBQyxXQUFTLENBQUMsR0FBRyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUcsQ0FBQyxDQUFDO2lCQUMxSDtnQkFDRCxvR0FBMkIsQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDN0MsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDNUQsQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFTyx1Q0FBYyxHQUF0QixVQUF1QixHQUFpQjtRQUNwQyxJQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxJQUFJLG9CQUFvQixDQUFDO1FBQ3pFLG9HQUEyQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLG9HQUEyQixDQUFDLG9CQUFrQixLQUFPLENBQUMsQ0FBQztRQUN2RCxvR0FBMkIsQ0FBQyxpQkFBZSxHQUFHLENBQUMsVUFBWSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVNLHVDQUFjLEdBQXJCLFVBQXNCLE1BQThKO1FBQTlKLG9DQUE4SjtRQUNoTCwyR0FBMkIsRUFBRSxDQUFDO1FBQzlCLE9BQU8sbUZBQWUsQ0FBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUNMLHFCQUFDO0FBQUQsQ0FBQzs7QUFFTSxJQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvQ2RwRGF0YUxheWVyLnRzPzk2NGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBEYXRhQ29sbGVjdG9yIH0gZnJvbSBcIkBNb2R1bGVzL2RhdGFDb2xsZWN0b3IvRGF0YUNvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBQbHVnaW5Jbm5lckV2ZW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvUGx1Z2luSW5uZXJFdmVudHNcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRGxTdG9yYWdlSW50ZXJmYWNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9EbFN0b3JhZ2VJbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgSHR0cFNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9IdHRwU2VydmljZVwiO1xyXG5pbXBvcnQgeyBBcGlEbFJlc3BvbnNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9BcGlEbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBEYXRlVXRpbCB9IGZyb20gXCJAVXRpbHMvRGF0ZVV0aWxcIjtcclxuaW1wb3J0IHsgVGFnTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvSW5kZXhcIjtcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0xvY2FsU3RvcmFnZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuaW1wb3J0IHsgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cFwiO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gXCJAVXRpbHMvVXRpbHNcIjtcclxuaW1wb3J0IHsgRGV2aWNlTW9kdWxlLCBSZW5lcmVyYXRpb25Nb2RlbCB9IGZyb20gXCJATW9kdWxlcy9kZXZpY2VNb2R1bGUvRGV2aWNlTW9kdWxlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50c01hbmFnZXIgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvQ2RwRXZlbnRzTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFMYXllckNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkRhdGEgTGF5ZXJcIik7XHJcbiAgICBwcml2YXRlIGRsU3RvcmFnZUtleSA9IFwiY2RwLWRsXCI7XHJcbiAgICBwcml2YXRlIHNlc3Npb25TZXJ2aWNlID0gU2Vzc2lvblNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICBwcml2YXRlIGRsRGF0YTogQXBpRGxSZXNwb25zZTtcclxuICAgIHByaXZhdGUgaGFzTmV0d29ya0Vycm9yID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRMb2NhbERsRGF0YSgpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRMb2NhbERsRGF0YSgpIHtcclxuICAgICAgICBjb25zdCBsb2NhbERsOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSB0aGlzLmdldENkcERsRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICBpZiAobG9jYWxEbCAmJiBsb2NhbERsLmFwaURsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGxEYXRhID0gbG9jYWxEbC5hcGlEbDtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwidXBkYXRlX2xvY2FsX3ZhbHVlXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGxEYXRhID0ge30gYXMgQXBpRGxSZXNwb25zZTtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwic2V0X2xvY2FsX2RlZmF1bHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRJbmZvcm1hdGlvbihkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDZHBEbChkZXZpY2VJZClcclxuICAgICAgICAgICAgLnRoZW4oKGFwaURsRGF0YTogQXBpRGxSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIERhdGFDb2xsZWN0b3IubGlzdGVuRXJDb2RlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMuaGFuZGxlQ2RwRGxSZXNwb25jZShhcGlEbERhdGEsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmVzKGFwaURsRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgIERhdGFDb2xsZWN0b3IubGlzdGVuRXJDb2RlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNkcERsUmVzcG9uY2UoYXBpRGxEYXRhLCBkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChQbHVnaW5Jbm5lckV2ZW50cy5EbENkcEdldFN1Y2Nlc3MsIHsgZGV0YWlsOiB0aGlzLmdldERsRGF0YSgpIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDZHBEbFJlc3BvbmNlKG51bGwsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkRsQ2RwR2V0RmFpbCwgeyBkZXRhaWw6IGVycm9yIH0pO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgRGV2aWNlTW9kdWxlLnNlbmRTYXZlZFJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgQ2RwRXZlbnRzTWFuYWdlci51cGRhdGVHMklEZXZpY2VJZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGFuZGxlQ2RwRGxSZXNwb25jZShhcGlEbERhdGE6IEFwaURsUmVzcG9uc2UsIGRldmljZUlkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnNldENkcERsVG9TdG9yYWdlKGFwaURsRGF0YSwgZGV2aWNlSWQpO1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcInNldENkcERsXCIsICB0aGlzLmdldEVyRm9yR0EoKSArIFwiXCIpO1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcInNldENkcERsRXJcIiwgIHRoaXMuZ2V0RXIoKSArIFwiXCIpO1xyXG4gICAgICAgIFRhZ01hbmFnZXJTZXJ2aWNlLkluc3RhbmNlLnNldERMVihcInNldENkcERsRXJwXCIsICB0aGlzLmdldEVycCgpICsgXCJcIik7XHJcbiAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwic2V0Q2RwRGxDclwiLCAgdGhpcy5nZXRDcigpICsgXCJcIik7XHJcbiAgICAgICAgVGFnTWFuYWdlclNlcnZpY2UuSW5zdGFuY2Uuc2V0RExWKFwic2V0Q2RwRGxDcnBcIiwgIHRoaXMuZ2V0Q3JwKCkgKyBcIlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGxEYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRsRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEVyRm9yR0EoKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gIHRoaXMuZ2V0RGxEYXRhKCkuZXIgfHwgbnVsbDtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkRXJTdGF0dXMoYGdhLWVyPSR7cmVzdWx0fWApO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDckZvckdBKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9ICB0aGlzLmdldERsRGF0YSgpLmNyIHx8IG51bGw7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBnYS1jaD0ke3Jlc3VsdH1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRHMmlEZXZpY2VJZCgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSAgdGhpcy5nZXREbERhdGEoKS5nMmlkZXZpY2VpZCB8fCBudWxsO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRHMmlTdGF0dXMoYGcyaT0ke3Jlc3VsdH1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREbERhdGEoKS5lciB8fCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRFcnAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGxEYXRhKCkuZXJwIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldERsRGF0YSgpLmNyIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENycCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREbERhdGEoKS5jcnAgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlSWRGcm9tU3RvcmFnZSgpIHtcclxuICAgICAgICBjb25zdCBkbE9iamVjdDogRGxTdG9yYWdlSW50ZXJmYWNlID0gdGhpcy5nZXRDZHBEbEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgcmV0dXJuIGRsT2JqZWN0ID8gZGxPYmplY3QuZGV2aWNlSWQgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNWYWxpZExvY2FsSW5mb3JtYXRpb24obG9jYWxEbDogRGxTdG9yYWdlSW50ZXJmYWNlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgaXNJbkN1cnJlbnREZXZpY2VTZXNzaW9uID0gbG9jYWxEbCAmJiAobG9jYWxEbC5icm93c2VyU2Vzc2lvbiA9PT0gdGhpcy5zZXNzaW9uU2VydmljZS5nZXREZXZpY2VTZXNzaW9uSWQoKSk7XHJcbiAgICAgICAgaWYgKGlzSW5DdXJyZW50RGV2aWNlU2Vzc2lvbiAmJiB0aGlzLmlzQWN0dWFsQ2RwRGxTdG9yYWdlKGxvY2FsRGwpKSB7XHJcbiAgICAgICAgICAgIGlmIChsb2NhbERsLmFwaURsICYmIGxvY2FsRGwuYXBpRGwuZXIgIT09IENvbnN0YW50cy5Ob0VySW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENkcERsKGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPEFwaURsUmVzcG9uc2U+IHtcclxuICAgICAgICBjb25zdCBsb2NhbERsOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSB0aGlzLmdldENkcERsRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkTG9jYWxJbmZvcm1hdGlvbihsb2NhbERsKSkge1xyXG4gICAgICAgICAgICBpZiAobG9jYWxEbC5hcGlEbC5lcl9leHBpcmVfZGF0ZSAmJiBsb2NhbERsLmFwaURsLmcyaWRldmljZWlkKSB7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJ2YWxpZFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZW1wdHlfZGF0YT0ke0pTT04uc3RyaW5naWZ5KGxvY2FsRGwuYXBpRGwpfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobG9jYWxEbC5hcGlEbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2NhbERsKSB7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRVc2VyUmVxUmVhc29ucyhcImV4cGlyZWRcIik7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImV4cGlyZWRcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJSZXFSZWFzb25zKFwiZW1wdHlcIik7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImVtcHR5XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDZHBEbEZyb21BcGkoZGV2aWNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDZHBEbEZyb21TdG9yYWdlKCk6IERsU3RvcmFnZUludGVyZmFjZSB8IG51bGwge1xyXG4gICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRoaXMuZGxTdG9yYWdlS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShkZXZpY2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGxEYXRhOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0aGlzLmRsU3RvcmFnZUtleSk7XHJcbiAgICAgICAgaWYgKGRsRGF0YSkge1xyXG4gICAgICAgICAgICBkbERhdGEuZGV2aWNlSWQgPSBkZXZpY2VJZDtcclxuICAgICAgICAgICAgTG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGhpcy5kbFN0b3JhZ2VLZXksIGRsRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWxldGVDZHBEbFN0b3JhZ2UoKTogdm9pZCB7XHJcbiAgICAgICAgTG9jYWxTdG9yYWdlU2VydmljZS5kZWxldGUodGhpcy5kbFN0b3JhZ2VLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlyZUcyaUNoYW5nZUV2ZW50SWZOZWVkKGRsSW5mb3JtYXRpb246IEFwaURsUmVzcG9uc2UsIGRldmljZUlkOiBzdHJpbmcsIGlzU2tpcHBlZDogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGE6IERsU3RvcmFnZUludGVyZmFjZSA9IHRoaXMuZ2V0Q2RwRGxGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZEcyaSA9IHN0b3JlZERhdGE/LmFwaURsPy5nMmlkZXZpY2VpZDtcclxuICAgICAgICBpZiAoc3RvcmVkRzJpICYmIHN0b3JlZEcyaSAhPT0gZGxJbmZvcm1hdGlvbj8uZzJpZGV2aWNlaWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgT2xkRzJpOiBzdG9yZWRHMmksXHJcbiAgICAgICAgICAgICAgICBOZXdHMmk6IGRsSW5mb3JtYXRpb24/LmcyaWRldmljZWlkLFxyXG4gICAgICAgICAgICAgICAgQnJvd3NlckNhY2hlOiBzdG9yZWREYXRhLFxyXG4gICAgICAgICAgICAgICAgUmVzcG9zZURhdGE6IGRsSW5mb3JtYXRpb24sXHJcbiAgICAgICAgICAgICAgICBTa2lwcGVkOiBpc1NraXBwZWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwib25HMmlEZXZpY2VJZENoYW5nZVwiLCB7IGRldGFpbDogZXZlbnREYXRhIH0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEcyaVVubGlua2luZyhzdG9yZWRHMmksIGRsSW5mb3JtYXRpb24/LmcyaWRldmljZWlkLCBkZXZpY2VJZCwgZGxJbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImJlZm9yZV9zZXRfbHNfdW5saW5rXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1lcmdlRGF0YShyZXM6IEFwaURsUmVzcG9uc2UpOiBBcGlEbFJlc3BvbnNlIHtcclxuICAgICAgICBpZiAoIXJlcz8uZzJpZGV2aWNlaWQpIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwidHJ5X3NldF9sc19lbXB0eVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkRGF0YTogQXBpRGxSZXNwb25zZSA9IHRoaXMuZ2V0Q2RwRGxGcm9tU3RvcmFnZSgpPy5hcGlEbDtcclxuICAgICAgICBjb25zdCBlcnJvckNvZGVzID0ge1xyXG4gICAgICAgICAgICBOZXR3b3JrRXJyb3I6IC01MSxcclxuICAgICAgICAgICAgRW1wdHlSZXNwb25zZTogLTUyXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBmYWxsYmFja0NvZGUgPSB0aGlzLmhhc05ldHdvcmtFcnJvciA/IGVycm9yQ29kZXMuTmV0d29ya0Vycm9yIDogZXJyb3JDb2Rlcy5FbXB0eVJlc3BvbnNlO1xyXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrRGF0YTogQXBpRGxSZXNwb25zZSA9IHtcclxuICAgICAgICAgICAgZXI6IGZhbGxiYWNrQ29kZSxcclxuICAgICAgICAgICAgZXJwOiBmYWxsYmFja0NvZGUsXHJcbiAgICAgICAgICAgIGNyOiBmYWxsYmFja0NvZGUsXHJcbiAgICAgICAgICAgIGNycDogZmFsbGJhY2tDb2RlLFxyXG4gICAgICAgICAgICBnMmlkZXZpY2VpZDogU3RyaW5nKGZhbGxiYWNrQ29kZSksXHJcbiAgICAgICAgICAgIGVyX2V4cGlyZV9kYXRlOiBEYXRlVXRpbC5nZXROb3dEYXRlSW5TZWMoKSArIDEsIC8vIHRvIHByZXZlbnQgYWRkIDEgZGF5IGZvciBleHBpcmVkIGRhdGUgY2FzZVxyXG4gICAgICAgICAgICBpbnRlcmVzdHM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBvbWl0RW1wdHkgPSAob2JqID0ge30pID0+IHtcclxuICAgICAgICAgICAgb2JqID0gey4uLm9ian07XHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZmlsdGVyKGsgPT4gb2JqW2tdID09PSBudWxsIHx8IG9ialtrXSA9PT0gdW5kZWZpbmVkKS5mb3JFYWNoKGsgPT4gZGVsZXRlKG9ialtrXSkpXHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSB7IC4uLmZhbGxiYWNrRGF0YSwgLi4ub21pdEVtcHR5KHN0b3JlZERhdGEpLCAuLi5vbWl0RW1wdHkocmVzKSB9O1xyXG4gICAgICAgIC8vIGNvbnN0IGxvZyA9IChkYXRhKSA9PiBKU09OLnN0cmluZ2lmeSh7Li4ub21pdEVtcHR5KGRhdGEpLCBpbnRlcmVzdHM6IHVuZGVmaW5lZCB9KTtcclxuICAgICAgICAvLyBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYHN0b3JlZF9kYXRhOiR7bG9nKHN0b3JlZERhdGEpfSxyZXNfZGF0YToke2xvZyhyZXMpfSxtZXJnZWRfZGF0YToke2xvZyhyZXN1bHQpfWApO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRDZHBEbFRvU3RvcmFnZShkbEluZm9ybWF0aW9uOiBBcGlEbFJlc3BvbnNlLCBkZXZpY2VJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgZGxJbmZvcm1hdGlvbiA9IHRoaXMubWVyZ2VEYXRhKGRsSW5mb3JtYXRpb24pO1xyXG4gICAgICAgIGlmICghZGxJbmZvcm1hdGlvbi5lcl9leHBpcmVfZGF0ZSkge1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkVXNlclJlcUVyRXhwaXJlRGF0ZShkbEluZm9ybWF0aW9uLmVyX2V4cGlyZV9kYXRlKTtcclxuICAgICAgICAgICAgZGxJbmZvcm1hdGlvbi5lcl9leHBpcmVfZGF0ZSA9IERhdGVVdGlsLmdldERhdGVJblNlYyhEYXRlVXRpbC5hZGREYXlzKG5ldyBEYXRlKCksIDEpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2F2ZURsOiBEbFN0b3JhZ2VJbnRlcmZhY2UgPSB7XHJcbiAgICAgICAgICAgIGFwaURsOiBkbEluZm9ybWF0aW9uLFxyXG4gICAgICAgICAgICBkZXZpY2VJZDogZGV2aWNlSWQsXHJcbiAgICAgICAgICAgIGJyb3dzZXJTZXNzaW9uOiB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldERldmljZVNlc3Npb25JZCgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNBY3R1YWxDZHBEbFN0b3JhZ2Uoc2F2ZURsKSkge1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkVXNlclJlcUVyRXhwaXJlRGF0ZShzYXZlRGwuYXBpRGwuZXJfZXhwaXJlX2RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5maXJlRzJpQ2hhbmdlRXZlbnRJZk5lZWQoZGxJbmZvcm1hdGlvbiwgZGV2aWNlSWQsIGZhbHNlKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkVXNlclJlcUFsbG93ZWRTZW5kKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzU2V0ID0gTG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGhpcy5kbFN0b3JhZ2VLZXksIHNhdmVEbCk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBzZXRfbHNfc3VjY2Vzcz0ke2lzU2V0fWApO1xyXG4gICAgICAgIGNvbnN0IGRpZExzID0gdGhpcy5nZXREZXZpY2VJZEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfbHNfb251cGRhdGU9JHtkaWRMc31gKTtcclxuICAgICAgICB0aGlzLnNldExvY2FsRGxEYXRhKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FjdHVhbENkcERsU3RvcmFnZShjZHBTdG9yYWdlOiBEbFN0b3JhZ2VJbnRlcmZhY2UpIHtcclxuICAgICAgICByZXR1cm4gKERhdGUubm93KCkgLSBEYXRlVXRpbC5nZXREYXRlVmFsdWVGcm9tVGltZXN0YW1wKGNkcFN0b3JhZ2UuYXBpRGwuZXJfZXhwaXJlX2RhdGUpIDwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsaXN0ZW4oKSB7XHJcbiAgICAgICAgdGhpcy5wcm9sb25nYXRlVXNlclN0b3JhZ2VJZk5lZWQoKTtcclxuICAgICAgICB0aGlzLmNkcERsRGF0YUF2YWlsYWJpbGl0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvbG9uZ2F0ZVVzZXJTdG9yYWdlSWZOZWVkKCk6IHZvaWQge1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFBsdWdpbklubmVyRXZlbnRzLlJlZ2VuZXJlcmF0aW9uUmVzZW5kU3VjY2VzcywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVnZW5lcmF0ZTogUmVuZXJlcmF0aW9uTW9kZWwgPSBldmVudC5kZXRhaWw7XHJcbiAgICAgICAgICAgIGNvbnN0IGNkcFN0b3JhZ2U6IERsU3RvcmFnZUludGVyZmFjZSA9IHRoaXMuZ2V0Q2RwRGxGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBhcGlEbCA9IGNkcFN0b3JhZ2U/LmFwaURsO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRlID0gYXBpRGw/LmVyX2V4cGlyZV9kYXRlO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRlSW5Ib3VyID0gRGF0ZVV0aWwuZ2V0RGF0ZUluU2VjKERhdGVVdGlsLmFkZEhvdXJzKG5ldyBEYXRlKCksIDEpKTtcclxuICAgICAgICAgICAgLy8gbGVzcyB0aGVuIGhvdXJcclxuICAgICAgICAgICAgaWYgKGRhdGUgJiYgZGF0ZSA8IGRhdGVJbkhvdXIpIHtcclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRTdG9yYWdlUHJvbG9uZ2F0aW9uKGRhdGUsIGRhdGVJbkhvdXIsIHJlZ2VuZXJhdGUpO1xyXG4gICAgICAgICAgICAgICAgYXBpRGwuZXJfZXhwaXJlX2RhdGUgPSBkYXRlSW5Ib3VyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDZHBEbFRvU3RvcmFnZShhcGlEbCwgcmVnZW5lcmF0ZS5uZXdfZGV2aWNlX2lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2RwRGxEYXRhQXZhaWxhYmlsaXR5KCkge1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFBsdWdpbklubmVyRXZlbnRzLkcySUFmdGVyU2V0SW5pdE9wdGlvbnMsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldExvY2FsRGxEYXRhKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDZHBEbEZyb21BcGkoZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8QXBpRGxSZXNwb25zZT4ge1xyXG4gICAgICAgIGxldCBvcHRpb25zID0gQnVnVHJhY2tVdGlsLmFkZEJvdEluZm9IZWFkZXIoKTtcclxuICAgICAgICBvcHRpb25zID0gQnVnVHJhY2tVdGlsLmFkZEluaXRTZXR0aW5nc0hlYWRlcihvcHRpb25zKTtcclxuICAgICAgICBvcHRpb25zLmV4cG9zZWRIZWFkZXJzID0gb3B0aW9ucy5leHBvc2VkSGVhZGVycyB8fCBbXTtcclxuICAgICAgICBvcHRpb25zLmV4cG9zZWRIZWFkZXJzLnB1c2goXCJ4LXJlcXVlc3QtaWRcIik7XHJcbiAgICAgICAgb3B0aW9ucy5zdGF0dXNDb2RlRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwiYmVmb3JlX2dldF91c2VyXCIpO1xyXG4gICAgICAgIEh0dHBTZXJ2aWNlLmRpc2FibGVBdXRoKCk7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXJcIiwge30sIG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXM6IEh0dHBSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFja1JlcXVlc3RJZChyZXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNFeHRlbmRlZE1vZGVsID0gKHJlcyBhcyBIdHRwUmVzcG9uc2UpLmRhdGEgJiYgKHJlcyBhcyBIdHRwUmVzcG9uc2UpLmV4cG9zZWRIZWFkZXJzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRXh0ZW5kZWRNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tSZXF1ZXN0SWQocmVzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBjYXRjaD0keyhyZXMgaW5zdGFuY2VvZiBFcnJvciA/IHJlcy50b1N0cmluZygpIDogSlNPTi5zdHJpbmdpZnkocmVzKSkuc3Vic3RyaW5nKDAsIDY0KX1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcInJlc2VuZFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBIdHRwU2VydmljZS5nZXQoXCJ1c2VyXCIsIHt9LCBvcHRpb25zKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXM6IEh0dHBSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdElkKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChyZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc05ldHdvcmtFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRXh0ZW5kZWRNb2RlbCA9IChyZXMgYXMgSHR0cFJlc3BvbnNlKS5kYXRhICYmIChyZXMgYXMgSHR0cFJlc3BvbnNlKS5leHBvc2VkSGVhZGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXh0ZW5kZWRNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja1JlcXVlc3RJZChyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBjYXRjaD0keyhyZXMgaW5zdGFuY2VvZiBFcnJvciA/IHJlcy50b1N0cmluZygpIDogSlNPTi5zdHJpbmdpZnkocmVzKSkuc3Vic3RyaW5nKDAsIDY0KX1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJkb3VibGVfZmFpbGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoaXNFeHRlbmRlZE1vZGVsID8gcmVzLmRhdGEgOiByZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRyYWNrUmVxdWVzdElkKHJlczogSHR0cFJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgcmVxaWQgPSByZXMuZXhwb3NlZEhlYWRlcnNbXCJ4LXJlcXVlc3QtaWRcIl0gfHwgXCJnMmlfZW1wdHlfZmFsbGJhY2tcIjtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkVXNlckVyUmVxaWQocmVxaWQpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgYWZ0ZXJfZ2V0X3VzZXI9JHtyZXFpZH1gKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYHN0YXR1c19jb2RlPSR7cmVzLnN0YXR1c0NvZGV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFByb2ZpbGVEYXRhKHBhcmFtczoge2cyaWRldmljZWlkPzogc3RyaW5nLCByZWdpc3RyYXRpb25pZD86IHN0cmluZywgY3VzdG9tZXJyZWdpc3RyYXRpb25pZD86IHN0cmluZywgc3Vic2NyaXB0aW9uaWQ/OiBzdHJpbmcsIGFjY291bnRudW1iZXI/OiBzdHJpbmcsIGVtYWlsPzogc3RyaW5nfSA9IHt9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBIdHRwU2VydmljZS5kaXNhYmxlRGV2aWNlSWQoKTtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KFwidXNlci9wcm9maWxlXCIsIHBhcmFtcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBEYXRhTGF5ZXIgPSBuZXcgRGF0YUxheWVyQ2xhc3MoKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8474\n')},8319:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "v": () => (/* binding */ CdpModule)\n});\n\n// UNUSED EXPORTS: CdpModuleClass\n\n// EXTERNAL MODULE: ./src/plugin/modules/cdpModule/CdpDataLayer.ts\nvar CdpDataLayer = __webpack_require__(8474);\n// EXTERNAL MODULE: ./src/plugin/utils/logger/LoggerService.ts\nvar LoggerService = __webpack_require__(7458);\n// EXTERNAL MODULE: ./src/plugin/core/constants/PluginInnerEvents.ts\nvar PluginInnerEvents = __webpack_require__(9615);\n// EXTERNAL MODULE: ./src/plugin/data/modules/HttpService.ts + 1 modules\nvar HttpService = __webpack_require__(8908);\n;// CONCATENATED MODULE: ./src/plugin/modules/cdpModule/ErInterpretation.ts\n\r\n\r\n\r\nvar ErInterpretationClass = (function () {\r\n    function ErInterpretationClass() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("UserData");\r\n    }\r\n    ErInterpretationClass.prototype.setInformation = function () {\r\n        var _this = this;\r\n        return this.getInformationFromApi()\r\n            .then(function (information) {\r\n            if (information) {\r\n                console.log("Er Interpretation:", information);\r\n                _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.GetErInterpretation */.U.GetErInterpretation, information);\r\n            }\r\n            return Promise.resolve(information);\r\n        });\r\n    };\r\n    ErInterpretationClass.prototype.fireEvent = function (name, data) {\r\n        var customEvent = new CustomEvent(name, { detail: data });\r\n        document.dispatchEvent(customEvent);\r\n    };\r\n    ErInterpretationClass.prototype.getInformationFromApi = function () {\r\n        var _this = this;\r\n        return HttpService/* HttpService.get */.O.get("user/er/stats")\r\n            .catch(function (error) {\r\n            _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.GetErInterpretationError */.U.GetErInterpretationError, error);\r\n        });\r\n    };\r\n    return ErInterpretationClass;\r\n}());\r\n\r\nvar ErInterpretation = new ErInterpretationClass();\r\n\n// EXTERNAL MODULE: ./src/plugin/utils/logger/Logger.Core.ts + 1 modules\nvar Logger_Core = __webpack_require__(8652);\n;// CONCATENATED MODULE: ./src/plugin/modules/cdpModule/UserInterests.ts\n\r\n\r\n\r\nvar UserInterestsClass = (function () {\r\n    function UserInterestsClass() {\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("InterestsStats");\r\n    }\r\n    UserInterestsClass.prototype.getDebugData = function () {\r\n        var _this = this;\r\n        return this.getInformationFromApi()\r\n            .then(function (information) {\r\n            if (information) {\r\n                console.info("Get debug data for Interests calculation:", information);\r\n                _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.GetInterestsStats */.U.GetInterestsStats, information);\r\n            }\r\n            return Promise.resolve(information);\r\n        });\r\n    };\r\n    UserInterestsClass.prototype.fireEvent = function (name, data) {\r\n        var customEvent = new CustomEvent(name, { detail: data });\r\n        document.dispatchEvent(customEvent);\r\n    };\r\n    UserInterestsClass.prototype.getInformationFromApi = function () {\r\n        var _this = this;\r\n        var fnName = "[getUserInterestsByDeviceId]";\r\n        return HttpService/* HttpService.get */.O.get("user/interests/stats")\r\n            .catch(function (error) {\r\n            _this.Logger.error(fnName, error);\r\n            _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.GetInterestsStatsError */.U.GetInterestsStatsError, error);\r\n        });\r\n    };\r\n    return UserInterestsClass;\r\n}());\r\n\r\nvar UserInterests = new UserInterestsClass();\r\n\n// EXTERNAL MODULE: ./src/plugin/utils/DeviceDetector.ts\nvar DeviceDetector = __webpack_require__(9276);\n// EXTERNAL MODULE: ./src/plugin/modules/configModule/ConfigModule.ts\nvar ConfigModule = __webpack_require__(3822);\n// EXTERNAL MODULE: ./src/plugin/modules/dimensionsModule/DimensionsModule.ts + 1 modules\nvar DimensionsModule = __webpack_require__(8159);\n// EXTERNAL MODULE: ./src/plugin/modules/workflowModeModule/WorkflowModule.ts\nvar WorkflowModule = __webpack_require__(8383);\n;// CONCATENATED MODULE: ./src/plugin/modules/cdpModule/Recomendations.ts\n\r\n\r\n\r\n\r\n\r\nvar RecommendationsClass = (function () {\r\n    function RecommendationsClass() {\r\n        this.Logger = Logger_Core/* LoggerService.createLogger */.mQ.createLogger("Recommendations");\r\n    }\r\n    RecommendationsClass.prototype.getArticlesWithCategories = function () {\r\n        var _this = this;\r\n        return this.getInformationFromApi("user/recommendations/stats")\r\n            .then(function (information) {\r\n            if (information) {\r\n                console.log("List of recommended articles with userâs categories of interest:", information);\r\n                _this.Logger.info(information);\r\n                window["g2i_dl_recommendations_stats"] = information;\r\n                _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.DlRecommendationsStatsFinished */.U.DlRecommendationsStatsFinished, information);\r\n            }\r\n            return Promise.resolve(information);\r\n        })\r\n            .catch(function (error) {\r\n            _this.Logger.error(error);\r\n            _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.DlRecommendationsStatsError */.U.DlRecommendationsStatsError, error);\r\n        });\r\n    };\r\n    RecommendationsClass.prototype.getListArticles = function () {\r\n        var _this = this;\r\n        return this.getInformationFromApi("user/recommendations")\r\n            .then(function (information) {\r\n            if (information) {\r\n                console.log("Get a list of recommended articles:", information);\r\n                _this.Logger.info(information);\r\n                window["g2i_dl_recommendations"] = information;\r\n                _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.DlRecommendationsFinished */.U.DlRecommendationsFinished, information);\r\n            }\r\n            return Promise.resolve(information);\r\n        });\r\n    };\r\n    RecommendationsClass.prototype.fireEvent = function (name, data) {\r\n        var customEvent = new CustomEvent(name, { detail: data });\r\n        document.dispatchEvent(customEvent);\r\n    };\r\n    RecommendationsClass.prototype.getInformationFromApi = function (url) {\r\n        var _this = this;\r\n        var contentId = DimensionsModule/* DimensionsModule.getContentId */.e.getContentId();\r\n        return HttpService/* HttpService.get */.O.get(url, { content_id: contentId })\r\n            .catch(function (error) {\r\n            _this.Logger.error(error);\r\n            _this.fireEvent(PluginInnerEvents/* PluginInnerEvents.DlRecommendationsError */.U.DlRecommendationsError, error);\r\n        });\r\n    };\r\n    return RecommendationsClass;\r\n}());\r\n\r\nvar Recommendations = WorkflowModule/* WorkflowModule.applyRejects */.L.applyRejects(new RecommendationsClass(), WorkflowModule/* REJECTED_SERVICES.Recommendations */.h.Recommendations);\r\n\n// EXTERNAL MODULE: ./src/plugin/core/storages/http/Http.ts\nvar Http = __webpack_require__(7912);\n// EXTERNAL MODULE: ./src/plugin/utils/BugTrackUtil.ts\nvar BugTrackUtil = __webpack_require__(8578);\n;// CONCATENATED MODULE: ./src/plugin/modules/cdpModule/CdpModule.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar CdpModuleClass = (function () {\r\n    function CdpModuleClass() {\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("CdpModule");\r\n    }\r\n    CdpModuleClass.prototype.setDlInformation = function () {\r\n        var _this = this;\r\n        return DeviceDetector/* DeviceDetector.getDeviceId */.D.getDeviceId().then(function (deviceId) {\r\n            _this.Logger.debug("DeviceId", deviceId);\r\n            return CdpDataLayer/* CdpDataLayer.setInformation */.S.setInformation(deviceId);\r\n        });\r\n    };\r\n    CdpModuleClass.prototype.setDlCollectedInformation = function (apiDlData) {\r\n        var _this = this;\r\n        return DeviceDetector/* DeviceDetector.getDeviceId */.D.getDeviceId().then(function (deviceId) {\r\n            _this.Logger.debug("DeviceId", deviceId);\r\n            return CdpDataLayer/* CdpDataLayer.handleCdpDlResponce */.S.handleCdpDlResponce(apiDlData, deviceId);\r\n        });\r\n    };\r\n    CdpModuleClass.prototype.getDlInformation = function () {\r\n        var _this = this;\r\n        return DeviceDetector/* DeviceDetector.getDeviceId */.D.getDeviceId().then(function (deviceId) {\r\n            _this.Logger.debug("DeviceId", deviceId);\r\n            return CdpDataLayer/* CdpDataLayer.getCdpDl */.S.getCdpDl(deviceId);\r\n        });\r\n    };\r\n    CdpModuleClass.prototype.getProfileData = function (params) {\r\n        return CdpDataLayer/* CdpDataLayer.getProfileData */.S.getProfileData(params);\r\n    };\r\n    CdpModuleClass.prototype.updateDeviceIdInCdpDlStorage = function (deviceId) {\r\n        BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("did_update_ls=" + deviceId);\r\n        CdpDataLayer/* CdpDataLayer.updateDeviceIdInCdpDlStorage */.S.updateDeviceIdInCdpDlStorage(deviceId);\r\n    };\r\n    CdpModuleClass.prototype.getErCode = function () {\r\n        return CdpDataLayer/* CdpDataLayer.getEr */.S.getEr();\r\n    };\r\n    CdpModuleClass.prototype.getErpCode = function () {\r\n        return CdpDataLayer/* CdpDataLayer.getErp */.S.getErp();\r\n    };\r\n    CdpModuleClass.prototype.getCrCode = function () {\r\n        return CdpDataLayer/* CdpDataLayer.getCr */.S.getCr();\r\n    };\r\n    CdpModuleClass.prototype.getCrpCode = function () {\r\n        return CdpDataLayer/* CdpDataLayer.getCrp */.S.getCrp();\r\n    };\r\n    CdpModuleClass.prototype.getDeviceIdFromStorage = function () {\r\n        return CdpDataLayer/* CdpDataLayer.getDeviceIdFromStorage */.S.getDeviceIdFromStorage();\r\n    };\r\n    CdpModuleClass.prototype.getErInterpretation = function () {\r\n        return ErInterpretation.setInformation();\r\n    };\r\n    CdpModuleClass.prototype.getUserInterestsStats = function () {\r\n        return UserInterests.getDebugData();\r\n    };\r\n    CdpModuleClass.prototype.getApiVersion = function () {\r\n        var sendUrl = ConfigModule/* ConfigModule.getCdpApiUrl */.p.getCdpApiUrl() + "version";\r\n        var request = new Http/* Http */.e();\r\n        return request.get(sendUrl);\r\n    };\r\n    CdpModuleClass.prototype.getRecommendations = function () {\r\n        return Recommendations.getListArticles();\r\n    };\r\n    CdpModuleClass.prototype.getRecommendationsStats = function () {\r\n        return Recommendations.getArticlesWithCategories();\r\n    };\r\n    CdpModuleClass.prototype.getG2iDeviceId = function () {\r\n        return CdpDataLayer/* CdpDataLayer.getG2iDeviceId */.S.getG2iDeviceId();\r\n    };\r\n    return CdpModuleClass;\r\n}());\r\n\r\nvar CdpModule = new CdpModuleClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQ0ksT0FBTyw4RUFBbUMsRUFBRSxDQUFDO0lBQ2pELENBQUM7SUFFRCw0Q0FBbUIsR0FBbkI7UUFDSSxPQUFPLCtCQUErQixFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVELDhDQUFxQixHQUFyQjtRQUNJLE9BQU8sMEJBQTBCLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRUQsc0NBQWEsR0FBYjtRQUNJLElBQU0sT0FBTyxHQUFHLDBEQUF5QixFQUFFLEdBQUcsU0FBUyxDQUFDO1FBQ3hELElBQU0sT0FBTyxHQUFHLElBQUksZ0JBQUksRUFBRSxDQUFDO1FBQzNCLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7SUFDL0IsQ0FBQztJQUVELDJDQUFrQixHQUFsQjtRQUNJLE9BQU8sK0JBQStCLEVBQUUsQ0FBQztJQUM3QyxDQUFDO0lBRUQsZ0RBQXVCLEdBQXZCO1FBQ0ksT0FBTyx5Q0FBeUMsRUFBRSxDQUFDO0lBQ3ZELENBQUM7SUFFRCx1Q0FBYyxHQUFkO1FBQ0ksT0FBTyw4REFBMkIsRUFBRSxDQUFDO0lBQ3pDLENBQUM7SUFDTCxxQkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxTQUFTLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvY2RwTW9kdWxlL0VySW50ZXJwcmV0YXRpb24udHM/ZGMwMSIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2NkcE1vZHVsZS9Vc2VySW50ZXJlc3RzLnRzP2YxMDEiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jZHBNb2R1bGUvUmVjb21lbmRhdGlvbnMudHM/MTdkMyIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGUudHM/OWMwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgRXJJbnRlcnByZXRhdGlvbkNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlVzZXJEYXRhXCIpO1xyXG5cclxuICAgIHB1YmxpYyBzZXRJbmZvcm1hdGlvbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEluZm9ybWF0aW9uRnJvbUFwaSgpXHJcbiAgICAgICAgICAgIC50aGVuKChpbmZvcm1hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZm9ybWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFciBJbnRlcnByZXRhdGlvbjpcIiwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFBsdWdpbklubmVyRXZlbnRzLkdldEVySW50ZXJwcmV0YXRpb24sIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpcmVFdmVudChuYW1lLCBkYXRhKSB7XHJcbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXIvZXIvc3RhdHNcIilcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuR2V0RXJJbnRlcnByZXRhdGlvbkVycm9yLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRXJJbnRlcnByZXRhdGlvbiA9IG5ldyBFckludGVycHJldGF0aW9uQ2xhc3MoKTsiLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFBsdWdpbklubmVyRXZlbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9QbHVnaW5Jbm5lckV2ZW50c1wiO1xyXG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlckludGVyZXN0c0NsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkludGVyZXN0c1N0YXRzXCIpO1xyXG5cclxuICAgIHB1YmxpYyBnZXREZWJ1Z0RhdGEoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmZvcm1hdGlvbkZyb21BcGkoKVxyXG4gICAgICAgICAgICAudGhlbigoaW5mb3JtYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIkdldCBkZWJ1ZyBkYXRhIGZvciBJbnRlcmVzdHMgY2FsY3VsYXRpb246XCIsIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudChQbHVnaW5Jbm5lckV2ZW50cy5HZXRJbnRlcmVzdHNTdGF0cywgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmlyZUV2ZW50KG5hbWUsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21FdmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7IGRldGFpbDogZGF0YSB9KTtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEluZm9ybWF0aW9uRnJvbUFwaSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmbk5hbWUgPSBcIltnZXRVc2VySW50ZXJlc3RzQnlEZXZpY2VJZF1cIjtcclxuICAgICAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLmdldChcInVzZXIvaW50ZXJlc3RzL3N0YXRzXCIpXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmVycm9yKGZuTmFtZSwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuR2V0SW50ZXJlc3RzU3RhdHNFcnJvciwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBVc2VySW50ZXJlc3RzID0gbmV3IFVzZXJJbnRlcmVzdHNDbGFzcygpOyIsImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBMb2dnZXJTZXJ2aWNlIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IERpbWVuc2lvbnNNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9EaW1lbnNpb25zTW9kdWxlXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgV29ya2Zsb3dNb2R1bGUsIFJFSkVDVEVEX1NFUlZJQ0VTIH0gZnJvbSBcIkBNb2R1bGVzL3dvcmtmbG93TW9kZU1vZHVsZS9Xb3JrZmxvd01vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlY29tbWVuZGF0aW9uc0NsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlJlY29tbWVuZGF0aW9uc1wiKTtcclxuXHJcbiAgICAvLyBHZXQgYSBsaXN0IG9mIHJlY29tbWVuZGVkIGFydGljbGVzIHdpdGggdXNlcuKAmXMgY2F0ZWdvcmllcyBvZiBpbnRlcmVzdFxyXG4gICAgcHVibGljIGdldEFydGljbGVzV2l0aENhdGVnb3JpZXMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmZvcm1hdGlvbkZyb21BcGkoXCJ1c2VyL3JlY29tbWVuZGF0aW9ucy9zdGF0c1wiKVxyXG4gICAgICAgICAgICAudGhlbigoaW5mb3JtYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlzdCBvZiByZWNvbW1lbmRlZCBhcnRpY2xlcyB3aXRoIHVzZXLigJlzIGNhdGVnb3JpZXMgb2YgaW50ZXJlc3Q6XCIsIGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbXCJnMmlfZGxfcmVjb21tZW5kYXRpb25zX3N0YXRzXCJdID0gaW5mb3JtYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNTdGF0c0ZpbmlzaGVkLCBpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNTdGF0c0Vycm9yLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBhIGxpc3Qgb2YgcmVjb21tZW5kZWQgYXJ0aWNsZXNcclxuICAgIHB1YmxpYyBnZXRMaXN0QXJ0aWNsZXMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbmZvcm1hdGlvbkZyb21BcGkoXCJ1c2VyL3JlY29tbWVuZGF0aW9uc1wiKVxyXG4gICAgICAgICAgICAudGhlbigoaW5mb3JtYXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmZvcm1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2V0IGEgbGlzdCBvZiByZWNvbW1lbmRlZCBhcnRpY2xlczpcIiwgaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmluZm8oaW5mb3JtYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1tcImcyaV9kbF9yZWNvbW1lbmRhdGlvbnNcIl0gPSBpbmZvcm1hdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudChQbHVnaW5Jbm5lckV2ZW50cy5EbFJlY29tbWVuZGF0aW9uc0ZpbmlzaGVkLCBpbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm9ybWF0aW9uKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBmaXJlRXZlbnQobmFtZSwgZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgZGV0YWlsOiBkYXRhIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5mb3JtYXRpb25Gcm9tQXBpKHVybDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50SWQgPSBEaW1lbnNpb25zTW9kdWxlLmdldENvbnRlbnRJZCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UuZ2V0KHVybCwgeyBjb250ZW50X2lkOiBjb250ZW50SWQgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2dnZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRGxSZWNvbW1lbmRhdGlvbnNFcnJvciwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFJlY29tbWVuZGF0aW9ucyA9IFdvcmtmbG93TW9kdWxlLmFwcGx5UmVqZWN0cyhuZXcgUmVjb21tZW5kYXRpb25zQ2xhc3MoKSwgUkVKRUNURURfU0VSVklDRVMuUmVjb21tZW5kYXRpb25zKTsiLCJpbXBvcnQgeyBDZHBEYXRhTGF5ZXIgfSBmcm9tIFwiLi9DZHBEYXRhTGF5ZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2VcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBVdGlscy9sb2dnZXIvTG9nZ2VyXCI7XHJcbmltcG9ydCB7IEVySW50ZXJwcmV0YXRpb24gfSBmcm9tIFwiLi9FckludGVycHJldGF0aW9uXCI7XHJcbmltcG9ydCB7IFVzZXJJbnRlcmVzdHMgfSBmcm9tIFwiLi9Vc2VySW50ZXJlc3RzXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5pbXBvcnQgeyBSZWNvbW1lbmRhdGlvbnMgfSBmcm9tIFwiLi9SZWNvbWVuZGF0aW9uc1wiO1xyXG5pbXBvcnQgeyBIdHRwIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cFwiO1xyXG5pbXBvcnQgeyBBcGlEbFJlc3BvbnNlIH0gZnJvbSBcIi4vaW50ZXJmYWNlcy9BcGlEbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENkcE1vZHVsZUNsYXNzIHtcclxuICAgIHByaXZhdGUgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIkNkcE1vZHVsZVwiKTtcclxuXHJcbiAgICBwdWJsaWMgc2V0RGxJbmZvcm1hdGlvbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICByZXR1cm4gRGV2aWNlRGV0ZWN0b3IuZ2V0RGV2aWNlSWQoKS50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcIkRldmljZUlkXCIsIGRldmljZUlkKTtcclxuICAgICAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5zZXRJbmZvcm1hdGlvbihkZXZpY2VJZCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbihhcGlEbERhdGE6IEFwaURsUmVzcG9uc2UpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpLnRoZW4oKGRldmljZUlkKSA9PiB7XHJcbiAgICAgICAgICAgdGhpcy5Mb2dnZXIuZGVidWcoXCJEZXZpY2VJZFwiLCBkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5oYW5kbGVDZHBEbFJlc3BvbmNlKGFwaURsRGF0YSwgZGV2aWNlSWQpO1xyXG4gICAgICAgfSlcclxuICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREbEluZm9ybWF0aW9uKCk6IFByb21pc2U8QXBpRGxSZXNwb25zZT4ge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpLnRoZW4oKGRldmljZUlkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLmRlYnVnKFwiRGV2aWNlSWRcIiwgZGV2aWNlSWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldENkcERsKGRldmljZUlkKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRQcm9maWxlRGF0YShwYXJhbXM6IGFueSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5nZXRQcm9maWxlRGF0YShwYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZURldmljZUlkSW5DZHBEbFN0b3JhZ2UoZGV2aWNlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX3VwZGF0ZV9scz0ke2RldmljZUlkfWApO1xyXG4gICAgICAgIENkcERhdGFMYXllci51cGRhdGVEZXZpY2VJZEluQ2RwRGxTdG9yYWdlKGRldmljZUlkKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFckNvZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldEVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXJwQ29kZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiBDZHBEYXRhTGF5ZXIuZ2V0RXJwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3JDb2RlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIENkcERhdGFMYXllci5nZXRDcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENycENvZGUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldENycCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERldmljZUlkRnJvbVN0b3JhZ2UoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldERldmljZUlkRnJvbVN0b3JhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFckludGVycHJldGF0aW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIEVySW50ZXJwcmV0YXRpb24uc2V0SW5mb3JtYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVc2VySW50ZXJlc3RzU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gVXNlckludGVyZXN0cy5nZXREZWJ1Z0RhdGEoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBcGlWZXJzaW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3Qgc2VuZFVybCA9IENvbmZpZ01vZHVsZS5nZXRDZHBBcGlVcmwoKSArIFwidmVyc2lvblwiO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgSHR0cCgpO1xyXG4gICAgICAgIHJldHVybiByZXF1ZXN0LmdldChzZW5kVXJsKVxyXG4gICAgfVxyXG5cclxuICAgIGdldFJlY29tbWVuZGF0aW9ucygpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBSZWNvbW1lbmRhdGlvbnMuZ2V0TGlzdEFydGljbGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVjb21tZW5kYXRpb25zU3RhdHMoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gUmVjb21tZW5kYXRpb25zLmdldEFydGljbGVzV2l0aENhdGVnb3JpZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHMmlEZXZpY2VJZCgpIHtcclxuICAgICAgICByZXR1cm4gQ2RwRGF0YUxheWVyLmdldEcyaURldmljZUlkKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDZHBNb2R1bGUgPSBuZXcgQ2RwTW9kdWxlQ2xhc3MoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8319\n')},3822:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "p": () => (/* binding */ ConfigModule)\n/* harmony export */ });\n/* unused harmony export ConfigModuleClass */\n/* harmony import */ var _options_models_OptionsModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2184);\n/* harmony import */ var _Config_CommonConfigData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3767);\n/* harmony import */ var _Data_services_MetaDataService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6573);\n/* harmony import */ var _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9615);\n\r\n\r\n\r\n\r\nvar ConfigModuleClass = (function () {\r\n    function ConfigModuleClass() {\r\n        this.metaDataService = _Data_services_MetaDataService__WEBPACK_IMPORTED_MODULE_2__/* .MetaDataService.Instance */ .G.Instance;\r\n    }\r\n    ConfigModuleClass.prototype.setInitOptions = function (options) {\r\n        this.initOptions = options;\r\n        var clientInitOptions = new _options_models_OptionsModel__WEBPACK_IMPORTED_MODULE_0__/* .OptionsModel */ .Y(this.initOptions);\r\n        this.initClientDimensions = clientInitOptions.dimensions;\r\n        var customInitOptions = this.findConfiguration(clientInitOptions.layoutCode);\r\n        this.configuration = clientInitOptions.extendModel(customInitOptions);\r\n        document.dispatchEvent(new CustomEvent(_Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_3__/* .PluginInnerEvents.G2IAfterSetInitOptions */ .U.G2IAfterSetInitOptions, { detail: {} }));\r\n    };\r\n    ConfigModuleClass.prototype.getInitConfiguration = function () {\r\n        return this.configuration;\r\n    };\r\n    ConfigModuleClass.prototype.getInitOptions = function () {\r\n        return this.initOptions;\r\n    };\r\n    ConfigModuleClass.prototype.getInitDimensions = function () {\r\n        if (this.initClientDimensions) {\r\n            return this.getEvalDimensionsFrom(this.initClientDimensions);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ConfigModuleClass.prototype.findConfiguration = function (layoutCode) {\r\n        if (window.g2ExtendInits && window.g2ExtendInits["default"]) {\r\n            if (window.g2ExtendInits["default"] && window.g2ExtendInits[layoutCode]) {\r\n                return Object.assign(window.g2ExtendInits["default"], window.g2ExtendInits[layoutCode]);\r\n            }\r\n            else {\r\n                return window.g2ExtendInits["default"];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ConfigModuleClass.prototype.isAddBotInformation = function () {\r\n        return this.configuration ? this.configuration.detectBot : true;\r\n    };\r\n    ConfigModuleClass.prototype.getCdpApiUrl = function () {\r\n        return _Config_CommonConfigData__WEBPACK_IMPORTED_MODULE_1__/* .CommonConfigData.apiUrl */ .Z.apiUrl;\r\n    };\r\n    ConfigModuleClass.prototype.getCdpEventsUrl = function () {\r\n        return _Config_CommonConfigData__WEBPACK_IMPORTED_MODULE_1__/* .CommonConfigData.eventsUrl */ .Z.eventsUrl;\r\n    };\r\n    ConfigModuleClass.prototype.getBotMode = function () {\r\n        return this.configuration.detectBot ? this.configuration.detectBot : null;\r\n    };\r\n    ConfigModuleClass.prototype.getCustomDimensions = function () {\r\n        var customClientConfiguration = this.findConfiguration(this.configuration.layoutCode);\r\n        if (customClientConfiguration && customClientConfiguration.dimensions) {\r\n            return this.getEvalDimensionsFrom(customClientConfiguration.dimensions);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ConfigModuleClass.prototype.getEvalDimensionsFrom = function (dimensions) {\r\n        var clientModel = {};\r\n        for (var property in dimensions) {\r\n            clientModel[property] = this.getValueByPropertyName(dimensions, property);\r\n        }\r\n        return clientModel;\r\n    };\r\n    ConfigModuleClass.prototype.setLayoutCode = function (layoutCode) {\r\n        this.configuration.setLayoutCode(layoutCode);\r\n    };\r\n    ConfigModuleClass.prototype.getClientConfiguration = function () {\r\n        return this.findConfiguration(this.configuration.layoutCode);\r\n    };\r\n    ConfigModuleClass.prototype.getValueByPropertyName = function (dimensions, property) {\r\n        try {\r\n            if (dimensions && dimensions[property]) {\r\n                var cdim = dimensions[property];\r\n                if (typeof cdim === "function") {\r\n                    return cdim.call();\r\n                }\r\n                if (typeof cdim === "string") {\r\n                    var sFunction = eval("(" + cdim + ")");\r\n                    return sFunction.call();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    ConfigModuleClass.prototype.getSiteEnvironment = function () {\r\n        var environment = (this.configuration && this.configuration.environment) ? this.configuration.environment : "Unknown";\r\n        return environment.toUpperCase();\r\n    };\r\n    ConfigModuleClass.prototype.getSiteCode = function () {\r\n        var siteCode = (this.configuration && this.configuration.siteCode) ? this.configuration.siteCode : "Unknown";\r\n        return siteCode.toUpperCase();\r\n    };\r\n    ConfigModuleClass.prototype.getClientCode = function () {\r\n        var clientCode = (this.configuration && this.configuration.clientCode) ? this.configuration.clientCode : "Unknown";\r\n        return clientCode.toUpperCase();\r\n    };\r\n    ConfigModuleClass.prototype.getClientCodeEncode = function () {\r\n        return encodeURIComponent(this.getClientCode());\r\n    };\r\n    ConfigModuleClass.prototype.getSiteCodeEncode = function () {\r\n        return encodeURIComponent(this.getSiteCode());\r\n    };\r\n    return ConfigModuleClass;\r\n}());\r\n\r\nvar ConfigModule = new ConfigModuleClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLFdBQVcsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUN4SCxPQUFPLFdBQVcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQsdUNBQVcsR0FBWDtRQUNJLElBQU0sUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1FBQy9HLE9BQU8sUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRCx5Q0FBYSxHQUFiO1FBQ0ksSUFBTSxVQUFVLEdBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDdEgsT0FBTyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVELCtDQUFtQixHQUFuQjtRQUNJLE9BQU8sa0JBQWtCLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVELDZDQUFpQixHQUFqQjtRQUNJLE9BQU8sa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVMLHdCQUFDO0FBQUQsQ0FBQzs7QUFFTSxJQUFNLFlBQVksR0FBRyxJQUFJLGlCQUFpQixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGUudHM/NjcwZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPcHRpb25zTW9kZWwgfSBmcm9tIFwiLi9vcHRpb25zL21vZGVscy9PcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgQ29tbW9uQ29uZmlnRGF0YSB9IGZyb20gXCJAQ29uZmlnL0NvbW1vbkNvbmZpZ0RhdGFcIjtcclxuaW1wb3J0IHsgTWV0YURhdGFTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL3NlcnZpY2VzL01ldGFEYXRhU2VydmljZVwiO1xyXG5pbXBvcnQgeyBQbHVnaW5Jbm5lckV2ZW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvUGx1Z2luSW5uZXJFdmVudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWdNb2R1bGVDbGFzcyB7XHJcbiAgICBwcml2YXRlIGNvbmZpZ3VyYXRpb246IE9wdGlvbnNNb2RlbDtcclxuICAgIHByaXZhdGUgbWV0YURhdGFTZXJ2aWNlOiBNZXRhRGF0YVNlcnZpY2U7XHJcbiAgICBwcml2YXRlIGluaXRDbGllbnREaW1lbnNpb25zOiBPYmplY3Q7XHJcbiAgICBwcml2YXRlIGluaXRPcHRpb25zOiBPYmplY3Q7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tZXRhRGF0YVNlcnZpY2UgPSBNZXRhRGF0YVNlcnZpY2UuSW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEluaXRPcHRpb25zKG9wdGlvbnM6IGFueSkge1xyXG4gICAgICAgIHRoaXMuaW5pdE9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIGxldCBjbGllbnRJbml0T3B0aW9uczogT3B0aW9uc01vZGVsID0gbmV3IE9wdGlvbnNNb2RlbCh0aGlzLmluaXRPcHRpb25zKTtcclxuICAgICAgICB0aGlzLmluaXRDbGllbnREaW1lbnNpb25zID0gY2xpZW50SW5pdE9wdGlvbnMuZGltZW5zaW9ucztcclxuICAgICAgICBjb25zdCBjdXN0b21Jbml0T3B0aW9uczogT3B0aW9uc01vZGVsID0gdGhpcy5maW5kQ29uZmlndXJhdGlvbihjbGllbnRJbml0T3B0aW9ucy5sYXlvdXRDb2RlKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjbGllbnRJbml0T3B0aW9ucy5leHRlbmRNb2RlbChjdXN0b21Jbml0T3B0aW9ucyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuRzJJQWZ0ZXJTZXRJbml0T3B0aW9ucywgeyBkZXRhaWw6IHt9IH0pKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW5pdENvbmZpZ3VyYXRpb24oKTogT3B0aW9uc01vZGVsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbml0T3B0aW9ucygpOiBPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXRPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbml0RGltZW5zaW9ucygpOiBhbnkge1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRDbGllbnREaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEV2YWxEaW1lbnNpb25zRnJvbSh0aGlzLmluaXRDbGllbnREaW1lbnNpb25zKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaW5kQ29uZmlndXJhdGlvbihsYXlvdXRDb2RlOiBzdHJpbmcpOiBhbnkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuZzJFeHRlbmRJbml0cyAmJiB3aW5kb3cuZzJFeHRlbmRJbml0c1tcImRlZmF1bHRcIl0pIHtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5nMkV4dGVuZEluaXRzW1wiZGVmYXVsdFwiXSAmJiB3aW5kb3cuZzJFeHRlbmRJbml0c1tsYXlvdXRDb2RlXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24od2luZG93LmcyRXh0ZW5kSW5pdHNbXCJkZWZhdWx0XCJdLCB3aW5kb3cuZzJFeHRlbmRJbml0c1tsYXlvdXRDb2RlXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmcyRXh0ZW5kSW5pdHNbXCJkZWZhdWx0XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWRkQm90SW5mb3JtYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvbiA/IHRoaXMuY29uZmlndXJhdGlvbi5kZXRlY3RCb3QgOiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENkcEFwaVVybCgpIHtcclxuICAgICAgICByZXR1cm4gQ29tbW9uQ29uZmlnRGF0YS5hcGlVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2RwRXZlbnRzVXJsKCkge1xyXG4gICAgICAgIHJldHVybiBDb21tb25Db25maWdEYXRhLmV2ZW50c1VybDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCb3RNb2RlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24uZGV0ZWN0Qm90ID8gdGhpcy5jb25maWd1cmF0aW9uLmRldGVjdEJvdCA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VzdG9tRGltZW5zaW9ucygpOiBhbnkge1xyXG4gICAgICAgIGxldCBjdXN0b21DbGllbnRDb25maWd1cmF0aW9uID0gdGhpcy5maW5kQ29uZmlndXJhdGlvbih0aGlzLmNvbmZpZ3VyYXRpb24ubGF5b3V0Q29kZSk7XHJcbiAgICAgICAgaWYgKGN1c3RvbUNsaWVudENvbmZpZ3VyYXRpb24gJiYgY3VzdG9tQ2xpZW50Q29uZmlndXJhdGlvbi5kaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEV2YWxEaW1lbnNpb25zRnJvbShjdXN0b21DbGllbnRDb25maWd1cmF0aW9uLmRpbWVuc2lvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRFdmFsRGltZW5zaW9uc0Zyb20oZGltZW5zaW9uczogT2JqZWN0KTogYW55IHtcclxuICAgICAgICBsZXQgY2xpZW50TW9kZWwgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICBjbGllbnRNb2RlbFtwcm9wZXJ0eV0gPSB0aGlzLmdldFZhbHVlQnlQcm9wZXJ0eU5hbWUoZGltZW5zaW9ucywgcHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNsaWVudE1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRMYXlvdXRDb2RlKGxheW91dENvZGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvbi5zZXRMYXlvdXRDb2RlKGxheW91dENvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDbGllbnRDb25maWd1cmF0aW9uKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZENvbmZpZ3VyYXRpb24odGhpcy5jb25maWd1cmF0aW9uLmxheW91dENvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VmFsdWVCeVByb3BlcnR5TmFtZShkaW1lbnNpb25zOiBhbnksIHByb3BlcnR5OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkaW1lbnNpb25zICYmIGRpbWVuc2lvbnNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2RpbSA9IGRpbWVuc2lvbnNbcHJvcGVydHldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZGltID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2RpbS5jYWxsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNkaW0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZXZhbFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzRnVuY3Rpb24gPSBldmFsKFwiKFwiICsgY2RpbSArIFwiKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc0Z1bmN0aW9uLmNhbGwoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFNpdGVFbnZpcm9ubWVudCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGVudmlyb25tZW50ID0gKHRoaXMuY29uZmlndXJhdGlvbiAmJiB0aGlzLmNvbmZpZ3VyYXRpb24uZW52aXJvbm1lbnQpID8gdGhpcy5jb25maWd1cmF0aW9uLmVudmlyb25tZW50IDogXCJVbmtub3duXCI7XHJcbiAgICAgICAgcmV0dXJuIGVudmlyb25tZW50LnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2l0ZUNvZGUoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBzaXRlQ29kZSA9ICh0aGlzLmNvbmZpZ3VyYXRpb24gJiYgdGhpcy5jb25maWd1cmF0aW9uLnNpdGVDb2RlKSA/IHRoaXMuY29uZmlndXJhdGlvbi5zaXRlQ29kZSA6IFwiVW5rbm93blwiO1xyXG4gICAgICAgIHJldHVybiBzaXRlQ29kZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENsaWVudENvZGUoKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zdCBjbGllbnRDb2RlID0gICh0aGlzLmNvbmZpZ3VyYXRpb24gJiYgdGhpcy5jb25maWd1cmF0aW9uLmNsaWVudENvZGUpID8gdGhpcy5jb25maWd1cmF0aW9uLmNsaWVudENvZGUgOiBcIlVua25vd25cIjtcclxuICAgICAgICByZXR1cm4gY2xpZW50Q29kZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENsaWVudENvZGVFbmNvZGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0Q2xpZW50Q29kZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTaXRlQ29kZUVuY29kZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodGhpcy5nZXRTaXRlQ29kZSgpKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDb25maWdNb2R1bGUgPSBuZXcgQ29uZmlnTW9kdWxlQ2xhc3MoKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3822\n')},2184:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Y": () => (/* binding */ OptionsModel)\n/* harmony export */ });\nvar OptionsModel = (function () {\r\n    function OptionsModel(data) {\r\n        this.cdp = {\r\n            enabled: false\r\n        };\r\n        this.detectBot = true;\r\n        this.clientCode = "ajc";\r\n        if (!data)\r\n            return;\r\n        this.debug = data.debug;\r\n        this.logLevel = data.logLevel;\r\n        this.containerId = data.containerId;\r\n        this.collectors = data.collectors;\r\n        this.dimensions = data.dimensions;\r\n        this.analysis = data.analysis || true;\r\n        this.cdp = data.cdp;\r\n        this.sessionId = data.sessionId;\r\n        this.detectBot = data.detectBot || true;\r\n        this.layoutCode = data.layoutCode;\r\n        this.environment = data.environment || "Unknown";\r\n        this.siteCode = data.siteCode || null;\r\n        this.misc = data.misc || null;\r\n        this.flowModes = data.flowModes;\r\n        this.clientCode = data.clientCode || this.clientCode;\r\n    }\r\n    OptionsModel.prototype.setLayoutCode = function (layoutCode) {\r\n        this.layoutCode = layoutCode;\r\n    };\r\n    OptionsModel.prototype.extendModel = function (object) {\r\n        for (var name_1 in object) {\r\n            if (object.hasOwnProperty(name_1)) {\r\n                this[name_1] = object[name_1];\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    return OptionsModel;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE4NC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFNQTtJQW1CSSxzQkFBWSxJQUFJO1FBWmhCLFFBQUcsR0FBeUI7WUFDeEIsT0FBTyxFQUFFLEtBQUs7U0FDakIsQ0FBQztRQUVGLGNBQVMsR0FBYSxJQUFJLENBQUM7UUFDM0IsZUFBVSxHQUFXLFlBQVksQ0FBRTtRQVEvQixJQUFJLENBQUMsSUFBSTtZQUFFLE9BQU87UUFDbEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDaEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQztRQUN4QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDbEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxJQUFJLFNBQVMsQ0FBQztRQUNqRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDO1FBRXRDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pELENBQUM7SUFFRCxvQ0FBYSxHQUFiLFVBQWMsVUFBa0I7UUFDNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDakMsQ0FBQztJQUdELGtDQUFXLEdBQVgsVUFBWSxNQUFNO1FBQ2QsS0FBSyxJQUFJLE1BQUksSUFBSSxNQUFNLEVBQUU7WUFDckIsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQUksQ0FBQyxFQUFFO2dCQUM3QixJQUFJLENBQUMsTUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQUksQ0FBQyxDQUFDO2FBQzdCO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9jb25maWdNb2R1bGUvb3B0aW9ucy9tb2RlbHMvT3B0aW9uc01vZGVsLnRzP2YwNDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJPcHRpb25zXCI7XHJcbmltcG9ydCB7IE9wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiLi9PcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcE9wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiLi9DZHBPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEFuYWx5c2lzT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCIuL0FuYWx5c2lzT3B0aW9uc0ludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBNaXNjT3B0aW9uc0ludGVyZmFjZSB9IGZyb20gXCIuL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uc01vZGVsIGltcGxlbWVudHMgT3B0aW9uc0ludGVyZmFjZSB7XHJcbiAgICBkZWJ1Zz86IGJvb2xlYW47XHJcbiAgICBsb2dMZXZlbD86IExvZ0xldmVsO1xyXG4gICAgY29udGFpbmVySWQ6IHN0cmluZztcclxuICAgIGNvbGxlY3RvcnM6IEFycmF5PGFueT47XHJcbiAgICBkaW1lbnNpb25zPzogb2JqZWN0O1xyXG4gICAgYW5hbHlzaXM/OiBBbmFseXNpc09wdGlvbnNJbnRlcmZhY2U7XHJcbiAgICBjZHA/OiBDZHBPcHRpb25zSW50ZXJmYWNlID0ge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgc2Vzc2lvbklkOiBzdHJpbmc7IC8vIGZyb20gbG9hZGVyIHJlcXVpcmVkXHJcbiAgICBkZXRlY3RCb3Q/OiBib29sZWFuID0gdHJ1ZTtcclxuICAgIGNsaWVudENvZGU6IHN0cmluZyA9IFwiI3tDbGllbnR9I1wiIDtcclxuICAgIGxheW91dENvZGU/OiBzdHJpbmc7XHJcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xyXG4gICAgc2l0ZUNvZGU6IHN0cmluZztcclxuICAgIG1pc2M6IE1pc2NPcHRpb25zSW50ZXJmYWNlW107XHJcbiAgICBmbG93TW9kZXM/OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZGVidWcgPSBkYXRhLmRlYnVnO1xyXG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBkYXRhLmxvZ0xldmVsO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVySWQgPSBkYXRhLmNvbnRhaW5lcklkO1xyXG4gICAgICAgIHRoaXMuY29sbGVjdG9ycyA9IGRhdGEuY29sbGVjdG9ycztcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBkYXRhLmRpbWVuc2lvbnM7XHJcbiAgICAgICAgdGhpcy5hbmFseXNpcyA9IGRhdGEuYW5hbHlzaXMgfHwgdHJ1ZTtcclxuICAgICAgICB0aGlzLmNkcCA9IGRhdGEuY2RwO1xyXG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gZGF0YS5zZXNzaW9uSWQ7XHJcbiAgICAgICAgdGhpcy5kZXRlY3RCb3QgPSBkYXRhLmRldGVjdEJvdCB8fCB0cnVlO1xyXG4gICAgICAgIHRoaXMubGF5b3V0Q29kZSA9IGRhdGEubGF5b3V0Q29kZTtcclxuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gZGF0YS5lbnZpcm9ubWVudCB8fCBcIlVua25vd25cIjtcclxuICAgICAgICB0aGlzLnNpdGVDb2RlID0gZGF0YS5zaXRlQ29kZSB8fCBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLm1pc2MgPSBkYXRhLm1pc2MgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmZsb3dNb2RlcyA9IGRhdGEuZmxvd01vZGVzO1xyXG4gICAgICAgIHRoaXMuY2xpZW50Q29kZSA9IGRhdGEuY2xpZW50Q29kZSB8fCB0aGlzLmNsaWVudENvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGF5b3V0Q29kZShsYXlvdXRDb2RlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmxheW91dENvZGUgPSBsYXlvdXRDb2RlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBleHRlbmRNb2RlbChvYmplY3QpIHtcclxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gb2JqZWN0W25hbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG59XHJcblxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2184\n')},5107:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "M": () => (/* binding */ DataCollector)\n});\n\n// UNUSED EXPORTS: DataCollectorClass\n\n// EXTERNAL MODULE: ./src/plugin/modules/cdpModule/CdpModule.ts + 3 modules\nvar CdpModule = __webpack_require__(8319);\n// EXTERNAL MODULE: ./src/plugin/core/constants/FirstVisitProperties.ts\nvar FirstVisitProperties = __webpack_require__(3483);\n;// CONCATENATED MODULE: ./src/plugin/modules/dataCollector/models/FirstVisitDataModel.ts\nvar FirstVisitDataModel = (function () {\r\n    function FirstVisitDataModel(data) {\r\n        this.CollectTime = 0;\r\n        this.CountClick = 0;\r\n        this.CountPageview = 0;\r\n        this.CountCreateAccountEvents = 0;\r\n        this.CountCheckoutStartEvents = 0;\r\n        if (!data)\r\n            return;\r\n        this.CountClick = data.CountClick;\r\n        this.CollectTime = data.CollectTime;\r\n        this.CountCheckoutStartEvents = data.CountCheckoutStartEvents;\r\n        this.CountPageview = data.CountPageview;\r\n        this.CountCreateAccountEvents = data.CountCreateAccountEvents;\r\n    }\r\n    FirstVisitDataModel.prototype.getSumEvents = function () {\r\n        return this.CountCheckoutStartEvents + this.CountClick + this.CountCreateAccountEvents + this.CountPageview;\r\n    };\r\n    return FirstVisitDataModel;\r\n}());\r\n\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/dataCollector/models/DataTimerModel.ts\nvar DataTimerModel = (function () {\r\n    function DataTimerModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.Id = data.Id;\r\n        this.IsTimeUp = data.IsTimeUp;\r\n        this.StartTime = data.StartTime;\r\n    }\r\n    return DataTimerModel;\r\n}());\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/utils/Utils.ts\nvar Utils = __webpack_require__(7753);\n// EXTERNAL MODULE: ./src/plugin/data/modules/LocalStorageService.ts\nvar LocalStorageService = __webpack_require__(9296);\n// EXTERNAL MODULE: ./src/plugin/modules/configModule/ConfigModule.ts\nvar ConfigModule = __webpack_require__(3822);\n// EXTERNAL MODULE: ./src/plugin/data/modules/HttpService.ts + 1 modules\nvar HttpService = __webpack_require__(8908);\n// EXTERNAL MODULE: ./src/plugin/utils/DeviceDetector.ts\nvar DeviceDetector = __webpack_require__(9276);\n// EXTERNAL MODULE: ./src/plugin/utils/logger/LoggerService.ts\nvar LoggerService = __webpack_require__(7458);\n// EXTERNAL MODULE: ./src/plugin/utils/BugTrackUtil.ts\nvar BugTrackUtil = __webpack_require__(8578);\n// EXTERNAL MODULE: ./src/plugin/core/constants/Constants.ts\nvar Constants = __webpack_require__(5079);\n;// CONCATENATED MODULE: ./src/plugin/modules/dataCollector/classes/FirstVisitDataCollector.ts\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar FirstVisitDataCollectorClass = (function () {\r\n    function FirstVisitDataCollectorClass() {\r\n        this.iterationMaxEventCount = 20;\r\n        this.iterationMaxTimeCollect = 3 * 60 * 1000;\r\n        this.collectData = new FirstVisitDataModel(null);\r\n        this.collectedEvents = [];\r\n        this.startSaveCollectData = false;\r\n        this.Logger = LoggerService/* LoggerService.createLogger */.m.createLogger("FirstVisitDataCollector");\r\n        this.pageLeaveHandler = null;\r\n        this.hasValidEr = false;\r\n        this.eventsCountCurrentIteration = 0;\r\n        this.collectTimeCurrentIteration = 0;\r\n        this.collectTimePrevIteration = 0;\r\n        this.restCollectTimeIteration = 0;\r\n    }\r\n    FirstVisitDataCollectorClass.prototype.setCollectData = function (data) {\r\n        this.collectData = new FirstVisitDataModel(data);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.collectCdpEvent = function (event) {\r\n        if (this.startSaveCollectData) {\r\n            this.processCdpEvent(event);\r\n        }\r\n        else {\r\n            this.collectedEvents.push(event);\r\n        }\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.process = function () {\r\n        this.startSaveCollectData = true;\r\n        if (this.syncCollectData()) {\r\n            this.eventsCountCurrentIteration = this.collectData.getSumEvents() % this.iterationMaxEventCount;\r\n            this.collectTimePrevIteration = this.collectData.CollectTime || 0;\r\n            this.restCollectTimeIteration = Math.abs(this.iterationMaxTimeCollect - (this.collectTimePrevIteration % this.iterationMaxTimeCollect));\r\n        }\r\n        else {\r\n            this.eventsCountCurrentIteration = 0;\r\n            this.collectTimePrevIteration = 0;\r\n            this.restCollectTimeIteration = this.iterationMaxTimeCollect;\r\n        }\r\n        this.collectTimeCurrentIteration = 0;\r\n        this.setTimer(this.restCollectTimeIteration);\r\n        this.processAlreadyCollectedCdpEvents();\r\n        this.saveTimeVisitIfLeavePage();\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.isCollectedFirstVisit = function (collectedByCondition) {\r\n        var savedFirstVisitData = this.getFirstVisitFromStorage();\r\n        this.setCollectData(savedFirstVisitData);\r\n        if (savedFirstVisitData) {\r\n            if (this.isDataCollected(collectedByCondition)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.getCollectedData = function () {\r\n        return this.collectData;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.clearData = function () {\r\n        this.hasValidEr = true;\r\n        this.startSaveCollectData = false;\r\n        this.setCollectData(null);\r\n        this.setFirstVisitToStorage(null);\r\n        this.dispose();\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.processCdpEvent = function (event) {\r\n        if (this.syncCollectData()) {\r\n            var newEventsCountCurrentIteration = this.collectData.getSumEvents() % this.iterationMaxEventCount;\r\n            if (newEventsCountCurrentIteration > this.eventsCountCurrentIteration) {\r\n                this.eventsCountCurrentIteration = newEventsCountCurrentIteration;\r\n            }\r\n        }\r\n        var collectAttr = event.getFirstVisitProperty();\r\n        switch (collectAttr) {\r\n            case FirstVisitProperties/* FirstVisitProperties.CountCreateAccountEvents */.B.CountCreateAccountEvents:\r\n                this.collectData.CountCreateAccountEvents++;\r\n                this.eventsCountCurrentIteration++;\r\n                break;\r\n            case FirstVisitProperties/* FirstVisitProperties.CountCheckoutStartEvents */.B.CountCheckoutStartEvents:\r\n                this.collectData.CountCheckoutStartEvents++;\r\n                this.eventsCountCurrentIteration++;\r\n                break;\r\n            case FirstVisitProperties/* FirstVisitProperties.CountClick */.B.CountClick:\r\n                this.collectData.CountClick++;\r\n                this.eventsCountCurrentIteration++;\r\n                break;\r\n            case FirstVisitProperties/* FirstVisitProperties.CountPageview */.B.CountPageview:\r\n                this.collectData.CountPageview++;\r\n                this.eventsCountCurrentIteration++;\r\n                break;\r\n        }\r\n        this.setTimerLeft();\r\n        this.updateData(this.isDataCollected() && !this.hasValidEr);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.processAlreadyCollectedCdpEvents = function () {\r\n        var _this = this;\r\n        this.collectedEvents.forEach(function (cdpEvent) {\r\n            _this.processCdpEvent(cdpEvent);\r\n        });\r\n        this.collectedEvents = [];\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.isDataCollected = function (isPageLoadCondition) {\r\n        return this.isDataCollectedByTime(isPageLoadCondition) || this.isDataCollectedByEvents(isPageLoadCondition);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.syncCollectData = function () {\r\n        var isSync = false;\r\n        var savedFirstVisitData = this.getFirstVisitFromStorage();\r\n        if (savedFirstVisitData) {\r\n            this.setCollectData(savedFirstVisitData);\r\n            isSync = true;\r\n        }\r\n        return isSync;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.setTimer = function (timerTime) {\r\n        var _this = this;\r\n        if (!this.timer) {\r\n            this.timer = new DataTimerModel({});\r\n        }\r\n        this.timer.IsTimeUp = true;\r\n        this.timer.StartTime = new Date().valueOf();\r\n        this.timer.Id = setTimeout(function () {\r\n            _this.timer.IsTimeUp = true;\r\n            _this.syncCollectData();\r\n            _this.updateData(true);\r\n        }, timerTime);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.isDataCollectedByTime = function (isPageLoadCondition) {\r\n        return this.collectData.CollectTime - this.collectTimePrevIteration >= this.restCollectTimeIteration;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.isDataCollectedByEvents = function (isPageLoadCondition) {\r\n        return this.eventsCountCurrentIteration >= this.iterationMaxEventCount;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.updateData = function (needSend) {\r\n        if (needSend === void 0) { needSend = false; }\r\n        if (this.syncErAndPreventSend()) {\r\n            this.clearData();\r\n            return;\r\n        }\r\n        this.setTimerLeft();\r\n        this.setFirstVisitToStorage(this.collectData);\r\n        if (needSend) {\r\n            this.setDlCollectedInformation(this.collectData);\r\n        }\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.syncErAndPreventSend = function () {\r\n        var er = CdpModule/* CdpModule.getErCode */.v.getErCode();\r\n        if (er !== null && er !== Constants/* Constants.NoErInformation */.g.NoErInformation) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.setDlCollectedInformation = function (collectedData) {\r\n        var _this = this;\r\n        return DeviceDetector/* DeviceDetector.getDeviceId */.D.getDeviceId()\r\n            .then(function (deviceId) {\r\n            return _this.getFirstVisitCdpDlFromApi(deviceId, _this.isNeedCollectFirstVisitData(collectedData));\r\n        }).then(function (data) {\r\n            return CdpModule/* CdpModule.setDlCollectedInformation */.v.setDlCollectedInformation(data);\r\n        }).catch(function (error) { return _this.Logger.error("setDlCollectedInformation", error); });\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.isNeedCollectFirstVisitData = function (collectedData) {\r\n        return collectedData ? collectedData : DataCollector.getCollectedFirstVisitData();\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.getFirstVisitCdpDlFromApi = function (deviceId, fVcollectedData) {\r\n        var collectedData = this.getMappedCollectedData(fVcollectedData);\r\n        collectedData["deviceid"] = deviceId;\r\n        collectedData["sitecode"] = ConfigModule/* ConfigModule.getSiteCode */.p.getSiteCode();\r\n        collectedData["clientcode"] = ConfigModule/* ConfigModule.getClientCode */.p.getClientCode();\r\n        var options = BugTrackUtil/* BugTrackUtil.addBotInfoHeader */.Y.addBotInfoHeader();\r\n        options = BugTrackUtil/* BugTrackUtil.addInitSettingsHeader */.Y.addInitSettingsHeader(options);\r\n        options.exposedHeaders = options.exposedHeaders || [];\r\n        options.exposedHeaders.push("x-request-id");\r\n        BugTrackUtil/* BugTrackUtil.addUserReqReasons */.Y.addUserReqReasons("first-visit");\r\n        BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("before_post_user");\r\n        return HttpService/* HttpService.post */.O.post("user", collectedData, options)\r\n            .then(function (res) {\r\n            BugTrackUtil/* BugTrackUtil.addUserErReqid */.Y.addUserErReqid(res.exposedHeaders["x-request-id"]);\r\n            BugTrackUtil/* BugTrackUtil.addApiDlStatus */.Y.addApiDlStatus("after_post_user=" + res.exposedHeaders["x-request-id"]);\r\n            return res.data;\r\n        });\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.getMappedCollectedData = function (firstVisitData) {\r\n        if (firstVisitData) {\r\n            return {\r\n                "ts_diff": firstVisitData.CollectTime,\r\n                "cnt_pageview": firstVisitData.CountPageview,\r\n                "cnt_click": firstVisitData.CountClick,\r\n                "cnt_checkoutstart": firstVisitData.CountCheckoutStartEvents,\r\n                "cnt_createaccount": firstVisitData.CountCreateAccountEvents\r\n            };\r\n        }\r\n        return {};\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.getFirstVisitFromStorage = function () {\r\n        return LocalStorageService/* LocalStorageService.get */.n.get(FirstVisitDataCollectorClass.firstVisitKey);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.setFirstVisitToStorage = function (visitData) {\r\n        LocalStorageService/* LocalStorageService.set */.n.set(FirstVisitDataCollectorClass.firstVisitKey, visitData);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.saveTimeVisitIfLeavePage = function () {\r\n        var _this = this;\r\n        if (!this.pageLeaveHandler) {\r\n            var callback = function (event) {\r\n                _this.Logger.trace("Event PageLeaveEvent fired");\r\n                _this.syncCollectData();\r\n                _this.setTimerLeft();\r\n                _this.setFirstVisitToStorage(_this.collectData);\r\n                _this.clearTimer();\r\n            };\r\n            this.pageLeaveHandler = this.addPageLeaveEventListener(callback);\r\n        }\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.addPageLeaveEventListener = function (callback) {\r\n        var eventName = Utils/* Utils.getPageLeaveEventTrigger */.c.getPageLeaveEventTrigger();\r\n        return Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(window, eventName, callback);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.removePageLeaveEventListener = function () {\r\n        var eventName = Utils/* Utils.getPageLeaveEventTrigger */.c.getPageLeaveEventTrigger();\r\n        window.removeEventListener(eventName, this.pageLeaveHandler);\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.clearTimer = function () {\r\n        if (this.timer && this.timer.Id) {\r\n            clearTimeout(this.timer.Id);\r\n        }\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.dispose = function () {\r\n        this.clearTimer();\r\n        this.removePageLeaveEventListener();\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.getTimerWork = function () {\r\n        return new Date().valueOf() - this.timer.StartTime;\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.setTimerLeft = function () {\r\n        this.collectData.CollectTime = this.collectData.CollectTime + this.getTimerWork() - this.collectTimeCurrentIteration;\r\n        this.collectTimeCurrentIteration = this.getTimerWork();\r\n    };\r\n    FirstVisitDataCollectorClass.prototype.getPageLoadCollectedData = function () {\r\n        var savedFirstVisitData = this.getFirstVisitFromStorage();\r\n        this.setCollectData(savedFirstVisitData);\r\n        if (savedFirstVisitData) {\r\n            var isPageLoadCondition = true;\r\n            if (this.isDataCollected(isPageLoadCondition)) {\r\n                return savedFirstVisitData;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    FirstVisitDataCollectorClass.firstVisitKey = "frstVisit";\r\n    return FirstVisitDataCollectorClass;\r\n}());\r\n\r\nvar FirstVisitDataCollector = new FirstVisitDataCollectorClass();\r\n\n// EXTERNAL MODULE: ./src/plugin/core/constants/PluginInnerEvents.ts\nvar PluginInnerEvents = __webpack_require__(9615);\n;// CONCATENATED MODULE: ./src/plugin/modules/dataCollector/DataCollector.ts\n\r\n\r\n\r\n\r\nvar DataCollectorClass = (function () {\r\n    function DataCollectorClass() {\r\n        this.collectedEvents = [];\r\n    }\r\n    DataCollectorClass.prototype.addEventInCollector = function (event) {\r\n        this.collectedEvents.push(event);\r\n        if (event.useInCalculateFirstVisitModel()) {\r\n            FirstVisitDataCollector.collectCdpEvent(event);\r\n        }\r\n    };\r\n    DataCollectorClass.prototype.listenErCode = function () {\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, PluginInnerEvents/* PluginInnerEvents.DlCdpGetSuccess */.U.DlCdpGetSuccess, function (event) {\r\n            var eventData = event.detail;\r\n            if (eventData && eventData.er == Constants/* Constants.NoErInformation */.g.NoErInformation) {\r\n                DataCollector.process();\r\n            }\r\n            else {\r\n                FirstVisitDataCollector.clearData();\r\n            }\r\n        });\r\n    };\r\n    DataCollectorClass.prototype.isCollectedFirstVisit = function (collectedByCondition) {\r\n        return FirstVisitDataCollector.isCollectedFirstVisit(collectedByCondition);\r\n    };\r\n    DataCollectorClass.prototype.getCollectedFirstVisitData = function () {\r\n        return FirstVisitDataCollector.getPageLoadCollectedData();\r\n    };\r\n    DataCollectorClass.prototype.process = function () {\r\n        FirstVisitDataCollector.process();\r\n    };\r\n    return DataCollectorClass;\r\n}());\r\n\r\nvar DataCollector = new DataCollectorClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxDQUFDLE1BQU0sQ0FBQztZQUM3QixJQUFJLFNBQVMsSUFBSSxTQUFTLENBQUMsRUFBRSxJQUFJLDBEQUF5QixFQUFFO2dCQUN4RCxhQUFhLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDM0I7aUJBQU07Z0JBQ0gsaUNBQWlDLEVBQUUsQ0FBQzthQUN2QztRQUNMLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFTSxrREFBcUIsR0FBNUIsVUFBNkIsb0JBQThCO1FBQ3ZELE9BQU8sNkNBQTZDLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUMvRSxDQUFDO0lBRU0sdURBQTBCLEdBQWpDO1FBQ0ksT0FBTyxnREFBZ0QsRUFBRSxDQUFDO0lBQzlELENBQUM7SUFFTSxvQ0FBTyxHQUFkO1FBQ0ksK0JBQStCLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQUFDOztBQUVNLElBQU0sYUFBYSxHQUFHLElBQUksa0JBQWtCLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9tb2RlbHMvRmlyc3RWaXNpdERhdGFNb2RlbC50cz9jNDg4Iiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9tb2RlbHMvRGF0YVRpbWVyTW9kZWwudHM/NTdmZCIsIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2RhdGFDb2xsZWN0b3IvY2xhc3Nlcy9GaXJzdFZpc2l0RGF0YUNvbGxlY3Rvci50cz8zZDEwIiwid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvZGF0YUNvbGxlY3Rvci9EYXRhQ29sbGVjdG9yLnRzPzIyZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0ZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGaXJzdFZpc2l0RGF0YU1vZGVsIGltcGxlbWVudHMgRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB7XHJcbiAgQ29sbGVjdFRpbWU6IG51bWJlciA9IDA7XHJcbiAgQ291bnRDbGljazogbnVtYmVyID0gMDtcclxuICBDb3VudFBhZ2V2aWV3OiBudW1iZXIgPSAwO1xyXG4gIENvdW50Q3JlYXRlQWNjb3VudEV2ZW50czogbnVtYmVyID0gMDtcclxuICBDb3VudENoZWNrb3V0U3RhcnRFdmVudHM6IG51bWJlciA9IDA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGE6IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UpIHtcclxuICAgIGlmICghZGF0YSkgcmV0dXJuXHJcbiAgICB0aGlzLkNvdW50Q2xpY2sgPSBkYXRhLkNvdW50Q2xpY2s7XHJcbiAgICB0aGlzLkNvbGxlY3RUaW1lID0gZGF0YS5Db2xsZWN0VGltZTtcclxuICAgIHRoaXMuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzID0gZGF0YS5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM7XHJcbiAgICB0aGlzLkNvdW50UGFnZXZpZXcgPSBkYXRhLkNvdW50UGFnZXZpZXc7XHJcbiAgICB0aGlzLkNvdW50Q3JlYXRlQWNjb3VudEV2ZW50cyA9IGRhdGEuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3VtRXZlbnRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzICsgdGhpcy5Db3VudENsaWNrICsgdGhpcy5Db3VudENyZWF0ZUFjY291bnRFdmVudHMgKyB0aGlzLkNvdW50UGFnZXZpZXc7XHJcbiAgfVxyXG5cclxufSIsImltcG9ydCB7IERhdGFUaW1lckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0RhdGFUaW1lckludGVyZmFjZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERhdGFUaW1lck1vZGVsIGltcGxlbWVudHMgRGF0YVRpbWVySW50ZXJmYWNlIHtcclxuICAgIElkOiBhbnk7XHJcbiAgICBJc1RpbWVVcDogYm9vbGVhbjtcclxuICAgIFN0YXJ0VGltZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuSWQgPSBkYXRhLklkO1xyXG4gICAgICAgIHRoaXMuSXNUaW1lVXAgPSBkYXRhLklzVGltZVVwO1xyXG4gICAgICAgIHRoaXMuU3RhcnRUaW1lID0gZGF0YS5TdGFydFRpbWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBGaXJzdFZpc2l0RGF0YUNvbGxlY3RvckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0ZpcnN0VmlzaXREYXRhQ29sbGVjdG9ySW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcEV2ZW50SW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50SW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IENkcE1vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jZHBNb2R1bGUvQ2RwTW9kdWxlXCI7XHJcbmltcG9ydCB7IERhdGFUaW1lckludGVyZmFjZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzL0RhdGFUaW1lckludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0UHJvcGVydGllcyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvRmlyc3RWaXNpdFByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgRmlyc3RWaXNpdERhdGFNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvRmlyc3RWaXNpdERhdGFNb2RlbFwiO1xyXG5pbXBvcnQgeyBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBEYXRhVGltZXJNb2RlbCB9IGZyb20gXCIuLi9tb2RlbHMvRGF0YVRpbWVyTW9kZWxcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcbmltcG9ydCB7IExvY2FsU3RvcmFnZVNlcnZpY2UgfSBmcm9tIFwiQERhdGEvbW9kdWxlcy9Mb2NhbFN0b3JhZ2VTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IERhdGFDb2xsZWN0b3IgfSBmcm9tIFwiQE1vZHVsZXMvZGF0YUNvbGxlY3Rvci9EYXRhQ29sbGVjdG9yXCI7XHJcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSBcIkBEYXRhL21vZHVsZXMvSHR0cFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgRGV2aWNlRGV0ZWN0b3IgfSBmcm9tIFwiQFV0aWxzL0RldmljZURldGVjdG9yXCI7XHJcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlclwiO1xyXG5pbXBvcnQgeyBCdWdUcmFja1V0aWwgfSBmcm9tIFwiQFV0aWxzL0J1Z1RyYWNrVXRpbFwiO1xyXG5pbXBvcnQgeyBIdHRwUmVzcG9uc2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvaHR0cC9IdHRwXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvQ29uc3RhbnRzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JDbGFzcyBpbXBsZW1lbnRzIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9ySW50ZXJmYWNlIHtcclxuICAgIHByaXZhdGUgaXRlcmF0aW9uTWF4RXZlbnRDb3VudDogbnVtYmVyID0gMjA7XHJcbiAgICBwcml2YXRlIGl0ZXJhdGlvbk1heFRpbWVDb2xsZWN0OiBudW1iZXIgPSAzICogNjAgKiAxMDAwOyAvLyAzIG1pblxyXG4gICAgcHJpdmF0ZSB0aW1lcjogRGF0YVRpbWVySW50ZXJmYWNlO1xyXG4gICAgc3RhdGljIGZpcnN0VmlzaXRLZXkgPSBcImZyc3RWaXNpdFwiO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbCA9IG5ldyBGaXJzdFZpc2l0RGF0YU1vZGVsKG51bGwpO1xyXG4gICAgcHJpdmF0ZSBjb2xsZWN0ZWRFdmVudHM6IEFycmF5PENkcEV2ZW50SW50ZXJmYWNlPiA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGFydFNhdmVDb2xsZWN0RGF0YTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JcIik7XHJcbiAgICBwcml2YXRlIHBhZ2VMZWF2ZUhhbmRsZXI6IGFueSA9IG51bGw7XHJcbiAgICBwcml2YXRlIGhhc1ZhbGlkRXI6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID0gMDtcclxuICAgIHByaXZhdGUgY29sbGVjdFRpbWVDdXJyZW50SXRlcmF0aW9uID0gMDtcclxuICAgIHByaXZhdGUgY29sbGVjdFRpbWVQcmV2SXRlcmF0aW9uID0gMDtcclxuICAgIHByaXZhdGUgcmVzdENvbGxlY3RUaW1lSXRlcmF0aW9uID0gMDtcclxuXHJcbiAgICBwdWJsaWMgc2V0Q29sbGVjdERhdGEoZGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB8IG51bGwpIHtcclxuICAgICAgICB0aGlzLmNvbGxlY3REYXRhID0gbmV3IEZpcnN0VmlzaXREYXRhTW9kZWwoZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxlY3RDZHBFdmVudChldmVudDogQ2RwRXZlbnRJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGFydFNhdmVDb2xsZWN0RGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NDZHBFdmVudChldmVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMucHVzaChldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJvY2VzcygpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0U2F2ZUNvbGxlY3REYXRhID0gdHJ1ZTtcclxuICAgICAgICBpZiAodGhpcy5zeW5jQ29sbGVjdERhdGEoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50c0NvdW50Q3VycmVudEl0ZXJhdGlvbiA9IHRoaXMuY29sbGVjdERhdGEuZ2V0U3VtRXZlbnRzKCkgJSB0aGlzLml0ZXJhdGlvbk1heEV2ZW50Q291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdFRpbWVQcmV2SXRlcmF0aW9uID0gdGhpcy5jb2xsZWN0RGF0YS5Db2xsZWN0VGltZSB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3RDb2xsZWN0VGltZUl0ZXJhdGlvbiA9IE1hdGguYWJzKHRoaXMuaXRlcmF0aW9uTWF4VGltZUNvbGxlY3QgLSAodGhpcy5jb2xsZWN0VGltZVByZXZJdGVyYXRpb24gJSB0aGlzLml0ZXJhdGlvbk1heFRpbWVDb2xsZWN0KSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RUaW1lUHJldkl0ZXJhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdENvbGxlY3RUaW1lSXRlcmF0aW9uID0gdGhpcy5pdGVyYXRpb25NYXhUaW1lQ29sbGVjdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0VGltZUN1cnJlbnRJdGVyYXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0VGltZXIodGhpcy5yZXN0Q29sbGVjdFRpbWVJdGVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc0FscmVhZHlDb2xsZWN0ZWRDZHBFdmVudHMoKTtcclxuICAgICAgICB0aGlzLnNhdmVUaW1lVmlzaXRJZkxlYXZlUGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0NvbGxlY3RlZEZpcnN0VmlzaXQoY29sbGVjdGVkQnlDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHNhdmVkRmlyc3RWaXNpdERhdGE6IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UgfCBudWxsID0gdGhpcy5nZXRGaXJzdFZpc2l0RnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLnNldENvbGxlY3REYXRhKHNhdmVkRmlyc3RWaXNpdERhdGEpO1xyXG4gICAgICAgIGlmIChzYXZlZEZpcnN0VmlzaXREYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGF0YUNvbGxlY3RlZChjb2xsZWN0ZWRCeUNvbmRpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldENvbGxlY3RlZERhdGEoKTogRmlyc3RWaXNpdERhdGFNb2RlbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyRGF0YSgpIHtcclxuICAgICAgICB0aGlzLmhhc1ZhbGlkRXIgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRTYXZlQ29sbGVjdERhdGEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNldENvbGxlY3REYXRhKG51bGwpO1xyXG4gICAgICAgIHRoaXMuc2V0Rmlyc3RWaXNpdFRvU3RvcmFnZShudWxsKTtcclxuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByb2Nlc3NDZHBFdmVudChldmVudDogQ2RwRXZlbnRJbnRlcmZhY2UpIHtcclxuICAgICAgICBpZiAodGhpcy5zeW5jQ29sbGVjdERhdGEoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdFdmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24gPSB0aGlzLmNvbGxlY3REYXRhLmdldFN1bUV2ZW50cygpICUgdGhpcy5pdGVyYXRpb25NYXhFdmVudENvdW50O1xyXG4gICAgICAgICAgICBpZiAobmV3RXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID4gdGhpcy5ldmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID0gbmV3RXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY29sbGVjdEF0dHIgPSBldmVudC5nZXRGaXJzdFZpc2l0UHJvcGVydHkoKTtcclxuICAgICAgICBzd2l0Y2ggKGNvbGxlY3RBdHRyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmlyc3RWaXNpdFByb3BlcnRpZXMuQ291bnRDcmVhdGVBY2NvdW50RXZlbnRzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5Db3VudENyZWF0ZUFjY291bnRFdmVudHMrKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudENoZWNrb3V0U3RhcnRFdmVudHM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvdW50Q2hlY2tvdXRTdGFydEV2ZW50cysrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHNDb3VudEN1cnJlbnRJdGVyYXRpb24rKztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZpcnN0VmlzaXRQcm9wZXJ0aWVzLkNvdW50Q2xpY2s6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3REYXRhLkNvdW50Q2xpY2srKztcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uKys7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBGaXJzdFZpc2l0UHJvcGVydGllcy5Db3VudFBhZ2V2aWV3OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5Db3VudFBhZ2V2aWV3Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c0NvdW50Q3VycmVudEl0ZXJhdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNldFRpbWVyTGVmdCgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YSh0aGlzLmlzRGF0YUNvbGxlY3RlZCgpICYmICF0aGlzLmhhc1ZhbGlkRXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcHJvY2Vzc0FscmVhZHlDb2xsZWN0ZWRDZHBFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0ZWRFdmVudHMuZm9yRWFjaCgoY2RwRXZlbnQ6IENkcEV2ZW50SW50ZXJmYWNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NkcEV2ZW50KGNkcEV2ZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEYXRhQ29sbGVjdGVkQnlUaW1lKGlzUGFnZUxvYWRDb25kaXRpb24pIHx8IHRoaXMuaXNEYXRhQ29sbGVjdGVkQnlFdmVudHMoaXNQYWdlTG9hZENvbmRpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzeW5jQ29sbGVjdERhdGEoKSB7XHJcbiAgICAgICAgbGV0IGlzU3luYyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzYXZlZEZpcnN0VmlzaXREYXRhOiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlIHwgbnVsbCA9IHRoaXMuZ2V0Rmlyc3RWaXNpdEZyb21TdG9yYWdlKCk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRDb2xsZWN0RGF0YShzYXZlZEZpcnN0VmlzaXREYXRhKTtcclxuICAgICAgICAgICAgaXNTeW5jID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzU3luYztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFRpbWVyKHRpbWVyVGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBuZXcgRGF0YVRpbWVyTW9kZWwoe30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRpbWVyLklzVGltZVVwID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRpbWVyLlN0YXJ0VGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xyXG4gICAgICAgIHRoaXMudGltZXIuSWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50aW1lci5Jc1RpbWVVcCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3luY0NvbGxlY3REYXRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGF0YSh0cnVlKTtcclxuICAgICAgICB9LCB0aW1lclRpbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNEYXRhQ29sbGVjdGVkQnlUaW1lKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERhdGEuQ29sbGVjdFRpbWUgLSB0aGlzLmNvbGxlY3RUaW1lUHJldkl0ZXJhdGlvbiA+PSB0aGlzLnJlc3RDb2xsZWN0VGltZUl0ZXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRGF0YUNvbGxlY3RlZEJ5RXZlbnRzKGlzUGFnZUxvYWRDb25kaXRpb24/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzQ291bnRDdXJyZW50SXRlcmF0aW9uID49IHRoaXMuaXRlcmF0aW9uTWF4RXZlbnRDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZURhdGEobmVlZFNlbmQgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnN5bmNFckFuZFByZXZlbnRTZW5kKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckRhdGEoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXRUaW1lckxlZnQoKTtcclxuICAgICAgICB0aGlzLnNldEZpcnN0VmlzaXRUb1N0b3JhZ2UodGhpcy5jb2xsZWN0RGF0YSk7XHJcbiAgICAgICAgaWYgKG5lZWRTZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbih0aGlzLmNvbGxlY3REYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzeW5jRXJBbmRQcmV2ZW50U2VuZCgpIHtcclxuICAgICAgICBjb25zdCBlciA9IENkcE1vZHVsZS5nZXRFckNvZGUoKTtcclxuICAgICAgICBpZiAoZXIgIT09IG51bGwgJiYgZXIgIT09IENvbnN0YW50cy5Ob0VySW5mb3JtYXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldERsQ29sbGVjdGVkSW5mb3JtYXRpb24oY29sbGVjdGVkRGF0YT86IEZpcnN0VmlzaXREYXRhTW9kZWxJbnRlcmZhY2UpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5nZXREZXZpY2VJZCgpXHJcbiAgICAgICAgICAgIC50aGVuKChkZXZpY2VJZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rmlyc3RWaXNpdENkcERsRnJvbUFwaShkZXZpY2VJZCwgdGhpcy5pc05lZWRDb2xsZWN0Rmlyc3RWaXNpdERhdGEoY29sbGVjdGVkRGF0YSkpO1xyXG4gICAgICAgICAgICB9KS50aGVuKChkYXRhOiBhbnkpID0+XHJcbiAgICAgICAgICAgICAgICBDZHBNb2R1bGUuc2V0RGxDb2xsZWN0ZWRJbmZvcm1hdGlvbihkYXRhKVxyXG4gICAgICAgICAgICApLmNhdGNoKChlcnJvcjogYW55KSA9PiB0aGlzLkxvZ2dlci5lcnJvcihcInNldERsQ29sbGVjdGVkSW5mb3JtYXRpb25cIiwgZXJyb3IpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzTmVlZENvbGxlY3RGaXJzdFZpc2l0RGF0YShjb2xsZWN0ZWREYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbGxlY3RlZERhdGEgPyBjb2xsZWN0ZWREYXRhIDogRGF0YUNvbGxlY3Rvci5nZXRDb2xsZWN0ZWRGaXJzdFZpc2l0RGF0YSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Rmlyc3RWaXNpdENkcERsRnJvbUFwaShkZXZpY2VJZDogc3RyaW5nLCBmVmNvbGxlY3RlZERhdGE/OiBGaXJzdFZpc2l0RGF0YU1vZGVsSW50ZXJmYWNlKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBjb2xsZWN0ZWREYXRhID0gdGhpcy5nZXRNYXBwZWRDb2xsZWN0ZWREYXRhKGZWY29sbGVjdGVkRGF0YSk7XHJcbiAgICAgICAgY29sbGVjdGVkRGF0YVtcImRldmljZWlkXCJdID0gZGV2aWNlSWQ7XHJcbiAgICAgICAgY29sbGVjdGVkRGF0YVtcInNpdGVjb2RlXCJdID0gQ29uZmlnTW9kdWxlLmdldFNpdGVDb2RlKCk7XHJcbiAgICAgICAgY29sbGVjdGVkRGF0YVtcImNsaWVudGNvZGVcIl0gPSBDb25maWdNb2R1bGUuZ2V0Q2xpZW50Q29kZSgpO1xyXG5cclxuICAgICAgICBsZXQgb3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRCb3RJbmZvSGVhZGVyKCk7XHJcbiAgICAgICAgb3B0aW9ucyA9IEJ1Z1RyYWNrVXRpbC5hZGRJbml0U2V0dGluZ3NIZWFkZXIob3B0aW9ucyk7XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycyA9IG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMgfHwgW107XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycy5wdXNoKFwieC1yZXF1ZXN0LWlkXCIpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRVc2VyUmVxUmVhc29ucyhcImZpcnN0LXZpc2l0XCIpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImJlZm9yZV9wb3N0X3VzZXJcIik7XHJcbiAgICAgICAgcmV0dXJuIEh0dHBTZXJ2aWNlLnBvc3QoXCJ1c2VyXCIsIGNvbGxlY3RlZERhdGEsIG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXM6IEh0dHBSZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZFVzZXJFclJlcWlkKHJlcy5leHBvc2VkSGVhZGVyc1tcIngtcmVxdWVzdC1pZFwiXSk7XHJcbiAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGFmdGVyX3Bvc3RfdXNlcj0ke3Jlcy5leHBvc2VkSGVhZGVyc1tcIngtcmVxdWVzdC1pZFwiXX1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNYXBwZWRDb2xsZWN0ZWREYXRhKGZpcnN0VmlzaXREYXRhPzogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSk6IGFueSB7XHJcbiAgICAgICAgaWYgKGZpcnN0VmlzaXREYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBcInRzX2RpZmZcIjogZmlyc3RWaXNpdERhdGEuQ29sbGVjdFRpbWUsXHJcbiAgICAgICAgICAgICAgICBcImNudF9wYWdldmlld1wiOiBmaXJzdFZpc2l0RGF0YS5Db3VudFBhZ2V2aWV3LFxyXG4gICAgICAgICAgICAgICAgXCJjbnRfY2xpY2tcIjogZmlyc3RWaXNpdERhdGEuQ291bnRDbGljayxcclxuICAgICAgICAgICAgICAgIFwiY250X2NoZWNrb3V0c3RhcnRcIjogZmlyc3RWaXNpdERhdGEuQ291bnRDaGVja291dFN0YXJ0RXZlbnRzLFxyXG4gICAgICAgICAgICAgICAgXCJjbnRfY3JlYXRlYWNjb3VudFwiOiBmaXJzdFZpc2l0RGF0YS5Db3VudENyZWF0ZUFjY291bnRFdmVudHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGaXJzdFZpc2l0RnJvbVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIExvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yQ2xhc3MuZmlyc3RWaXNpdEtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRGaXJzdFZpc2l0VG9TdG9yYWdlKHZpc2l0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbCkge1xyXG4gICAgICAgIExvY2FsU3RvcmFnZVNlcnZpY2Uuc2V0KEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yQ2xhc3MuZmlyc3RWaXNpdEtleSwgdmlzaXREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNhdmVUaW1lVmlzaXRJZkxlYXZlUGFnZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGFnZUxlYXZlSGFuZGxlcikge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIkV2ZW50IFBhZ2VMZWF2ZUV2ZW50IGZpcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zeW5jQ29sbGVjdERhdGEoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGltZXJMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpcnN0VmlzaXRUb1N0b3JhZ2UodGhpcy5jb2xsZWN0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5wYWdlTGVhdmVIYW5kbGVyID0gdGhpcy5hZGRQYWdlTGVhdmVFdmVudExpc3RlbmVyKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRQYWdlTGVhdmVFdmVudExpc3RlbmVyKGNhbGxiYWNrOiBGdW5jdGlvbik6IEZ1bmN0aW9uIHtcclxuICAgICAgICBsZXQgZXZlbnROYW1lID0gVXRpbHMuZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIod2luZG93LCBldmVudE5hbWUsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZVBhZ2VMZWF2ZUV2ZW50TGlzdGVuZXIoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGV2ZW50TmFtZSA9IFV0aWxzLmdldFBhZ2VMZWF2ZUV2ZW50VHJpZ2dlcigpO1xyXG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpcy5wYWdlTGVhdmVIYW5kbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsZWFyVGltZXIoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgJiYgdGhpcy50aW1lci5JZCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lci5JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzcG9zZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZVBhZ2VMZWF2ZUV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFRpbWVyV29yaygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS52YWx1ZU9mKCkgLSB0aGlzLnRpbWVyLlN0YXJ0VGltZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaW1lckxlZnQoKSB7XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0RGF0YS5Db2xsZWN0VGltZSA9IHRoaXMuY29sbGVjdERhdGEuQ29sbGVjdFRpbWUgKyB0aGlzLmdldFRpbWVyV29yaygpIC0gdGhpcy5jb2xsZWN0VGltZUN1cnJlbnRJdGVyYXRpb247XHJcbiAgICAgICAgdGhpcy5jb2xsZWN0VGltZUN1cnJlbnRJdGVyYXRpb24gPSB0aGlzLmdldFRpbWVyV29yaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2VMb2FkQ29sbGVjdGVkRGF0YSgpIHtcclxuICAgICAgICBsZXQgc2F2ZWRGaXJzdFZpc2l0RGF0YTogRmlyc3RWaXNpdERhdGFNb2RlbEludGVyZmFjZSB8IG51bGwgPSB0aGlzLmdldEZpcnN0VmlzaXRGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0Q29sbGVjdERhdGEoc2F2ZWRGaXJzdFZpc2l0RGF0YSk7XHJcbiAgICAgICAgaWYgKHNhdmVkRmlyc3RWaXNpdERhdGEpIHtcclxuICAgICAgICAgICAgbGV0IGlzUGFnZUxvYWRDb25kaXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0RhdGFDb2xsZWN0ZWQoaXNQYWdlTG9hZENvbmRpdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZEZpcnN0VmlzaXREYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IgPSBuZXcgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3JDbGFzcygpOyIsImltcG9ydCB7IENkcEV2ZW50SW50ZXJmYWNlIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL0NkcEV2ZW50SW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yIH0gZnJvbSBcIi4vY2xhc3Nlcy9GaXJzdFZpc2l0RGF0YUNvbGxlY3RvclwiO1xyXG5pbXBvcnQgeyBQbHVnaW5Jbm5lckV2ZW50cyB9IGZyb20gXCJAQ29yZS9jb25zdGFudHMvUGx1Z2luSW5uZXJFdmVudHNcIjtcclxuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSBcIkBDb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQFV0aWxzL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0YUNvbGxlY3RvckNsYXNzIHtcclxuICAgIHByaXZhdGUgY29sbGVjdGVkRXZlbnRzOiBBcnJheTxDZHBFdmVudEludGVyZmFjZT4gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRJbkNvbGxlY3RvcihldmVudDogQ2RwRXZlbnRJbnRlcmZhY2UpIHtcclxuICAgICAgICB0aGlzLmNvbGxlY3RlZEV2ZW50cy5wdXNoKGV2ZW50KTtcclxuICAgICAgICBpZiAoZXZlbnQudXNlSW5DYWxjdWxhdGVGaXJzdFZpc2l0TW9kZWwoKSkge1xyXG4gICAgICAgICAgICBGaXJzdFZpc2l0RGF0YUNvbGxlY3Rvci5jb2xsZWN0Q2RwRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbGlzdGVuRXJDb2RlKCkge1xyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFBsdWdpbklubmVyRXZlbnRzLkRsQ2RwR2V0U3VjY2VzcywgKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnREYXRhID0gZXZlbnQuZGV0YWlsO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnREYXRhICYmIGV2ZW50RGF0YS5lciA9PSBDb25zdGFudHMuTm9FckluZm9ybWF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBEYXRhQ29sbGVjdG9yLnByb2Nlc3MoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIEZpcnN0VmlzaXREYXRhQ29sbGVjdG9yLmNsZWFyRGF0YSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNDb2xsZWN0ZWRGaXJzdFZpc2l0KGNvbGxlY3RlZEJ5Q29uZGl0aW9uPzogYm9vbGVhbik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBGaXJzdFZpc2l0RGF0YUNvbGxlY3Rvci5pc0NvbGxlY3RlZEZpcnN0VmlzaXQoY29sbGVjdGVkQnlDb25kaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb2xsZWN0ZWRGaXJzdFZpc2l0RGF0YSgpIHtcclxuICAgICAgICByZXR1cm4gRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IuZ2V0UGFnZUxvYWRDb2xsZWN0ZWREYXRhKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByb2Nlc3MoKSB7XHJcbiAgICAgICAgRmlyc3RWaXNpdERhdGFDb2xsZWN0b3IucHJvY2VzcygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRGF0YUNvbGxlY3RvciA9IG5ldyBEYXRhQ29sbGVjdG9yQ2xhc3MoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5107\n')},4658:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "M": () => (/* binding */ DeviceModule)\n/* harmony export */ });\n/* unused harmony export DeviceModuleClass */\n/* harmony import */ var _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8908);\n/* harmony import */ var _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9276);\n/* harmony import */ var _Modules_cdpModule_CdpModule__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8319);\n/* harmony import */ var _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9296);\n/* harmony import */ var _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8578);\n/* harmony import */ var _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9615);\n/* harmony import */ var _Utils_Utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(7753);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DeviceModuleClass = (function () {\r\n    function DeviceModuleClass() {\r\n        this.failedRegenerationsKey = "failedRegenerations";\r\n        this.isGetUserFinished = false;\r\n        this.isPendingRequest = false;\r\n        this.cdpDlDataAvailability();\r\n    }\r\n    DeviceModuleClass.prototype.cdpDlDataAvailability = function () {\r\n        this.localStorageReady = new Promise(function (resolve) {\r\n            _Utils_Utils__WEBPACK_IMPORTED_MODULE_6__/* .Utils.addCustomEventListener */ .c.addCustomEventListener(document, _Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_5__/* .PluginInnerEvents.G2IAfterSetInitOptions */ .U.G2IAfterSetInitOptions, function (e) {\r\n                resolve(null);\r\n            });\r\n        });\r\n    };\r\n    DeviceModuleClass.prototype.initDeviceId = function () {\r\n        var _this = this;\r\n        return _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.initDeviceId */ .D.initDeviceId(function (actualDeviceId) { return _this.localStorageReady.then(function () { return _this.mockOldDeviceIdIfNeed(actualDeviceId); }); });\r\n    };\r\n    DeviceModuleClass.prototype.isActualId = function (deviceId) {\r\n        return _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.getDeviceId */ .D.getDeviceId().then(function (actualId) { return actualId === deviceId; });\r\n    };\r\n    DeviceModuleClass.prototype.mockOldDeviceIdIfNeed = function (actualDeviceId) {\r\n        var result = actualDeviceId;\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_fp=" + result);\r\n        var didLs = _Modules_cdpModule_CdpModule__WEBPACK_IMPORTED_MODULE_2__/* .CdpModule.getDeviceIdFromStorage */ .v.getDeviceIdFromStorage();\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_ls=" + didLs);\r\n        result = this.fallbackDeviceIdIfNeed(result, didLs);\r\n        result = this.migrateQueue(result);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_actual=" + result);\r\n        return result;\r\n    };\r\n    DeviceModuleClass.prototype.fallbackDeviceIdIfNeed = function (actualDeviceId, didLs) {\r\n        if (didLs) {\r\n            return didLs;\r\n        }\r\n        var result = actualDeviceId;\r\n        if (!result) {\r\n            result = "guid-" + _Utils_Utils__WEBPACK_IMPORTED_MODULE_6__/* .Utils.createGUID */ .c.createGUID();\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_fallback_guid=" + result);\r\n        }\r\n        else {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_fallback_ls=" + result);\r\n        }\r\n        _Modules_cdpModule_CdpModule__WEBPACK_IMPORTED_MODULE_2__/* .CdpModule.updateDeviceIdInCdpDlStorage */ .v.updateDeviceIdInCdpDlStorage(result);\r\n        return result;\r\n    };\r\n    DeviceModuleClass.prototype.migrateQueue = function (actualFPValue) {\r\n        var queue = this.getFailedRegenerations();\r\n        var oneItem = null;\r\n        if (queue.length) {\r\n            oneItem = {};\r\n            oneItem.old_device_id = _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.getCalculatedDeviceId */ .D.getCalculatedDeviceId() || queue[0].old_device_id;\r\n            oneItem.new_device_id = queue[queue.length - 1].new_device_id;\r\n            if (!oneItem.g2ideviceid) {\r\n                oneItem.g2ideviceid = _Modules_cdpModule_CdpModule__WEBPACK_IMPORTED_MODULE_2__/* .CdpModule.getG2iDeviceId */ .v.getG2iDeviceId();\r\n            }\r\n        }\r\n        this.deleteFailedRegenerations();\r\n        if (oneItem !== null && oneItem.old_device_id === oneItem.new_device_id) {\r\n            oneItem = null;\r\n        }\r\n        if (oneItem !== null) {\r\n            this.saveChangedDeviceId(oneItem);\r\n            return oneItem.old_device_id;\r\n        }\r\n        return actualFPValue;\r\n    };\r\n    DeviceModuleClass.prototype.getDeviceIdToApi = function () {\r\n        var regeneration = this.getOldestFailedRegeneration();\r\n        if (regeneration) {\r\n            return Promise.resolve(regeneration.old_device_id);\r\n        }\r\n        return _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.getDeviceId */ .D.getDeviceId();\r\n    };\r\n    DeviceModuleClass.prototype.sendSavedRegeneration = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var success, regeneration, customEvent, error_1, didActual, didLs;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.isGetUserFinished = true;\r\n                        success = false;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        this.isPendingRequest = true;\r\n                        this.migrateQueue(_Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.getCalculatedDeviceId */ .D.getCalculatedDeviceId());\r\n                        regeneration = this.getOldestFailedRegeneration();\r\n                        if (!regeneration) return [3, 7];\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, 5, 6]);\r\n                        return [4, this.sendDeviceIdNotify(regeneration)];\r\n                    case 3:\r\n                        _a.sent();\r\n                        success = true;\r\n                        customEvent = new CustomEvent(_Core_constants_PluginInnerEvents__WEBPACK_IMPORTED_MODULE_5__/* .PluginInnerEvents.RegenererationResendSuccess */ .U.RegenererationResendSuccess, { detail: regeneration });\r\n                        document.dispatchEvent(customEvent);\r\n                        return [3, 6];\r\n                    case 4:\r\n                        error_1 = _a.sent();\r\n                        success = false;\r\n                        return [3, 6];\r\n                    case 5:\r\n                        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addResendRegenerationStatus */ .Y.addResendRegenerationStatus(success, regeneration);\r\n                        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("change_device_id=" + success + "+" + JSON.stringify(regeneration));\r\n                        return [7];\r\n                    case 6: return [3, 8];\r\n                    case 7:\r\n                        success = false;\r\n                        _a.label = 8;\r\n                    case 8:\r\n                        this.isPendingRequest = false;\r\n                        _a.label = 9;\r\n                    case 9:\r\n                        if (success) return [3, 1];\r\n                        _a.label = 10;\r\n                    case 10:\r\n                        didActual = _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.getCalculatedDeviceId */ .D.getCalculatedDeviceId();\r\n                        didLs = _Modules_cdpModule_CdpModule__WEBPACK_IMPORTED_MODULE_2__/* .CdpModule.getDeviceIdFromStorage */ .v.getDeviceIdFromStorage();\r\n                        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_actual_after=" + didActual);\r\n                        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_ls_after=" + didLs);\r\n                        if (didLs !== null && didActual !== didLs) {\r\n                            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_not_equal");\r\n                        }\r\n                        return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DeviceModuleClass.prototype.deviceIChanged = function (notify) {\r\n        var regeneration = this.mapRenererationModel(notify);\r\n        this.saveChangedDeviceId(regeneration);\r\n        if (this.isGetUserFinished && !this.isPendingRequest) {\r\n            this.migrateQueue(regeneration.new_device_id);\r\n            return this.sendSavedRegeneration();\r\n        }\r\n        else {\r\n            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("skip_send_change_req:queue_process-" + this.isGetUserFinished + "+pending-" + this.isPendingRequest);\r\n            return Promise.resolve(null);\r\n        }\r\n    };\r\n    DeviceModuleClass.prototype.sendDeviceIdNotify = function (regeneration) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var didActual, error_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        _a.trys.push([0, 2, , 3]);\r\n                        return [4, this.sendApiChangeDeviceId(regeneration)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        this.deleteFailedRegeneration(regeneration);\r\n                        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_before_update_local=" + regeneration.new_device_id);\r\n                        _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.setCalculatedDeviceId */ .D.setCalculatedDeviceId(regeneration.new_device_id);\r\n                        didActual = _Utils_DeviceDetector__WEBPACK_IMPORTED_MODULE_1__/* .DeviceDetector.getCalculatedDeviceId */ .D.getCalculatedDeviceId();\r\n                        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_after_update_local=" + didActual);\r\n                        if (regeneration.new_device_id !== didActual) {\r\n                            _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("did_not_equal");\r\n                        }\r\n                        _Modules_cdpModule_CdpModule__WEBPACK_IMPORTED_MODULE_2__/* .CdpModule.updateDeviceIdInCdpDlStorage */ .v.updateDeviceIdInCdpDlStorage(regeneration.new_device_id);\r\n                        return [3, 3];\r\n                    case 2:\r\n                        error_2 = _a.sent();\r\n                        console.log("changeDeviceId", error_2);\r\n                        return [2, Promise.reject()];\r\n                    case 3: return [2];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DeviceModuleClass.prototype.sendApiChangeDeviceId = function (regeneration) {\r\n        var _this = this;\r\n        var options = {};\r\n        options.exposedHeaders = options.exposedHeaders || [];\r\n        options.exposedHeaders.push("x-request-id");\r\n        options.statusCodeEnabled = true;\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("before_changedeviceid");\r\n        return _Data_modules_HttpService__WEBPACK_IMPORTED_MODULE_0__/* .HttpService.post */ .O.post("user/changedeviceid", regeneration, options)\r\n            .then(function (res) {\r\n            _this.trackRequestId(res);\r\n            return res.data;\r\n        }).catch(function (res) {\r\n            var isExtendedModel = res.data && res.exposedHeaders;\r\n            if (isExtendedModel) {\r\n                _this.trackRequestId(res);\r\n            }\r\n            else {\r\n                _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("catch=" + (res instanceof Error ? res.toString() : JSON.stringify(res)).substring(0, 64));\r\n            }\r\n            return Promise.reject(isExtendedModel ? res.data : res);\r\n        });\r\n    };\r\n    DeviceModuleClass.prototype.trackRequestId = function (res) {\r\n        var reqid = res.exposedHeaders["x-request-id"] || "g2i_empty_fallback";\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addUserErReqid */ .Y.addUserErReqid(reqid);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("after_changedeviceid=" + reqid);\r\n        _Utils_BugTrackUtil__WEBPACK_IMPORTED_MODULE_4__/* .BugTrackUtil.addApiDlStatus */ .Y.addApiDlStatus("status_code=" + res.statusCode);\r\n    };\r\n    DeviceModuleClass.prototype.mapRenererationModel = function (notify) {\r\n        return {\r\n            new_device_id: notify.newId,\r\n            old_device_id: notify.id\r\n        };\r\n    };\r\n    DeviceModuleClass.prototype.getFailedRegenerations = function () {\r\n        return _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_3__/* .LocalStorageService.get */ .n.get(this.failedRegenerationsKey) || [];\r\n    };\r\n    DeviceModuleClass.prototype.saveChangedDeviceId = function (model) {\r\n        var savedItems = this.getFailedRegenerations();\r\n        if (!savedItems.find(function (_item) { return _item.old_device_id === model.old_device_id && _item.new_device_id === model.new_device_id; })) {\r\n            savedItems.push(model);\r\n        }\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_3__/* .LocalStorageService.set */ .n.set(this.failedRegenerationsKey, savedItems);\r\n    };\r\n    DeviceModuleClass.prototype.getOldestFailedRegeneration = function () {\r\n        var savedItems = this.getFailedRegenerations();\r\n        return savedItems.shift();\r\n    };\r\n    DeviceModuleClass.prototype.deleteFailedRegeneration = function (model) {\r\n        var savedItems = this.getFailedRegenerations();\r\n        var updatedItems = savedItems.filter(function (item) { return item.new_device_id !== model.new_device_id; });\r\n        _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_3__/* .LocalStorageService.set */ .n.set(this.failedRegenerationsKey, updatedItems);\r\n    };\r\n    DeviceModuleClass.prototype.deleteFailedRegenerations = function () {\r\n        return _Data_modules_LocalStorageService__WEBPACK_IMPORTED_MODULE_3__/* .LocalStorageService["delete"] */ .n["delete"](this.failedRegenerationsKey);\r\n    };\r\n    return DeviceModuleClass;\r\n}());\r\n\r\nvar DeviceModule = new DeviceModuleClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7SUFDdkUsQ0FBQztJQUVPLHFEQUF5QixHQUFqQztRQUNJLE9BQU8sK0dBQTBCLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUNMLHdCQUFDO0FBQUQsQ0FBQzs7QUFFTSxJQUFNLFlBQVksR0FBRyxJQUFJLGlCQUFpQixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL2RldmljZU1vZHVsZS9EZXZpY2VNb2R1bGUudHM/ZDMyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0h0dHBTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IERldmljZURldGVjdG9yIH0gZnJvbSBcIkBVdGlscy9EZXZpY2VEZXRlY3RvclwiO1xyXG5pbXBvcnQgeyBGcERldmljZUluZm9JbnRlcmZhY2UgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvaW50ZXJmYWNlcy9GcERldmljZUluZm9JbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgQ2RwTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NkcE1vZHVsZS9DZHBNb2R1bGVcIjtcclxuaW1wb3J0IHsgTG9jYWxTdG9yYWdlU2VydmljZSB9IGZyb20gXCJARGF0YS9tb2R1bGVzL0xvY2FsU3RvcmFnZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQnVnVHJhY2tVdGlsIH0gZnJvbSBcIkBVdGlscy9CdWdUcmFja1V0aWxcIjtcclxuaW1wb3J0IHsgUGx1Z2luSW5uZXJFdmVudHMgfSBmcm9tIFwiQENvcmUvY29uc3RhbnRzL1BsdWdpbklubmVyRXZlbnRzXCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5pbXBvcnQgeyBIdHRwT3B0aW9ucywgSHR0cFJlc3BvbnNlIH0gZnJvbSBcIkBDb3JlL3N0b3JhZ2VzL2h0dHAvSHR0cFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgUmVuZXJlcmF0aW9uTW9kZWwgPSB7XHJcbiAgICBuZXdfZGV2aWNlX2lkOiBzdHJpbmc7XHJcbiAgICBvbGRfZGV2aWNlX2lkOiBzdHJpbmc7XHJcbiAgICBnMmlkZXZpY2VpZDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlTW9kdWxlQ2xhc3Mge1xyXG4gICAgcHJpdmF0ZSBmYWlsZWRSZWdlbmVyYXRpb25zS2V5ID0gXCJmYWlsZWRSZWdlbmVyYXRpb25zXCI7XHJcbiAgICBwcml2YXRlIGlzR2V0VXNlckZpbmlzaGVkID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGlzUGVuZGluZ1JlcXVlc3QgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbG9jYWxTdG9yYWdlUmVhZHk6IFByb21pc2U8YW55PjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNkcERsRGF0YUF2YWlsYWJpbGl0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2RwRGxEYXRhQXZhaWxhYmlsaXR5KCkge1xyXG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlUmVhZHkgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICAgICAgVXRpbHMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgUGx1Z2luSW5uZXJFdmVudHMuRzJJQWZ0ZXJTZXRJbml0T3B0aW9ucywgKGU6IEN1c3RvbUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5pdERldmljZUlkKCkge1xyXG4gICAgICAgIHJldHVybiBEZXZpY2VEZXRlY3Rvci5pbml0RGV2aWNlSWQoKGFjdHVhbERldmljZUlkOiBzdHJpbmcpID0+IHRoaXMubG9jYWxTdG9yYWdlUmVhZHkudGhlbigoKSA9PiB0aGlzLm1vY2tPbGREZXZpY2VJZElmTmVlZChhY3R1YWxEZXZpY2VJZCkpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNBY3R1YWxJZChkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIERldmljZURldGVjdG9yLmdldERldmljZUlkKCkudGhlbihhY3R1YWxJZCA9PiBhY3R1YWxJZCA9PT0gZGV2aWNlSWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW9ja09sZERldmljZUlkSWZOZWVkKGFjdHVhbERldmljZUlkOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhY3R1YWxEZXZpY2VJZDtcclxuICAgICAgICAvLyBhY3R1YWxEZXZpY2VJZCAtIEZQIHZhbHVlXHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfZnA9JHtyZXN1bHR9YCk7XHJcbiAgICAgICAgY29uc3QgZGlkTHMgPSBDZHBNb2R1bGUuZ2V0RGV2aWNlSWRGcm9tU3RvcmFnZSgpO1xyXG4gICAgICAgIC8vIGRpZExzIC0gdmFsdWUgZnJvbSBMU1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2xzPSR7ZGlkTHN9YCk7XHJcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5mYWxsYmFja0RldmljZUlkSWZOZWVkKHJlc3VsdCwgZGlkTHMpO1xyXG4gICAgICAgIC8vIHJlc3VsdCA9IG9yaWdpbmFsIC0+IExTIC0+IGd1aWRcclxuICAgICAgICByZXN1bHQgPSB0aGlzLm1pZ3JhdGVRdWV1ZShyZXN1bHQpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2FjdHVhbD0ke3Jlc3VsdH1gKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZmFsbGJhY2tEZXZpY2VJZElmTmVlZChhY3R1YWxEZXZpY2VJZDogc3RyaW5nLCBkaWRMczogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKGRpZExzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkaWRMcztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9ICBhY3R1YWxEZXZpY2VJZDtcclxuICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBcImd1aWQtXCIgKyBVdGlscy5jcmVhdGVHVUlEKCk7XHJcbiAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgZGlkX2ZhbGxiYWNrX2d1aWQ9JHtyZXN1bHR9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfZmFsbGJhY2tfbHM9JHtyZXN1bHR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENkcE1vZHVsZS51cGRhdGVEZXZpY2VJZEluQ2RwRGxTdG9yYWdlKHJlc3VsdCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1pZ3JhdGVRdWV1ZShhY3R1YWxGUFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5nZXRGYWlsZWRSZWdlbmVyYXRpb25zKCk7XHJcbiAgICAgICAgbGV0IG9uZUl0ZW06IFJlbmVyZXJhdGlvbk1vZGVsID0gbnVsbDtcclxuICAgICAgICBpZiAocXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG9uZUl0ZW0gPSB7fSBhcyBSZW5lcmVyYXRpb25Nb2RlbDtcclxuICAgICAgICAgICAgb25lSXRlbS5vbGRfZGV2aWNlX2lkID0gRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCkgfHwgcXVldWVbMF0ub2xkX2RldmljZV9pZDsgLy8gcmVtb3ZlIHdoZW4gZml4IGluIEZQP1xyXG4gICAgICAgICAgICBvbmVJdGVtLm5ld19kZXZpY2VfaWQgPSBxdWV1ZVtxdWV1ZS5sZW5ndGggLSAxXS5uZXdfZGV2aWNlX2lkO1xyXG4gICAgICAgICAgICBpZiAoIW9uZUl0ZW0uZzJpZGV2aWNlaWQpIHtcclxuICAgICAgICAgICAgICAgIG9uZUl0ZW0uZzJpZGV2aWNlaWQgPSBDZHBNb2R1bGUuZ2V0RzJpRGV2aWNlSWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRlbGV0ZUZhaWxlZFJlZ2VuZXJhdGlvbnMoKTtcclxuICAgICAgICBpZiAob25lSXRlbSAhPT0gbnVsbCAmJiBvbmVJdGVtLm9sZF9kZXZpY2VfaWQgPT09IG9uZUl0ZW0ubmV3X2RldmljZV9pZCkge1xyXG4gICAgICAgICAgICBvbmVJdGVtID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9uZUl0ZW0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlQ2hhbmdlZERldmljZUlkKG9uZUl0ZW0pO1xyXG4gICAgICAgICAgICByZXR1cm4gb25lSXRlbS5vbGRfZGV2aWNlX2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYWN0dWFsRlBWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlSWRUb0FwaSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHJlZ2VuZXJhdGlvbiA9IHRoaXMuZ2V0T2xkZXN0RmFpbGVkUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgaWYgKHJlZ2VuZXJhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlZ2VuZXJhdGlvbi5vbGRfZGV2aWNlX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIERldmljZURldGVjdG9yLmdldERldmljZUlkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHNlbmRTYXZlZFJlZ2VuZXJhdGlvbigpIHtcclxuICAgICAgICB0aGlzLmlzR2V0VXNlckZpbmlzaGVkID0gdHJ1ZTtcclxuICAgICAgICAvLyBjb25zdCBxdWV1ZSA9IHRoaXMuZ2V0RmFpbGVkUmVnZW5lcmF0aW9ucygpO1xyXG4gICAgICAgIC8vIGlmIChxdWV1ZT8ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIC8vICAgICBCdWdUcmFja1V0aWwuYWRkUmVnZW5lcmF0aW9uUXVldWUocXVldWUpO1xyXG4gICAgICAgIC8vICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGNoYW5nZV9kZXZpY2VfaWRfcXVldWU9JHtKU09OLnN0cmluZ2lmeShxdWV1ZSl9YCk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgdGhpcy5pc1BlbmRpbmdSZXF1ZXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5taWdyYXRlUXVldWUoRGV2aWNlRGV0ZWN0b3IuZ2V0Q2FsY3VsYXRlZERldmljZUlkKCkpO1xyXG4gICAgICAgICAgICBjb25zdCByZWdlbmVyYXRpb24gPSB0aGlzLmdldE9sZGVzdEZhaWxlZFJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAocmVnZW5lcmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2VuZERldmljZUlkTm90aWZ5KHJlZ2VuZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoUGx1Z2luSW5uZXJFdmVudHMuUmVnZW5lcmVyYXRpb25SZXNlbmRTdWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRldGFpbDogcmVnZW5lcmF0aW9uIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRSZXNlbmRSZWdlbmVyYXRpb25TdGF0dXMoc3VjY2VzcywgcmVnZW5lcmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGNoYW5nZV9kZXZpY2VfaWQ9JHtzdWNjZXNzfSske0pTT04uc3RyaW5naWZ5KHJlZ2VuZXJhdGlvbil9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5pc1BlbmRpbmdSZXF1ZXN0ID0gZmFsc2U7XHJcbiAgICAgICAgfSB3aGlsZSAoc3VjY2Vzcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRpZEFjdHVhbCA9IERldmljZURldGVjdG9yLmdldENhbGN1bGF0ZWREZXZpY2VJZCgpO1xyXG4gICAgICAgIGNvbnN0IGRpZExzID0gQ2RwTW9kdWxlLmdldERldmljZUlkRnJvbVN0b3JhZ2UoKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYGRpZF9hY3R1YWxfYWZ0ZXI9JHtkaWRBY3R1YWx9YCk7XHJcbiAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfbHNfYWZ0ZXI9JHtkaWRMc31gKTtcclxuICAgICAgICBpZiAoZGlkTHMgIT09IG51bGwgJiYgZGlkQWN0dWFsICE9PSBkaWRMcykge1xyXG4gICAgICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoXCJkaWRfbm90X2VxdWFsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGV2aWNlSUNoYW5nZWQobm90aWZ5OiBGcERldmljZUluZm9JbnRlcmZhY2UpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGNvbnN0IHJlZ2VuZXJhdGlvbiA9IHRoaXMubWFwUmVuZXJlcmF0aW9uTW9kZWwobm90aWZ5KTtcclxuICAgICAgICB0aGlzLnNhdmVDaGFuZ2VkRGV2aWNlSWQocmVnZW5lcmF0aW9uKTtcclxuICAgICAgICBpZiAodGhpcy5pc0dldFVzZXJGaW5pc2hlZCAmJiAhdGhpcy5pc1BlbmRpbmdSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubWlncmF0ZVF1ZXVlKHJlZ2VuZXJhdGlvbi5uZXdfZGV2aWNlX2lkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZFNhdmVkUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBza2lwX3NlbmRfY2hhbmdlX3JlcTpxdWV1ZV9wcm9jZXNzLSR7dGhpcy5pc0dldFVzZXJGaW5pc2hlZH0rcGVuZGluZy0ke3RoaXMuaXNQZW5kaW5nUmVxdWVzdH1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBzZW5kRGV2aWNlSWROb3RpZnkocmVnZW5lcmF0aW9uOiBSZW5lcmVyYXRpb25Nb2RlbCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kQXBpQ2hhbmdlRGV2aWNlSWQocmVnZW5lcmF0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5kZWxldGVGYWlsZWRSZWdlbmVyYXRpb24ocmVnZW5lcmF0aW9uKTtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfYmVmb3JlX3VwZGF0ZV9sb2NhbD0ke3JlZ2VuZXJhdGlvbi5uZXdfZGV2aWNlX2lkfWApO1xyXG4gICAgICAgICAgICBEZXZpY2VEZXRlY3Rvci5zZXRDYWxjdWxhdGVkRGV2aWNlSWQocmVnZW5lcmF0aW9uLm5ld19kZXZpY2VfaWQpO1xyXG4gICAgICAgICAgICBjb25zdCBkaWRBY3R1YWwgPSBEZXZpY2VEZXRlY3Rvci5nZXRDYWxjdWxhdGVkRGV2aWNlSWQoKTtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKGBkaWRfYWZ0ZXJfdXBkYXRlX2xvY2FsPSR7ZGlkQWN0dWFsfWApO1xyXG4gICAgICAgICAgICBpZiAocmVnZW5lcmF0aW9uLm5ld19kZXZpY2VfaWQgIT09IGRpZEFjdHVhbCkge1xyXG4gICAgICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKFwiZGlkX25vdF9lcXVhbFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBDZHBNb2R1bGUudXBkYXRlRGV2aWNlSWRJbkNkcERsU3RvcmFnZShyZWdlbmVyYXRpb24ubmV3X2RldmljZV9pZCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGFuZ2VEZXZpY2VJZFwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbmRBcGlDaGFuZ2VEZXZpY2VJZChyZWdlbmVyYXRpb246IFJlbmVyZXJhdGlvbk1vZGVsKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0ge30gYXMgSHR0cE9wdGlvbnM7XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycyA9IG9wdGlvbnMuZXhwb3NlZEhlYWRlcnMgfHwgW107XHJcbiAgICAgICAgb3B0aW9ucy5leHBvc2VkSGVhZGVycy5wdXNoKFwieC1yZXF1ZXN0LWlkXCIpO1xyXG4gICAgICAgIG9wdGlvbnMuc3RhdHVzQ29kZUVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhcImJlZm9yZV9jaGFuZ2VkZXZpY2VpZFwiKTtcclxuICAgICAgICByZXR1cm4gSHR0cFNlcnZpY2UucG9zdChcInVzZXIvY2hhbmdlZGV2aWNlaWRcIiwgcmVnZW5lcmF0aW9uLCBvcHRpb25zKVxyXG4gICAgICAgICAgICAudGhlbigocmVzOiBIdHRwUmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tSZXF1ZXN0SWQocmVzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcclxuICAgICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRXh0ZW5kZWRNb2RlbCA9IChyZXMgYXMgSHR0cFJlc3BvbnNlKS5kYXRhICYmIChyZXMgYXMgSHR0cFJlc3BvbnNlKS5leHBvc2VkSGVhZGVycztcclxuICAgICAgICAgICAgICAgIGlmIChpc0V4dGVuZGVkTW9kZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNrUmVxdWVzdElkKHJlcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgY2F0Y2g9JHsocmVzIGluc3RhbmNlb2YgRXJyb3IgPyByZXMudG9TdHJpbmcoKSA6IEpTT04uc3RyaW5naWZ5KHJlcykpLnN1YnN0cmluZygwLCA2NCl9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoaXNFeHRlbmRlZE1vZGVsID8gcmVzLmRhdGEgOiByZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRyYWNrUmVxdWVzdElkKHJlczogSHR0cFJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgcmVxaWQgPSByZXMuZXhwb3NlZEhlYWRlcnNbXCJ4LXJlcXVlc3QtaWRcIl0gfHwgXCJnMmlfZW1wdHlfZmFsbGJhY2tcIjtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkVXNlckVyUmVxaWQocmVxaWQpO1xyXG4gICAgICAgIEJ1Z1RyYWNrVXRpbC5hZGRBcGlEbFN0YXR1cyhgYWZ0ZXJfY2hhbmdlZGV2aWNlaWQ9JHtyZXFpZH1gKTtcclxuICAgICAgICBCdWdUcmFja1V0aWwuYWRkQXBpRGxTdGF0dXMoYHN0YXR1c19jb2RlPSR7cmVzLnN0YXR1c0NvZGV9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtYXBSZW5lcmVyYXRpb25Nb2RlbChub3RpZnk6IEZwRGV2aWNlSW5mb0ludGVyZmFjZSk6IFJlbmVyZXJhdGlvbk1vZGVsIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuZXdfZGV2aWNlX2lkOiBub3RpZnkubmV3SWQsXHJcbiAgICAgICAgICAgIG9sZF9kZXZpY2VfaWQ6IG5vdGlmeS5pZFxyXG4gICAgICAgIH0gYXMgUmVuZXJlcmF0aW9uTW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGYWlsZWRSZWdlbmVyYXRpb25zKCk6IFJlbmVyZXJhdGlvbk1vZGVsW10ge1xyXG4gICAgICAgIHJldHVybiBMb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0aGlzLmZhaWxlZFJlZ2VuZXJhdGlvbnNLZXkpIHx8IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzYXZlQ2hhbmdlZERldmljZUlkKG1vZGVsOiBSZW5lcmVyYXRpb25Nb2RlbCkge1xyXG4gICAgICAgIGNvbnN0IHNhdmVkSXRlbXM6IFJlbmVyZXJhdGlvbk1vZGVsW10gPSB0aGlzLmdldEZhaWxlZFJlZ2VuZXJhdGlvbnMoKTtcclxuICAgICAgICBpZiAoIXNhdmVkSXRlbXMuZmluZCgoX2l0ZW0pID0+IF9pdGVtLm9sZF9kZXZpY2VfaWQgPT09IG1vZGVsLm9sZF9kZXZpY2VfaWQgJiYgX2l0ZW0ubmV3X2RldmljZV9pZCA9PT0gbW9kZWwubmV3X2RldmljZV9pZCkpIHtcclxuICAgICAgICAgICAgc2F2ZWRJdGVtcy5wdXNoKG1vZGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGhpcy5mYWlsZWRSZWdlbmVyYXRpb25zS2V5LCBzYXZlZEl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0T2xkZXN0RmFpbGVkUmVnZW5lcmF0aW9uKCk6IFJlbmVyZXJhdGlvbk1vZGVsIHtcclxuICAgICAgICBjb25zdCBzYXZlZEl0ZW1zOiBSZW5lcmVyYXRpb25Nb2RlbFtdID0gdGhpcy5nZXRGYWlsZWRSZWdlbmVyYXRpb25zKCk7XHJcbiAgICAgICAgcmV0dXJuIHNhdmVkSXRlbXMuc2hpZnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRlbGV0ZUZhaWxlZFJlZ2VuZXJhdGlvbihtb2RlbDogUmVuZXJlcmF0aW9uTW9kZWwpIHtcclxuICAgICAgICBjb25zdCBzYXZlZEl0ZW1zOiBSZW5lcmVyYXRpb25Nb2RlbFtdID0gdGhpcy5nZXRGYWlsZWRSZWdlbmVyYXRpb25zKCk7XHJcbiAgICAgICAgLy8gc3RyYW5nZSBjYXNlIGlmIG5vdCBhdCAwIHBvc2l0aW9uXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEl0ZW1zID0gc2F2ZWRJdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubmV3X2RldmljZV9pZCAhPT0gbW9kZWwubmV3X2RldmljZV9pZCk7XHJcbiAgICAgICAgTG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGhpcy5mYWlsZWRSZWdlbmVyYXRpb25zS2V5LCB1cGRhdGVkSXRlbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVsZXRlRmFpbGVkUmVnZW5lcmF0aW9ucygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gTG9jYWxTdG9yYWdlU2VydmljZS5kZWxldGUodGhpcy5mYWlsZWRSZWdlbmVyYXRpb25zS2V5KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IERldmljZU1vZHVsZSA9IG5ldyBEZXZpY2VNb2R1bGVDbGFzcygpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4658\n')},8159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "e": () => (/* binding */ DimensionsModule)\n});\n\n// EXTERNAL MODULE: ./src/plugin/modules/configModule/ConfigModule.ts\nvar ConfigModule = __webpack_require__(3822);\n;// CONCATENATED MODULE: ./src/plugin/modules/dimensionsModule/classes/CommonMetaData.ts\nvar CommonMetaDataClass = (function () {\r\n    function CommonMetaDataClass() {\r\n    }\r\n    CommonMetaDataClass.prototype.getKeywords = function () {\r\n        return this.getMetaInformation(["keywords", "og:keywords", "bt:keywords"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getTitle = function () {\r\n        return this.getMetaInformation(["title", "og:title"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getUrl = function () {\r\n        return location.origin + location.pathname;\r\n    };\r\n    CommonMetaDataClass.prototype.getSection = function () {\r\n        return this.getMetaInformation(["section", "og:section"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getAuthor = function () {\r\n        return this.getMetaInformation(["byline", "author", "bt:author"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getTags = function () {\r\n        return this.getMetaInformation(["tags"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getContentId = function () {\r\n        return this.getMetaInformation(["contentid"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getPublishDate = function () {\r\n        return this.getMetaInformation(["publishDate", "pubdate", "og:pers_rec_first_pub_date", "bt:pubDate"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getContentType = function () {\r\n        return this.getMetaInformation(["type", "og:type"]);\r\n    };\r\n    CommonMetaDataClass.prototype.getDefaultMeta = function () {\r\n        var _this = this;\r\n        return {\r\n            Keywords: function () { return _this.getKeywords(); },\r\n            Title: function () { return _this.getTitle(); },\r\n            Url: function () { return _this.getUrl(); },\r\n            Section: function () { return _this.getSection(); },\r\n            Author: function () { return _this.getAuthor(); },\r\n            Tags: function () { return _this.getTags(); },\r\n            ContentId: function () { return _this.getContentId(); },\r\n            PublishDate: function () { return _this.getPublishDate(); },\r\n            ContentType: function () { return _this.getContentType(); },\r\n        };\r\n    };\r\n    CommonMetaDataClass.prototype.getMetaInformation = function (metaData) {\r\n        var metaDataLength = metaData.length;\r\n        for (var i = 0; i < metaDataLength; i++) {\r\n            var metaName = metaData[i];\r\n            var metaValue = this.getMetaContent(metaName);\r\n            if (metaValue) {\r\n                return metaValue;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    CommonMetaDataClass.prototype.getMetaContent = function (metaName) {\r\n        var metas = document.querySelectorAll("meta[name =\'" + metaName + "\'], meta[property=\'" + metaName + "\']");\r\n        var i = 0;\r\n        var mLength = metas.length;\r\n        for (i; i < mLength; i++) {\r\n            var content = metas[i].getAttribute("content");\r\n            if (content) {\r\n                return content;\r\n            }\r\n        }\r\n        return "";\r\n    };\r\n    return CommonMetaDataClass;\r\n}());\r\n\r\nvar CommonMetaData = new CommonMetaDataClass();\r\n\n// EXTERNAL MODULE: ./node_modules/js-sha256/src/sha256.js\nvar sha256 = __webpack_require__(3477);\n// EXTERNAL MODULE: ./src/plugin/utils/Utils.ts\nvar Utils = __webpack_require__(7753);\n;// CONCATENATED MODULE: ./src/plugin/modules/dimensionsModule/DimensionsModule.ts\n\r\n\r\n\r\n\r\nvar DimensionsModuleClass = (function () {\r\n    function DimensionsModuleClass() {\r\n        this.dimensions = {};\r\n        this.properties = [\r\n            "Title",\r\n            "Keywords",\r\n            "Section",\r\n            "Url",\r\n            "ContentType",\r\n            "Author",\r\n            "Tags",\r\n            "ContentId",\r\n            "PublishDate",\r\n            "LeadText",\r\n            "Text",\r\n            "Category",\r\n            "Description",\r\n            "Pictures",\r\n            "Video",\r\n            "Likes",\r\n            "Shares",\r\n            "BreakingNews",\r\n            "Premium",\r\n            "Language",\r\n            "Recommended",\r\n            "LeadImageUrl"\r\n        ];\r\n        this.subscribeOtherPluginStartChangeContent();\r\n    }\r\n    DimensionsModuleClass.prototype.getDimensions = function () {\r\n        if (!Utils/* Utils.isEmpty */.c.isEmpty(this.dimensions)) {\r\n            return this.dimensions;\r\n        }\r\n        var customConfigDim = this.getDimensionsFromCustomConfig();\r\n        this.extendDimensions(customConfigDim);\r\n        var initDim = this.getDimensionsFromClientInit();\r\n        this.extendDimensions(initDim);\r\n        this.fillEmptyDimFromMeta();\r\n        if (this.dimensions && !this.dimensions["ContentId"]) {\r\n            this.dimensions["ContentId"] = this.getCalculateContentId(this.dimensions["Text"]);\r\n        }\r\n        this.dimensions["ContentType"] = this.getContentType();\r\n        this.resetInvalidValus();\r\n        return this.dimensions;\r\n    };\r\n    DimensionsModuleClass.prototype.getContentType = function () {\r\n        if (this.dimensions && this.dimensions["ContentType"]) {\r\n            return this.dimensions["ContentType"].toLowerCase();\r\n        }\r\n        return "unknown";\r\n    };\r\n    DimensionsModuleClass.prototype.getCalculateContentId = function (articleText) {\r\n        if (!articleText) {\r\n            return;\r\n        }\r\n        return (0,sha256.sha256)(articleText.replace(/\\s/g, ""));\r\n    };\r\n    DimensionsModuleClass.prototype.getDimensionsFromCustomConfig = function () {\r\n        return ConfigModule/* ConfigModule.getCustomDimensions */.p.getCustomDimensions() || {};\r\n    };\r\n    DimensionsModuleClass.prototype.getDimensionsFromClientInit = function () {\r\n        return ConfigModule/* ConfigModule.getInitDimensions */.p.getInitDimensions() || {};\r\n    };\r\n    DimensionsModuleClass.prototype.fillEmptyDimFromMeta = function () {\r\n        var defaultDim = CommonMetaData.getDefaultMeta();\r\n        for (var property in defaultDim) {\r\n            if (defaultDim.hasOwnProperty(property) && !this.dimensions[property]) {\r\n                this.dimensions[property] = defaultDim[property]();\r\n            }\r\n        }\r\n    };\r\n    DimensionsModuleClass.prototype.extendDimensions = function (dataModel) {\r\n        if (!dataModel)\r\n            return;\r\n        for (var property in dataModel) {\r\n            if (dataModel.hasOwnProperty(property)) {\r\n                this.dimensions[property] = dataModel[property];\r\n            }\r\n        }\r\n    };\r\n    DimensionsModuleClass.prototype.getDynamicDimensions = function () {\r\n        var dynamicDimensions = {};\r\n        var dimensionsObject = this.getDimensions();\r\n        for (var property in dimensionsObject) {\r\n            if (dimensionsObject.hasOwnProperty(property) && this.properties.indexOf(property) === -1) {\r\n                dynamicDimensions[property] = dimensionsObject[property];\r\n            }\r\n        }\r\n        return dynamicDimensions;\r\n    };\r\n    DimensionsModuleClass.prototype.getContentId = function () {\r\n        if (!this.dimensions) {\r\n            this.getDimensions();\r\n        }\r\n        if (this.dimensions && this.dimensions["ContentId"]) {\r\n            return this.dimensions["ContentId"];\r\n        }\r\n        return null;\r\n    };\r\n    DimensionsModuleClass.prototype.subscribeOtherPluginStartChangeContent = function () {\r\n        var _this = this;\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, "onInnerBeforeContentChanged", function (e) {\r\n            _this.getDimensions();\r\n        });\r\n        Utils/* Utils.addCustomEventListener */.c.addCustomEventListener(document, "onCampaignFound", function (e) {\r\n            _this.getDimensions();\r\n        });\r\n    };\r\n    DimensionsModuleClass.prototype.resetInvalidValus = function () {\r\n        var invalidStrings = [String(undefined), String(NaN).toLowerCase(), String(null)];\r\n        for (var property in this.dimensions) {\r\n            var value = this.dimensions[property];\r\n            if (typeof value === "string" && invalidStrings.indexOf(value.toLowerCase()) !== -1 || value === undefined) {\r\n                this.dimensions[property] = "";\r\n            }\r\n        }\r\n    };\r\n    return DimensionsModuleClass;\r\n}());\r\nvar DimensionsModule = new DimensionsModuleClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7YUFDbEM7U0FDSjtJQUNMLENBQUM7SUFDTCw0QkFBQztBQUFELENBQUM7QUFFTSxJQUFNLGdCQUFnQixHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvZGltZW5zaW9uc01vZHVsZS9jbGFzc2VzL0NvbW1vbk1ldGFEYXRhLnRzPzRlZDciLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9kaW1lbnNpb25zTW9kdWxlL0RpbWVuc2lvbnNNb2R1bGUudHM/MjZjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29tbW9uTWV0YURhdGFDbGFzcyB7XHJcblxyXG4gICAgcHVibGljIGdldEtleXdvcmRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJrZXl3b3Jkc1wiLCBcIm9nOmtleXdvcmRzXCIsIFwiYnQ6a2V5d29yZHNcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRUaXRsZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1widGl0bGVcIiwgXCJvZzp0aXRsZVwiXSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VXJsKCkge1xyXG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VjdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1wic2VjdGlvblwiLCBcIm9nOnNlY3Rpb25cIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdXRob3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcImJ5bGluZVwiLCBcImF1dGhvclwiLCBcImJ0OmF1dGhvclwiXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFRhZ3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcInRhZ3NcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YUluZm9ybWF0aW9uKFtcImNvbnRlbnRpZFwiXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFB1Ymxpc2hEYXRlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFJbmZvcm1hdGlvbihbXCJwdWJsaXNoRGF0ZVwiLCBcInB1YmRhdGVcIiwgXCJvZzpwZXJzX3JlY19maXJzdF9wdWJfZGF0ZVwiLCBcImJ0OnB1YkRhdGVcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50VHlwZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXRhSW5mb3JtYXRpb24oW1widHlwZVwiLCBcIm9nOnR5cGVcIl0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRNZXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIEtleXdvcmRzOiAoKSA9PiB0aGlzLmdldEtleXdvcmRzKCksXHJcbiAgICAgICAgICAgIFRpdGxlOiAoKSA9PiB0aGlzLmdldFRpdGxlKCksXHJcbiAgICAgICAgICAgIFVybDogKCkgPT4gdGhpcy5nZXRVcmwoKSxcclxuICAgICAgICAgICAgU2VjdGlvbjogKCkgPT4gdGhpcy5nZXRTZWN0aW9uKCksXHJcbiAgICAgICAgICAgIEF1dGhvcjogKCkgPT4gdGhpcy5nZXRBdXRob3IoKSxcclxuICAgICAgICAgICAgVGFnczogKCkgPT4gdGhpcy5nZXRUYWdzKCksXHJcbiAgICAgICAgICAgIENvbnRlbnRJZDogKCkgPT4gdGhpcy5nZXRDb250ZW50SWQoKSxcclxuICAgICAgICAgICAgUHVibGlzaERhdGU6ICgpID0+IHRoaXMuZ2V0UHVibGlzaERhdGUoKSxcclxuICAgICAgICAgICAgQ29udGVudFR5cGU6ICgpID0+IHRoaXMuZ2V0Q29udGVudFR5cGUoKSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRNZXRhSW5mb3JtYXRpb24obWV0YURhdGE6IEFycmF5PGFueT4pIHtcclxuICAgICAgICBsZXQgbWV0YURhdGFMZW5ndGggPSBtZXRhRGF0YS5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhRGF0YUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBtZXRhTmFtZSA9IG1ldGFEYXRhW2ldO1xyXG4gICAgICAgICAgICBsZXQgbWV0YVZhbHVlID0gdGhpcy5nZXRNZXRhQ29udGVudChtZXRhTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChtZXRhVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtZXRhVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TWV0YUNvbnRlbnQobWV0YU5hbWUpIHtcclxuICAgICAgICBsZXQgbWV0YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibWV0YVtuYW1lID0nXCIgKyBtZXRhTmFtZSArIFwiJ10sIG1ldGFbcHJvcGVydHk9J1wiICsgbWV0YU5hbWUgKyBcIiddXCIpO1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBsZXQgbUxlbmd0aCA9IG1ldGFzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yIChpOyBpIDwgbUxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gbWV0YXNbaV0uZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IENvbW1vbk1ldGFEYXRhID0gbmV3IENvbW1vbk1ldGFEYXRhQ2xhc3MoKSIsImltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gXCJATW9kdWxlcy9jb25maWdNb2R1bGUvQ29uZmlnTW9kdWxlXCI7XHJcbmltcG9ydCB7IENvbW1vbk1ldGFEYXRhIH0gZnJvbSBcIi4vY2xhc3Nlcy9Db21tb25NZXRhRGF0YVwiO1xyXG5pbXBvcnQgeyBzaGEyNTYgfSBmcm9tIFwianMtc2hhMjU2XCI7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSBcIkBVdGlscy9VdGlsc1wiO1xyXG5cclxuY2xhc3MgRGltZW5zaW9uc01vZHVsZUNsYXNzIHtcclxuICAgIGRpbWVuc2lvbnM6IE9iamVjdCA9IHt9O1xyXG4gICAgLy8gdG9kbyBuZWVkIGFkZCB0byBtb2RlbFxyXG4gICAgcHJvcGVydGllcyA9IFtcclxuICAgICAgICBcIlRpdGxlXCIsXHJcbiAgICAgICAgXCJLZXl3b3Jkc1wiLFxyXG4gICAgICAgIFwiU2VjdGlvblwiLFxyXG4gICAgICAgIFwiVXJsXCIsXHJcbiAgICAgICAgXCJDb250ZW50VHlwZVwiLFxyXG4gICAgICAgIFwiQXV0aG9yXCIsXHJcbiAgICAgICAgXCJUYWdzXCIsXHJcbiAgICAgICAgXCJDb250ZW50SWRcIixcclxuICAgICAgICBcIlB1Ymxpc2hEYXRlXCIsXHJcbiAgICAgICAgXCJMZWFkVGV4dFwiLFxyXG4gICAgICAgIFwiVGV4dFwiLFxyXG4gICAgICAgIFwiQ2F0ZWdvcnlcIixcclxuICAgICAgICBcIkRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgXCJQaWN0dXJlc1wiLFxyXG4gICAgICAgIFwiVmlkZW9cIixcclxuICAgICAgICBcIkxpa2VzXCIsXHJcbiAgICAgICAgXCJTaGFyZXNcIixcclxuICAgICAgICBcIkJyZWFraW5nTmV3c1wiLFxyXG4gICAgICAgIFwiUHJlbWl1bVwiLFxyXG4gICAgICAgIFwiTGFuZ3VhZ2VcIixcclxuICAgICAgICBcIlJlY29tbWVuZGVkXCIsXHJcbiAgICAgICAgXCJMZWFkSW1hZ2VVcmxcIlxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnN1YnNjcmliZU90aGVyUGx1Z2luU3RhcnRDaGFuZ2VDb250ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGltZW5zaW9ucygpIHtcclxuICAgICAgICBpZiAoIVV0aWxzLmlzRW1wdHkodGhpcy5kaW1lbnNpb25zKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjdXN0b21Db25maWdEaW0gPSB0aGlzLmdldERpbWVuc2lvbnNGcm9tQ3VzdG9tQ29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5leHRlbmREaW1lbnNpb25zKGN1c3RvbUNvbmZpZ0RpbSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGluaXREaW0gPSB0aGlzLmdldERpbWVuc2lvbnNGcm9tQ2xpZW50SW5pdCgpO1xyXG4gICAgICAgIHRoaXMuZXh0ZW5kRGltZW5zaW9ucyhpbml0RGltKTtcclxuXHJcbiAgICAgICAgdGhpcy5maWxsRW1wdHlEaW1Gcm9tTWV0YSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zICYmICF0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50SWRcIl0pIHtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudElkXCJdID0gdGhpcy5nZXRDYWxjdWxhdGVDb250ZW50SWQodGhpcy5kaW1lbnNpb25zW1wiVGV4dFwiXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50VHlwZVwiXSA9IHRoaXMuZ2V0Q29udGVudFR5cGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNldEludmFsaWRWYWx1cygpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0Q29udGVudFR5cGUoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zICYmIHRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRUeXBlXCJdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbnNbXCJDb250ZW50VHlwZVwiXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJ1bmtub3duXCJcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENhbGN1bGF0ZUNvbnRlbnRJZChhcnRpY2xlVGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAoIWFydGljbGVUZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNoYTI1NihhcnRpY2xlVGV4dC5yZXBsYWNlKC9cXHMvZywgXCJcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGltZW5zaW9uc0Zyb21DdXN0b21Db25maWcoKTogT2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gQ29uZmlnTW9kdWxlLmdldEN1c3RvbURpbWVuc2lvbnMoKSB8fCB7fTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERpbWVuc2lvbnNGcm9tQ2xpZW50SW5pdCgpOiBPYmplY3Qge1xyXG4gICAgICAgIHJldHVybiBDb25maWdNb2R1bGUuZ2V0SW5pdERpbWVuc2lvbnMoKSB8fCB7fTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZpbGxFbXB0eURpbUZyb21NZXRhKCkge1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHREaW0gPSBDb21tb25NZXRhRGF0YS5nZXREZWZhdWx0TWV0YSgpO1xyXG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIGRlZmF1bHREaW0pIHtcclxuICAgICAgICAgICAgaWYgKGRlZmF1bHREaW0uaGFzT3duUHJvcGVydHkocHJvcGVydHkpICYmICF0aGlzLmRpbWVuc2lvbnNbcHJvcGVydHldKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnNbcHJvcGVydHldID0gZGVmYXVsdERpbVtwcm9wZXJ0eV0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGV4dGVuZERpbWVuc2lvbnMoZGF0YU1vZGVsOiBhbnkpIHtcclxuICAgICAgICBpZiAoIWRhdGFNb2RlbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBwcm9wZXJ0eSBpbiBkYXRhTW9kZWwpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFNb2RlbC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGltZW5zaW9uc1twcm9wZXJ0eV0gPSBkYXRhTW9kZWxbcHJvcGVydHldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXREeW5hbWljRGltZW5zaW9ucygpIHtcclxuICAgICAgICBjb25zdCBkeW5hbWljRGltZW5zaW9ucyA9IHt9O1xyXG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnNPYmplY3QgPSB0aGlzLmdldERpbWVuc2lvbnMoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgcHJvcGVydHkgaW4gZGltZW5zaW9uc09iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAoZGltZW5zaW9uc09iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgdGhpcy5wcm9wZXJ0aWVzLmluZGV4T2YocHJvcGVydHkpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgZHluYW1pY0RpbWVuc2lvbnNbcHJvcGVydHldID0gZGltZW5zaW9uc09iamVjdFtwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGR5bmFtaWNEaW1lbnNpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb250ZW50SWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREaW1lbnNpb25zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zICYmIHRoaXMuZGltZW5zaW9uc1tcIkNvbnRlbnRJZFwiXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaW1lbnNpb25zW1wiQ29udGVudElkXCJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdWJzY3JpYmVPdGhlclBsdWdpblN0YXJ0Q2hhbmdlQ29udGVudCgpIHtcclxuICAgICAgICBVdGlscy5hZGRDdXN0b21FdmVudExpc3RlbmVyKGRvY3VtZW50LCBcIm9uSW5uZXJCZWZvcmVDb250ZW50Q2hhbmdlZFwiLCAoZTogQ3VzdG9tRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5nZXREaW1lbnNpb25zKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFV0aWxzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwib25DYW1wYWlnbkZvdW5kXCIsIChlOiBDdXN0b21FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdldERpbWVuc2lvbnMoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVzZXRJbnZhbGlkVmFsdXMoKSB7XHJcbiAgICAgICAgY29uc3QgaW52YWxpZFN0cmluZ3MgPSBbU3RyaW5nKHVuZGVmaW5lZCksIFN0cmluZyhOYU4pLnRvTG93ZXJDYXNlKCksIFN0cmluZyhudWxsKV07XHJcblxyXG4gICAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIHRoaXMuZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZGltZW5zaW9uc1twcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgaW52YWxpZFN0cmluZ3MuaW5kZXhPZih2YWx1ZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zW3Byb3BlcnR5XSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEaW1lbnNpb25zTW9kdWxlID0gbmV3IERpbWVuc2lvbnNNb2R1bGVDbGFzcygpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8159\n')},3263:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "b": () => (/* binding */ CalculationResultModel)\n/* harmony export */ });\nvar CalculationResultModel = (function () {\r\n    function CalculationResultModel(miscKey, value, enableGA) {\r\n        if (enableGA === void 0) { enableGA = false; }\r\n        this.miscKey = miscKey;\r\n        this.value = value;\r\n        this.enableGA = enableGA || false;\r\n    }\r\n    return CalculationResultModel;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI2My5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtJQUtJLGdDQUFZLE9BQWUsRUFBRSxLQUFVLEVBQUUsUUFBeUI7UUFBekIsMkNBQXlCO1FBQzlELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLEtBQUssQ0FBQztJQUN0QyxDQUFDO0lBQ0wsNkJBQUM7QUFBRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy9taXNjTW9kdWxlL21vZGVscy9DYWxjdWxhdGlvblJlc3VsdE1vZGVsLnRzPzI4ODgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhbGN1bGF0aW9uUmVzdWx0TW9kZWwge1xyXG4gICAgbWlzY0tleTogc3RyaW5nO1xyXG4gICAgdmFsdWU6IGFueTtcclxuICAgIGVuYWJsZUdBOiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG1pc2NLZXk6IHN0cmluZywgdmFsdWU6IGFueSwgZW5hYmxlR0E6IGJvb2xlYW4gPSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMubWlzY0tleSA9IG1pc2NLZXk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlR0EgPSBlbmFibGVHQSB8fCBmYWxzZTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3263\n')},2562:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "q": () => (/* binding */ JavascriptModel)\n/* harmony export */ });\n/* harmony import */ var _CalculationResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3263);\n\r\nvar JavascriptModel = (function () {\r\n    function JavascriptModel(data) {\r\n        if (!data)\r\n            return;\r\n        this.MiscKey = data.key;\r\n        this.Expression = data.value;\r\n        this.EnableGA = data.enableGA;\r\n    }\r\n    JavascriptModel.prototype.getData = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var value = eval(_this.Expression);\r\n                var result = new _CalculationResultModel__WEBPACK_IMPORTED_MODULE_0__/* .CalculationResultModel */ .b(_this.MiscKey, value, _this.EnableGA);\r\n                resolve(result);\r\n            }\r\n            catch (e) {\r\n                reject();\r\n            }\r\n        });\r\n    };\r\n    return JavascriptModel;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjU2Mi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRWtFO0FBRWxFO0lBS0kseUJBQVksSUFBMEI7UUFDbEMsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPO1FBRWxCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFlLENBQUM7UUFDdkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxpQ0FBTyxHQUFQO1FBQUEsaUJBV0M7UUFWRyxPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07WUFDL0IsSUFBSTtnQkFFQSxJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUNwQyxJQUFNLE1BQU0sR0FBRyxJQUFJLG9GQUFzQixDQUFDLEtBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDOUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ25CO1lBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQ1IsTUFBTSxFQUFFLENBQUM7YUFDWjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL21vZHVsZXMvbWlzY01vZHVsZS9tb2RlbHMvSmF2YXNjcmlwdE1vZGVsLnRzP2E5MDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWlzY09wdGlvbnNJbnRlcmZhY2UgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL29wdGlvbnMvbW9kZWxzL01pc2NPcHRpb25zSW50ZXJmYWNlXCI7XHJcbmltcG9ydCB7IE1pc2NNb2RlbEludGVyZmFjZSB9IGZyb20gXCIuL01pc2NNb2RlbEludGVyZmFjZVwiO1xyXG5pbXBvcnQgeyBDYWxjdWxhdGlvblJlc3VsdE1vZGVsIH0gZnJvbSBcIi4vQ2FsY3VsYXRpb25SZXN1bHRNb2RlbFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEphdmFzY3JpcHRNb2RlbCBpbXBsZW1lbnRzIE1pc2NNb2RlbEludGVyZmFjZSB7XHJcbiAgICBNaXNjS2V5OiBzdHJpbmc7XHJcbiAgICBFeHByZXNzaW9uOiBzdHJpbmc7XHJcbiAgICBFbmFibGVHQTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBNaXNjT3B0aW9uc0ludGVyZmFjZSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLk1pc2NLZXkgPSBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLkV4cHJlc3Npb24gPSBkYXRhLnZhbHVlIGFzIHN0cmluZztcclxuICAgICAgICB0aGlzLkVuYWJsZUdBID0gZGF0YS5lbmFibGVHQTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCk6IFByb21pc2U8Q2FsY3VsYXRpb25SZXN1bHRNb2RlbD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZXZhbFxyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmFsKHRoaXMuRXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2FsY3VsYXRpb25SZXN1bHRNb2RlbCh0aGlzLk1pc2NLZXksIHZhbHVlLCB0aGlzLkVuYWJsZUdBKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2562\n')},8383:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "h": () => (/* binding */ REJECTED_SERVICES),\n/* harmony export */   "L": () => (/* binding */ WorkflowModule)\n/* harmony export */ });\n/* harmony import */ var _Utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _Utils_proxy_ProxyService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1568);\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8794);\n/* harmony import */ var _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3822);\n\r\n\r\n\r\n\r\nvar ENGAGE_ALLOWED_EVENTS = {\r\n    ConnextPageView: "ConnextPageView",\r\n    ActionShown: "ActionShown",\r\n    Click: "Click",\r\n    CreateAccount: "CreateAccount",\r\n    Login: "Login",\r\n    ActivateSuccess: "ActivateSuccess",\r\n    NewsletterSignup: "NewsletterSignup"\r\n};\r\nvar SP_ALLOWED_EVENTS = {\r\n    CheckoutStart: "CheckoutStart",\r\n    CreatedNewUser: "CreatedNewUser",\r\n    SubscriptionSuccess: "SubscriptionSuccess",\r\n    AbandonPresented: "AbandonPresented"\r\n};\r\nvar COMMON_ALLOWED_EVENTS = {};\r\nvar REJECTED_SERVICES = {\r\n    ContentService: ["contentExistsInCdp", "sendContentInCdp", "getArticleStats"],\r\n    Recommendations: ["getArticlesWithCategories", "getListArticles"]\r\n};\r\nvar WorkflowModuleClass = (function () {\r\n    function WorkflowModuleClass() {\r\n        this.Logger = _Utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("WorkflowModule");\r\n        this.modes = [];\r\n    }\r\n    WorkflowModuleClass.prototype.setModes = function (data) {\r\n        this.modes = this.parseModes(data);\r\n    };\r\n    WorkflowModuleClass.prototype.getModes = function () {\r\n        return this.modes;\r\n    };\r\n    WorkflowModuleClass.prototype.limitEngageEvents = function (events) {\r\n        return this.limitEvents(events, ENGAGE_ALLOWED_EVENTS);\r\n    };\r\n    WorkflowModuleClass.prototype.limitSPEvents = function (events) {\r\n        return this.limitEvents(events, SP_ALLOWED_EVENTS);\r\n    };\r\n    WorkflowModuleClass.prototype.limitCommonEvents = function (events, excludedEvents) {\r\n        return this.limitEvents(events, COMMON_ALLOWED_EVENTS, excludedEvents);\r\n    };\r\n    WorkflowModuleClass.prototype.limitEvents = function (events, allowedList, excludedEvents) {\r\n        var _a, _b;\r\n        if (allowedList === void 0) { allowedList = {}; }\r\n        if (excludedEvents === void 0) { excludedEvents = []; }\r\n        var allowedKeys = [];\r\n        var initModel = _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_3__/* .ConfigModule.getInitConfiguration */ .p.getInitConfiguration();\r\n        if (!((_a = initModel.cdp) === null || _a === void 0 ? void 0 : _a.enabled)\r\n            && !this.getModeEnabled(_models__WEBPACK_IMPORTED_MODULE_2__/* .FLOW_MODE_TYPES.InterestsRecommendations */ .f.InterestsRecommendations)\r\n            && this.getModeEnabled(_models__WEBPACK_IMPORTED_MODULE_2__/* .FLOW_MODE_TYPES.EngageABExperiments */ .f.EngageABExperiments)) {\r\n            allowedKeys = Object.keys(allowedList);\r\n        }\r\n        else if ((_b = initModel.cdp) === null || _b === void 0 ? void 0 : _b.enabled) {\r\n            allowedKeys = Object.keys(events);\r\n        }\r\n        var filteredEvents = {};\r\n        allowedKeys.forEach(function (key) {\r\n            if (excludedEvents.indexOf(key) === -1) {\r\n                filteredEvents[key] = events[key];\r\n            }\r\n        });\r\n        this.Logger.info("limitEvents before and after", events, filteredEvents);\r\n        return filteredEvents;\r\n    };\r\n    WorkflowModuleClass.prototype.applyRejects = function (target, methods) {\r\n        if (methods === void 0) { methods = []; }\r\n        var _this = this;\r\n        methods.forEach(function (method) {\r\n            var settings = {\r\n                target: method,\r\n                handler: function (originalMethod) {\r\n                    var args = [];\r\n                    for (var _i = 1; _i < arguments.length; _i++) {\r\n                        args[_i - 1] = arguments[_i];\r\n                    }\r\n                    if (_this.getModeEnabled(_models__WEBPACK_IMPORTED_MODULE_2__/* .FLOW_MODE_TYPES.InterestsRecommendations */ .f.InterestsRecommendations)) {\r\n                        return originalMethod.apply(null, args);\r\n                    }\r\n                    else {\r\n                        return Promise.reject();\r\n                    }\r\n                }\r\n            };\r\n            _Utils_proxy_ProxyService__WEBPACK_IMPORTED_MODULE_1__/* .ProxyService.apply */ .y.apply(target, settings);\r\n        });\r\n        return target;\r\n    };\r\n    WorkflowModuleClass.prototype.getModeEnabled = function (mode) {\r\n        return this.modes.indexOf(mode) !== -1;\r\n    };\r\n    WorkflowModuleClass.prototype.parseModes = function (modes) {\r\n        var _this_1 = this;\r\n        if (modes) {\r\n            return modes.split(",").map(function (mode) {\r\n                var parsedMode = _models__WEBPACK_IMPORTED_MODULE_2__/* .FLOW_MODE_TYPES */ .f[mode.trim()];\r\n                if (!parsedMode) {\r\n                    _this_1.Logger.debug("flow mode not recognized", mode);\r\n                }\r\n                return parsedMode;\r\n            }).filter(function (m) { return m; });\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    };\r\n    return WorkflowModuleClass;\r\n}());\r\nvar WorkflowModule = new WorkflowModuleClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YixPQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQywwQkFBMEIsRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFDdkQ7Z0JBQ0QsT0FBTyxVQUFVLENBQUM7WUFDdEIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQUMsSUFBSSxRQUFDLEVBQUQsQ0FBQyxDQUFDLENBQUM7U0FDckI7YUFBTTtZQUNILE9BQU8sRUFBRSxDQUFDO1NBQ2I7SUFDTCxDQUFDO0lBQ0wsMEJBQUM7QUFBRCxDQUFDO0FBRU0sSUFBTSxjQUFjLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvV29ya2Zsb3dNb2R1bGUudHM/MDUzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQFV0aWxzL2xvZ2dlci9Mb2dnZXJcIjtcclxuaW1wb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCJAVXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlXCI7XHJcbmltcG9ydCB7IFByb3h5U2V0dGluZ3NNb2RlbCB9IGZyb20gXCJAVXRpbHMvcHJveHkvbW9kZWxzXCI7XHJcbmltcG9ydCB7IFByb3h5U2VydmljZSB9IGZyb20gXCJAVXRpbHMvcHJveHkvUHJveHlTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEZMT1dfTU9ERV9UWVBFUyB9IGZyb20gXCIuL21vZGVsc1wiO1xyXG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tIFwiQE1vZHVsZXMvY29uZmlnTW9kdWxlL0NvbmZpZ01vZHVsZVwiO1xyXG5cclxuY29uc3QgRU5HQUdFX0FMTE9XRURfRVZFTlRTID0ge1xyXG4gICAgQ29ubmV4dFBhZ2VWaWV3OiBcIkNvbm5leHRQYWdlVmlld1wiLFxyXG4gICAgQWN0aW9uU2hvd246IFwiQWN0aW9uU2hvd25cIixcclxuICAgIENsaWNrOiBcIkNsaWNrXCIsXHJcbiAgICBDcmVhdGVBY2NvdW50OiBcIkNyZWF0ZUFjY291bnRcIixcclxuICAgIExvZ2luOiBcIkxvZ2luXCIsXHJcbiAgICBBY3RpdmF0ZVN1Y2Nlc3M6IFwiQWN0aXZhdGVTdWNjZXNzXCIsXHJcbiAgICBOZXdzbGV0dGVyU2lnbnVwOiBcIk5ld3NsZXR0ZXJTaWdudXBcIlxyXG59O1xyXG5cclxuY29uc3QgU1BfQUxMT1dFRF9FVkVOVFMgPSB7XHJcbiAgICBDaGVja291dFN0YXJ0OiBcIkNoZWNrb3V0U3RhcnRcIixcclxuICAgIENyZWF0ZWROZXdVc2VyOiBcIkNyZWF0ZWROZXdVc2VyXCIsXHJcbiAgICBTdWJzY3JpcHRpb25TdWNjZXNzOiBcIlN1YnNjcmlwdGlvblN1Y2Nlc3NcIixcclxuICAgIEFiYW5kb25QcmVzZW50ZWQ6IFwiQWJhbmRvblByZXNlbnRlZFwiXHJcbn07XHJcblxyXG5jb25zdCBDT01NT05fQUxMT1dFRF9FVkVOVFMgPSB7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgUkVKRUNURURfU0VSVklDRVMgPSB7XHJcbiAgICBDb250ZW50U2VydmljZTogW1wiY29udGVudEV4aXN0c0luQ2RwXCIsIFwic2VuZENvbnRlbnRJbkNkcFwiLCBcImdldEFydGljbGVTdGF0c1wiXSxcclxuICAgIFJlY29tbWVuZGF0aW9uczogW1wiZ2V0QXJ0aWNsZXNXaXRoQ2F0ZWdvcmllc1wiLCBcImdldExpc3RBcnRpY2xlc1wiXVxyXG59O1xyXG5cclxuY2xhc3MgV29ya2Zsb3dNb2R1bGVDbGFzcyB7XHJcbiAgICBwcml2YXRlIExvZ2dlcjogTG9nZ2VyID0gTG9nZ2VyU2VydmljZS5jcmVhdGVMb2dnZXIoXCJXb3JrZmxvd01vZHVsZVwiKTtcclxuICAgIHByaXZhdGUgbW9kZXM6IEZMT1dfTU9ERV9UWVBFU1tdID0gW107XHJcblxyXG4gICAgc2V0TW9kZXMoZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tb2RlcyA9IHRoaXMucGFyc2VNb2RlcyhkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNb2RlcygpOiBGTE9XX01PREVfVFlQRVNbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZXM7XHJcbiAgICB9XHJcblxyXG4gICAgbGltaXRFbmdhZ2VFdmVudHMoZXZlbnRzOiBvYmplY3QpOiBvYmplY3Qge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0RXZlbnRzKGV2ZW50cywgRU5HQUdFX0FMTE9XRURfRVZFTlRTKTtcclxuICAgIH1cclxuXHJcbiAgICBsaW1pdFNQRXZlbnRzKGV2ZW50czogb2JqZWN0KTogb2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdEV2ZW50cyhldmVudHMsIFNQX0FMTE9XRURfRVZFTlRTKTtcclxuICAgIH1cclxuXHJcbiAgICBsaW1pdENvbW1vbkV2ZW50cyhldmVudHM6IG9iamVjdCwgZXhjbHVkZWRFdmVudHM6IHN0cmluZ1tdKTogb2JqZWN0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdEV2ZW50cyhldmVudHMsIENPTU1PTl9BTExPV0VEX0VWRU5UUywgZXhjbHVkZWRFdmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGltaXRFdmVudHMoZXZlbnRzOiBvYmplY3QsIGFsbG93ZWRMaXN0OiBvYmplY3QgPSB7fSwgZXhjbHVkZWRFdmVudHM6IHN0cmluZ1tdID0gW10pOiBvYmplY3Qge1xyXG4gICAgICAgIGxldCBhbGxvd2VkS2V5cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IGluaXRNb2RlbCA9IENvbmZpZ01vZHVsZS5nZXRJbml0Q29uZmlndXJhdGlvbigpO1xyXG4gICAgICAgIGlmICghaW5pdE1vZGVsLmNkcD8uZW5hYmxlZFxyXG4gICAgICAgICAgICAmJiAhdGhpcy5nZXRNb2RlRW5hYmxlZChGTE9XX01PREVfVFlQRVMuSW50ZXJlc3RzUmVjb21tZW5kYXRpb25zKVxyXG4gICAgICAgICAgICAmJiB0aGlzLmdldE1vZGVFbmFibGVkKEZMT1dfTU9ERV9UWVBFUy5FbmdhZ2VBQkV4cGVyaW1lbnRzKSkge1xyXG4gICAgICAgICAgICBhbGxvd2VkS2V5cyA9IE9iamVjdC5rZXlzKGFsbG93ZWRMaXN0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGluaXRNb2RlbC5jZHA/LmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgYWxsb3dlZEtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGZpbHRlcmVkRXZlbnRzID0ge307XHJcbiAgICAgICAgYWxsb3dlZEtleXMuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkRXZlbnRzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkRXZlbnRzW2tleV0gPSBldmVudHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLkxvZ2dlci5pbmZvKFwibGltaXRFdmVudHMgYmVmb3JlIGFuZCBhZnRlclwiLCBldmVudHMsIGZpbHRlcmVkRXZlbnRzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkRXZlbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5UmVqZWN0cyh0YXJnZXQ6IG9iamVjdCwgIG1ldGhvZHM6IHN0cmluZ1tdID0gW10pOiBhbnkge1xyXG4gICAgICAgIGNvbnN0IF90aGlzID0gdGhpcztcclxuICAgICAgICBtZXRob2RzLmZvckVhY2goKG1ldGhvZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzOiBQcm94eVNldHRpbmdzTW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IG1ldGhvZCxcclxuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChvcmlnaW5hbE1ldGhvZDogRnVuY3Rpb24sIC4uLmFyZ3M6IGFueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5nZXRNb2RlRW5hYmxlZChGTE9XX01PREVfVFlQRVMuSW50ZXJlc3RzUmVjb21tZW5kYXRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxNZXRob2QuYXBwbHkobnVsbCwgYXJncyk7IC8vIGNvbnRleHQgYWxyZWFkeSBiaW5kXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBQcm94eVNlcnZpY2UuYXBwbHkodGFyZ2V0LCBzZXR0aW5ncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNb2RlRW5hYmxlZChtb2RlOiBGTE9XX01PREVfVFlQRVMpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb2Rlcy5pbmRleE9mKG1vZGUpICE9PSAtMTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBwYXJzZU1vZGVzKG1vZGVzOiBzdHJpbmcpOiBGTE9XX01PREVfVFlQRVNbXSB7XHJcbiAgICAgICAgaWYgKG1vZGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2Rlcy5zcGxpdChcIixcIikubWFwKG1vZGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkTW9kZSA9IEZMT1dfTU9ERV9UWVBFU1ttb2RlLnRyaW0oKV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZE1vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkxvZ2dlci5kZWJ1ZyhcImZsb3cgbW9kZSBub3QgcmVjb2duaXplZFwiLCBtb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRNb2RlO1xyXG4gICAgICAgICAgICB9KS5maWx0ZXIobSA9PiBtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgV29ya2Zsb3dNb2R1bGUgPSBuZXcgV29ya2Zsb3dNb2R1bGVDbGFzcygpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8383\n')},8794:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "f": () => (/* reexport */ FLOW_MODE_TYPES)\n});\n\n;// CONCATENATED MODULE: ./src/plugin/modules/workflowModeModule/models/ModeTypes.ts\nvar FLOW_MODE_TYPES;\r\n(function (FLOW_MODE_TYPES) {\r\n    FLOW_MODE_TYPES["InterestsRecommendations"] = "InterestsRecommendations";\r\n    FLOW_MODE_TYPES["EngageABExperiments"] = "EngageABExperiments";\r\n})(FLOW_MODE_TYPES || (FLOW_MODE_TYPES = {}));\r\n\n;// CONCATENATED MODULE: ./src/plugin/modules/workflowModeModule/models/index.ts\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc5NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBWSxlQUdYO0FBSEQsV0FBWSxlQUFlO0lBQ3ZCLHdFQUFxRDtJQUNyRCw4REFBMkM7QUFDL0MsQ0FBQyxFQUhXLGVBQWUsS0FBZixlQUFlLFFBRzFCOzs7QUNINkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi9tb2R1bGVzL3dvcmtmbG93TW9kZU1vZHVsZS9tb2RlbHMvTW9kZVR5cGVzLnRzP2QxNjkiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vbW9kdWxlcy93b3JrZmxvd01vZGVNb2R1bGUvbW9kZWxzL2luZGV4LnRzP2ViZWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gRkxPV19NT0RFX1RZUEVTIHtcclxuICAgIEludGVyZXN0c1JlY29tbWVuZGF0aW9ucyA9IFwiSW50ZXJlc3RzUmVjb21tZW5kYXRpb25zXCIsXHJcbiAgICBFbmdhZ2VBQkV4cGVyaW1lbnRzID0gXCJFbmdhZ2VBQkV4cGVyaW1lbnRzXCJcclxufSIsImV4cG9ydCB7IEZMT1dfTU9ERV9UWVBFUyB9IGZyb20gXCIuL01vZGVUeXBlc1wiOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8794\n')},8578:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Y": () => (/* binding */ BugTrackUtil)\n/* harmony export */ });\n/* harmony import */ var _Modules_botDetection_BotDetector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9945);\n/* harmony import */ var _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3822);\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(7753);\n/* harmony import */ var _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(438);\n\r\n\r\n\r\n\r\nvar BugTrackUtil = (function () {\r\n    function BugTrackUtil() {\r\n    }\r\n    BugTrackUtil.addBotInfoHeader = function (options, header) {\r\n        if (options === void 0) { options = {}; }\r\n        if (header === void 0) { header = "botinfo"; }\r\n        var botDetector = new _Modules_botDetection_BotDetector__WEBPACK_IMPORTED_MODULE_0__/* .BotDetector */ .n();\r\n        var detectBot = botDetector.getDetectBot();\r\n        options.headers = options.headers || {};\r\n        if (detectBot) {\r\n            options.headers[header] = JSON.stringify(detectBot);\r\n        }\r\n        return options;\r\n    };\r\n    BugTrackUtil.addInitSettingsHeader = function (options, header) {\r\n        if (options === void 0) { options = {}; }\r\n        if (header === void 0) { header = "initsettings"; }\r\n        options.headers = options.headers || {};\r\n        if (_Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__/* .ConfigModule.getSiteCode */ .p.getSiteCode().toLowerCase() === "unknown") {\r\n            var config = _Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__/* .ConfigModule.getInitConfiguration */ .p.getInitConfiguration();\r\n            var dimensions = Object.keys(config.dimensions);\r\n            options.headers[header] = JSON.stringify({\r\n                loaderInfo: _Utils__WEBPACK_IMPORTED_MODULE_2__/* .Utils.getLoaderVersionInfo */ .c.getLoaderVersionInfo(),\r\n                initOptions: JSON.stringify(_Modules_configModule_ConfigModule__WEBPACK_IMPORTED_MODULE_1__/* .ConfigModule.getInitOptions */ .p.getInitOptions()).substring(0, 1000),\r\n                configuration: JSON.stringify(Object.assign({}, config, { dimensions: dimensions })).substring(0, 1000)\r\n            });\r\n        }\r\n        return options;\r\n    };\r\n    BugTrackUtil.getBeaconRequestUrlParam = function (model) {\r\n        var log = this.getUserReqLog();\r\n        log += this.getHttpNotJson();\r\n        log += this.getStorageProlongation();\r\n        log += this.getG2iUnlinking();\r\n        log += this.getResendRegeneration();\r\n        log += this.getRegenerationQueue();\r\n        log += this.getApiDlStatus(false);\r\n        log = encodeURIComponent(log.substring(0, 2000));\r\n        return "g2i-reqid=" + log;\r\n    };\r\n    BugTrackUtil.addFetchEventsLogHeader = function (options, header) {\r\n        if (options === void 0) { options = {}; }\r\n        if (header === void 0) { header = "g2i-reqid"; }\r\n        options.headers = options.headers || {};\r\n        var log = this.getUserReqLog();\r\n        log += this.getHttpNotJson();\r\n        log += this.getStorageProlongation();\r\n        log += this.getG2iUnlinking();\r\n        log += this.getResendRegeneration();\r\n        log += this.getRegenerationQueue();\r\n        log += this.getApiDlStatus(false);\r\n        options.headers[header] = log;\r\n        return options;\r\n    };\r\n    BugTrackUtil.addFetchLogHeader = function (headers, fetchURL, g2iReqIdHeader) {\r\n        if (g2iReqIdHeader === void 0) { g2iReqIdHeader = "g2i-reqid"; }\r\n        if (!headers.has(g2iReqIdHeader)) {\r\n            var guid = _Utils__WEBPACK_IMPORTED_MODULE_2__/* .Utils.createGUID */ .c.createGUID();\r\n            var psid = _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_3__/* .SessionService.Instance.PageSessionId */ .m.Instance.PageSessionId;\r\n            var log = "id=" + guid + ",time=" + Date.now() + ",psid:" + psid;\r\n            headers.append(g2iReqIdHeader, log);\r\n            var status_1 = "bef-fet:path=" + fetchURL.pathname + "+id=" + guid;\r\n            BugTrackUtil.addApiDlStatus(status_1);\r\n        }\r\n    };\r\n    BugTrackUtil.logEventFire = function (eventModel, isValid, firedEvents) {\r\n        this.eventsFired++;\r\n        if (this.isNeedCollect || !isValid || firedEvents.length) {\r\n            this.isNeedCollect = true;\r\n            this.eventsLog += "***FIRED***iv:" + isValid + ",fel:" + firedEvents.length + ",data:" + this.getEventModelData([eventModel]);\r\n        }\r\n    };\r\n    BugTrackUtil.logSendEvent = function (eventModels, options) {\r\n        this.eventsLog += "***REP:" + ((options === null || options === void 0 ? void 0 : options.IsResend) || false) + ",PSID:" + _Data_services_SessionService__WEBPACK_IMPORTED_MODULE_3__/* .SessionService.Instance.PageSessionId */ .m.Instance.PageSessionId + "***";\r\n        this.eventsSended++;\r\n        if (this.isNeedCollect || eventModels.length > 1 || this.eventsFired !== this.eventsSended) {\r\n            this.isNeedCollect = true;\r\n            this.eventsLog += "***SEND***ef/es:" + this.eventsFired + "/" + this.eventsSended + ",data:" + this.getEventModelData(eventModels);\r\n        }\r\n    };\r\n    BugTrackUtil.logPreventDuplicate = function (eventId) {\r\n        this.eventsLog += "***STOP_DUPL:" + eventId + "***";\r\n    };\r\n    BugTrackUtil.getEventModelData = function (eventModels) {\r\n        var result = "";\r\n        eventModels.forEach(function (model) {\r\n            var data = {\r\n                Id: model.Id,\r\n                ET: model.EventType,\r\n                DId: model.DeviceId\r\n            };\r\n            result += JSON.stringify(data);\r\n        });\r\n        return result;\r\n    };\r\n    BugTrackUtil.getEvetnLog = function () {\r\n        var log = this.logCount++ + "|" + _Utils__WEBPACK_IMPORTED_MODULE_2__/* .Utils.createGUID */ .c.createGUID() + "|" + _Utils__WEBPACK_IMPORTED_MODULE_2__/* .Utils.createGUID */ .c.createGUID() + "|" + new Date().valueOf();\r\n        if (this.eventsLog.length) {\r\n            log += "|" + this.eventsLog.substring(0, 1000);\r\n        }\r\n        return log;\r\n    };\r\n    BugTrackUtil.addEventsCall = function (data, status) {\r\n        if (!data)\r\n            return;\r\n        var key = this.logPrefix + data.Id;\r\n        try {\r\n            var existValue = localStorage.getItem(key);\r\n            if (existValue) {\r\n                status = existValue + " " + status;\r\n            }\r\n            localStorage.setItem(key, status);\r\n        }\r\n        catch (e) { }\r\n    };\r\n    BugTrackUtil.getEventsCall = function () {\r\n        return this.failedEventsLog;\r\n    };\r\n    BugTrackUtil.createEventsCall = function () {\r\n        var _this = this;\r\n        var log = "";\r\n        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix); })\r\n            .forEach(function (key) {\r\n            try {\r\n                var value = localStorage.getItem(key);\r\n                if (value.indexOf("RESOLVE_SUCCESS") === -1) {\r\n                    log += "key:" + key + ",value:" + value;\r\n                }\r\n            }\r\n            catch (e) { }\r\n        });\r\n        if (log) {\r\n            log = "|***FAILED_EVENTS***" + log.substring(0, 1000);\r\n        }\r\n        this.cleanEventsCall();\r\n        this.failedEventsLog = log;\r\n    };\r\n    BugTrackUtil.createEventCall = function (eventId) {\r\n        var _this = this;\r\n        var log = "***BEACON***";\r\n        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix) && key.indexOf(eventId) !== -1; })\r\n            .forEach(function (key) {\r\n            try {\r\n                log += localStorage.getItem(key) + "|";\r\n            }\r\n            catch (e) { }\r\n        });\r\n        return log;\r\n    };\r\n    BugTrackUtil.cleanEventsCall = function () {\r\n        var _this = this;\r\n        Object.keys(localStorage).filter(function (key) { return key.startsWith(_this.logPrefix); })\r\n            .forEach(function (key) {\r\n            try {\r\n                localStorage.removeItem(key);\r\n            }\r\n            catch (e) { }\r\n        });\r\n    };\r\n    BugTrackUtil.addExistingGuidLog = function (existingGuid) {\r\n        this.guidLog += existingGuid + "|";\r\n    };\r\n    BugTrackUtil.getGuidLog = function () {\r\n        var log = "";\r\n        if (this.guidLog.length) {\r\n            log += "***GUID_LOG***|" + this.guidLog.substr(-180);\r\n        }\r\n        return log;\r\n    };\r\n    BugTrackUtil.addRepeatDelay = function (delay) {\r\n        this.guidLog += "*DELAY:" + delay + "*";\r\n    };\r\n    BugTrackUtil.addUserReqAllowedSend = function () {\r\n        this.userReqAllowedSend = true;\r\n    };\r\n    BugTrackUtil.addUserReqReasons = function (reason) {\r\n        var result = reason;\r\n        if (this.userReqReasons) {\r\n            this.userReqReasons += ",";\r\n        }\r\n        this.userReqReasons += result;\r\n    };\r\n    BugTrackUtil.addUserErReqid = function (reqId) {\r\n        if (!reqId) {\r\n            reqId = "empty";\r\n        }\r\n        if (this.userErReqids) {\r\n            this.userErReqids += ",";\r\n        }\r\n        this.userErReqids += reqId;\r\n    };\r\n    BugTrackUtil.addUserReqErExpireDate = function (er_expire_date) {\r\n        var result = er_expire_date ? er_expire_date + "" : "empty";\r\n        if (this.userReqErExpireDates) {\r\n            this.userReqErExpireDates += ",";\r\n        }\r\n        this.userReqErExpireDates += result;\r\n    };\r\n    BugTrackUtil.getUserReqLog = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (!this.userReqAllowedSend) {\r\n            return result;\r\n        }\r\n        if (this.userReqReasons) {\r\n            result = "USER_REQ:rs-" + this.userReqReasons + "*dt-" + this.userReqErExpireDates + "*id-" + this.userErReqids + "|";\r\n        }\r\n        if (clear) {\r\n            this.userReqReasons = "";\r\n            this.userReqErExpireDates = "";\r\n            this.userErReqids = "";\r\n            this.userReqAllowedSend = false;\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.addHttpNotJson = function (text) {\r\n        this.httpRespNotJson = text;\r\n    };\r\n    BugTrackUtil.getHttpNotJson = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (this.httpRespNotJson) {\r\n            result = "HTTP_NOT_JSON:" + this.httpRespNotJson.substring(0, 180) + "|";\r\n        }\r\n        if (clear) {\r\n            this.httpRespNotJson = "";\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.addStorageProlongation = function (currentTimestamp, updatedTimestamp, regenerateJson) {\r\n        this.storageProlongation = "old_time-" + currentTimestamp + "*new_time-" + updatedTimestamp + "*json-" + JSON.stringify(regenerateJson);\r\n    };\r\n    BugTrackUtil.getStorageProlongation = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (this.storageProlongation) {\r\n            result = "STORE_PROLONG:" + this.storageProlongation + "|";\r\n        }\r\n        if (clear) {\r\n            this.storageProlongation = "";\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.addG2iUnlinking = function (currentG2i, updatedG2i, deviceId, data) {\r\n        var obj = "";\r\n        if (updatedG2i && updatedG2i !== "undefined") {\r\n            obj = "valid";\r\n        }\r\n        else {\r\n            try {\r\n                obj = (data ? JSON.stringify(data) : String(data)).substring(0, 200);\r\n            }\r\n            catch (ex) {\r\n                obj = "parse_error";\r\n            }\r\n        }\r\n        this.g2iUnlinking = "g2i-old-" + currentG2i + "*g2i-new-" + updatedG2i + "*did-" + deviceId + "*obj-" + obj;\r\n    };\r\n    BugTrackUtil.getG2iUnlinking = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (this.g2iUnlinking) {\r\n            result = "G2I_UNLINK:" + this.g2iUnlinking + "|";\r\n        }\r\n        if (clear) {\r\n            this.g2iUnlinking = "";\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.addResendRegenerationStatus = function (status, regeneration) {\r\n        this.resendRegeneration = "status-" + status + "*data-" + JSON.stringify(regeneration);\r\n    };\r\n    BugTrackUtil.getResendRegeneration = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (this.resendRegeneration) {\r\n            result = "RGNRT_RESEND:" + this.resendRegeneration + "|";\r\n        }\r\n        if (clear) {\r\n            this.resendRegeneration = "";\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.addRegenerationQueue = function (queue) {\r\n        this.regenerationQueue = "queue-" + JSON.stringify(queue);\r\n    };\r\n    BugTrackUtil.getRegenerationQueue = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (this.regenerationQueue) {\r\n            result = "RGNRT_RESEND:" + this.regenerationQueue + "|";\r\n        }\r\n        if (clear) {\r\n            this.regenerationQueue = "";\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.addErStatus = function (status) {\r\n        if (this.er_status[this.er_status.length - 1] !== status) {\r\n            this.er_status.push(status);\r\n            this.addApiDlStatus(status);\r\n        }\r\n    };\r\n    BugTrackUtil.addG2iStatus = function (status) {\r\n        if (this.g2i_status[this.g2i_status.length - 1] !== status) {\r\n            this.g2i_status.push(status);\r\n            this.addApiDlStatus(status);\r\n        }\r\n    };\r\n    BugTrackUtil.addApiDlStatus = function (status) {\r\n        this.apidl_status_history.push(status);\r\n    };\r\n    BugTrackUtil.getApiDlStatus = function (clear) {\r\n        if (clear === void 0) { clear = true; }\r\n        var result = "";\r\n        if (this.apidl_status_history) {\r\n            result = "APIDL_STATUS:" + this.apidl_status_history.join(",") + "|";\r\n        }\r\n        if (clear) {\r\n            this.apidl_status_history = [];\r\n        }\r\n        return result;\r\n    };\r\n    BugTrackUtil.eventsLog = "";\r\n    BugTrackUtil.eventsFired = 0;\r\n    BugTrackUtil.eventsSended = 0;\r\n    BugTrackUtil.isNeedCollect = false;\r\n    BugTrackUtil.logPrefix = "FailedEventLog_";\r\n    BugTrackUtil.guidLog = "";\r\n    BugTrackUtil.logCount = 0;\r\n    BugTrackUtil.userReqReasons = "";\r\n    BugTrackUtil.userReqErExpireDates = "";\r\n    BugTrackUtil.userErReqids = "";\r\n    BugTrackUtil.userReqAllowedSend = false;\r\n    BugTrackUtil.httpRespNotJson = "";\r\n    BugTrackUtil.storageProlongation = "";\r\n    BugTrackUtil.g2iUnlinking = "";\r\n    BugTrackUtil.resendRegeneration = "";\r\n    BugTrackUtil.regenerationQueue = "";\r\n    BugTrackUtil.er_status = [];\r\n    BugTrackUtil.g2i_status = [];\r\n    BugTrackUtil.apidl_status_history = [];\r\n    return BugTrackUtil;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi91dGlscy9CdWdUcmFja1V0aWwudHM/MDM3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb3REZXRlY3RvciB9IGZyb20gXCJATW9kdWxlcy9ib3REZXRlY3Rpb24vQm90RGV0ZWN0b3JcIjtcclxuaW1wb3J0IHsgQ29uZmlnTW9kdWxlIH0gZnJvbSBcIkBNb2R1bGVzL2NvbmZpZ01vZHVsZS9Db25maWdNb2R1bGVcIjtcclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiLi9VdGlsc1wiO1xyXG5pbXBvcnQgeyBDZHBFdmVudE1vZGVsIH0gZnJvbSBcIkBDb2xsZWN0b3JzL2NkcC1jb2xsZWN0b3JzL21vZGVscy9DZHBFdmVudE1vZGVsXCI7XHJcbmltcG9ydCB7IFNlbmRPcHRpb25zTW9kZWwgfSBmcm9tIFwiQENvbGxlY3RvcnMvY2RwLWNvbGxlY3RvcnMvbW9kZWxzL1NlbmRPcHRpb25zTW9kZWxcIjtcclxuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tIFwiQERhdGEvc2VydmljZXMvU2Vzc2lvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgSHR0cE9wdGlvbnMgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvaHR0cC9IdHRwXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnVnVHJhY2tVdGlsIHtcclxuICAgIC8vIHN0YXRpYyBMb2dnZXI6IExvZ2dlciA9IExvZ2dlclNlcnZpY2UuY3JlYXRlTG9nZ2VyKFwiQnVnVHJhY2tVdGlsXCIpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXZlbnRzTG9nID0gXCJcIjtcclxuICAgIHByaXZhdGUgc3RhdGljIGV2ZW50c0ZpcmVkID0gMDtcclxuICAgIHByaXZhdGUgc3RhdGljIGV2ZW50c1NlbmRlZCA9IDA7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpc05lZWRDb2xsZWN0ID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgbG9nUHJlZml4OiBzdHJpbmcgPSBcIkZhaWxlZEV2ZW50TG9nX1wiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZmFpbGVkRXZlbnRzTG9nOiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ3VpZExvZyA9IFwiXCI7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBsb2dDb3VudCA9IDA7XHJcblxyXG4gICAgc3RhdGljIGFkZEJvdEluZm9IZWFkZXIob3B0aW9uczogSHR0cE9wdGlvbnMgPSB7fSBhcyBIdHRwT3B0aW9ucywgaGVhZGVyOiBzdHJpbmcgPSBcImJvdGluZm9cIik6IEh0dHBPcHRpb25zIHtcclxuICAgICAgICBsZXQgYm90RGV0ZWN0b3IgPSBuZXcgQm90RGV0ZWN0b3IoKTtcclxuICAgICAgICBsZXQgZGV0ZWN0Qm90ID0gYm90RGV0ZWN0b3IuZ2V0RGV0ZWN0Qm90KCk7XHJcblxyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICBpZiAoZGV0ZWN0Qm90KSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1toZWFkZXJdID0gSlNPTi5zdHJpbmdpZnkoZGV0ZWN0Qm90KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEluaXRTZXR0aW5nc0hlYWRlcihvcHRpb25zOiBIdHRwT3B0aW9ucyA9IHt9IGFzIEh0dHBPcHRpb25zLCBoZWFkZXI6IHN0cmluZyA9IFwiaW5pdHNldHRpbmdzXCIpOiBIdHRwT3B0aW9ucyB7XHJcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgIGlmIChDb25maWdNb2R1bGUuZ2V0U2l0ZUNvZGUoKS50b0xvd2VyQ2FzZSgpID09PSBcInVua25vd25cIikge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBDb25maWdNb2R1bGUuZ2V0SW5pdENvbmZpZ3VyYXRpb24oKTtcclxuICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IE9iamVjdC5rZXlzKGNvbmZpZy5kaW1lbnNpb25zKTtcclxuICAgICAgICAgICAgLy8gc2VydmVycyBoYXMgaGVhZGVycyBzaXplIGxpbWl0IH44a2JcclxuICAgICAgICAgICAgb3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0gPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBsb2FkZXJJbmZvOiBVdGlscy5nZXRMb2FkZXJWZXJzaW9uSW5mbygpLFxyXG4gICAgICAgICAgICAgICAgaW5pdE9wdGlvbnM6IEpTT04uc3RyaW5naWZ5KENvbmZpZ01vZHVsZS5nZXRJbml0T3B0aW9ucygpKS5zdWJzdHJpbmcoMCwgMTAwMCksXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIHsgZGltZW5zaW9uczogZGltZW5zaW9ucyB9KSkuc3Vic3RyaW5nKDAsIDEwMDApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICAvLyBzdGF0aWMgYWRkUmVxdWVzdEhlYWRlcih4aHI6IFhNTEh0dHBSZXF1ZXN0LCBtb2RlbDogQ2RwRXZlbnRNb2RlbCk6IGFueSB7XHJcbiAgICAvLyAgICAgbGV0IGxvZyA9IHRoaXMuZ2V0VXNlclJlcUxvZygpO1xyXG4gICAgLy8gICAgIGxvZyArPSB0aGlzLmdldEh0dHBOb3RKc29uKCk7XHJcbiAgICAvLyAgICAgbG9nICs9IHRoaXMuZ2V0U3RvcmFnZVByb2xvbmdhdGlvbigpO1xyXG4gICAgLy8gICAgIGxvZyArPSB0aGlzLmdldEcyaVVubGlua2luZygpO1xyXG4gICAgLy8gICAgIGxvZyArPSB0aGlzLmdldFJlc2VuZFJlZ2VuZXJhdGlvbigpO1xyXG4gICAgLy8gICAgIGxvZyArPSB0aGlzLmdldFJlZ2VuZXJhdGlvblF1ZXVlKCk7XHJcbiAgICAvLyAgICAgbG9nICs9IHRoaXMuZ2V0QXBpRGxTdGF0dXMoZmFsc2UpO1xyXG4gICAgLy8gICAgIC8vIGxldCBsb2cgPSB0aGlzLmdldEV2ZXRuTG9nKCk7XHJcbiAgICAvLyAgICAgLy8gbG9nICs9IHRoaXMuZ2V0RXZlbnRzQ2FsbCgpO1xyXG4gICAgLy8gICAgIC8vIGxvZyArPSB0aGlzLmdldEd1aWRMb2coKTtcclxuICAgIC8vICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcImcyaS1yZXFpZFwiLCBsb2cpO1xyXG4gICAgLy8gICAgIHJldHVybiB4aHI7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgc3RhdGljIGdldEJlYWNvblJlcXVlc3RVcmxQYXJhbShtb2RlbDogQ2RwRXZlbnRNb2RlbCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxvZyA9IHRoaXMuZ2V0VXNlclJlcUxvZygpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldEh0dHBOb3RKc29uKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0U3RvcmFnZVByb2xvbmdhdGlvbigpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldEcyaVVubGlua2luZygpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldFJlc2VuZFJlZ2VuZXJhdGlvbigpO1xyXG4gICAgICAgIGxvZyArPSB0aGlzLmdldFJlZ2VuZXJhdGlvblF1ZXVlKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0QXBpRGxTdGF0dXMoZmFsc2UpO1xyXG4gICAgICAgIC8vIGxvZyArPSB0aGlzLmdldEV2ZXRuTG9nKCk7XHJcbiAgICAgICAgLy8gbG9nICs9IHRoaXMuY3JlYXRlRXZlbnRDYWxsKG1vZGVsLklkKTtcclxuICAgICAgICAvLyBsb2cgKz0gdGhpcy5nZXRHdWlkTG9nKCk7XHJcbiAgICAgICAgbG9nID0gZW5jb2RlVVJJQ29tcG9uZW50KGxvZy5zdWJzdHJpbmcoMCwgMjAwMCkpO1xyXG4gICAgICAgIHJldHVybiBgZzJpLXJlcWlkPSR7bG9nfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEZldGNoRXZlbnRzTG9nSGVhZGVyKG9wdGlvbnM6IGFueSA9IHt9LCBoZWFkZXI6IHN0cmluZyA9IFwiZzJpLXJlcWlkXCIpOiBhbnkge1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICBsZXQgbG9nID0gdGhpcy5nZXRVc2VyUmVxTG9nKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0SHR0cE5vdEpzb24oKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRTdG9yYWdlUHJvbG9uZ2F0aW9uKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0RzJpVW5saW5raW5nKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0UmVzZW5kUmVnZW5lcmF0aW9uKCk7XHJcbiAgICAgICAgbG9nICs9IHRoaXMuZ2V0UmVnZW5lcmF0aW9uUXVldWUoKTtcclxuICAgICAgICBsb2cgKz0gdGhpcy5nZXRBcGlEbFN0YXR1cyhmYWxzZSk7XHJcbiAgICAgICAgLy8gbG9nICs9IHRoaXMuZ2V0RXZldG5Mb2coKTtcclxuICAgICAgICAvLyBsb2cgKz0gdGhpcy5nZXRFdmVudHNDYWxsKCk7XHJcbiAgICAgICAgLy8gbG9nICs9IHRoaXMuZ2V0R3VpZExvZygpO1xyXG4gICAgICAgIG9wdGlvbnMuaGVhZGVyc1toZWFkZXJdID0gbG9nO1xyXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRGZXRjaExvZ0hlYWRlcihoZWFkZXJzOiBIZWFkZXJzLCBmZXRjaFVSTDogVVJMLCBnMmlSZXFJZEhlYWRlcjogc3RyaW5nID0gXCJnMmktcmVxaWRcIik6IGFueSB7XHJcbiAgICAgICAgaWYgKCFoZWFkZXJzLmhhcyhnMmlSZXFJZEhlYWRlcikpIHtcclxuICAgICAgICAgICAgY29uc3QgZ3VpZCA9IFV0aWxzLmNyZWF0ZUdVSUQoKTtcclxuICAgICAgICAgICAgY29uc3QgcHNpZCA9IFNlc3Npb25TZXJ2aWNlLkluc3RhbmNlLlBhZ2VTZXNzaW9uSWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZyA9IGBpZD0ke2d1aWR9LHRpbWU9JHtEYXRlLm5vdygpfSxwc2lkOiR7cHNpZH1gO1xyXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChnMmlSZXFJZEhlYWRlciwgbG9nKTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gYGJlZi1mZXQ6cGF0aD0ke2ZldGNoVVJMLnBhdGhuYW1lfStpZD0ke2d1aWR9YDtcclxuICAgICAgICAgICAgQnVnVHJhY2tVdGlsLmFkZEFwaURsU3RhdHVzKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2dFdmVudEZpcmUoZXZlbnRNb2RlbDogQ2RwRXZlbnRNb2RlbCwgaXNWYWxpZDogYm9vbGVhbiwgZmlyZWRFdmVudHM6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ldmVudHNGaXJlZCsrO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTmVlZENvbGxlY3QgfHwgIWlzVmFsaWQgfHwgZmlyZWRFdmVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNOZWVkQ29sbGVjdCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzTG9nICs9IGAqKipGSVJFRCoqKml2OiR7aXNWYWxpZH0sZmVsOiR7ZmlyZWRFdmVudHMubGVuZ3RofSxkYXRhOiR7dGhpcy5nZXRFdmVudE1vZGVsRGF0YShbZXZlbnRNb2RlbF0pfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBsb2dTZW5kRXZlbnQoZXZlbnRNb2RlbHM6IENkcEV2ZW50TW9kZWxbXSwgb3B0aW9ucz86IFNlbmRPcHRpb25zTW9kZWwpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmV2ZW50c0xvZyArPSBgKioqUkVQOiR7b3B0aW9ucz8uSXNSZXNlbmQgfHwgZmFsc2V9LFBTSUQ6JHtTZXNzaW9uU2VydmljZS5JbnN0YW5jZS5QYWdlU2Vzc2lvbklkfSoqKmA7XHJcbiAgICAgICAgdGhpcy5ldmVudHNTZW5kZWQrKztcclxuICAgICAgICBpZiAodGhpcy5pc05lZWRDb2xsZWN0IHx8IGV2ZW50TW9kZWxzLmxlbmd0aCA+IDEgfHwgdGhpcy5ldmVudHNGaXJlZCAhPT0gdGhpcy5ldmVudHNTZW5kZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc05lZWRDb2xsZWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudHNMb2cgKz0gYCoqKlNFTkQqKiplZi9lczoke3RoaXMuZXZlbnRzRmlyZWR9LyR7dGhpcy5ldmVudHNTZW5kZWR9LGRhdGE6JHt0aGlzLmdldEV2ZW50TW9kZWxEYXRhKGV2ZW50TW9kZWxzKX1gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgbG9nUHJldmVudER1cGxpY2F0ZShldmVudElkOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmV2ZW50c0xvZyArPSBgKioqU1RPUF9EVVBMOiR7ZXZlbnRJZH0qKipgO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRFdmVudE1vZGVsRGF0YShldmVudE1vZGVsczogQ2RwRXZlbnRNb2RlbFtdKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICBldmVudE1vZGVscy5mb3JFYWNoKChtb2RlbDogQ2RwRXZlbnRNb2RlbCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgSWQ6IG1vZGVsLklkLFxyXG4gICAgICAgICAgICAgICAgRVQ6IG1vZGVsLkV2ZW50VHlwZSxcclxuICAgICAgICAgICAgICAgIERJZDogbW9kZWwuRGV2aWNlSWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEV2ZXRuTG9nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxvZyA9IGAke3RoaXMubG9nQ291bnQrK318JHtVdGlscy5jcmVhdGVHVUlEKCl9fCR7VXRpbHMuY3JlYXRlR1VJRCgpfXwke25ldyBEYXRlKCkudmFsdWVPZigpfWA7XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzTG9nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsb2cgKz0gYHwke3RoaXMuZXZlbnRzTG9nLnN1YnN0cmluZygwLCAxMDAwKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbG9nO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRFdmVudHNDYWxsKGRhdGE6IENkcEV2ZW50TW9kZWwsIHN0YXR1czogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XHJcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5sb2dQcmVmaXggKyBkYXRhLklkO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0VmFsdWU6IHN0cmluZyAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICBpZiAoZXhpc3RWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzID0gYCR7ZXhpc3RWYWx1ZX0gJHtzdGF0dXN9YDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHN0YXR1cyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0RXZlbnRzQ2FsbCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZhaWxlZEV2ZW50c0xvZztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlRXZlbnRzQ2FsbCgpOiB2b2lkIHtcclxuICAgICAgICBsZXQgbG9nID0gXCJcIjtcclxuICAgICAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGtleS5zdGFydHNXaXRoKHRoaXMubG9nUHJlZml4KSlcclxuICAgICAgICAgICAgLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlOiBzdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiUkVTT0xWRV9TVUNDRVNTXCIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2cgKz0gYGtleToke2tleX0sdmFsdWU6JHt2YWx1ZX1gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChsb2cpIHtcclxuICAgICAgICAgICAgbG9nID0gXCJ8KioqRkFJTEVEX0VWRU5UUyoqKlwiICsgbG9nLnN1YnN0cmluZygwLCAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jbGVhbkV2ZW50c0NhbGwoKTtcclxuICAgICAgICB0aGlzLmZhaWxlZEV2ZW50c0xvZyA9IGxvZztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlRXZlbnRDYWxsKGV2ZW50SWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxvZyA9IFwiKioqQkVBQ09OKioqXCI7XHJcbiAgICAgICAgT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5maWx0ZXIoKGtleTogc3RyaW5nKSA9PiBrZXkuc3RhcnRzV2l0aCh0aGlzLmxvZ1ByZWZpeCkgJiYga2V5LmluZGV4T2YoZXZlbnRJZCkgIT09IC0xKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nICs9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgKyBcInxcIjtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBsb2c7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsZWFuRXZlbnRzQ2FsbCgpOiB2b2lkIHtcclxuICAgICAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZpbHRlcigoa2V5OiBzdHJpbmcpID0+IGtleS5zdGFydHNXaXRoKHRoaXMubG9nUHJlZml4KSlcclxuICAgICAgICAgICAgLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRFeGlzdGluZ0d1aWRMb2coZXhpc3RpbmdHdWlkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmd1aWRMb2cgKz0gYCR7ZXhpc3RpbmdHdWlkfXxgO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRHdWlkTG9nKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IGxvZyA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZ3VpZExvZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbG9nICs9IGAqKipHVUlEX0xPRyoqKnwke3RoaXMuZ3VpZExvZy5zdWJzdHIoLTE4MCl9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGxvZztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkUmVwZWF0RGVsYXkoZGVsYXk6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ3VpZExvZyArPSBgKkRFTEFZOiR7ZGVsYXl9KmA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdXNlclJlcVJlYXNvbnMgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdXNlclJlcUVyRXhwaXJlRGF0ZXMgPSBcIlwiO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdXNlckVyUmVxaWRzID0gXCJcIjtcclxuICAgIHByaXZhdGUgc3RhdGljIHVzZXJSZXFBbGxvd2VkU2VuZCA9IGZhbHNlO1xyXG5cclxuICAgIHN0YXRpYyBhZGRVc2VyUmVxQWxsb3dlZFNlbmQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy51c2VyUmVxQWxsb3dlZFNlbmQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRVc2VyUmVxUmVhc29ucyhyZWFzb246IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSByZWFzb247XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnVzZXJSZXFSZWFzb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclJlcVJlYXNvbnMgKz0gXCIsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXNlclJlcVJlYXNvbnMgKz0gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRVc2VyRXJSZXFpZChyZXFJZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFyZXFJZCkge1xyXG4gICAgICAgICAgICByZXFJZCA9IFwiZW1wdHlcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudXNlckVyUmVxaWRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXNlckVyUmVxaWRzICs9IFwiLFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVzZXJFclJlcWlkcyArPSByZXFJZDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkVXNlclJlcUVyRXhwaXJlRGF0ZShlcl9leHBpcmVfZGF0ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGVyX2V4cGlyZV9kYXRlID8gZXJfZXhwaXJlX2RhdGUgKyBcIlwiIDogXCJlbXB0eVwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51c2VyUmVxRXJFeHBpcmVEYXRlcykge1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJSZXFFckV4cGlyZURhdGVzICs9IFwiLFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVzZXJSZXFFckV4cGlyZURhdGVzICs9IHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0VXNlclJlcUxvZyhjbGVhciA9IHRydWUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMudXNlclJlcUFsbG93ZWRTZW5kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy51c2VyUmVxUmVhc29ucykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBgVVNFUl9SRVE6cnMtJHt0aGlzLnVzZXJSZXFSZWFzb25zfSpkdC0ke3RoaXMudXNlclJlcUVyRXhwaXJlRGF0ZXN9KmlkLSR7dGhpcy51c2VyRXJSZXFpZHN9fGA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2xlYXIpIHtcclxuICAgICAgICAgICAgdGhpcy51c2VyUmVxUmVhc29ucyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclJlcUVyRXhwaXJlRGF0ZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICB0aGlzLnVzZXJFclJlcWlkcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMudXNlclJlcUFsbG93ZWRTZW5kID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGh0dHBSZXNwTm90SnNvbiA9IFwiXCI7XHJcblxyXG4gICAgc3RhdGljIGFkZEh0dHBOb3RKc29uKHRleHQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaHR0cFJlc3BOb3RKc29uID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SHR0cE5vdEpzb24oY2xlYXIgPSB0cnVlKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaHR0cFJlc3BOb3RKc29uKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGBIVFRQX05PVF9KU09OOiR7dGhpcy5odHRwUmVzcE5vdEpzb24uc3Vic3RyaW5nKDAsIDE4MCl9fGA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2xlYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5odHRwUmVzcE5vdEpzb24gPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzdG9yYWdlUHJvbG9uZ2F0aW9uID0gXCJcIjtcclxuXHJcbiAgICBzdGF0aWMgYWRkU3RvcmFnZVByb2xvbmdhdGlvbihjdXJyZW50VGltZXN0YW1wOiBudW1iZXIsIHVwZGF0ZWRUaW1lc3RhbXA6IG51bWJlciwgcmVnZW5lcmF0ZUpzb246IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZVByb2xvbmdhdGlvbiA9IGBvbGRfdGltZS0ke2N1cnJlbnRUaW1lc3RhbXB9Km5ld190aW1lLSR7dXBkYXRlZFRpbWVzdGFtcH0qanNvbi0ke0pTT04uc3RyaW5naWZ5KHJlZ2VuZXJhdGVKc29uKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRTdG9yYWdlUHJvbG9uZ2F0aW9uKGNsZWFyID0gdHJ1ZSk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0b3JhZ2VQcm9sb25nYXRpb24pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYFNUT1JFX1BST0xPTkc6JHt0aGlzLnN0b3JhZ2VQcm9sb25nYXRpb259fGA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2xlYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9yYWdlUHJvbG9uZ2F0aW9uID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZzJpVW5saW5raW5nID0gXCJcIjtcclxuXHJcbiAgICBzdGF0aWMgYWRkRzJpVW5saW5raW5nKGN1cnJlbnRHMmk6IHN0cmluZywgdXBkYXRlZEcyaTogc3RyaW5nLCBkZXZpY2VJZDogc3RyaW5nLCBkYXRhOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBsZXQgb2JqID0gXCJcIjtcclxuICAgICAgICBpZiAodXBkYXRlZEcyaSAmJiB1cGRhdGVkRzJpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIG9iaiA9IFwidmFsaWRcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgb2JqID0gKGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IFN0cmluZyhkYXRhKSkuc3Vic3RyaW5nKDAsIDIwMCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICBvYmogPSBcInBhcnNlX2Vycm9yXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nMmlVbmxpbmtpbmcgPSBgZzJpLW9sZC0ke2N1cnJlbnRHMml9KmcyaS1uZXctJHt1cGRhdGVkRzJpfSpkaWQtJHtkZXZpY2VJZH0qb2JqLSR7b2JqfWA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEcyaVVubGlua2luZyhjbGVhciA9IHRydWUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5nMmlVbmxpbmtpbmcpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gYEcySV9VTkxJTks6JHt0aGlzLmcyaVVubGlua2luZ318YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLmcyaVVubGlua2luZyA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlc2VuZFJlZ2VuZXJhdGlvbiA9IFwiXCI7XHJcblxyXG4gICAgc3RhdGljIGFkZFJlc2VuZFJlZ2VuZXJhdGlvblN0YXR1cyhzdGF0dXM6IGJvb2xlYW4sIHJlZ2VuZXJhdGlvbjogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZXNlbmRSZWdlbmVyYXRpb24gPSBgc3RhdHVzLSR7c3RhdHVzfSpkYXRhLSR7SlNPTi5zdHJpbmdpZnkocmVnZW5lcmF0aW9uKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRSZXNlbmRSZWdlbmVyYXRpb24oY2xlYXIgPSB0cnVlKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVzZW5kUmVnZW5lcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGBSR05SVF9SRVNFTkQ6JHt0aGlzLnJlc2VuZFJlZ2VuZXJhdGlvbn18YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2VuZFJlZ2VuZXJhdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlZ2VuZXJhdGlvblF1ZXVlID0gXCJcIjtcclxuXHJcbiAgICBzdGF0aWMgYWRkUmVnZW5lcmF0aW9uUXVldWUocXVldWU6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZWdlbmVyYXRpb25RdWV1ZSA9IGBxdWV1ZS0ke0pTT04uc3RyaW5naWZ5KHF1ZXVlKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRSZWdlbmVyYXRpb25RdWV1ZShjbGVhciA9IHRydWUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yZWdlbmVyYXRpb25RdWV1ZSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBgUkdOUlRfUkVTRU5EOiR7dGhpcy5yZWdlbmVyYXRpb25RdWV1ZX18YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2VuZXJhdGlvblF1ZXVlID0gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgZXJfc3RhdHVzID0gW107XHJcbiAgICBwcml2YXRlIHN0YXRpYyBnMmlfc3RhdHVzID0gW107XHJcbiAgICBwcml2YXRlIHN0YXRpYyBhcGlkbF9zdGF0dXNfaGlzdG9yeSA9IFtdO1xyXG5cclxuICAgIHN0YXRpYyBhZGRFclN0YXR1cyhzdGF0dXM6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmVyX3N0YXR1c1t0aGlzLmVyX3N0YXR1cy5sZW5ndGggLSAxXSAhPT0gc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJfc3RhdHVzLnB1c2goc3RhdHVzKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRBcGlEbFN0YXR1cyhzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWRkRzJpU3RhdHVzKHN0YXR1czogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuZzJpX3N0YXR1c1t0aGlzLmcyaV9zdGF0dXMubGVuZ3RoIC0gMV0gIT09IHN0YXR1cykge1xyXG4gICAgICAgICAgICB0aGlzLmcyaV9zdGF0dXMucHVzaChzdGF0dXMpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEFwaURsU3RhdHVzKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRBcGlEbFN0YXR1cyhzdGF0dXM6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYXBpZGxfc3RhdHVzX2hpc3RvcnkucHVzaChzdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRBcGlEbFN0YXR1cyhjbGVhciA9IHRydWUpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hcGlkbF9zdGF0dXNfaGlzdG9yeSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBgQVBJRExfU1RBVFVTOiR7dGhpcy5hcGlkbF9zdGF0dXNfaGlzdG9yeS5qb2luKFwiLFwiKX18YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjbGVhcikge1xyXG4gICAgICAgICAgICB0aGlzLmFwaWRsX3N0YXR1c19oaXN0b3J5ID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8578\n')},1921:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "E": () => (/* binding */ DateUtil)\n/* harmony export */ });\nvar DateUtil = (function () {\r\n    function DateUtil() {\r\n    }\r\n    DateUtil.getNowDateInSec = function () {\r\n        return DateUtil.getDateInSec(new Date().getTime());\r\n    };\r\n    DateUtil.getDateInSec = function (date) {\r\n        return parseInt(date.toString().slice(0, -3));\r\n    };\r\n    DateUtil.getISOFormat = function (date) {\r\n        var isoRegxp = new RegExp(/^(-?(?:[1-9][0-9]*)?[0-9]{4})(1[0-2]|0[1-9])(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/);\r\n        try {\r\n            if (isoRegxp.test(date)) {\r\n                var matches = date.match(isoRegxp);\r\n                date = matches[1] + "-" + matches[2] + "-" + matches[3] + "T" + matches[4] + ":" + matches[5] + matches[6] + "Z";\r\n            }\r\n            if (this.isValidDate(date)) {\r\n                var parsedDate = this.getCorrectDate(date);\r\n                return this.toISOString(parsedDate);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.log("getISOFormat", error);\r\n            return null;\r\n        }\r\n    };\r\n    DateUtil.isIsoFormat = function (stringDate) {\r\n        return stringDate.test(/^(-?(?:[1-9][0-9]*)?[0-9]{4})(1[0-2]|0[1-9])(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9])(.[0-9]+)?(Z)?$/);\r\n    };\r\n    DateUtil.isValidDate = function (dateStr) {\r\n        var timestamp = Date.parse(dateStr);\r\n        return !isNaN(timestamp);\r\n    };\r\n    DateUtil.getCorrectDate = function (date) {\r\n        var parsedDate = new Date(date);\r\n        if (this.isUnixTimeRange(parsedDate)) {\r\n            return parsedDate;\r\n        }\r\n        return new Date();\r\n    };\r\n    DateUtil.isUnixTimeRange = function (date) {\r\n        return date.getUTCFullYear() >= 1970;\r\n    };\r\n    DateUtil.pad = function (value) {\r\n        if (value < 10) {\r\n            return "0" + value;\r\n        }\r\n        return value;\r\n    };\r\n    DateUtil.toISOString = function (date) {\r\n        return date.getUTCFullYear() +\r\n            "" + this.pad(date.getUTCMonth() + 1) +\r\n            "" + this.pad(date.getUTCDate()) +\r\n            "T" + this.pad(date.getUTCHours()) +\r\n            ":" + this.pad(date.getUTCMinutes()) +\r\n            ":" + this.pad(date.getUTCSeconds()) +\r\n            "Z";\r\n    };\r\n    ;\r\n    DateUtil.getTimestamp = function (eventTimestamp) {\r\n        if (!eventTimestamp) {\r\n            return this.getNowDateInSec();\r\n        }\r\n        var timestampPart = ("" + eventTimestamp).substring(0, 10);\r\n        var indexPoint = timestampPart.indexOf(".");\r\n        if (indexPoint > -1) {\r\n            timestampPart = eventTimestamp.replace(/\\./g, "");\r\n            timestampPart = ("" + timestampPart).substring(0, 10);\r\n        }\r\n        var intPart = parseInt(timestampPart);\r\n        if (intPart.toString().length !== 10) {\r\n            return this.getNowDateInSec();\r\n        }\r\n        else {\r\n            return intPart;\r\n        }\r\n    };\r\n    DateUtil.addDays = function (theDate, days) {\r\n        return new Date(theDate.getTime() + days * 24 * 60 * 60 * 1000).valueOf();\r\n    };\r\n    DateUtil.addHours = function (theDate, hours) {\r\n        return new Date(theDate.getTime() + hours * 60 * 60 * 1000).valueOf();\r\n    };\r\n    DateUtil.getDateValueFromTimestamp = function (timestamp) {\r\n        return timestamp * 1000;\r\n    };\r\n    DateUtil.daysDiff = function (startDateValue) {\r\n        return Math.floor((new Date().valueOf() - +startDateValue) / 86400000);\r\n    };\r\n    return DateUtil;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkyMS5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtJQUFBO0lBeUdBLENBQUM7SUF4R1Usd0JBQWUsR0FBdEI7UUFDSSxPQUFPLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFTSxxQkFBWSxHQUFuQixVQUFvQixJQUFZO1FBQzVCLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRU0scUJBQVksR0FBbkIsVUFBb0IsSUFBWTtRQUU1QixJQUFNLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxxSEFBcUgsQ0FBQyxDQUFDO1FBQ25KLElBQUk7WUFDQSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ3JCLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3JDLElBQUksR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO2FBQ3BIO1lBQ0QsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN4QixJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM3QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDdkM7aUJBQU07Z0JBQ0gsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDWixPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNuQyxPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQUVNLG9CQUFXLEdBQWxCLFVBQW1CLFVBQVU7UUFDekIsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLHFIQUFxSCxDQUFDLENBQUM7SUFDbEosQ0FBQztJQUVNLG9CQUFXLEdBQWxCLFVBQW1CLE9BQWU7UUFDOUIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFTSx1QkFBYyxHQUFyQixVQUFzQixJQUFZO1FBQzlCLElBQU0sVUFBVSxHQUFTLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNsQyxPQUFPLFVBQVUsQ0FBQztTQUNyQjtRQUNELE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRU0sd0JBQWUsR0FBdEIsVUFBdUIsSUFBVTtRQUM3QixPQUFPLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxJQUFJLENBQUM7SUFDekMsQ0FBQztJQUVNLFlBQUcsR0FBVixVQUFXLEtBQUs7UUFDWixJQUFJLEtBQUssR0FBRyxFQUFFLEVBQUU7WUFDWixPQUFPLEdBQUcsR0FBRyxLQUFLLENBQUM7U0FDdEI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0sb0JBQVcsR0FBbEIsVUFBbUIsSUFBVTtRQUV6QixPQUFPLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDeEIsRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNyQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDaEMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2xDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNwQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDcEMsR0FBRyxDQUFDO0lBQ1osQ0FBQztJQUFBLENBQUM7SUFFSyxxQkFBWSxHQUFuQixVQUFvQixjQUFvQjtRQUVwQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ2pCLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ2pDO1FBQ0QsSUFBSSxhQUFhLEdBQUcsQ0FBQyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUUzRCxJQUFJLFVBQVUsR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLElBQUksVUFBVSxHQUFHLENBQUUsQ0FBQyxFQUFFO1lBQ2xCLGFBQWEsR0FBRyxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNsRCxhQUFhLEdBQUcsQ0FBQyxFQUFFLEdBQUcsYUFBYSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUN6RDtRQUVELElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN0QyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1NBQ2pDO2FBQU07WUFDSCxPQUFPLE9BQU8sQ0FBQztTQUNsQjtJQUNMLENBQUM7SUFFTSxnQkFBTyxHQUFkLFVBQWUsT0FBYSxFQUFFLElBQVk7UUFDdEMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzlFLENBQUM7SUFFTSxpQkFBUSxHQUFmLFVBQWdCLE9BQWEsRUFBRSxLQUFhO1FBQ3hDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzFFLENBQUM7SUFFTSxrQ0FBeUIsR0FBaEMsVUFBaUMsU0FBaUI7UUFDOUMsT0FBTyxTQUFTLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFFTSxpQkFBUSxHQUFmLFVBQWdCLGNBQXNCO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBRUwsZUFBQztBQUFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi91dGlscy9EYXRlVXRpbC50cz8xZTk2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBEYXRlVXRpbCB7XHJcbiAgICBzdGF0aWMgZ2V0Tm93RGF0ZUluU2VjKCkge1xyXG4gICAgICAgIHJldHVybiBEYXRlVXRpbC5nZXREYXRlSW5TZWMobmV3IERhdGUoKS5nZXRUaW1lKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXREYXRlSW5TZWMoZGF0ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRhdGUudG9TdHJpbmcoKS5zbGljZSgwLCAtIDMpKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SVNPRm9ybWF0KGRhdGU6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gMjAxOTA0MjZUMTI6MjE6MThaXHJcbiAgICAgICAgY29uc3QgaXNvUmVneHAgPSBuZXcgUmVnRXhwKC9eKC0/KD86WzEtOV1bMC05XSopP1swLTldezR9KSgxWzAtMl18MFsxLTldKSgzWzAxXXwwWzEtOV18WzEyXVswLTldKVQoMlswLTNdfFswMV1bMC05XSk6KFswLTVdWzAtOV0pKC5bMC05XSspPyhaKT8kLyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGlzb1JlZ3hwLnRlc3QoZGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBkYXRlLm1hdGNoKGlzb1JlZ3hwKTtcclxuICAgICAgICAgICAgICAgIGRhdGUgPSBtYXRjaGVzWzFdICsgXCItXCIgKyBtYXRjaGVzWzJdICsgXCItXCIgKyBtYXRjaGVzWzNdICsgXCJUXCIgKyBtYXRjaGVzWzRdICsgXCI6XCIgKyBtYXRjaGVzWzVdICsgbWF0Y2hlc1s2XSArIFwiWlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWREYXRlKGRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWREYXRlID0gdGhpcy5nZXRDb3JyZWN0RGF0ZShkYXRlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSVNPU3RyaW5nKHBhcnNlZERhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImdldElTT0Zvcm1hdFwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNJc29Gb3JtYXQoc3RyaW5nRGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBzdHJpbmdEYXRlLnRlc3QoL14oLT8oPzpbMS05XVswLTldKik/WzAtOV17NH0pKDFbMC0yXXwwWzEtOV0pKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pVCgyWzAtM118WzAxXVswLTldKTooWzAtNV1bMC05XSkoLlswLTldKyk/KFopPyQvKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNWYWxpZERhdGUoZGF0ZVN0cjogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHRpbWVzdGFtcCA9IERhdGUucGFyc2UoZGF0ZVN0cik7XHJcbiAgICAgICAgcmV0dXJuICFpc05hTih0aW1lc3RhbXApO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDb3JyZWN0RGF0ZShkYXRlOiBzdHJpbmcpOiBEYXRlIHtcclxuICAgICAgICBjb25zdCBwYXJzZWREYXRlOiBEYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNVbml4VGltZVJhbmdlKHBhcnNlZERhdGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWREYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgaXNVbml4VGltZVJhbmdlKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpID49IDE5NzA7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBhZCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjBcIiArIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHRvSVNPU3RyaW5nKGRhdGU6IERhdGUpIHtcclxuICAgICAgICAvLyAyMDE5MDYwMVQxMzoxNDoxNVpcclxuICAgICAgICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpICtcclxuICAgICAgICAgICAgXCJcIiArIHRoaXMucGFkKGRhdGUuZ2V0VVRDTW9udGgoKSArIDEpICtcclxuICAgICAgICAgICAgXCJcIiArIHRoaXMucGFkKGRhdGUuZ2V0VVRDRGF0ZSgpKSArXHJcbiAgICAgICAgICAgIFwiVFwiICsgdGhpcy5wYWQoZGF0ZS5nZXRVVENIb3VycygpKSArXHJcbiAgICAgICAgICAgIFwiOlwiICsgdGhpcy5wYWQoZGF0ZS5nZXRVVENNaW51dGVzKCkpICtcclxuICAgICAgICAgICAgXCI6XCIgKyB0aGlzLnBhZChkYXRlLmdldFVUQ1NlY29uZHMoKSkgK1xyXG4gICAgICAgICAgICBcIlpcIjtcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGdldFRpbWVzdGFtcChldmVudFRpbWVzdGFtcD86IGFueSk6IG51bWJlciB7XHJcblxyXG4gICAgICAgIGlmICghZXZlbnRUaW1lc3RhbXApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm93RGF0ZUluU2VjKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0aW1lc3RhbXBQYXJ0ID0gKFwiXCIgKyBldmVudFRpbWVzdGFtcCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuXHJcbiAgICAgICAgbGV0IGluZGV4UG9pbnQgPSB0aW1lc3RhbXBQYXJ0LmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgIGlmIChpbmRleFBvaW50ID4gLSAxKSB7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcnQgPSBldmVudFRpbWVzdGFtcC5yZXBsYWNlKC9cXC4vZywgXCJcIik7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcFBhcnQgPSAoXCJcIiArIHRpbWVzdGFtcFBhcnQpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaW50UGFydCA9IHBhcnNlSW50KHRpbWVzdGFtcFBhcnQpO1xyXG4gICAgICAgIGlmIChpbnRQYXJ0LnRvU3RyaW5nKCkubGVuZ3RoICE9PSAxMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXROb3dEYXRlSW5TZWMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaW50UGFydDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZERheXModGhlRGF0ZTogRGF0ZSwgZGF5czogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhlRGF0ZS5nZXRUaW1lKCkgKyBkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkudmFsdWVPZigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBhZGRIb3Vycyh0aGVEYXRlOiBEYXRlLCBob3VyczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhlRGF0ZS5nZXRUaW1lKCkgKyBob3VycyAqIDYwICogNjAgKiAxMDAwKS52YWx1ZU9mKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERhdGVWYWx1ZUZyb21UaW1lc3RhbXAodGltZXN0YW1wOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aW1lc3RhbXAgKiAxMDAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBkYXlzRGlmZihzdGFydERhdGVWYWx1ZTogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigobmV3IERhdGUoKS52YWx1ZU9mKCkgLSArc3RhcnREYXRlVmFsdWUpIC8gODY0MDAwMDApO1xyXG4gICAgfVxyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1921\n')},9276:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "D": () => (/* binding */ DeviceDetector)\n/* harmony export */ });\n/* unused harmony export DeviceDetectorClass */\nvar UserAgentRules = [\r\n    ["Aol", /AOLShield\\/([0-9\\._]+)/],\r\n    ["Edge", /Edge\\/([0-9\\._]+)/],\r\n    ["Yandexbrowser", /YaBrowser\\/([0-9\\._]+)/],\r\n    ["Vivaldi", /Vivaldi\\/([0-9\\.]+)/],\r\n    ["Kakaotalk", /KAKAOTALK\\s([0-9\\.]+)/],\r\n    ["Samsung", /SamsungBrowser\\/([0-9\\.]+)/],\r\n    ["Silk", /\\bSilk\\/([0-9._-]+)\\b/],\r\n    ["Miui", /MiuiBrowser\\/([0-9\\.]+)$/],\r\n    ["Beaker", /BeakerBrowser\\/([0-9\\.]+)/],\r\n    ["Edge-chromium", /Edg\\/([0-9\\.]+)/],\r\n    ["Chromium-webview", /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ["Chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ["Phantomjs", /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ["Crios", /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ["Firefox", /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\r\n    ["Fxios", /FxiOS\\/([0-9\\.]+)/],\r\n    ["Opera-mini", /Opera Mini.*Version\\/([0-9\\.]+)/],\r\n    ["Opera", /Opera\\/([0-9\\.]+)(?:\\s|$)/],\r\n    ["Opera", /OPR\\/([0-9\\.]+)(:?\\s|$)/],\r\n    ["IE", /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\r\n    ["IE", /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\r\n    ["IE", /MSIE\\s(7\\.0)/],\r\n    ["Bb10", /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\r\n    ["UCBrowser", /(?:UCWEB|UCBrowser\\/)([\\d\\.]+)/],\r\n    ["Android", /Android\\s([0-9\\.]+)/],\r\n    ["Ios", /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\r\n    ["Safari", /Version\\/([0-9\\._]+).*Safari/],\r\n    ["Facebook", /FBAV\\/([0-9\\.]+)/],\r\n    ["Instagram", /Instagram\\s([0-9\\.]+)/],\r\n    ["Ios-webview", /AppleWebKit\\/([0-9\\.]+).*Mobile/],\r\n    ["Ios-webview", /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/]\r\n];\r\nvar OperatingSystemRules = [\r\n    ["iOS", /iP(hone|od|ad)/],\r\n    ["Android OS", /Android/],\r\n    ["BlackBerry OS", /BlackBerry|BB10/],\r\n    ["Windows Mobile", /IEMobile/],\r\n    ["Amazon OS", /Kindle/],\r\n    ["Windows 3.11", /Win16/],\r\n    ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],\r\n    ["Windows 98", /(Windows 98)|(Win98)/],\r\n    ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],\r\n    ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],\r\n    ["Windows Server 2003", /(Windows NT 5.2)/],\r\n    ["Windows Vista", /(Windows NT 6.0)/],\r\n    ["Windows 7", /(Windows NT 6.1)/],\r\n    ["Windows 8", /(Windows NT 6.2)/],\r\n    ["Windows 8.1", /(Windows NT 6.3)/],\r\n    ["Windows 10", /(Windows NT 10.0)/],\r\n    ["Windows ME", /Windows ME/],\r\n    ["Open BSD", /OpenBSD/],\r\n    ["Sun OS", /SunOS/],\r\n    ["Chrome OS", /CrOS/],\r\n    ["Linux", /(Linux)|(X11)/],\r\n    ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],\r\n    ["QNX", /QNX/],\r\n    ["BeOS", /BeOS/],\r\n    ["OS/2", /OS\\/2/]\r\n];\r\nvar DeviceDetectorClass = (function () {\r\n    function DeviceDetectorClass() {\r\n        this.calculateDeviceId = null;\r\n        this.initPromise = null;\r\n        this.userAgent = navigator.userAgent;\r\n    }\r\n    DeviceDetectorClass.prototype.setUserAgent = function (userAgent) {\r\n        this.userAgent = userAgent;\r\n    };\r\n    DeviceDetectorClass.prototype.isHasLeavePageProblems = function () {\r\n        if (window.DeviceDetector) {\r\n            var browserName = this.getBrowser() ? window.DeviceDetector.Device.browser.name.toLowerCase() : "";\r\n            var chromeProblem = browserName === "chrome" && parseInt(this.getBrowserVersion()) >= 80;\r\n            var operaProblem = browserName === "opera" && parseInt(this.getBrowserVersion()) >= 67;\r\n            return chromeProblem || operaProblem;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    DeviceDetectorClass.prototype.getBrowserVersion = function () {\r\n        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.browser) {\r\n            return window.DeviceDetector.Device.browser.version;\r\n        }\r\n        return null;\r\n    };\r\n    DeviceDetectorClass.prototype.getBrowser = function () {\r\n        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.browser) {\r\n            return window.DeviceDetector.Device.browser.name;\r\n        }\r\n        for (var browserIndex = 0; browserIndex < UserAgentRules.length; browserIndex++) {\r\n            if (new RegExp(UserAgentRules[browserIndex][1]).test(this.userAgent)) {\r\n                return UserAgentRules[browserIndex][0];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    DeviceDetectorClass.prototype.getOs = function () {\r\n        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.os) {\r\n            return window.DeviceDetector.Device.os.name + " " + (window.DeviceDetector.Device.os.version || "");\r\n        }\r\n        for (var osIndex = 0; osIndex < OperatingSystemRules.length; osIndex++) {\r\n            if (new RegExp(OperatingSystemRules[osIndex][1]).test(this.userAgent)) {\r\n                return OperatingSystemRules[osIndex][0];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    DeviceDetectorClass.prototype.isMobile = function () {\r\n        var mobileRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;\r\n        return mobileRE.test(this.userAgent);\r\n    };\r\n    DeviceDetectorClass.prototype.getDeviceType = function () {\r\n        if (window.DeviceDetector && window.DeviceDetector.Device && window.DeviceDetector.Device.platform) {\r\n            return window.DeviceDetector.Device.platform.type;\r\n        }\r\n        if (this.isMobile()) {\r\n            return "Mobile";\r\n        }\r\n        else {\r\n            var tabletRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;\r\n            if (tabletRE.test(this.userAgent)) {\r\n                return "Tablet";\r\n            }\r\n        }\r\n        return "Desktop";\r\n    };\r\n    DeviceDetectorClass.prototype.getMetaData = function () {\r\n        return {\r\n            Browser: this.getBrowser(),\r\n            OS: this.getOs(),\r\n            DeviceType: this.getDeviceType(),\r\n            URL: window.location.href\r\n        };\r\n    };\r\n    DeviceDetectorClass.prototype.initDeviceId = function (mockOldIfNeed) {\r\n        var _this = this;\r\n        if (!this.initPromise) {\r\n            this.initPromise = this.getDeviceIdFromFP()\r\n                .then(function (deviceId) {\r\n                _this._setCalculatedDeviceId(deviceId);\r\n                return deviceId;\r\n            }).catch(function () {\r\n                return Promise.resolve(null);\r\n            }).then(function (deviceId) {\r\n                return mockOldIfNeed(deviceId);\r\n            }).then(function (maybeMockedValue) {\r\n                _this._setCalculatedDeviceId(maybeMockedValue);\r\n                return maybeMockedValue;\r\n            });\r\n        }\r\n        return this.initPromise;\r\n    };\r\n    DeviceDetectorClass.prototype.getDeviceId = function () {\r\n        var _this = this;\r\n        return this.initPromise.then(function () { return _this.calculateDeviceId; });\r\n    };\r\n    DeviceDetectorClass.prototype.getDeviceIdFromFP = function () {\r\n        var fingerPrint = window.Fingerprint;\r\n        if (fingerPrint && typeof fingerPrint.getDeviceID === "function") {\r\n            return window.Fingerprint.getDeviceID();\r\n        }\r\n        else {\r\n            return this.getDeviceIdFromOldVersionFP();\r\n        }\r\n    };\r\n    DeviceDetectorClass.prototype.getDeviceIdFromOldVersionFP = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.calculateDeviceId) {\r\n                resolve(_this.calculateDeviceId);\r\n                return;\r\n            }\r\n            var fpInterval = setInterval(function () {\r\n                var fingerPrint = _this.getFingerPrintAccess();\r\n                if (fingerPrint) {\r\n                    var deviceId = fingerPrint.getDeviceId();\r\n                    if (deviceId) {\r\n                        _this.calculateDeviceId = deviceId;\r\n                        clearInterval(fpInterval);\r\n                        resolve(deviceId);\r\n                        return;\r\n                    }\r\n                }\r\n            }, 100);\r\n            setTimeout(function () {\r\n                if (!_this.calculateDeviceId) {\r\n                    clearInterval(fpInterval);\r\n                    console.warn("FP is not available or can not calculate deviceId");\r\n                    reject();\r\n                }\r\n            }, 3500);\r\n        });\r\n    };\r\n    DeviceDetectorClass.prototype.getFingerPrintAccess = function () {\r\n        if (window.Fprinting) {\r\n            return window.Fprinting();\r\n        }\r\n        if (window.Fingerprint) {\r\n            return window.Fingerprint;\r\n        }\r\n    };\r\n    DeviceDetectorClass.prototype.getCalculatedDeviceId = function () {\r\n        return this.calculateDeviceId;\r\n    };\r\n    DeviceDetectorClass.prototype._setCalculatedDeviceId = function (calculateDeviceId) {\r\n        this.calculateDeviceId = calculateDeviceId;\r\n    };\r\n    DeviceDetectorClass.prototype.setCalculatedDeviceId = function (calculateDeviceId) {\r\n        this._setCalculatedDeviceId(calculateDeviceId);\r\n    };\r\n    return DeviceDetectorClass;\r\n}());\r\n\r\nvar DeviceDetector = new DeviceDetectorClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQXJCO1FBQ0ksT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDbEMsQ0FBQztJQUVELG9EQUFzQixHQUF0QixVQUF1QixpQkFBaUI7UUFDcEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO0lBQy9DLENBQUM7SUFFRCxtREFBcUIsR0FBckIsVUFBc0IsaUJBQWlCO1FBQ25DLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFJTCwwQkFBQztBQUFELENBQUM7O0FBRU0sSUFBTSxjQUFjLEdBQUcsSUFBSSxtQkFBbUIsRUFBRSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vdXRpbHMvRGV2aWNlRGV0ZWN0b3IudHM/MWE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIE9wZXJhdGluZ1N5c3RlbSA9XHJcbiAgICB8IFwiaU9TXCJcclxuICAgIHwgXCJBbmRyb2lkIE9TXCJcclxuICAgIHwgXCJCbGFja0JlcnJ5IE9TXCJcclxuICAgIHwgXCJXaW5kb3dzIE1vYmlsZVwiXHJcbiAgICB8IFwiQW1hem9uIE9TXCJcclxuICAgIHwgXCJXaW5kb3dzIDMuMTFcIlxyXG4gICAgfCBcIldpbmRvd3MgOTVcIlxyXG4gICAgfCBcIldpbmRvd3MgOThcIlxyXG4gICAgfCBcIldpbmRvd3MgMjAwMFwiXHJcbiAgICB8IFwiV2luZG93cyBYUFwiXHJcbiAgICB8IFwiV2luZG93cyBTZXJ2ZXIgMjAwM1wiXHJcbiAgICB8IFwiV2luZG93cyBWaXN0YVwiXHJcbiAgICB8IFwiV2luZG93cyA3XCJcclxuICAgIHwgXCJXaW5kb3dzIDhcIlxyXG4gICAgfCBcIldpbmRvd3MgOC4xXCJcclxuICAgIHwgXCJXaW5kb3dzIDEwXCJcclxuICAgIHwgXCJXaW5kb3dzIE1FXCJcclxuICAgIHwgXCJPcGVuIEJTRFwiXHJcbiAgICB8IFwiU3VuIE9TXCJcclxuICAgIHwgXCJMaW51eFwiXHJcbiAgICB8IFwiTWFjIE9TXCJcclxuICAgIHwgXCJRTlhcIlxyXG4gICAgfCBcIkJlT1NcIlxyXG4gICAgfCBcIk9TLzJcIlxyXG4gICAgfCBcIkNocm9tZSBPU1wiO1xyXG5cclxudHlwZSBCcm93c2VyID1cclxuICAgIHwgXCJBb2xcIlxyXG4gICAgfCBcIkVkZ2VcIlxyXG4gICAgfCBcIllhbmRleGJyb3dzZXJcIlxyXG4gICAgfCBcIlZpdmFsZGlcIlxyXG4gICAgfCBcIktha2FvdGFsa1wiXHJcbiAgICB8IFwiU2Ftc3VuZ1wiXHJcbiAgICB8IFwiU2lsa1wiXHJcbiAgICB8IFwiTWl1aVwiXHJcbiAgICB8IFwiQmVha2VyXCJcclxuICAgIHwgXCJFZGdlLWNocm9taXVtXCJcclxuICAgIHwgXCJDaHJvbWVcIlxyXG4gICAgfCBcIkNocm9taXVtLXdlYnZpZXdcIlxyXG4gICAgfCBcIlBoYW50b21qc1wiXHJcbiAgICB8IFwiQ3Jpb3NcIlxyXG4gICAgfCBcIkZpcmVmb3hcIlxyXG4gICAgfCBcIkZ4aW9zXCJcclxuICAgIHwgXCJPcGVyYS1taW5pXCJcclxuICAgIHwgXCJPcGVyYVwiXHJcbiAgICB8IFwiSUVcIlxyXG4gICAgfCBcIkJiMTBcIlxyXG4gICAgfCBcIkFuZHJvaWRcIlxyXG4gICAgfCBcIklvc1wiXHJcbiAgICB8IFwiU2FmYXJpXCJcclxuICAgIHwgXCJGYWNlYm9va1wiXHJcbiAgICB8IFwiSW5zdGFncmFtXCJcclxuICAgIHwgXCJJb3Mtd2Vidmlld1wiXHJcbiAgICB8IFwiVUNCcm93c2VyXCI7XHJcbnR5cGUgVXNlckFnZW50UnVsZSA9IFtCcm93c2VyLCBSZWdFeHBdO1xyXG5cclxuY29uc3QgVXNlckFnZW50UnVsZXM6IFVzZXJBZ2VudFJ1bGVbXSA9IFtcclxuICAgIFtcIkFvbFwiLCAvQU9MU2hpZWxkXFwvKFswLTlcXC5fXSspL10sXHJcbiAgICBbXCJFZGdlXCIsIC9FZGdlXFwvKFswLTlcXC5fXSspL10sXHJcbiAgICBbXCJZYW5kZXhicm93c2VyXCIsIC9ZYUJyb3dzZXJcXC8oWzAtOVxcLl9dKykvXSxcclxuICAgIFtcIlZpdmFsZGlcIiwgL1ZpdmFsZGlcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiS2FrYW90YWxrXCIsIC9LQUtBT1RBTEtcXHMoWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiU2Ftc3VuZ1wiLCAvU2Ftc3VuZ0Jyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiU2lsa1wiLCAvXFxiU2lsa1xcLyhbMC05Ll8tXSspXFxiL10sXHJcbiAgICBbXCJNaXVpXCIsIC9NaXVpQnJvd3NlclxcLyhbMC05XFwuXSspJC9dLFxyXG4gICAgW1wiQmVha2VyXCIsIC9CZWFrZXJCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIkVkZ2UtY2hyb21pdW1cIiwgL0VkZ1xcLyhbMC05XFwuXSspL10sXHJcbiAgICBbXCJDaHJvbWl1bS13ZWJ2aWV3XCIsIC8oPyFDaHJvbS4qT1BSKXd2XFwpLipDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXHJcbiAgICBbXCJDaHJvbWVcIiwgLyg/IUNocm9tLipPUFIpQ2hyb20oPzplfGl1bSlcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiUGhhbnRvbWpzXCIsIC9QaGFudG9tSlNcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiQ3Jpb3NcIiwgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcclxuICAgIFtcIkZpcmVmb3hcIiwgL0ZpcmVmb3hcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxyXG4gICAgW1wiRnhpb3NcIiwgL0Z4aU9TXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIk9wZXJhLW1pbmlcIiwgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxyXG4gICAgW1wiT3BlcmFcIiwgL09wZXJhXFwvKFswLTlcXC5dKykoPzpcXHN8JCkvXSxcclxuICAgIFtcIk9wZXJhXCIsIC9PUFJcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFxyXG4gICAgW1wiSUVcIiwgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcclxuICAgIFtcIklFXCIsIC9NU0lFXFxzKFswLTlcXC5dKyk7LipUcmlkZW50XFwvWzQtN10uMC9dLFxyXG4gICAgW1wiSUVcIiwgL01TSUVcXHMoN1xcLjApL10sXHJcbiAgICBbXCJCYjEwXCIsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIlVDQnJvd3NlclwiLCAvKD86VUNXRUJ8VUNCcm93c2VyXFwvKShbXFxkXFwuXSspL10sXHJcbiAgICBbXCJBbmRyb2lkXCIsIC9BbmRyb2lkXFxzKFswLTlcXC5dKykvXSxcclxuICAgIFtcIklvc1wiLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxyXG4gICAgW1wiU2FmYXJpXCIsIC9WZXJzaW9uXFwvKFswLTlcXC5fXSspLipTYWZhcmkvXSxcclxuICAgIFtcIkZhY2Vib29rXCIsIC9GQkFWXFwvKFswLTlcXC5dKykvXSxcclxuICAgIFtcIkluc3RhZ3JhbVwiLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcclxuICAgIFtcIklvcy13ZWJ2aWV3XCIsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipNb2JpbGUvXSxcclxuICAgIFtcIklvcy13ZWJ2aWV3XCIsIC9BcHBsZVdlYktpdFxcLyhbMC05XFwuXSspLipHZWNrb1xcKSQvXVxyXG5dO1xyXG5cclxudHlwZSBPcGVyYXRpbmdTeXN0ZW1SdWxlID0gW09wZXJhdGluZ1N5c3RlbSwgUmVnRXhwXTtcclxuXHJcbmNvbnN0IE9wZXJhdGluZ1N5c3RlbVJ1bGVzOiBPcGVyYXRpbmdTeXN0ZW1SdWxlW10gPSBbXHJcbiAgICBbXCJpT1NcIiwgL2lQKGhvbmV8b2R8YWQpL10sXHJcbiAgICBbXCJBbmRyb2lkIE9TXCIsIC9BbmRyb2lkL10sXHJcbiAgICBbXCJCbGFja0JlcnJ5IE9TXCIsIC9CbGFja0JlcnJ5fEJCMTAvXSxcclxuICAgIFtcIldpbmRvd3MgTW9iaWxlXCIsIC9JRU1vYmlsZS9dLFxyXG4gICAgW1wiQW1hem9uIE9TXCIsIC9LaW5kbGUvXSxcclxuICAgIFtcIldpbmRvd3MgMy4xMVwiLCAvV2luMTYvXSxcclxuICAgIFtcIldpbmRvd3MgOTVcIiwgLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS9dLFxyXG4gICAgW1wiV2luZG93cyA5OFwiLCAvKFdpbmRvd3MgOTgpfChXaW45OCkvXSxcclxuICAgIFtcIldpbmRvd3MgMjAwMFwiLCAvKFdpbmRvd3MgTlQgNS4wKXwoV2luZG93cyAyMDAwKS9dLFxyXG4gICAgW1wiV2luZG93cyBYUFwiLCAvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvXSxcclxuICAgIFtcIldpbmRvd3MgU2VydmVyIDIwMDNcIiwgLyhXaW5kb3dzIE5UIDUuMikvXSxcclxuICAgIFtcIldpbmRvd3MgVmlzdGFcIiwgLyhXaW5kb3dzIE5UIDYuMCkvXSxcclxuICAgIFtcIldpbmRvd3MgN1wiLCAvKFdpbmRvd3MgTlQgNi4xKS9dLFxyXG4gICAgW1wiV2luZG93cyA4XCIsIC8oV2luZG93cyBOVCA2LjIpL10sXHJcbiAgICBbXCJXaW5kb3dzIDguMVwiLCAvKFdpbmRvd3MgTlQgNi4zKS9dLFxyXG4gICAgW1wiV2luZG93cyAxMFwiLCAvKFdpbmRvd3MgTlQgMTAuMCkvXSxcclxuICAgIFtcIldpbmRvd3MgTUVcIiwgL1dpbmRvd3MgTUUvXSxcclxuICAgIFtcIk9wZW4gQlNEXCIsIC9PcGVuQlNEL10sXHJcbiAgICBbXCJTdW4gT1NcIiwgL1N1bk9TL10sXHJcbiAgICBbXCJDaHJvbWUgT1NcIiwgL0NyT1MvXSxcclxuICAgIFtcIkxpbnV4XCIsIC8oTGludXgpfChYMTEpL10sXHJcbiAgICBbXCJNYWMgT1NcIiwgLyhNYWNfUG93ZXJQQyl8KE1hY2ludG9zaCkvXSxcclxuICAgIFtcIlFOWFwiLCAvUU5YL10sXHJcbiAgICBbXCJCZU9TXCIsIC9CZU9TL10sXHJcbiAgICBbXCJPUy8yXCIsIC9PU1xcLzIvXVxyXG5dO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBEZXZpY2VEZXRlY3RvckNsYXNzIHtcclxuICAgIHByaXZhdGUgdXNlckFnZW50OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZURldmljZUlkOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBpbml0UHJvbWlzZSA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy51c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRVc2VyQWdlbnQodXNlckFnZW50OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnVzZXJBZ2VudCA9IHVzZXJBZ2VudDtcclxuICAgIH1cclxuXHJcbiAgICBpc0hhc0xlYXZlUGFnZVByb2JsZW1zKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuRGV2aWNlRGV0ZWN0b3IpIHtcclxuICAgICAgICAgICAgY29uc3QgYnJvd3Nlck5hbWUgPSB0aGlzLmdldEJyb3dzZXIoKSA/IHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UuYnJvd3Nlci5uYW1lLnRvTG93ZXJDYXNlKCkgOiBcIlwiO1xyXG4gICAgICAgICAgICBjb25zdCBjaHJvbWVQcm9ibGVtID0gYnJvd3Nlck5hbWUgPT09IFwiY2hyb21lXCIgJiYgcGFyc2VJbnQodGhpcy5nZXRCcm93c2VyVmVyc2lvbigpKSA+PSA4MDtcclxuICAgICAgICAgICAgY29uc3Qgb3BlcmFQcm9ibGVtID0gYnJvd3Nlck5hbWUgPT09IFwib3BlcmFcIiAmJiBwYXJzZUludCh0aGlzLmdldEJyb3dzZXJWZXJzaW9uKCkpID49IDY3O1xyXG4gICAgICAgICAgICByZXR1cm4gY2hyb21lUHJvYmxlbSB8fCBvcGVyYVByb2JsZW07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRCcm93c2VyVmVyc2lvbigpIHtcclxuICAgICAgICBpZiAod2luZG93LkRldmljZURldGVjdG9yICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5icm93c2VyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLmJyb3dzZXIudmVyc2lvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJyb3dzZXIoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5EZXZpY2VEZXRlY3RvciAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlICYmIHdpbmRvdy5EZXZpY2VEZXRlY3Rvci5EZXZpY2UuYnJvd3Nlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkRldmljZURldGVjdG9yLkRldmljZS5icm93c2VyLm5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBicm93c2VySW5kZXggPSAwOyBicm93c2VySW5kZXggPCBVc2VyQWdlbnRSdWxlcy5sZW5ndGg7IGJyb3dzZXJJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKFVzZXJBZ2VudFJ1bGVzW2Jyb3dzZXJJbmRleF1bMV0pLnRlc3QodGhpcy51c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVXNlckFnZW50UnVsZXNbYnJvd3NlckluZGV4XVswXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldE9zKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgICAgIGlmICh3aW5kb3cuRGV2aWNlRGV0ZWN0b3IgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZSAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLm9zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLm9zLm5hbWUgKyBcIiBcIiArICh3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLm9zLnZlcnNpb24gfHwgXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBvc0luZGV4ID0gMDsgb3NJbmRleCA8IE9wZXJhdGluZ1N5c3RlbVJ1bGVzLmxlbmd0aDsgb3NJbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKE9wZXJhdGluZ1N5c3RlbVJ1bGVzW29zSW5kZXhdWzFdKS50ZXN0KHRoaXMudXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9wZXJhdGluZ1N5c3RlbVJ1bGVzW29zSW5kZXhdWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNNb2JpbGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IG1vYmlsZVJFID0gLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzWzQ2XTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgKGNlfHBob25lKXx4ZGF8eGlpbm8vaVxyXG4gICAgICAgIHJldHVybiBtb2JpbGVSRS50ZXN0KHRoaXMudXNlckFnZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlVHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICh3aW5kb3cuRGV2aWNlRGV0ZWN0b3IgJiYgd2luZG93LkRldmljZURldGVjdG9yLkRldmljZSAmJiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLnBsYXRmb3JtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRGV2aWNlRGV0ZWN0b3IuRGV2aWNlLnBsYXRmb3JtLnR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vYmlsZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIk1vYmlsZVwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCB0YWJsZXRSRSA9IC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllc1s0Nl0wfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIChjZXxwaG9uZSl8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2lcclxuICAgICAgICAgICAgaWYgKHRhYmxldFJFLnRlc3QodGhpcy51c2VyQWdlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJUYWJsZXRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIFwiRGVza3RvcFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRNZXRhRGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBCcm93c2VyOiB0aGlzLmdldEJyb3dzZXIoKSxcclxuICAgICAgICAgICAgT1M6IHRoaXMuZ2V0T3MoKSxcclxuICAgICAgICAgICAgRGV2aWNlVHlwZTogdGhpcy5nZXREZXZpY2VUeXBlKCksXHJcbiAgICAgICAgICAgIFVSTDogd2luZG93LmxvY2F0aW9uLmhyZWZcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBpbml0RGV2aWNlSWQobW9ja09sZElmTmVlZDogKHY6IHN0cmluZykgPT4gUHJvbWlzZTxzdHJpbmc+KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5pdFByb21pc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0UHJvbWlzZSA9IHRoaXMuZ2V0RGV2aWNlSWRGcm9tRlAoKVxyXG4gICAgICAgICAgICAudGhlbigoZGV2aWNlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0Q2FsY3VsYXRlZERldmljZUlkKGRldmljZUlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXZpY2VJZDtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgfSkudGhlbihkZXZpY2VJZCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9ja09sZElmTmVlZChkZXZpY2VJZCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4obWF5YmVNb2NrZWRWYWx1ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRDYWxjdWxhdGVkRGV2aWNlSWQobWF5YmVNb2NrZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVNb2NrZWRWYWx1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlSWQoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICAvLyB2YWx1ZSBpbiBpbml0UHJvbWlzZSBjYW4gYmUgdXBkYXRlZFxyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlLnRoZW4oKCkgPT4gdGhpcy5jYWxjdWxhdGVEZXZpY2VJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGV2aWNlSWRGcm9tRlAoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICBjb25zdCBmaW5nZXJQcmludCA9IHdpbmRvdy5GaW5nZXJwcmludDtcclxuICAgICAgICBpZiAoZmluZ2VyUHJpbnQgJiYgdHlwZW9mIGZpbmdlclByaW50LmdldERldmljZUlEID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5GaW5nZXJwcmludC5nZXREZXZpY2VJRCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERldmljZUlkRnJvbU9sZFZlcnNpb25GUCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RGV2aWNlSWRGcm9tT2xkVmVyc2lvbkZQKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsY3VsYXRlRGV2aWNlSWQpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5jYWxjdWxhdGVEZXZpY2VJZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBmcEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbmdlclByaW50ID0gdGhpcy5nZXRGaW5nZXJQcmludEFjY2VzcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbmdlclByaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRldmljZUlkID0gZmluZ2VyUHJpbnQuZ2V0RGV2aWNlSWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVEZXZpY2VJZCA9IGRldmljZUlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGZwSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRldmljZUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhbGN1bGF0ZURldmljZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChmcEludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGUCBpcyBub3QgYXZhaWxhYmxlIG9yIGNhbiBub3QgY2FsY3VsYXRlIGRldmljZUlkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gRlAgc2hvdWxkIGJlIG9uIHBhZ2UgYmVmb3JlIGluaXRcclxuICAgICAgICAgICAgLy8gYW5kIG9sZCBGUCBpcyBub3QgdXNlciBmb3IgY3VycmVudCBwbHVnaW4gdmVyc2lvblxyXG4gICAgICAgICAgICAvLyBzbyByZW1vdmUgZGVsYXkgZm9yIGNhc2UgYmxvY2tlZCBGUFxyXG4gICAgICAgICAgICB9LCAzNTAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGaW5nZXJQcmludEFjY2VzcygpIHtcclxuICAgICAgICBpZiAod2luZG93LkZwcmludGluZykge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LkZwcmludGluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAod2luZG93LkZpbmdlcnByaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRmluZ2VycHJpbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldENhbGN1bGF0ZWREZXZpY2VJZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVEZXZpY2VJZDtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0Q2FsY3VsYXRlZERldmljZUlkKGNhbGN1bGF0ZURldmljZUlkKSB7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVEZXZpY2VJZCA9IGNhbGN1bGF0ZURldmljZUlkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENhbGN1bGF0ZWREZXZpY2VJZChjYWxjdWxhdGVEZXZpY2VJZCkge1xyXG4gICAgICAgIHRoaXMuX3NldENhbGN1bGF0ZWREZXZpY2VJZChjYWxjdWxhdGVEZXZpY2VJZCk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEZXZpY2VEZXRlY3RvciA9IG5ldyBEZXZpY2VEZXRlY3RvckNsYXNzKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9276\n')},7753:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "c": () => (/* binding */ Utils)\n/* harmony export */ });\n/* harmony import */ var _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n\r\nvar Utils = (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.getStoredLogLevel = function () {\r\n        console.log("getStoredLogLevel");\r\n    };\r\n    Utils.objectArrayToObject = function (arr, keyName, valName) {\r\n        var result = arr.reduce(function (obj, item) {\r\n            obj[item[keyName]] = item[valName];\r\n            return obj;\r\n        }, {});\r\n        return result;\r\n    };\r\n    Utils.objectToArrayDict = function (obj) {\r\n        var result = [];\r\n        if (obj) {\r\n            var entries = this.entries(obj);\r\n            entries.map(function (arr) {\r\n                result.push({ "Key": arr[0], "Value": arr[1] });\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n    Utils.getNestedValueByString = function (str, obj) {\r\n        var _this = this;\r\n        return str.replace(/\\[([^\\]]+)]/g, ".$1").split(".").reduce(function (o, p) {\r\n            _this.Logger.trace("[getNestedValueByString]", str, obj, o, p);\r\n            return o[p];\r\n        }, obj);\r\n    };\r\n    Utils.ArrayToDictionaryRecursive = function (arr, result, keyArg) {\r\n        var entries = this.entries(arr);\r\n        entries.map(function (arr) {\r\n            if (typeof arr[1] === "object") {\r\n                Utils.ArrayToDictionaryRecursive(arr[1], result, arr[0]);\r\n            }\r\n            else {\r\n                var key = (keyArg) ? keyArg + arr[0] : arr[0];\r\n                result.push({ "Key": key, "Value": arr[1] });\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    Utils.entries = function (obj) {\r\n        if (!obj)\r\n            return [];\r\n        var ownProps = Object.keys(obj), i = ownProps.length, resArray = new Array(i);\r\n        while (i--)\r\n            resArray[i] = [ownProps[i], obj[ownProps[i]]];\r\n        return resArray;\r\n    };\r\n    Utils.addEventListener = function (queryType, qualifier, event, func) {\r\n        var nodes = document[queryType](qualifier);\r\n        nodes.forEach(function (el) {\r\n            el.addEventListener(event, function (event) {\r\n                func(event);\r\n            });\r\n        });\r\n    };\r\n    Utils.StripHtmlTags = function (htmlString) {\r\n        var result = htmlString.replace(/<\\/?[^>]+(>|$)/g, "");\r\n        return result;\r\n    };\r\n    Utils.parseJson = function (json) {\r\n        var retObj = { success: false };\r\n        try {\r\n            if (json != null) {\r\n                retObj.data = JSON.parse(json);\r\n                retObj.success = true;\r\n            }\r\n            return retObj;\r\n        }\r\n        catch (e) {\r\n            this.Logger.warn("Not a valid JSON object.");\r\n            return retObj;\r\n        }\r\n    };\r\n    Utils.stringToBool = function (val) {\r\n        try {\r\n            if (val.toLowerCase() === "true") {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.exception("stringToBool", error);\r\n            return false;\r\n        }\r\n    };\r\n    Utils.toTitleCase = function (str) {\r\n        if (!str) {\r\n            return "";\r\n        }\r\n        return str.toLowerCase().split(" ").map(function (word) {\r\n            return (word.charAt(0).toUpperCase() + word.slice(1));\r\n        }).join(" ");\r\n    };\r\n    Utils.createGUID = function () {\r\n        return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (c) {\r\n            var r = parseFloat("0." + Math.random().toString().replace("0.", "") + new Date().getTime()) * 16 | 0, v = c === "x" ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    Utils.getConnextVersion = function () {\r\n        return (window["connextVersion"]) ? window["connextVersion"] : "Unknown";\r\n    };\r\n    Utils.IsGoogleAnalyticsAvail = function () {\r\n        if (window["ga"] && window["ga"]["create"]) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Utils.IsGTMAvail = function () {\r\n        if (window["google_tag_manager"]) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Utils.IsAppInsightsAvail = function () {\r\n        if (window["appInsights"]) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Utils.IsConnextAvail = function () {\r\n        if (window["Connext"]) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Utils.getVersion = function () {\r\n        return ("1.17.1" || 0);\r\n    };\r\n    ;\r\n    Utils.getVersionBuildInfo = function () {\r\n        return ("V.1.17.1-20210923.3" || 0);\r\n    };\r\n    ;\r\n    Utils.getPageLeaveEventTrigger = function () {\r\n        var originalEventName = "unload";\r\n        if ("onpagehide" in window) {\r\n            originalEventName = "pagehide";\r\n        }\r\n        return originalEventName;\r\n    };\r\n    Utils.getUserPosition = function () {\r\n        return new Promise(function (resolve, reject) {\r\n            if (navigator.geolocation) {\r\n                navigator.geolocation.getCurrentPosition(function (position) {\r\n                    resolve({\r\n                        Lat: position.coords.latitude,\r\n                        Long: position.coords.longitude\r\n                    });\r\n                }, function () {\r\n                    reject();\r\n                });\r\n            }\r\n            else {\r\n                reject();\r\n            }\r\n        });\r\n    };\r\n    Utils.isEmpty = function (obj) {\r\n        return Object.keys(obj).length === 0;\r\n    };\r\n    Utils.isset = function (value) {\r\n        return !(typeof value === "undefined" || value == null);\r\n    };\r\n    Utils.objectToBigQueryString = function (obj) {\r\n        var str = [];\r\n        if (typeof (obj) === "object" && (obj.join === undefined)) {\r\n            for (var prop in obj) {\r\n                var value = Utils.isset(obj[prop]) ? obj[prop].toString() : "";\r\n                str.push(prop + "=" + value);\r\n            }\r\n            ;\r\n        }\r\n        return str.join(";");\r\n    };\r\n    Utils.getLoaderVersionInfo = function () {\r\n        if (window.MG2Loader) {\r\n            return window.MG2Loader.GetVersionInfo();\r\n        }\r\n        else {\r\n            return "MG2Loader is not defined";\r\n        }\r\n    };\r\n    Utils.getFingerprintVersionInfo = function () {\r\n        if (window.Fingerprint) {\r\n            return window.Fingerprint.GetVersionInfo();\r\n        }\r\n        else {\r\n            return "Fingerprint is not defined";\r\n        }\r\n    };\r\n    Utils.getDemoMode = function () {\r\n        if (window.RecommendationDemo) {\r\n            return window.RecommendationDemo.getActiveRegeneration() === "false";\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Utils.getRandomIntegerInRange = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n    Utils.addCustomEventListener = function (element, eventName, callback, options) {\r\n        if (options === void 0) { options = false; }\r\n        var listener = function (e) {\r\n            if (e.type !== eventName) {\r\n                return;\r\n            }\r\n            callback.call(element, e);\r\n        };\r\n        element.addEventListener(eventName, listener, options);\r\n        return listener;\r\n    };\r\n    ;\r\n    Utils.getUrlParamValue = function (paramName, url) {\r\n        if (url === void 0) { url = window.location.href; }\r\n        return new URL(url).searchParams.get(paramName) || "";\r\n    };\r\n    Utils.getEncryptedEmail = function () {\r\n        var paramName = "g2i_eui";\r\n        return Utils.getUrlParamValue(paramName);\r\n    };\r\n    Utils.getRecommendationId = function (url) {\r\n        var paramName = "g2i_rcm";\r\n        return Utils.getUrlParamValue(paramName, url);\r\n    };\r\n    Utils.flatObject = function (src, delimiter) {\r\n        if (delimiter === void 0) { delimiter = ""; }\r\n        var flatObject = {};\r\n        var path = [];\r\n        function dig(src) {\r\n            if (src !== Object(src))\r\n                return flatObject[path.join(delimiter)] = src;\r\n            for (var key in src) {\r\n                path.push(key);\r\n                dig(src[key]);\r\n                path.pop();\r\n            }\r\n        }\r\n        dig(src);\r\n        return flatObject;\r\n    };\r\n    Utils.Logger = _utils_logger_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LoggerService.createLogger */ .mQ.createLogger("Utils");\r\n    Utils.getAttributeOfDomOrParents = function (dom, name) {\r\n        if (dom.hasAttribute(name)) {\r\n            return dom.getAttribute(name);\r\n        }\r\n        else if (dom.parentElement) {\r\n            return this.getAttributeOfDomOrParents(dom.parentElement, name);\r\n        }\r\n        else\r\n            return null;\r\n    };\r\n    Utils.findParentByValueOfAttrbibute = function (dom, name, value) {\r\n        if (dom.hasAttribute(name)) {\r\n            if (dom.getAttribute(name).split(" ").indexOf(value) >= 0) {\r\n                return dom;\r\n            }\r\n            else {\r\n                return this.findParentByValueOfAttrbibute(dom.parentElement, name, value);\r\n            }\r\n        }\r\n        else if (dom.parentElement) {\r\n            return this.findParentByValueOfAttrbibute(dom.parentElement, name, value);\r\n        }\r\n        else\r\n            return null;\r\n    };\r\n    Utils.getParentDomByTagName = function (el, tagName) {\r\n        var fnName = "getParentDomByTagName";\r\n        tagName = tagName.toLowerCase();\r\n        var tagType = el.tagName.toLowerCase();\r\n        if (tagType !== tagName && el.parentElement) {\r\n            return this.getParentDomByTagName(el.parentElement, tagName);\r\n        }\r\n        else if (tagType === tagName) {\r\n            return el;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    Utils.checkForNewsletterSignUpClick = function (clickTarget) {\r\n        if (!clickTarget.hasAttribute("class") || !(clickTarget.getAttribute("class").indexOf("submit") > 0))\r\n            return false;\r\n        var templateElem = this.findParentByValueOfAttrbibute(clickTarget, "class", "Mg2-connext");\r\n        if (templateElem && templateElem.children) {\r\n            var elementChildren = templateElem.children;\r\n            for (var i = 0; i < elementChildren.length; i++) {\r\n                if (elementChildren[i].hasAttribute("data-tmpl-action-name") && elementChildren[i].getAttribute("data-tmpl-action-name") === "Newsletter")\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return Utils;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWEsQ0FBQyxDQUFDO1FBQzNGLElBQUksWUFBWSxJQUFJLFlBQVksQ0FBQyxRQUFRLEVBQUU7WUFDdkMsSUFBSSxlQUFlLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQztZQUM1QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFFN0MsSUFBSSxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLHVCQUF1QixDQUFDLElBQUksZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQyxLQUFLLFlBQVk7b0JBQ3JJLE9BQU8sSUFBSSxDQUFDO2FBQ25CO1NBQ0o7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBMk9MLFlBQUM7Q0FBQTtBQXZaaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi91dGlscy9VdGlscy50cz9lMzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2dlciwgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuLi91dGlscy9sb2dnZXIvTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgUGFyc2VkSnNvbk1vZGVsIH0gZnJvbSBcIi4uL2RhdGEvbW9kZWxzL2NvbW1vbi9QYXJzZWRKc29uTW9kZWxcIjtcclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuXHJcbiAgICBzdGF0aWMgTG9nZ2VyOiBMb2dnZXIgPSBMb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcihcIlV0aWxzXCIpO1xyXG5cclxuXHJcbiAgICBzdGF0aWMgZ2V0U3RvcmVkTG9nTGV2ZWwoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJnZXRTdG9yZWRMb2dMZXZlbFwiKTtcclxuICAgICAgICAvLyByZXR1cm4gJ2luZm8nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB0byBhbiBvYmplY3QgdXNpbmcgZWFjaCBvYmplY3RzIHBhc3NlZCBpbiAna2V5TmFtZScgYW5kICd2YWxOYW1lJ1xyXG4gICAgICogQHBhcmFtIGFyciBUaGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0XHJcbiAgICAgKiBAcGFyYW0ga2V5TmFtZSBUaGUga2V5IG5hbWUgZm9yIGVhY2ggb2JqZWN0IGluIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gdmFsTmFtZSBUaGV5IHZhbCBuYW1lIGZvciBlYWNoIG9iamVjdCBpbiBhcnJheVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb2JqZWN0QXJyYXlUb09iamVjdChhcnI6IEFycmF5PG9iamVjdD4sIGtleU5hbWU6IHN0cmluZywgdmFsTmFtZTogc3RyaW5nKTogb2JqZWN0IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXJyLnJlZHVjZSgob2JqLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIG9ialtpdGVtW2tleU5hbWVdXSA9IGl0ZW1bdmFsTmFtZV1cclxuICAgICAgICAgICAgcmV0dXJuIG9ialxyXG4gICAgICAgIH0sIHt9KVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUYWtlcyBhbiBvYmplY3QgYW5kIHJldHVybiBhbiBhcnJheSBvZiBkaWN0aW9uYXJ5IG9iamVjdHMgd2l0aCBcIktleVwiIGFuZCBcIlZhbHVlXCIgYXMgdGhlIHByb3BlcnR5IG5hbWVzLlxyXG4gICAgICogQHBhcmFtIG9iaiBUaGUgYXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvYmplY3RUb0FycmF5RGljdChvYmo6IG9iamVjdCk6IGFueSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGlmIChvYmopIHtcclxuICAgICAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMob2JqKTtcclxuICAgICAgICAgICAgZW50cmllcy5tYXAoKGFycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBcIktleVwiOiBhcnJbMF0sIFwiVmFsdWVcIjogYXJyWzFdIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGFrZXMgYSBzdHJpbmcgcGF0aCBmb3IgYW4gb2JqZWN0IGFuZCByZXR1cm5zIGl0LiAgVGhpcyBsZXRzIHlvdSBwYXNzIGluIFwibGV2ZWwxLmxldmVsMi52YWx1ZVwiIGluIG9iamVjdCwgd2hpY2ggaXMgdXNlZnVsIGZvciB1bmtub3duIGRhdGEgc3RydWN0dXJlcy4gIFJlcGxhY2VzIG5lZWQgZm9yIG9ialsnbGV2ZWwxJ11bJ2xldmVsMiddLnZhbHVlXHJcbiAgICAgKiBAcGFyYW0gc3RyIHN0cmluZyBwYXRoIHRvIGNoZWNrIGZvciAobGV2ZWwxLmxldmVsMS52YWx1ZSlcclxuICAgICAqIEBwYXJhbSBvYmogVGhlIG9iamVjdCB0byBzZWFyY2ggd2l0aCB0aGUgc3RyIHBhdGguXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXROZXN0ZWRWYWx1ZUJ5U3RyaW5nKHN0ciwgb2JqKTogYW55IHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcWyhbXlxcXV0rKV0vZywgXCIuJDFcIikuc3BsaXQoXCIuXCIpLnJlZHVjZSgobywgcCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkxvZ2dlci50cmFjZShcIltnZXROZXN0ZWRWYWx1ZUJ5U3RyaW5nXVwiLCBzdHIsIG9iaiwgbywgcCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvW3BdO1xyXG4gICAgICAgIH0sIG9iaik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW1pbGFyIHRvIG9iamVjdFRvQXJyYXlEaWN0IGV4Y2VwdCB0aGlzIHdpbGwgbG9vcCB0aHJvdWdoIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgb3B0aW9uIG9mIHJlY3Vyc2l2ZWx5IGV4ZWN1dGluZyBjaGlsZCBvYmplY3QgYXJyYXlzLlxyXG4gICAgICogVGhpcyB3aWxsIGJlIG1vc3RseSB1c2VkIGZvciBDRFAgZGF0YS5FdmVudERhdGEgbG9vcGluZy5cclxuICAgICAqIEBwYXJhbSBhcnIgYXJyYXkgdG8gbG9vcCB0aHJvdWdoXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0IG5lZWQgdG8gcGFzcyBpbiBhIHJlc3VsdCBhcnJheSBzbyByZWN1cnNpb24gd29ya3MuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBBcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShhcnI6IG9iamVjdCwgcmVzdWx0OiBhbnksIGtleUFyZz86IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgbGV0IGVudHJpZXMgPSB0aGlzLmVudHJpZXMoYXJyKTtcclxuICAgICAgICBlbnRyaWVzLm1hcCgoYXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJyWzFdID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBVdGlscy5BcnJheVRvRGljdGlvbmFyeVJlY3Vyc2l2ZShhcnJbMV0sIHJlc3VsdCwgYXJyWzBdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBrZXkgPSAoa2V5QXJnKSA/IGtleUFyZyArIGFyclswXSA6IGFyclswXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgXCJLZXlcIjoga2V5LCBcIlZhbHVlXCI6IGFyclsxXSB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZW50cmllcyhvYmo6IGFueSk6IGFueSB7XHJcbiAgICAgICAgaWYgKCFvYmopIHJldHVybiBbXTtcclxuICAgICAgICBsZXQgb3duUHJvcHMgPSBPYmplY3Qua2V5cyhvYmopLFxyXG4gICAgICAgICAgICBpID0gb3duUHJvcHMubGVuZ3RoLFxyXG4gICAgICAgICAgICByZXNBcnJheSA9IG5ldyBBcnJheShpKTsgLy8gcHJlYWxsb2NhdGUgdGhlIEFycmF5XHJcbiAgICAgICAgd2hpbGUgKGktLSlcclxuICAgICAgICAgICAgcmVzQXJyYXlbaV0gPSBbb3duUHJvcHNbaV0sIG9ialtvd25Qcm9wc1tpXV1dO1xyXG4gICAgICAgIHJldHVybiByZXNBcnJheTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0aGF0IG1pbWljcyBqcXVlcnkgYWRkRXZlbnRMaXN0ZW5lciBvbiBsaXN0IG9mIGVsZW1lbnRzIHVzaW5nIGRvY3VtZW50IHF1ZXJpZXMuXHJcbiAgICAgKiBAcGFyYW0gcXVlcnlUeXBlXHJcbiAgICAgKiBAcGFyYW0gcXVhbGlmaWVyXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEBwYXJhbSBmdW5jXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhZGRFdmVudExpc3RlbmVyKHF1ZXJ5VHlwZTogc3RyaW5nLCBxdWFsaWZpZXI6IHN0cmluZywgZXZlbnQ6IHN0cmluZywgZnVuYzogRnVuY3Rpb24pOiB2b2lkIHtcclxuICAgICAgICBsZXQgbm9kZXM6IE5vZGVMaXN0ID0gZG9jdW1lbnRbcXVlcnlUeXBlXShxdWFsaWZpZXIpO1xyXG4gICAgICAgIG5vZGVzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZnVuYyhldmVudCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJldHVybnMgdmFsdWUgb2YgYXR0cmlidXRlIG9uIGZpcnN0IGVsZW1lbnQgKGdldHMgYWxsIHBhcmV0bnMgYnkgcmVjdXJzaW9uKSB3aXRoIGN1cnJlbnQgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIGRvbSAtIGRvbSBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gbmFtZSAtIG5hbWUgb2YgYXR0cmlidXRlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRBdHRyaWJ1dGVPZkRvbU9yUGFyZW50cyA9IGZ1bmN0aW9uIChkb20sIG5hbWUpIHtcclxuICAgICAgICBpZiAoZG9tLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZG9tLmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZU9mRG9tT3JQYXJlbnRzKGRvbS5wYXJlbnRFbGVtZW50LCBuYW1lKTtcclxuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiByZXR1cm5zIGZpcnN0IGVsZW1lbnQgKGdldHMgYWxsIHBhcmV0bnMgYnkgcmVjdXJzaW9uKSB3aXRoIGN1cnJlbnQgYXR0cmlidXRlLiBJZiBcInZhbHVlXCIgaXMgbm90IGVtcHR5IC0gcmV0dXJucyBmaXJzdCBlbGVtZW50LCB3aGljaCBoYXMgYXR0cmJpYnV0ZSBcIm5hbWVcIiB3aXRoIHZhbHVlIFwidmFsdWVcIlxyXG4gICAgKiBAcGFyYW0gZG9tIC0gZG9tIGVsZW1lbnRcclxuICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIGF0dHJpYnV0ZVxyXG4gICAgKiBAcGFyYW0gdmFsdWUgLSBvcHRpb25hbCwgdmFsdWUgb2YgYXR0cmlidXRlXHJcbiAgICAqL1xyXG4gICAgc3RhdGljIGZpbmRQYXJlbnRCeVZhbHVlT2ZBdHRyYmlidXRlID0gZnVuY3Rpb24gKGRvbSwgbmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoZG9tLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICAgICAgICAvLyBzcGxpdHMgYnkgc3BhY2UgYmVjYXVzZSBhdHRyYml1dGUgY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSB2YWx1ZSwgc3BhY2UgaXMgc2VwYXJhdG9yXHJcbiAgICAgICAgICAgIGlmIChkb20uZ2V0QXR0cmlidXRlKG5hbWUpLnNwbGl0KFwiIFwiKS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoZG9tLnBhcmVudEVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9tLnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoZG9tLnBhcmVudEVsZW1lbnQsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIHBhc2VkIGluIGRvbSBlbGVtZW50IGFuZCBnb2VzIHVwIHRoZSBkb20gdHJlZSB1bnRpbCB3ZSBoaXQgYSB0YWcgdHlwZS5cclxuICAgICAqIEBwYXJhbSBlbCBDaGlsZCBlbGVtZW50IHRvIHN0YXJ0IHdpdGguXHJcbiAgICAgKiBAcGFyYW0gdGFnTmFtZSBUeXBlIG9mIHBhcmVudCBET00gVGFnIHdlIGFyZSBsb29raW5nIGZvci5cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFBhcmVudERvbUJ5VGFnTmFtZSA9IGZ1bmN0aW9uIChlbCwgdGFnTmFtZSk6IGFueSB7XHJcbiAgICAgICAgbGV0IGZuTmFtZSA9IFwiZ2V0UGFyZW50RG9tQnlUYWdOYW1lXCI7XHJcbiAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZWxcIiwgZWwsIFwidGFnTmFtZVwiLCB0YWdOYW1lKTtcclxuICAgICAgICBsZXQgdGFnVHlwZSA9IGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1Zyhmbk5hbWUsIFwiZWxcIiwgZWwsIFwidGFnTmFtZVwiLCB0YWdOYW1lLCBcInRhZ1R5cGVcIiwgdGFnVHlwZSk7XHJcbiAgICAgICAgaWYgKHRhZ1R5cGUgIT09IHRhZ05hbWUgJiYgZWwucGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIk5vdCA8XCIgKyB0YWdOYW1lICsgXCI+IGFuZCBoYXMgcGFyZW50RWxlbWVudC4uLmNoZWNrIHBhcmVudFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50RG9tQnlUYWdOYW1lKGVsLnBhcmVudEVsZW1lbnQsIHRhZ05hbWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGFnVHlwZSA9PT0gdGFnTmFtZSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcIklzIDxcIiArIHRhZ05hbWUgKyBcIj4gdGFnXCIsIFwicmV0dXJuaW5nLi5cIiwgZWwpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoXCJObyBQYXJlbnQgPFwiICsgdGFnTmFtZSArIFwiPiB0YWcuLi5yZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaXMgdGFyZ2V0IG9mIGNsaWNrIE5ld3NsZXR0ZXIgc2lnbnVwIGJ1dHRvbi5cclxuICAgICAqIEBwYXJhbSBjbGlja1RhcmdldCAgdGFyZ2V0IHByb3Agb2YgY2xpY2sgZXZlbnQgYXJndW1lbnRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNoZWNrRm9yTmV3c2xldHRlclNpZ25VcENsaWNrID0gZnVuY3Rpb24gKGNsaWNrVGFyZ2V0KTogYW55IHtcclxuICAgICAgICAvLyBuZXdzbGV0dGVyIHNpZ2h0dXAgYnV0dG9uIHNob3VsZCBoYXZlIGNsYXNzIHN1Ym1pdFxyXG4gICAgICAgIGlmICghY2xpY2tUYXJnZXQuaGFzQXR0cmlidXRlKFwiY2xhc3NcIikgfHwgIShjbGlja1RhcmdldC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKS5pbmRleE9mKFwic3VibWl0XCIpID4gMCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyByb290IERJViBlbGVtIG9mIHRlbXBsYXRlXHJcbiAgICAgICAgbGV0IHRlbXBsYXRlRWxlbSA9IHRoaXMuZmluZFBhcmVudEJ5VmFsdWVPZkF0dHJiaWJ1dGUoY2xpY2tUYXJnZXQsIFwiY2xhc3NcIiwgXCJNZzItY29ubmV4dFwiKTtcclxuICAgICAgICBpZiAodGVtcGxhdGVFbGVtICYmIHRlbXBsYXRlRWxlbS5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudENoaWxkcmVuID0gdGVtcGxhdGVFbGVtLmNoaWxkcmVuO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gZXZlcnkgdGVtcGxhdGUgY29udGFpbnMgb24gcm9vdCBsZXZlbCBlbGVtbnQgd2l0aCB0eXBlIGF0dHJpYnV0ZSAodmFsdWUgLSB0eXBlIG9mIEFjdGlvbilcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Q2hpbGRyZW5baV0uaGFzQXR0cmlidXRlKFwiZGF0YS10bXBsLWFjdGlvbi1uYW1lXCIpICYmIGVsZW1lbnRDaGlsZHJlbltpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRtcGwtYWN0aW9uLW5hbWVcIikgPT09IFwiTmV3c2xldHRlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIGEgc3RyaW5nIGFuZCByZW1vdmVzIEh0bWwgVGFncy5cclxuICAgICAqIEBwYXJhbSBodG1sU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBTdHJpcEh0bWxUYWdzKGh0bWxTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGh0bWxTdHJpbmcucmVwbGFjZSgvPFxcLz9bXj5dKyg+fCQpL2csIFwiXCIpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHBhcnNlSnNvbihqc29uOiBzdHJpbmcpOiBQYXJzZWRKc29uTW9kZWwge1xyXG4gICAgICAgIGxldCByZXRPYmogPSA8UGFyc2VkSnNvbk1vZGVsPnsgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoanNvbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZyhcImpzb24gSVMgTk9UIE5VTExcIik7XHJcbiAgICAgICAgICAgICAgICByZXRPYmouZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICAgICAgICAgICAgICByZXRPYmouc3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldE9iajtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTG9nZ2VyLndhcm4oXCJOb3QgYSB2YWxpZCBKU09OIG9iamVjdC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXRPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzdHJpbmdUb0Jvb2wodmFsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodmFsLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXhjZXB0aW9uKFwic3RyaW5nVG9Cb29sXCIsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgdG9UaXRsZUNhc2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghc3RyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLm1hcChmdW5jdGlvbiAod29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKTtcclxuICAgICAgICB9KS5qb2luKFwiIFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY3JlYXRlR1VJRCgpIHtcclxuICAgICAgICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgIGxldCByID0gcGFyc2VGbG9hdChcIjAuXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkucmVwbGFjZShcIjAuXCIsIFwiXCIpICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpICogMTYgfCAwLFxyXG4gICAgICAgICAgICAgICAgdiA9IGMgPT09IFwieFwiID8gciA6IChyICYgMHgzIHwgMHg4KTtcclxuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRDb25uZXh0VmVyc2lvbigpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiAod2luZG93W1wiY29ubmV4dFZlcnNpb25cIl0pID8gd2luZG93W1wiY29ubmV4dFZlcnNpb25cIl0gOiBcIlVua25vd25cIjtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNHb29nbGVBbmFseXRpY3NBdmFpbCgpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAod2luZG93W1wiZ2FcIl0gJiYgd2luZG93W1wiZ2FcIl1bXCJjcmVhdGVcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0dvb2dsZSBBbmFseXRpY3MgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0dvb2dsZSBBbmFseXRpY3MgTk9UIExPQURFRCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBJc0dUTUF2YWlsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJnb29nbGVfdGFnX21hbmFnZXJcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0dUTSBpcyBsb2FkZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIud2FybignR1RNIE5PVCBMT0FERUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNBcHBJbnNpZ2h0c0F2YWlsKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICh3aW5kb3dbXCJhcHBJbnNpZ2h0c1wiXSkge1xyXG4gICAgICAgICAgICAvLyB0aGlzLkxvZ2dlci5kZWJ1ZygnQXBwSW5zaWdodHMgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0FwcEluc2lnaHRzIE5PVCBMT0FERUQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgSXNDb25uZXh0QXZhaWwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHdpbmRvd1tcIkNvbm5leHRcIl0pIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5Mb2dnZXIuZGVidWcoJ0Nvbm5leHQgaXMgbG9hZGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuTG9nZ2VyLndhcm4oJ0Nvbm5leHQgTk9UIExPQURFRCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gdGhlc2UgdmFsdWVzIGFyZSBpbnNlcnRlZCBieSBDSSBUb2tlbml6ZXJcclxuICAgICAgICByZXR1cm4gKFwiI3tfX1ZlcnNpb25fX30jXCIgfHwgXCJsb2NhbFwiKVxyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0VmVyc2lvbkJ1aWxkSW5mbygpOiBzdHJpbmcge1xyXG4gICAgICAgIC8vIHRoZXNlIHZhbHVlcyBhcmUgaW5zZXJ0ZWQgYnkgQ0kgVG9rZW5pemVyXHJcbiAgICAgICAgcmV0dXJuIChcIiN7X19CdWlsZC5CdWlsZE51bWJlcl9ffSNcIiB8fCBcImxvY2FsXCIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGF0aWMgZ2V0UGFnZUxlYXZlRXZlbnRUcmlnZ2VyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsRXZlbnROYW1lID0gXCJ1bmxvYWRcIjtcclxuXHJcbiAgICAgICAgaWYgKFwib25wYWdlaGlkZVwiIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50TmFtZSA9IFwicGFnZWhpZGVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEV2ZW50TmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0VXNlclBvc2l0aW9uKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvbmc6IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgR2VvbG9jYXRpb25cclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGlzRW1wdHkob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpc3NldCh2YWx1ZTogYW55KSB7XHJcbiAgICAgICByZXR1cm4gISh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIgfHwgdmFsdWUgPT0gbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIG9iamVjdFRvQmlnUXVlcnlTdHJpbmcob2JqKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgc3RyID0gW107XHJcbiAgICAgICAgaWYgKHR5cGVvZihvYmopID09PSBcIm9iamVjdFwiICYmIChvYmouam9pbiA9PT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBVdGlscy5pc3NldChvYmpbcHJvcF0pID8gb2JqW3Byb3BdLnRvU3RyaW5nKCkgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3RyLnB1c2gocHJvcCArIFwiPVwiICsgdmFsdWUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RyLmpvaW4oXCI7XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRMb2FkZXJWZXJzaW9uSW5mbygpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICgoPGFueT53aW5kb3cpLk1HMkxvYWRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KS5NRzJMb2FkZXIuR2V0VmVyc2lvbkluZm8oKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTUcyTG9hZGVyIGlzIG5vdCBkZWZpbmVkXCJcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRGaW5nZXJwcmludFZlcnNpb25JbmZvKCk6IHN0cmluZyB7XHJcbiAgICAgICAgaWYgKCg8YW55PndpbmRvdykuRmluZ2VycHJpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8YW55PndpbmRvdykuRmluZ2VycHJpbnQuR2V0VmVyc2lvbkluZm8oKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiRmluZ2VycHJpbnQgaXMgbm90IGRlZmluZWRcIlxyXG4gICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldERlbW9Nb2RlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICgoPGFueT53aW5kb3cpLlJlY29tbWVuZGF0aW9uRGVtbykge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+d2luZG93KS5SZWNvbW1lbmRhdGlvbkRlbW8uZ2V0QWN0aXZlUmVnZW5lcmF0aW9uKCkgPT09IFwiZmFsc2VcIjsgICAgLy8gaW52ZXJzZSB2YWx1ZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldFJhbmRvbUludGVnZXJJblJhbmdlKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGFkZEN1c3RvbUV2ZW50TGlzdGVuZXIgKFxyXG4gICAgICAgIGVsZW1lbnQ6IERvY3VtZW50IHwgV2luZG93IHwgRWxlbWVudCxcclxuICAgICAgICBldmVudE5hbWU6IHN0cmluZyxcclxuICAgICAgICBjYWxsYmFjazogRnVuY3Rpb24sXHJcbiAgICAgICAgb3B0aW9uczogYm9vbGVhbiB8IEV2ZW50TGlzdGVuZXJPcHRpb25zID0gZmFsc2VcclxuICAgICk6IEZ1bmN0aW9uIHtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGZ1bmN0aW9uIChlOiBFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZS50eXBlICE9PSBldmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaWUvZWRnZSBidWdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKGVsZW1lbnQsIGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcjtcclxuICAgIH07XHJcblxyXG4gICAgc3RhdGljIGdldFVybFBhcmFtVmFsdWUocGFyYW1OYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nID0gd2luZG93LmxvY2F0aW9uLmhyZWYpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBuZXcgVVJMKHVybCkuc2VhcmNoUGFyYW1zLmdldChwYXJhbU5hbWUpIHx8IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEVuY3J5cHRlZEVtYWlsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1OYW1lID0gXCJnMmlfZXVpXCI7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmdldFVybFBhcmFtVmFsdWUocGFyYW1OYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0UmVjb21tZW5kYXRpb25JZCh1cmw/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtTmFtZSA9IFwiZzJpX3JjbVwiO1xyXG4gICAgICAgIHJldHVybiBVdGlscy5nZXRVcmxQYXJhbVZhbHVlKHBhcmFtTmFtZSwgdXJsKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZmxhdE9iamVjdChzcmM6IGFueSwgZGVsaW1pdGVyOiBzdHJpbmcgPSBcIlwiKTogT2JqZWN0IHtcclxuICAgICAgICBjb25zdCBmbGF0T2JqZWN0ID0ge307XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkaWcoc3JjOiBhbnkpIHtcclxuICAgICAgICAgICAgaWYgKHNyYyAhPT0gT2JqZWN0KHNyYykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmxhdE9iamVjdFtwYXRoLmpvaW4oZGVsaW1pdGVyKV0gPSBzcmM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc3JjKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgIGRpZyhzcmNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBwYXRoLnBvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaWcoc3JjKTtcclxuICAgICAgICByZXR1cm4gZmxhdE9iamVjdDtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7753\n')},8652:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "wP": () => (/* reexport */ LOG_LEVEL_STYLE),\n  "Ve": () => (/* reexport */ LOG_LEVEL_STYLE2),\n  "in": () => (/* reexport */ LogLevel),\n  "B$": () => (/* reexport */ LogLevels),\n  "mQ": () => (/* reexport */ LoggerService/* LoggerService */.m)\n});\n\n// UNUSED EXPORTS: Logger\n\n;// CONCATENATED MODULE: ./src/plugin/utils/logger/LoggerOptions.ts\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel["Trace"] = 0] = "Trace";\r\n    LogLevel[LogLevel["Debug"] = 1] = "Debug";\r\n    LogLevel[LogLevel["Warn"] = 2] = "Warn";\r\n    LogLevel[LogLevel["Info"] = 3] = "Info";\r\n    LogLevel[LogLevel["Error"] = 4] = "Error";\r\n    LogLevel[LogLevel["Fatal"] = 5] = "Fatal";\r\n})(LogLevel || (LogLevel = {}));\r\nvar LOG_LEVEL_STYLE = {\r\n    0: "green",\r\n    1: "#90be90",\r\n    2: "#f1ce7a",\r\n    3: "#009fdf",\r\n    4: "red",\r\n    5: "red"\r\n};\r\nvar LOG_LEVEL_STYLE2 = {\r\n    0: { color: "green", bg: "#f7fbf7" },\r\n    1: { color: "green", bg: "#f7fbf7" },\r\n    2: { color: "green", bg: "#f7fbf7" },\r\n    3: { color: "green", bg: "#e5f2e5" },\r\n    4: { color: "green", bg: "#e5f2e5" },\r\n    5: { color: "green", bg: "#e5f2e5" }\r\n};\r\nvar LogLevels = (function () {\r\n    function LogLevels() {\r\n    }\r\n    LogLevels.FromString = function (val) {\r\n        if (val == null) {\r\n            throw new Error("LogLevel string must be set.");\r\n        }\r\n        switch (val.toUpperCase()) {\r\n            case "TRACE":\r\n                return LogLevel.Trace;\r\n            case "DEBUG":\r\n                return LogLevel.Debug;\r\n            case "INFO":\r\n                return LogLevel.Info;\r\n            case "WARN":\r\n                return LogLevel.Warn;\r\n            case "ERROR":\r\n                return LogLevel.Error;\r\n            case "FATAL":\r\n                return LogLevel.Fatal;\r\n            default:\r\n                throw new Error("Unsupported Log Level");\r\n        }\r\n    };\r\n    return LogLevels;\r\n}());\r\n\r\n\n// EXTERNAL MODULE: ./src/plugin/utils/logger/LoggerService.ts\nvar LoggerService = __webpack_require__(7458);\n// EXTERNAL MODULE: ./src/plugin/utils/logger/Logger.ts\nvar Logger = __webpack_require__(6212);\n;// CONCATENATED MODULE: ./src/plugin/utils/logger/Logger.Core.ts\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODY1Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBR0EsSUFBWSxRQU9YO0FBUEQsV0FBWSxRQUFRO0lBQ2hCLHlDQUFLO0lBQ0wseUNBQUs7SUFDTCx1Q0FBSTtJQUNKLHVDQUFJO0lBQ0oseUNBQUs7SUFDTCx5Q0FBSztBQUNULENBQUMsRUFQVyxRQUFRLEtBQVIsUUFBUSxRQU9uQjtBQUVNLElBQU0sZUFBZSxHQUFHO0lBQzNCLENBQUMsRUFBRSxPQUFPO0lBQ1YsQ0FBQyxFQUFFLFNBQVM7SUFDWixDQUFDLEVBQUUsU0FBUztJQUNaLENBQUMsRUFBRSxTQUFTO0lBQ1osQ0FBQyxFQUFFLEtBQUs7SUFDUixDQUFDLEVBQUUsS0FBSztDQUNYLENBQUM7QUFFSyxJQUFNLGdCQUFnQixHQUFHO0lBQzVCLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRTtJQUNwQyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7SUFDcEMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFO0lBQ3BDLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRTtJQUNwQyxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUU7SUFDcEMsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFO0NBQ3ZDLENBQUM7QUFFRjtJQUFBO0lBc0JBLENBQUM7SUFyQlUsb0JBQVUsR0FBakIsVUFBa0IsR0FBVztRQUN6QixJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7U0FDbkQ7UUFDRCxRQUFRLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBRTtZQUN2QixLQUFLLE9BQU87Z0JBQ1IsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDO1lBQzFCLEtBQUssT0FBTztnQkFDUixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFDMUIsS0FBSyxNQUFNO2dCQUNQLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQztZQUN6QixLQUFLLE1BQU07Z0JBQ1AsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQ3pCLEtBQUssT0FBTztnQkFDUixPQUFPLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFDMUIsS0FBSyxPQUFPO2dCQUNSLE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQztZQUMxQjtnQkFDSSxNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDaEQ7SUFDTCxDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQUFDOzs7Ozs7OztBQ3BEd0Y7QUFDekM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9zcmMvcGx1Z2luL3V0aWxzL2xvZ2dlci9Mb2dnZXJPcHRpb25zLnRzPzNjNmQiLCJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlci5Db3JlLnRzP2RjMzQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExvZyBsZXZlbCBmb3IgYSBsb2dnZXIuXHJcbiAqL1xyXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XHJcbiAgICBUcmFjZSxcclxuICAgIERlYnVnLFxyXG4gICAgV2FybixcclxuICAgIEluZm8sXHJcbiAgICBFcnJvcixcclxuICAgIEZhdGFsXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBMT0dfTEVWRUxfU1RZTEUgPSB7XHJcbiAgICAwOiBcImdyZWVuXCIsXHJcbiAgICAxOiBcIiM5MGJlOTBcIixcclxuICAgIDI6IFwiI2YxY2U3YVwiLFxyXG4gICAgMzogXCIjMDA5ZmRmXCIsXHJcbiAgICA0OiBcInJlZFwiLFxyXG4gICAgNTogXCJyZWRcIlxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IExPR19MRVZFTF9TVFlMRTIgPSB7XHJcbiAgICAwOiB7IGNvbG9yOiBcImdyZWVuXCIsIGJnOiBcIiNmN2ZiZjdcIiB9LFxyXG4gICAgMTogeyBjb2xvcjogXCJncmVlblwiLCBiZzogXCIjZjdmYmY3XCIgfSxcclxuICAgIDI6IHsgY29sb3I6IFwiZ3JlZW5cIiwgYmc6IFwiI2Y3ZmJmN1wiIH0sXHJcbiAgICAzOiB7IGNvbG9yOiBcImdyZWVuXCIsIGJnOiBcIiNlNWYyZTVcIiB9LFxyXG4gICAgNDogeyBjb2xvcjogXCJncmVlblwiLCBiZzogXCIjZTVmMmU1XCIgfSxcclxuICAgIDU6IHsgY29sb3I6IFwiZ3JlZW5cIiwgYmc6IFwiI2U1ZjJlNVwiIH1cclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dMZXZlbHMge1xyXG4gICAgc3RhdGljIEZyb21TdHJpbmcodmFsOiBzdHJpbmcpOiBMb2dMZXZlbCB7XHJcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxvZ0xldmVsIHN0cmluZyBtdXN0IGJlIHNldC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodmFsLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgY2FzZSBcIlRSQUNFXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9nTGV2ZWwuVHJhY2U7XHJcbiAgICAgICAgICAgIGNhc2UgXCJERUJVR1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkRlYnVnO1xyXG4gICAgICAgICAgICBjYXNlIFwiSU5GT1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkluZm87XHJcbiAgICAgICAgICAgIGNhc2UgXCJXQVJOXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9nTGV2ZWwuV2FybjtcclxuICAgICAgICAgICAgY2FzZSBcIkVSUk9SXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTG9nTGV2ZWwuRXJyb3I7XHJcbiAgICAgICAgICAgIGNhc2UgXCJGQVRBTFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIExvZ0xldmVsLkZhdGFsO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgTG9nIExldmVsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCB7IExvZ0xldmVsLCBMb2dMZXZlbHMsIExPR19MRVZFTF9TVFlMRSwgTE9HX0xFVkVMX1NUWUxFMiB9IGZyb20gXCIuL0xvZ2dlck9wdGlvbnNcIjtcclxuZXhwb3J0IHsgTG9nZ2VyU2VydmljZSB9IGZyb20gXCIuL0xvZ2dlclNlcnZpY2VcIjtcclxuZXhwb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vTG9nZ2VyXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8652\n')},6212:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "Y": () => (/* binding */ Logger)\n/* harmony export */ });\n/* harmony import */ var _Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n\r\nvar noop = function () { return undefined; };\r\nvar Logger = (function () {\r\n    function Logger(className, enabled, logLevel, style) {\r\n        this._logPrefix = "%c<<G2Analytics>>";\r\n        this._className = "General";\r\n        this._enabled = true;\r\n        this._logLevel = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Debug */ ["in"].Debug;\r\n        this._style = "";\r\n        this._className = className;\r\n        this._enabled = enabled;\r\n        this._logLevel = logLevel;\r\n        this._style = style;\r\n    }\r\n    Logger.prototype.setEnabled = function (val) {\r\n        var clsName = this._className;\r\n        this._enabled = val;\r\n    };\r\n    Logger.prototype.setLogLevel = function (level) {\r\n        this._logLevel = level;\r\n    };\r\n    Logger.prototype.format = function () {\r\n        return this._logPrefix + "[" + this._className + "] ";\r\n    };\r\n    Logger.prototype.getStyle = function (logLevel) {\r\n        var style;\r\n        var bg = "none";\r\n        if (this._style) {\r\n            style = this._style;\r\n            bg = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LOG_LEVEL_STYLE2 */ .Ve[logLevel].bg;\r\n        }\r\n        else {\r\n            style = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LOG_LEVEL_STYLE */ .wP[logLevel];\r\n            bg = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LOG_LEVEL_STYLE2 */ .Ve[logLevel].bg;\r\n        }\r\n        return ["color:" + style + ";font-weight:bold;"];\r\n    };\r\n    Object.defineProperty(Logger.prototype, "debug", {\r\n        get: function () {\r\n            if (this.isEnabled(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Debug */ ["in"].Debug)) {\r\n                return console.debug.bind(console, this.format(), this.getStyle(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Debug */ ["in"].Debug));\r\n            }\r\n            else {\r\n                return noop;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger.prototype, "info", {\r\n        get: function () {\r\n            if (this.isEnabled(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Info */ ["in"].Info)) {\r\n                return console.info.bind(console, this.format(), this.getStyle(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Info */ ["in"].Info));\r\n            }\r\n            else {\r\n                return noop;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger.prototype, "warn", {\r\n        get: function () {\r\n            if (this.isEnabled(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Warn */ ["in"].Warn)) {\r\n                return console.warn.bind(console, this.format(), this.getStyle(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Warn */ ["in"].Warn));\r\n            }\r\n            else {\r\n                return noop;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger.prototype, "error", {\r\n        get: function () {\r\n            if (this.isEnabled(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Error */ ["in"].Error)) {\r\n                return console.error.bind(console, this.format(), this.getStyle(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Error */ ["in"].Error));\r\n            }\r\n            else {\r\n                return noop;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger.prototype, "fatal", {\r\n        get: function () {\r\n            if (this.isEnabled(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Fatal */ ["in"].Fatal)) {\r\n                return console.error.bind(console, this.format(), this.getStyle(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Fatal */ ["in"].Fatal));\r\n            }\r\n            else {\r\n                return noop;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger.prototype, "trace", {\r\n        get: function () {\r\n            if (this.isEnabled(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Trace */ ["in"].Trace)) {\r\n                return console.debug.bind(console, this.format(), this.getStyle(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Trace */ ["in"].Trace));\r\n            }\r\n            else {\r\n                return noop;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Logger.prototype.isEnabled = function (logLevel) {\r\n        if (logLevel >= this._logLevel && this._enabled) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    return Logger;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ0wsYUFBQztBQUFELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi91dGlscy9sb2dnZXIvTG9nZ2VyLnRzP2I2MmUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHtMb2dMZXZlbH0gZnJvbSBcIi4vTG9nZ2VyT3B0aW9uc1wiO1xyXG4vLyBpbXBvcnQge0xPR19MRVZFTF9TVFlMRX0gZnJvbSBcIi4vTG9nZ2VyT3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBMb2dMZXZlbCwgTE9HX0xFVkVMX1NUWUxFLCBMT0dfTEVWRUxfU1RZTEUyIH0gZnJvbSBcIi4vTG9nZ2VyLkNvcmVcIjtcclxuY29uc3Qgbm9vcCA9ICgpOiBhbnkgPT4gdW5kZWZpbmVkO1xyXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcclxuICAgIHByaXZhdGUgX2xvZ1ByZWZpeCA9IFwiJWM8PEcyQW5hbHl0aWNzPj5cIjtcclxuICAgIHByaXZhdGUgX2NsYXNzTmFtZTogc3RyaW5nID0gXCJHZW5lcmFsXCI7XHJcbiAgICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX2xvZ0xldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLkRlYnVnO1xyXG4gICAgcHJpdmF0ZSBfc3R5bGU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2xhc3NOYW1lOiBzdHJpbmcsIGVuYWJsZWQ6IGJvb2xlYW4sIGxvZ0xldmVsOiBMb2dMZXZlbCwgc3R5bGU/OiBhbnkpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxvZ2dlci5DVE9SXCIsIGNsYXNzTmFtZSwgZW5hYmxlZCwgbG9nTGV2ZWwsIHN0eWxlKTtcclxuICAgICAgICB0aGlzLl9jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBsb2dMZXZlbDtcclxuICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRFbmFibGVkKHZhbDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGxldCBjbHNOYW1lID0gdGhpcy5fY2xhc3NOYW1lO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdMb2dnZXIuc2V0RW5hYmxlZCA9PSAnLCBjbHNOYW1lLCB2YWwpO1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldExvZ0xldmVsKGxldmVsOiBMb2dMZXZlbCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdMb2dnZXIuc2V0TG9nTGV2ZWwgPT0gJywgdGhpcy5fY2xhc3NOYW1lLCBsZXZlbCk7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBsZXZlbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGZvcm1hdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbG9nUHJlZml4ICsgXCJbXCIgKyB0aGlzLl9jbGFzc05hbWUgKyBcIl0gXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRTdHlsZShsb2dMZXZlbDogTG9nTGV2ZWwpIHtcclxuICAgICAgICBsZXQgc3R5bGU7XHJcbiAgICAgICAgbGV0IGJnID0gXCJub25lXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlKSB7XHJcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5fc3R5bGVcclxuICAgICAgICAgICAgYmcgPSBMT0dfTEVWRUxfU1RZTEUyW2xvZ0xldmVsXS5iZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZSA9IExPR19MRVZFTF9TVFlMRVtsb2dMZXZlbF07XHJcbiAgICAgICAgICAgIGJnID0gTE9HX0xFVkVMX1NUWUxFMltsb2dMZXZlbF0uYmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYmdcIiwgYmcpO1xyXG4gICAgICAgIHJldHVybiBbXCJjb2xvcjpcIiArIHN0eWxlICsgXCI7Zm9udC13ZWlnaHQ6Ym9sZDtcIl07XHJcbiAgICAgICAgLy8gcmV0dXJuIFtcImNvbG9yOlwiICsgc3R5bGUgKyBcIjtmb250LXdlaWdodDpib2xkO2JhY2tncm91bmQ6XCIgKyBiZyArIFwiO1wiXTtcclxuICAgICAgICAvLyByZXR1cm4gW1wiY29sb3I6IzAwNDAwMDtmb250LXdlaWdodDpib2xkO2JhY2tncm91bmQ6cmdiYSg1MSwgMTcwLCA1MSwgLjEpXCJdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZWJ1ZygpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuRGVidWcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5EZWJ1ZykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5mbygpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuSW5mbykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuaW5mby5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuSW5mbykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2FybigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuV2FybikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuV2FybikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXJyb3IoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKExvZ0xldmVsLkVycm9yKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsIHRoaXMuZm9ybWF0KCksIHRoaXMuZ2V0U3R5bGUoTG9nTGV2ZWwuRXJyb3IpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhdGFsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZChMb2dMZXZlbC5GYXRhbCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlLCB0aGlzLmZvcm1hdCgpLCB0aGlzLmdldFN0eWxlKExvZ0xldmVsLkZhdGFsKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0cmFjZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQoTG9nTGV2ZWwuVHJhY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSwgdGhpcy5mb3JtYXQoKSwgdGhpcy5nZXRTdHlsZShMb2dMZXZlbC5UcmFjZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub29wO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBQUklWQVRFICovXHJcbiAgICAvKlRPRE86IENyZWF0ZSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlIHByZWZhY2UgYW5kIGFsc28gaGFuZGxlcyBjb25zb2xlIGNvbG9yaXplIGRlcGVuZGluZyBvbiBicm93c2VyIChJRSBkb2VzIG5vdCBzdXBwb3J0IGNvbG9ycywgc28gc3R5bGUgaXMgcHJpbnRlZCkgKi9cclxuICAgIHByaXZhdGUgaXNFbmFibGVkKGxvZ0xldmVsOiBMb2dMZXZlbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmIChsb2dMZXZlbCA+PSB0aGlzLl9sb2dMZXZlbCAmJiB0aGlzLl9lbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6212\n')},7458:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "m": () => (/* binding */ LoggerService)\n/* harmony export */ });\n/* unused harmony export LoggerServiceSingleton */\n/* harmony import */ var _Logger_Core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8652);\n/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6212);\n/* harmony import */ var _core_constants_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5079);\n/* harmony import */ var _Core_storages_cookies_CookiesStorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5045);\n\r\n\r\n\r\n\r\nvar LoggerServiceSingleton = (function () {\r\n    function LoggerServiceSingleton() {\r\n        this._logLevel = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevel.Debug */ ["in"].Debug;\r\n        this._logEnabled = false;\r\n    }\r\n    Object.defineProperty(LoggerServiceSingleton, "Instance", {\r\n        get: function () {\r\n            if (this.instance === null || this.instance === undefined) {\r\n                this.instance = new LoggerServiceSingleton();\r\n                this.instance._loggers = new Map();\r\n            }\r\n            else {\r\n            }\r\n            return this.instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    LoggerServiceSingleton.prototype.createLogger = function (name, style) {\r\n        if (_Core_storages_cookies_CookiesStorage__WEBPACK_IMPORTED_MODULE_3__/* .CookiesStorage.get */ .v.get(_core_constants_Constants__WEBPACK_IMPORTED_MODULE_2__/* .Constants.cookies.LogLevel */ .g.cookies.LogLevel)) {\r\n            this._logLevel = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevels.FromString */ .B$.FromString(_Core_storages_cookies_CookiesStorage__WEBPACK_IMPORTED_MODULE_3__/* .CookiesStorage.get */ .v.get(_core_constants_Constants__WEBPACK_IMPORTED_MODULE_2__/* .Constants.cookies.LogLevel */ .g.cookies.LogLevel));\r\n        }\r\n        ;\r\n        var logEnabled = _Core_storages_cookies_CookiesStorage__WEBPACK_IMPORTED_MODULE_3__/* .CookiesStorage.get */ .v.get(_core_constants_Constants__WEBPACK_IMPORTED_MODULE_2__/* .Constants.cookies.LogEnabled */ .g.cookies.LogEnabled);\r\n        if (typeof logEnabled === "string") {\r\n            if (logEnabled.toLowerCase() === "true") {\r\n                this._logEnabled = true;\r\n            }\r\n            else {\r\n                this._logEnabled = false;\r\n            }\r\n        }\r\n        ;\r\n        var logger = new _Logger__WEBPACK_IMPORTED_MODULE_1__/* .Logger */ .Y(name, this._logEnabled, this._logLevel, style);\r\n        this._loggers.set(name, logger);\r\n        return logger;\r\n    };\r\n    LoggerServiceSingleton.prototype.setEnabled = function (val) {\r\n        console.log("LOGGER SERVICE.setEnabled", val);\r\n        this._logEnabled = val;\r\n        _Core_storages_cookies_CookiesStorage__WEBPACK_IMPORTED_MODULE_3__/* .CookiesStorage.set */ .v.set(_core_constants_Constants__WEBPACK_IMPORTED_MODULE_2__/* .Constants.cookies.LogEnabled */ .g.cookies.LogEnabled, val.toString());\r\n        this._loggers.forEach(function (logger, key, map) {\r\n            logger.setEnabled(val);\r\n        });\r\n    };\r\n    LoggerServiceSingleton.prototype.setLevel = function (strLogLevel) {\r\n        try {\r\n            console.log("LOGGER SERVICE.setLevel", strLogLevel);\r\n            _Core_storages_cookies_CookiesStorage__WEBPACK_IMPORTED_MODULE_3__/* .CookiesStorage.set */ .v.set(_core_constants_Constants__WEBPACK_IMPORTED_MODULE_2__/* .Constants.cookies.LogLevel */ .g.cookies.LogLevel, strLogLevel);\r\n            this._logLevel = _Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevels.FromString */ .B$.FromString(strLogLevel);\r\n            this._loggers.forEach(function (value, key, map) {\r\n                value.setLogLevel(_Logger_Core__WEBPACK_IMPORTED_MODULE_0__/* .LogLevels.FromString */ .B$.FromString(strLogLevel));\r\n            });\r\n        }\r\n        catch (e) {\r\n            console.error(e.message);\r\n        }\r\n    };\r\n    return LoggerServiceSingleton;\r\n}());\r\n\r\nvar LoggerService = LoggerServiceSingleton.Instance;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ1OC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvRDtBQUNsQjtBQUN5QjtBQUNZO0FBR3ZFO0lBQUE7UUFHWSxjQUFTLEdBQWEsMkVBQWMsQ0FBQztRQUNyQyxnQkFBVyxHQUFZLEtBQUssQ0FBQztJQTBEekMsQ0FBQztJQXhERyxzQkFBVyxrQ0FBUTthQUFuQjtZQUVJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBRXZELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxzQkFBc0IsRUFBRSxDQUFDO2dCQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO2FBQ3RDO2lCQUFNO2FBRU47WUFDRCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsQ0FBQzs7O09BQUE7SUFFTSw2Q0FBWSxHQUFuQixVQUFvQixJQUFZLEVBQUUsS0FBYztRQUU1QyxJQUFJLGtHQUFrQixDQUFDLDJHQUEwQixDQUFDLEVBQUU7WUFFaEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxtRkFBb0IsQ0FBQyxrR0FBa0IsQ0FBQywyR0FBMEIsQ0FBQyxDQUFDLENBQUM7U0FDekY7UUFBQSxDQUFDO1FBQ0YsSUFBSSxVQUFVLEdBQUcsa0dBQWtCLENBQUMsK0dBQTRCLENBQUMsQ0FBQztRQUNsRSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtZQUNoQyxJQUFJLFVBQVUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO2FBQzNCO2lCQUFNO2dCQUNILElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO2FBQzVCO1NBQ0o7UUFBQSxDQUFDO1FBQ0YsSUFBSSxNQUFNLEdBQUcsSUFBSSxvREFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2hDLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFTSwyQ0FBVSxHQUFqQixVQUFrQixHQUFZO1FBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7UUFDdkIsa0dBQWtCLENBQUMsK0dBQTRCLEVBQUUsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUc7WUFFbkMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSx5Q0FBUSxHQUFmLFVBQWdCLFdBQW1CO1FBQy9CLElBQUk7WUFDQSxPQUFPLENBQUMsR0FBRyxDQUFDLHlCQUF5QixFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBRXBELGtHQUFrQixDQUFDLDJHQUEwQixFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzVELElBQUksQ0FBQyxTQUFTLEdBQUcsbUZBQW9CLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFbkQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUc7Z0JBQ2xDLEtBQUssQ0FBQyxXQUFXLENBQUMsbUZBQW9CLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN6RCxDQUFDLENBQUMsQ0FBQztTQUNOO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDUixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM1QjtJQUVMLENBQUM7SUFDTCw2QkFBQztBQUFELENBQUM7O0FBRU0sSUFBSSxhQUFhLEdBQUcsc0JBQXNCLENBQUMsUUFBUSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZzJpbnNpZ2h0cy8uL3NyYy9wbHVnaW4vdXRpbHMvbG9nZ2VyL0xvZ2dlclNlcnZpY2UudHM/ZjQ2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2dMZXZlbCwgTG9nTGV2ZWxzIH0gZnJvbSBcIi4vTG9nZ2VyLkNvcmVcIjtcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4vTG9nZ2VyXCI7XHJcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gXCIuLi8uLi9jb3JlL2NvbnN0YW50cy9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQ29va2llc1N0b3JhZ2UgfSBmcm9tIFwiQENvcmUvc3RvcmFnZXMvY29va2llcy9Db29raWVzU3RvcmFnZVwiO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dnZXJTZXJ2aWNlU2luZ2xldG9uIHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBMb2dnZXJTZXJ2aWNlU2luZ2xldG9uO1xyXG4gICAgcHJpdmF0ZSBfbG9nZ2VyczogTWFwPHN0cmluZywgTG9nZ2VyPjtcclxuICAgIHByaXZhdGUgX2xvZ0xldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLkRlYnVnO1xyXG4gICAgcHJpdmF0ZSBfbG9nRW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIHN0YXRpYyBnZXQgSW5zdGFuY2UoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlID09PSBudWxsIHx8IHRoaXMuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkxvZ2dlclNlcnZpY2UuR2V0SW5zdGFuY2UuIE5PIElOU1RBTkNFLCBDUkVBVElOR1wiKTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBMb2dnZXJTZXJ2aWNlU2luZ2xldG9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuX2xvZ2dlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJMb2dnZXJTZXJ2aWNlLkdldEluc3RhbmNlLiBIQVMgSU5TVEFOQ0VcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVMb2dnZXIobmFtZTogc3RyaW5nLCBzdHlsZT86IHN0cmluZyk6IExvZ2dlciB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NyZWF0aW5nIExvZ2dlcicsIG5hbWUpO1xyXG4gICAgICAgIGlmIChDb29raWVzU3RvcmFnZS5nZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nTGV2ZWwpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiJSUlJSBoYXMgbG9nbGV2ZWwgY29va2llXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IExvZ0xldmVscy5Gcm9tU3RyaW5nKENvb2tpZXNTdG9yYWdlLmdldChDb25zdGFudHMuY29va2llcy5Mb2dMZXZlbCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGxvZ0VuYWJsZWQgPSBDb29raWVzU3RvcmFnZS5nZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nRW5hYmxlZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBsb2dFbmFibGVkID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGlmIChsb2dFbmFibGVkLnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2dFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGxvZ2dlciA9IG5ldyBMb2dnZXIobmFtZSwgdGhpcy5fbG9nRW5hYmxlZCwgdGhpcy5fbG9nTGV2ZWwsIHN0eWxlKTtcclxuICAgICAgICB0aGlzLl9sb2dnZXJzLnNldChuYW1lLCBsb2dnZXIpO1xyXG4gICAgICAgIHJldHVybiBsb2dnZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEVuYWJsZWQodmFsOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJMT0dHRVIgU0VSVklDRS5zZXRFbmFibGVkXCIsIHZhbCk7XHJcbiAgICAgICAgdGhpcy5fbG9nRW5hYmxlZCA9IHZhbDtcclxuICAgICAgICBDb29raWVzU3RvcmFnZS5zZXQoQ29uc3RhbnRzLmNvb2tpZXMuTG9nRW5hYmxlZCwgdmFsLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHRoaXMuX2xvZ2dlcnMuZm9yRWFjaCgobG9nZ2VyLCBrZXksIG1hcCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbG9nZ2VyJywgbG9nZ2VyLCAna2V5Jywga2V5KTtcclxuICAgICAgICAgICAgbG9nZ2VyLnNldEVuYWJsZWQodmFsKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TGV2ZWwoc3RyTG9nTGV2ZWw6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTE9HR0VSIFNFUlZJQ0Uuc2V0TGV2ZWxcIiwgc3RyTG9nTGV2ZWwpO1xyXG4gICAgICAgICAgICAvLyBzZWUgaWYgcGFzc2VkIGluIHN0cmluZyBpcyBhIHZhbGlkIExvZ0xldmVsXHJcbiAgICAgICAgICAgIENvb2tpZXNTdG9yYWdlLnNldChDb25zdGFudHMuY29va2llcy5Mb2dMZXZlbCwgc3RyTG9nTGV2ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IExvZ0xldmVscy5Gcm9tU3RyaW5nKHN0ckxvZ0xldmVsKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3NldExldmVsLi4uRnJvbVN0cmluZyA9ICcsIHN0ckxvZ0xldmVsLCAnIC0tICBsZXZlbD0nLCBsb2dMZXZlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ2dlcnMuZm9yRWFjaCgodmFsdWUsIGtleSwgbWFwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5zZXRMb2dMZXZlbChMb2dMZXZlbHMuRnJvbVN0cmluZyhzdHJMb2dMZXZlbCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ0xPR0dFUiBTRVJWSUNFLnNldExldmVsJywgbGV2ZWwpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgbGV0IExvZ2dlclNlcnZpY2UgPSBMb2dnZXJTZXJ2aWNlU2luZ2xldG9uLkluc3RhbmNlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7458\n')},1568:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "y": () => (/* binding */ ProxyService)\n/* harmony export */ });\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar ProxyServiceClass = (function () {\r\n    function ProxyServiceClass() {\r\n    }\r\n    ProxyServiceClass.prototype.apply = function (context, handlerSetting) {\r\n        var originalMethod = context[handlerSetting.target].bind(context);\r\n        context[handlerSetting.target] = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return handlerSetting.handler.apply(context, __spreadArrays([originalMethod], args));\r\n        };\r\n        return context;\r\n    };\r\n    return ProxyServiceClass;\r\n}());\r\nvar ProxyService = new ProxyServiceClass();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU2OC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUE7SUFBQTtJQU1BLENBQUM7SUFMRyxpQ0FBSyxHQUFMLFVBQU0sT0FBZSxFQUFFLGNBQWtDO1FBQ3JELElBQU0sY0FBYyxHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3BFLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEdBQUc7WUFBQyxjQUFZO2lCQUFaLFVBQVksRUFBWixxQkFBWSxFQUFaLElBQVk7Z0JBQVoseUJBQVk7O1lBQUsscUJBQWMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sa0JBQUcsY0FBYyxHQUFLLElBQUksRUFBRTtRQUFoRSxDQUFnRSxDQUFDO1FBQ3BILE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFDTCx3QkFBQztBQUFELENBQUM7QUFFTSxJQUFNLFlBQVksR0FBRyxJQUFJLGlCQUFpQixFQUFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nMmluc2lnaHRzLy4vc3JjL3BsdWdpbi91dGlscy9wcm94eS9Qcm94eVNlcnZpY2UudHM/Nzk3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm94eVNldHRpbmdzTW9kZWwgfSBmcm9tIFwiLi9tb2RlbHNcIjtcclxuXHJcbmNsYXNzIFByb3h5U2VydmljZUNsYXNzIHtcclxuICAgIGFwcGx5KGNvbnRleHQ6IG9iamVjdCwgaGFuZGxlclNldHRpbmc6IFByb3h5U2V0dGluZ3NNb2RlbCk6IGFueSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxNZXRob2QgPSBjb250ZXh0W2hhbmRsZXJTZXR0aW5nLnRhcmdldF0uYmluZChjb250ZXh0KTtcclxuICAgICAgICBjb250ZXh0W2hhbmRsZXJTZXR0aW5nLnRhcmdldF0gPSAoLi4uYXJnczogYW55KSA9PiBoYW5kbGVyU2V0dGluZy5oYW5kbGVyLmFwcGx5KGNvbnRleHQsIFtvcmlnaW5hbE1ldGhvZCwgLi4uYXJnc10pO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUHJveHlTZXJ2aWNlID0gbmV3IFByb3h5U2VydmljZUNsYXNzKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1568\n')},3477:(module,exports,__webpack_require__)=>{eval("var __WEBPACK_AMD_DEFINE_RESULT__;/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = __webpack_require__.g;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && \"object\" === 'object' && module.exports;\n  var AMD =  true && __webpack_require__.amdO;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n        return exports;\n      }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n  }\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1DQUFPO0FBQ2I7QUFDQSxPQUFPO0FBQUEsa0dBQUM7QUFDUjtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2cyaW5zaWdodHMvLi9ub2RlX21vZHVsZXMvanMtc2hhMjU2L3NyYy9zaGEyNTYuanM/ZTg1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFtqcy1zaGEyNTZde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbW4xNzgvanMtc2hhMjU2fVxuICpcbiAqIEB2ZXJzaW9uIDAuOS4wXG4gKiBAYXV0aG9yIENoZW4sIFlpLUN5dWFuIFtlbW4xNzhAZ21haWwuY29tXVxuICogQGNvcHlyaWdodCBDaGVuLCBZaS1DeXVhbiAyMDE0LTIwMTdcbiAqIEBsaWNlbnNlIE1JVFxuICovXG4vKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIEVSUk9SID0gJ2lucHV0IGlzIGludmFsaWQgdHlwZSc7XG4gIHZhciBXSU5ET1cgPSB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JztcbiAgdmFyIHJvb3QgPSBXSU5ET1cgPyB3aW5kb3cgOiB7fTtcbiAgaWYgKHJvb3QuSlNfU0hBMjU2X05PX1dJTkRPVykge1xuICAgIFdJTkRPVyA9IGZhbHNlO1xuICB9XG4gIHZhciBXRUJfV09SS0VSID0gIVdJTkRPVyAmJiB0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCc7XG4gIHZhciBOT0RFX0pTID0gIXJvb3QuSlNfU0hBMjU2X05PX05PREVfSlMgJiYgdHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlO1xuICBpZiAoTk9ERV9KUykge1xuICAgIHJvb3QgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAoV0VCX1dPUktFUikge1xuICAgIHJvb3QgPSBzZWxmO1xuICB9XG4gIHZhciBDT01NT05fSlMgPSAhcm9vdC5KU19TSEEyNTZfTk9fQ09NTU9OX0pTICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzO1xuICB2YXIgQU1EID0gdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kO1xuICB2YXIgQVJSQVlfQlVGRkVSID0gIXJvb3QuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUiAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnO1xuICB2YXIgSEVYX0NIQVJTID0gJzAxMjM0NTY3ODlhYmNkZWYnLnNwbGl0KCcnKTtcbiAgdmFyIEVYVFJBID0gWy0yMTQ3NDgzNjQ4LCA4Mzg4NjA4LCAzMjc2OCwgMTI4XTtcbiAgdmFyIFNISUZUID0gWzI0LCAxNiwgOCwgMF07XG4gIHZhciBLID0gW1xuICAgIDB4NDI4YTJmOTgsIDB4NzEzNzQ0OTEsIDB4YjVjMGZiY2YsIDB4ZTliNWRiYTUsIDB4Mzk1NmMyNWIsIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsXG4gICAgMHhkODA3YWE5OCwgMHgxMjgzNWIwMSwgMHgyNDMxODViZSwgMHg1NTBjN2RjMywgMHg3MmJlNWQ3NCwgMHg4MGRlYjFmZSwgMHg5YmRjMDZhNywgMHhjMTliZjE3NCxcbiAgICAweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLCAweDJkZTkyYzZmLCAweDRhNzQ4NGFhLCAweDVjYjBhOWRjLCAweDc2Zjk4OGRhLFxuICAgIDB4OTgzZTUxNTIsIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsIDB4MDZjYTYzNTEsIDB4MTQyOTI5NjcsXG4gICAgMHgyN2I3MGE4NSwgMHgyZTFiMjEzOCwgMHg0ZDJjNmRmYywgMHg1MzM4MGQxMywgMHg2NTBhNzM1NCwgMHg3NjZhMGFiYiwgMHg4MWMyYzkyZSwgMHg5MjcyMmM4NSxcbiAgICAweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLCAweGQxOTJlODE5LCAweGQ2OTkwNjI0LCAweGY0MGUzNTg1LCAweDEwNmFhMDcwLFxuICAgIDB4MTlhNGMxMTYsIDB4MWUzNzZjMDgsIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsIDB4NjgyZTZmZjMsXG4gICAgMHg3NDhmODJlZSwgMHg3OGE1NjM2ZiwgMHg4NGM4NzgxNCwgMHg4Y2M3MDIwOCwgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMlxuICBdO1xuICB2YXIgT1VUUFVUX1RZUEVTID0gWydoZXgnLCAnYXJyYXknLCAnZGlnZXN0JywgJ2FycmF5QnVmZmVyJ107XG5cbiAgdmFyIGJsb2NrcyA9IFtdO1xuXG4gIGlmIChyb290LkpTX1NIQTI1Nl9OT19OT0RFX0pTIHx8ICFBcnJheS5pc0FycmF5KSB7XG4gICAgQXJyYXkuaXNBcnJheSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuICB9XG5cbiAgaWYgKEFSUkFZX0JVRkZFUiAmJiAocm9vdC5KU19TSEEyNTZfTk9fQVJSQVlfQlVGRkVSX0lTX1ZJRVcgfHwgIUFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqLmJ1ZmZlciAmJiBvYmouYnVmZmVyLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcjtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGNyZWF0ZU91dHB1dE1ldGhvZCA9IGZ1bmN0aW9uIChvdXRwdXRUeXBlLCBpczIyNCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIG5ldyBTaGEyNTYoaXMyMjQsIHRydWUpLnVwZGF0ZShtZXNzYWdlKVtvdXRwdXRUeXBlXSgpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uIChpczIyNCkge1xuICAgIHZhciBtZXRob2QgPSBjcmVhdGVPdXRwdXRNZXRob2QoJ2hleCcsIGlzMjI0KTtcbiAgICBpZiAoTk9ERV9KUykge1xuICAgICAgbWV0aG9kID0gbm9kZVdyYXAobWV0aG9kLCBpczIyNCk7XG4gICAgfVxuICAgIG1ldGhvZC5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IFNoYTI1NihpczIyNCk7XG4gICAgfTtcbiAgICBtZXRob2QudXBkYXRlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKCkudXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBPVVRQVVRfVFlQRVMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB0eXBlID0gT1VUUFVUX1RZUEVTW2ldO1xuICAgICAgbWV0aG9kW3R5cGVdID0gY3JlYXRlT3V0cHV0TWV0aG9kKHR5cGUsIGlzMjI0KTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZDtcbiAgfTtcblxuICB2YXIgbm9kZVdyYXAgPSBmdW5jdGlvbiAobWV0aG9kLCBpczIyNCkge1xuICAgIHZhciBjcnlwdG8gPSBldmFsKFwicmVxdWlyZSgnY3J5cHRvJylcIik7XG4gICAgdmFyIEJ1ZmZlciA9IGV2YWwoXCJyZXF1aXJlKCdidWZmZXInKS5CdWZmZXJcIik7XG4gICAgdmFyIGFsZ29yaXRobSA9IGlzMjI0ID8gJ3NoYTIyNCcgOiAnc2hhMjU2JztcbiAgICB2YXIgbm9kZU1ldGhvZCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pLnVwZGF0ZShtZXNzYWdlLCAndXRmOCcpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gbnVsbCB8fCBtZXNzYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkgfHxcbiAgICAgICAgbWVzc2FnZS5jb25zdHJ1Y3RvciA9PT0gQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaChhbGdvcml0aG0pLnVwZGF0ZShuZXcgQnVmZmVyKG1lc3NhZ2UpKS5kaWdlc3QoJ2hleCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBub2RlTWV0aG9kO1xuICB9O1xuXG4gIHZhciBjcmVhdGVIbWFjT3V0cHV0TWV0aG9kID0gZnVuY3Rpb24gKG91dHB1dFR5cGUsIGlzMjI0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgSG1hY1NoYTI1NihrZXksIGlzMjI0LCB0cnVlKS51cGRhdGUobWVzc2FnZSlbb3V0cHV0VHlwZV0oKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBjcmVhdGVIbWFjTWV0aG9kID0gZnVuY3Rpb24gKGlzMjI0KSB7XG4gICAgdmFyIG1ldGhvZCA9IGNyZWF0ZUhtYWNPdXRwdXRNZXRob2QoJ2hleCcsIGlzMjI0KTtcbiAgICBtZXRob2QuY3JlYXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgcmV0dXJuIG5ldyBIbWFjU2hhMjU2KGtleSwgaXMyMjQpO1xuICAgIH07XG4gICAgbWV0aG9kLnVwZGF0ZSA9IGZ1bmN0aW9uIChrZXksIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBtZXRob2QuY3JlYXRlKGtleSkudXBkYXRlKG1lc3NhZ2UpO1xuICAgIH07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBPVVRQVVRfVFlQRVMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciB0eXBlID0gT1VUUFVUX1RZUEVTW2ldO1xuICAgICAgbWV0aG9kW3R5cGVdID0gY3JlYXRlSG1hY091dHB1dE1ldGhvZCh0eXBlLCBpczIyNCk7XG4gICAgfVxuICAgIHJldHVybiBtZXRob2Q7XG4gIH07XG5cbiAgZnVuY3Rpb24gU2hhMjU2KGlzMjI0LCBzaGFyZWRNZW1vcnkpIHtcbiAgICBpZiAoc2hhcmVkTWVtb3J5KSB7XG4gICAgICBibG9ja3NbMF0gPSBibG9ja3NbMTZdID0gYmxvY2tzWzFdID0gYmxvY2tzWzJdID0gYmxvY2tzWzNdID1cbiAgICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgICBibG9ja3NbMTJdID0gYmxvY2tzWzEzXSA9IGJsb2Nrc1sxNF0gPSBibG9ja3NbMTVdID0gMDtcbiAgICAgIHRoaXMuYmxvY2tzID0gYmxvY2tzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJsb2NrcyA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICB9XG5cbiAgICBpZiAoaXMyMjQpIHtcbiAgICAgIHRoaXMuaDAgPSAweGMxMDU5ZWQ4O1xuICAgICAgdGhpcy5oMSA9IDB4MzY3Y2Q1MDc7XG4gICAgICB0aGlzLmgyID0gMHgzMDcwZGQxNztcbiAgICAgIHRoaXMuaDMgPSAweGY3MGU1OTM5O1xuICAgICAgdGhpcy5oNCA9IDB4ZmZjMDBiMzE7XG4gICAgICB0aGlzLmg1ID0gMHg2ODU4MTUxMTtcbiAgICAgIHRoaXMuaDYgPSAweDY0Zjk4ZmE3O1xuICAgICAgdGhpcy5oNyA9IDB4YmVmYTRmYTQ7XG4gICAgfSBlbHNlIHsgLy8gMjU2XG4gICAgICB0aGlzLmgwID0gMHg2YTA5ZTY2NztcbiAgICAgIHRoaXMuaDEgPSAweGJiNjdhZTg1O1xuICAgICAgdGhpcy5oMiA9IDB4M2M2ZWYzNzI7XG4gICAgICB0aGlzLmgzID0gMHhhNTRmZjUzYTtcbiAgICAgIHRoaXMuaDQgPSAweDUxMGU1MjdmO1xuICAgICAgdGhpcy5oNSA9IDB4OWIwNTY4OGM7XG4gICAgICB0aGlzLmg2ID0gMHgxZjgzZDlhYjtcbiAgICAgIHRoaXMuaDcgPSAweDViZTBjZDE5O1xuICAgIH1cblxuICAgIHRoaXMuYmxvY2sgPSB0aGlzLnN0YXJ0ID0gdGhpcy5ieXRlcyA9IHRoaXMuaEJ5dGVzID0gMDtcbiAgICB0aGlzLmZpbmFsaXplZCA9IHRoaXMuaGFzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJzdCA9IHRydWU7XG4gICAgdGhpcy5pczIyNCA9IGlzMjI0O1xuICB9XG5cbiAgU2hhMjU2LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbm90U3RyaW5nLCB0eXBlID0gdHlwZW9mIG1lc3NhZ2U7XG4gICAgaWYgKHR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBtZXNzYWdlLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIG1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShtZXNzYWdlKSkge1xuICAgICAgICAgIGlmICghQVJSQVlfQlVGRkVSIHx8ICFBcnJheUJ1ZmZlci5pc1ZpZXcobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJPUik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgfVxuICAgICAgbm90U3RyaW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGNvZGUsIGluZGV4ID0gMCwgaSwgbGVuZ3RoID0gbWVzc2FnZS5sZW5ndGgsIGJsb2NrcyA9IHRoaXMuYmxvY2tzO1xuXG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5oYXNoZWQpIHtcbiAgICAgICAgdGhpcy5oYXNoZWQgPSBmYWxzZTtcbiAgICAgICAgYmxvY2tzWzBdID0gdGhpcy5ibG9jaztcbiAgICAgICAgYmxvY2tzWzE2XSA9IGJsb2Nrc1sxXSA9IGJsb2Nrc1syXSA9IGJsb2Nrc1szXSA9XG4gICAgICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgICAgICBibG9ja3NbOF0gPSBibG9ja3NbOV0gPSBibG9ja3NbMTBdID0gYmxvY2tzWzExXSA9XG4gICAgICAgICAgYmxvY2tzWzEyXSA9IGJsb2Nrc1sxM10gPSBibG9ja3NbMTRdID0gYmxvY2tzWzE1XSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChub3RTdHJpbmcpIHtcbiAgICAgICAgZm9yIChpID0gdGhpcy5zdGFydDsgaW5kZXggPCBsZW5ndGggJiYgaSA8IDY0OyArK2luZGV4KSB7XG4gICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gbWVzc2FnZVtpbmRleF0gPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IHRoaXMuc3RhcnQ7IGluZGV4IDwgbGVuZ3RoICYmIGkgPCA2NDsgKytpbmRleCkge1xuICAgICAgICAgIGNvZGUgPSBtZXNzYWdlLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gY29kZSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4YzAgfCAoY29kZSA+PiA2KSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29kZSA8IDB4ZDgwMCB8fCBjb2RlID49IDB4ZTAwMCkge1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ZTAgfCAoY29kZSA+PiAxMikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgICAgYmxvY2tzW2kgPj4gMl0gfD0gKDB4ODAgfCAoKGNvZGUgPj4gNikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8IChjb2RlICYgMHgzZikpIDw8IFNISUZUW2krKyAmIDNdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKG1lc3NhZ2UuY2hhckNvZGVBdCgrK2luZGV4KSAmIDB4M2ZmKSk7XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHhmMCB8IChjb2RlID4+IDE4KSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiAxMikgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgICBibG9ja3NbaSA+PiAyXSB8PSAoMHg4MCB8ICgoY29kZSA+PiA2KSAmIDB4M2YpKSA8PCBTSElGVFtpKysgJiAzXTtcbiAgICAgICAgICAgIGJsb2Nrc1tpID4+IDJdIHw9ICgweDgwIHwgKGNvZGUgJiAweDNmKSkgPDwgU0hJRlRbaSsrICYgM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGFzdEJ5dGVJbmRleCA9IGk7XG4gICAgICB0aGlzLmJ5dGVzICs9IGkgLSB0aGlzLnN0YXJ0O1xuICAgICAgaWYgKGkgPj0gNjQpIHtcbiAgICAgICAgdGhpcy5ibG9jayA9IGJsb2Nrc1sxNl07XG4gICAgICAgIHRoaXMuc3RhcnQgPSBpIC0gNjQ7XG4gICAgICAgIHRoaXMuaGFzaCgpO1xuICAgICAgICB0aGlzLmhhc2hlZCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuYnl0ZXMgPiA0Mjk0OTY3Mjk1KSB7XG4gICAgICB0aGlzLmhCeXRlcyArPSB0aGlzLmJ5dGVzIC8gNDI5NDk2NzI5NiA8PCAwO1xuICAgICAgdGhpcy5ieXRlcyA9IHRoaXMuYnl0ZXMgJSA0Mjk0OTY3Mjk2O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLmZpbmFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdmFyIGJsb2NrcyA9IHRoaXMuYmxvY2tzLCBpID0gdGhpcy5sYXN0Qnl0ZUluZGV4O1xuICAgIGJsb2Nrc1sxNl0gPSB0aGlzLmJsb2NrO1xuICAgIGJsb2Nrc1tpID4+IDJdIHw9IEVYVFJBW2kgJiAzXTtcbiAgICB0aGlzLmJsb2NrID0gYmxvY2tzWzE2XTtcbiAgICBpZiAoaSA+PSA1Nikge1xuICAgICAgaWYgKCF0aGlzLmhhc2hlZCkge1xuICAgICAgICB0aGlzLmhhc2goKTtcbiAgICAgIH1cbiAgICAgIGJsb2Nrc1swXSA9IHRoaXMuYmxvY2s7XG4gICAgICBibG9ja3NbMTZdID0gYmxvY2tzWzFdID0gYmxvY2tzWzJdID0gYmxvY2tzWzNdID1cbiAgICAgICAgYmxvY2tzWzRdID0gYmxvY2tzWzVdID0gYmxvY2tzWzZdID0gYmxvY2tzWzddID1cbiAgICAgICAgYmxvY2tzWzhdID0gYmxvY2tzWzldID0gYmxvY2tzWzEwXSA9IGJsb2Nrc1sxMV0gPVxuICAgICAgICBibG9ja3NbMTJdID0gYmxvY2tzWzEzXSA9IGJsb2Nrc1sxNF0gPSBibG9ja3NbMTVdID0gMDtcbiAgICB9XG4gICAgYmxvY2tzWzE0XSA9IHRoaXMuaEJ5dGVzIDw8IDMgfCB0aGlzLmJ5dGVzID4+PiAyOTtcbiAgICBibG9ja3NbMTVdID0gdGhpcy5ieXRlcyA8PCAzO1xuICAgIHRoaXMuaGFzaCgpO1xuICB9O1xuXG4gIFNoYTI1Ni5wcm90b3R5cGUuaGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHRoaXMuaDAsIGIgPSB0aGlzLmgxLCBjID0gdGhpcy5oMiwgZCA9IHRoaXMuaDMsIGUgPSB0aGlzLmg0LCBmID0gdGhpcy5oNSwgZyA9IHRoaXMuaDYsXG4gICAgICBoID0gdGhpcy5oNywgYmxvY2tzID0gdGhpcy5ibG9ja3MsIGosIHMwLCBzMSwgbWFqLCB0MSwgdDIsIGNoLCBhYiwgZGEsIGNkLCBiYztcblxuICAgIGZvciAoaiA9IDE2OyBqIDwgNjQ7ICsraikge1xuICAgICAgLy8gcmlnaHRyb3RhdGVcbiAgICAgIHQxID0gYmxvY2tzW2ogLSAxNV07XG4gICAgICBzMCA9ICgodDEgPj4+IDcpIHwgKHQxIDw8IDI1KSkgXiAoKHQxID4+PiAxOCkgfCAodDEgPDwgMTQpKSBeICh0MSA+Pj4gMyk7XG4gICAgICB0MSA9IGJsb2Nrc1tqIC0gMl07XG4gICAgICBzMSA9ICgodDEgPj4+IDE3KSB8ICh0MSA8PCAxNSkpIF4gKCh0MSA+Pj4gMTkpIHwgKHQxIDw8IDEzKSkgXiAodDEgPj4+IDEwKTtcbiAgICAgIGJsb2Nrc1tqXSA9IGJsb2Nrc1tqIC0gMTZdICsgczAgKyBibG9ja3NbaiAtIDddICsgczEgPDwgMDtcbiAgICB9XG5cbiAgICBiYyA9IGIgJiBjO1xuICAgIGZvciAoaiA9IDA7IGogPCA2NDsgaiArPSA0KSB7XG4gICAgICBpZiAodGhpcy5maXJzdCkge1xuICAgICAgICBpZiAodGhpcy5pczIyNCkge1xuICAgICAgICAgIGFiID0gMzAwMDMyO1xuICAgICAgICAgIHQxID0gYmxvY2tzWzBdIC0gMTQxMzI1NzgxOTtcbiAgICAgICAgICBoID0gdDEgLSAxNTAwNTQ1OTkgPDwgMDtcbiAgICAgICAgICBkID0gdDEgKyAyNDE3NzA3NyA8PCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFiID0gNzA0NzUxMTA5O1xuICAgICAgICAgIHQxID0gYmxvY2tzWzBdIC0gMjEwMjQ0MjQ4O1xuICAgICAgICAgIGggPSB0MSAtIDE1MjE0ODY1MzQgPDwgMDtcbiAgICAgICAgICBkID0gdDEgKyAxNDM2OTQ1NjUgPDwgMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMCA9ICgoYSA+Pj4gMikgfCAoYSA8PCAzMCkpIF4gKChhID4+PiAxMykgfCAoYSA8PCAxOSkpIF4gKChhID4+PiAyMikgfCAoYSA8PCAxMCkpO1xuICAgICAgICBzMSA9ICgoZSA+Pj4gNikgfCAoZSA8PCAyNikpIF4gKChlID4+PiAxMSkgfCAoZSA8PCAyMSkpIF4gKChlID4+PiAyNSkgfCAoZSA8PCA3KSk7XG4gICAgICAgIGFiID0gYSAmIGI7XG4gICAgICAgIG1haiA9IGFiIF4gKGEgJiBjKSBeIGJjO1xuICAgICAgICBjaCA9IChlICYgZikgXiAofmUgJiBnKTtcbiAgICAgICAgdDEgPSBoICsgczEgKyBjaCArIEtbal0gKyBibG9ja3Nbal07XG4gICAgICAgIHQyID0gczAgKyBtYWo7XG4gICAgICAgIGggPSBkICsgdDEgPDwgMDtcbiAgICAgICAgZCA9IHQxICsgdDIgPDwgMDtcbiAgICAgIH1cbiAgICAgIHMwID0gKChkID4+PiAyKSB8IChkIDw8IDMwKSkgXiAoKGQgPj4+IDEzKSB8IChkIDw8IDE5KSkgXiAoKGQgPj4+IDIyKSB8IChkIDw8IDEwKSk7XG4gICAgICBzMSA9ICgoaCA+Pj4gNikgfCAoaCA8PCAyNikpIF4gKChoID4+PiAxMSkgfCAoaCA8PCAyMSkpIF4gKChoID4+PiAyNSkgfCAoaCA8PCA3KSk7XG4gICAgICBkYSA9IGQgJiBhO1xuICAgICAgbWFqID0gZGEgXiAoZCAmIGIpIF4gYWI7XG4gICAgICBjaCA9IChoICYgZSkgXiAofmggJiBmKTtcbiAgICAgIHQxID0gZyArIHMxICsgY2ggKyBLW2ogKyAxXSArIGJsb2Nrc1tqICsgMV07XG4gICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgZyA9IGMgKyB0MSA8PCAwO1xuICAgICAgYyA9IHQxICsgdDIgPDwgMDtcbiAgICAgIHMwID0gKChjID4+PiAyKSB8IChjIDw8IDMwKSkgXiAoKGMgPj4+IDEzKSB8IChjIDw8IDE5KSkgXiAoKGMgPj4+IDIyKSB8IChjIDw8IDEwKSk7XG4gICAgICBzMSA9ICgoZyA+Pj4gNikgfCAoZyA8PCAyNikpIF4gKChnID4+PiAxMSkgfCAoZyA8PCAyMSkpIF4gKChnID4+PiAyNSkgfCAoZyA8PCA3KSk7XG4gICAgICBjZCA9IGMgJiBkO1xuICAgICAgbWFqID0gY2QgXiAoYyAmIGEpIF4gZGE7XG4gICAgICBjaCA9IChnICYgaCkgXiAofmcgJiBlKTtcbiAgICAgIHQxID0gZiArIHMxICsgY2ggKyBLW2ogKyAyXSArIGJsb2Nrc1tqICsgMl07XG4gICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgZiA9IGIgKyB0MSA8PCAwO1xuICAgICAgYiA9IHQxICsgdDIgPDwgMDtcbiAgICAgIHMwID0gKChiID4+PiAyKSB8IChiIDw8IDMwKSkgXiAoKGIgPj4+IDEzKSB8IChiIDw8IDE5KSkgXiAoKGIgPj4+IDIyKSB8IChiIDw8IDEwKSk7XG4gICAgICBzMSA9ICgoZiA+Pj4gNikgfCAoZiA8PCAyNikpIF4gKChmID4+PiAxMSkgfCAoZiA8PCAyMSkpIF4gKChmID4+PiAyNSkgfCAoZiA8PCA3KSk7XG4gICAgICBiYyA9IGIgJiBjO1xuICAgICAgbWFqID0gYmMgXiAoYiAmIGQpIF4gY2Q7XG4gICAgICBjaCA9IChmICYgZykgXiAofmYgJiBoKTtcbiAgICAgIHQxID0gZSArIHMxICsgY2ggKyBLW2ogKyAzXSArIGJsb2Nrc1tqICsgM107XG4gICAgICB0MiA9IHMwICsgbWFqO1xuICAgICAgZSA9IGEgKyB0MSA8PCAwO1xuICAgICAgYSA9IHQxICsgdDIgPDwgMDtcbiAgICB9XG5cbiAgICB0aGlzLmgwID0gdGhpcy5oMCArIGEgPDwgMDtcbiAgICB0aGlzLmgxID0gdGhpcy5oMSArIGIgPDwgMDtcbiAgICB0aGlzLmgyID0gdGhpcy5oMiArIGMgPDwgMDtcbiAgICB0aGlzLmgzID0gdGhpcy5oMyArIGQgPDwgMDtcbiAgICB0aGlzLmg0ID0gdGhpcy5oNCArIGUgPDwgMDtcbiAgICB0aGlzLmg1ID0gdGhpcy5oNSArIGYgPDwgMDtcbiAgICB0aGlzLmg2ID0gdGhpcy5oNiArIGcgPDwgMDtcbiAgICB0aGlzLmg3ID0gdGhpcy5oNyArIGggPDwgMDtcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLmhleCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZpbmFsaXplKCk7XG5cbiAgICB2YXIgaDAgPSB0aGlzLmgwLCBoMSA9IHRoaXMuaDEsIGgyID0gdGhpcy5oMiwgaDMgPSB0aGlzLmgzLCBoNCA9IHRoaXMuaDQsIGg1ID0gdGhpcy5oNSxcbiAgICAgIGg2ID0gdGhpcy5oNiwgaDcgPSB0aGlzLmg3O1xuXG4gICAgdmFyIGhleCA9IEhFWF9DSEFSU1soaDAgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDAgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgwID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMCA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gwICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMSA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDEgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgxID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDEgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGgyID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoMiA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDIgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toMiAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDMgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGgzID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoMyA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2gzICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDQgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiAyMCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDQgPj4gMTYpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNCA+PiAxMikgJiAweDBGXSArIEhFWF9DSEFSU1soaDQgPj4gOCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg0ID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDQgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDI4KSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNSA+PiAyNCkgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNSA+PiAxNikgJiAweDBGXSArXG4gICAgICBIRVhfQ0hBUlNbKGg1ID4+IDEyKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNSA+PiA4KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDUgPj4gNCkgJiAweDBGXSArIEhFWF9DSEFSU1toNSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gMjgpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg2ID4+IDI0KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gMjApICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg2ID4+IDE2KSAmIDB4MEZdICtcbiAgICAgIEhFWF9DSEFSU1soaDYgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg2ID4+IDgpICYgMHgwRl0gK1xuICAgICAgSEVYX0NIQVJTWyhoNiA+PiA0KSAmIDB4MEZdICsgSEVYX0NIQVJTW2g2ICYgMHgwRl07XG4gICAgaWYgKCF0aGlzLmlzMjI0KSB7XG4gICAgICBoZXggKz0gSEVYX0NIQVJTWyhoNyA+PiAyOCkgJiAweDBGXSArIEhFWF9DSEFSU1soaDcgPj4gMjQpICYgMHgwRl0gK1xuICAgICAgICBIRVhfQ0hBUlNbKGg3ID4+IDIwKSAmIDB4MEZdICsgSEVYX0NIQVJTWyhoNyA+PiAxNikgJiAweDBGXSArXG4gICAgICAgIEhFWF9DSEFSU1soaDcgPj4gMTIpICYgMHgwRl0gKyBIRVhfQ0hBUlNbKGg3ID4+IDgpICYgMHgwRl0gK1xuICAgICAgICBIRVhfQ0hBUlNbKGg3ID4+IDQpICYgMHgwRl0gKyBIRVhfQ0hBUlNbaDcgJiAweDBGXTtcbiAgICB9XG4gICAgcmV0dXJuIGhleDtcbiAgfTtcblxuICBTaGEyNTYucHJvdG90eXBlLnRvU3RyaW5nID0gU2hhMjU2LnByb3RvdHlwZS5oZXg7XG5cbiAgU2hhMjU2LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGgwID0gdGhpcy5oMCwgaDEgPSB0aGlzLmgxLCBoMiA9IHRoaXMuaDIsIGgzID0gdGhpcy5oMywgaDQgPSB0aGlzLmg0LCBoNSA9IHRoaXMuaDUsXG4gICAgICBoNiA9IHRoaXMuaDYsIGg3ID0gdGhpcy5oNztcblxuICAgIHZhciBhcnIgPSBbXG4gICAgICAoaDAgPj4gMjQpICYgMHhGRiwgKGgwID4+IDE2KSAmIDB4RkYsIChoMCA+PiA4KSAmIDB4RkYsIGgwICYgMHhGRixcbiAgICAgIChoMSA+PiAyNCkgJiAweEZGLCAoaDEgPj4gMTYpICYgMHhGRiwgKGgxID4+IDgpICYgMHhGRiwgaDEgJiAweEZGLFxuICAgICAgKGgyID4+IDI0KSAmIDB4RkYsIChoMiA+PiAxNikgJiAweEZGLCAoaDIgPj4gOCkgJiAweEZGLCBoMiAmIDB4RkYsXG4gICAgICAoaDMgPj4gMjQpICYgMHhGRiwgKGgzID4+IDE2KSAmIDB4RkYsIChoMyA+PiA4KSAmIDB4RkYsIGgzICYgMHhGRixcbiAgICAgIChoNCA+PiAyNCkgJiAweEZGLCAoaDQgPj4gMTYpICYgMHhGRiwgKGg0ID4+IDgpICYgMHhGRiwgaDQgJiAweEZGLFxuICAgICAgKGg1ID4+IDI0KSAmIDB4RkYsIChoNSA+PiAxNikgJiAweEZGLCAoaDUgPj4gOCkgJiAweEZGLCBoNSAmIDB4RkYsXG4gICAgICAoaDYgPj4gMjQpICYgMHhGRiwgKGg2ID4+IDE2KSAmIDB4RkYsIChoNiA+PiA4KSAmIDB4RkYsIGg2ICYgMHhGRlxuICAgIF07XG4gICAgaWYgKCF0aGlzLmlzMjI0KSB7XG4gICAgICBhcnIucHVzaCgoaDcgPj4gMjQpICYgMHhGRiwgKGg3ID4+IDE2KSAmIDB4RkYsIChoNyA+PiA4KSAmIDB4RkYsIGg3ICYgMHhGRik7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH07XG5cbiAgU2hhMjU2LnByb3RvdHlwZS5hcnJheSA9IFNoYTI1Ni5wcm90b3R5cGUuZGlnZXN0O1xuXG4gIFNoYTI1Ni5wcm90b3R5cGUuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmlzMjI0ID8gMjggOiAzMik7XG4gICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDAsIHRoaXMuaDApO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMig0LCB0aGlzLmgxKTtcbiAgICBkYXRhVmlldy5zZXRVaW50MzIoOCwgdGhpcy5oMik7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDEyLCB0aGlzLmgzKTtcbiAgICBkYXRhVmlldy5zZXRVaW50MzIoMTYsIHRoaXMuaDQpO1xuICAgIGRhdGFWaWV3LnNldFVpbnQzMigyMCwgdGhpcy5oNSk7XG4gICAgZGF0YVZpZXcuc2V0VWludDMyKDI0LCB0aGlzLmg2KTtcbiAgICBpZiAoIXRoaXMuaXMyMjQpIHtcbiAgICAgIGRhdGFWaWV3LnNldFVpbnQzMigyOCwgdGhpcy5oNyk7XG4gICAgfVxuICAgIHJldHVybiBidWZmZXI7XG4gIH07XG5cbiAgZnVuY3Rpb24gSG1hY1NoYTI1NihrZXksIGlzMjI0LCBzaGFyZWRNZW1vcnkpIHtcbiAgICB2YXIgaSwgdHlwZSA9IHR5cGVvZiBrZXk7XG4gICAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgYnl0ZXMgPSBbXSwgbGVuZ3RoID0ga2V5Lmxlbmd0aCwgaW5kZXggPSAwLCBjb2RlO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvZGUgPSBrZXkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSBjb2RlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDgwMCkge1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4YzAgfCAoY29kZSA+PiA2KSk7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSAoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweGQ4MDAgfHwgY29kZSA+PSAweGUwMDApIHtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweGUwIHwgKGNvZGUgPj4gMTIpKTtcbiAgICAgICAgICBieXRlc1tpbmRleCsrXSA9ICgweDgwIHwgKChjb2RlID4+IDYpICYgMHgzZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoY29kZSAmIDB4M2YpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2RlID0gMHgxMDAwMCArICgoKGNvZGUgJiAweDNmZikgPDwgMTApIHwgKGtleS5jaGFyQ29kZUF0KCsraSkgJiAweDNmZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ZjAgfCAoY29kZSA+PiAxOCkpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoKGNvZGUgPj4gMTIpICYgMHgzZikpO1xuICAgICAgICAgIGJ5dGVzW2luZGV4KytdID0gKDB4ODAgfCAoKGNvZGUgPj4gNikgJiAweDNmKSk7XG4gICAgICAgICAgYnl0ZXNbaW5kZXgrK10gPSAoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBrZXkgPSBieXRlcztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChrZXkgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICB9IGVsc2UgaWYgKEFSUkFZX0JVRkZFUiAmJiBrZXkuY29uc3RydWN0b3IgPT09IEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAga2V5ID0gbmV3IFVpbnQ4QXJyYXkoa2V5KTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgaWYgKCFBUlJBWV9CVUZGRVIgfHwgIUFycmF5QnVmZmVyLmlzVmlldyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJST1IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUk9SKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5Lmxlbmd0aCA+IDY0KSB7XG4gICAgICBrZXkgPSAobmV3IFNoYTI1NihpczIyNCwgdHJ1ZSkpLnVwZGF0ZShrZXkpLmFycmF5KCk7XG4gICAgfVxuXG4gICAgdmFyIG9LZXlQYWQgPSBbXSwgaUtleVBhZCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgKytpKSB7XG4gICAgICB2YXIgYiA9IGtleVtpXSB8fCAwO1xuICAgICAgb0tleVBhZFtpXSA9IDB4NWMgXiBiO1xuICAgICAgaUtleVBhZFtpXSA9IDB4MzYgXiBiO1xuICAgIH1cblxuICAgIFNoYTI1Ni5jYWxsKHRoaXMsIGlzMjI0LCBzaGFyZWRNZW1vcnkpO1xuXG4gICAgdGhpcy51cGRhdGUoaUtleVBhZCk7XG4gICAgdGhpcy5vS2V5UGFkID0gb0tleVBhZDtcbiAgICB0aGlzLmlubmVyID0gdHJ1ZTtcbiAgICB0aGlzLnNoYXJlZE1lbW9yeSA9IHNoYXJlZE1lbW9yeTtcbiAgfVxuICBIbWFjU2hhMjU2LnByb3RvdHlwZSA9IG5ldyBTaGEyNTYoKTtcblxuICBIbWFjU2hhMjU2LnByb3RvdHlwZS5maW5hbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBTaGEyNTYucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgaWYgKHRoaXMuaW5uZXIpIHtcbiAgICAgIHRoaXMuaW5uZXIgPSBmYWxzZTtcbiAgICAgIHZhciBpbm5lckhhc2ggPSB0aGlzLmFycmF5KCk7XG4gICAgICBTaGEyNTYuY2FsbCh0aGlzLCB0aGlzLmlzMjI0LCB0aGlzLnNoYXJlZE1lbW9yeSk7XG4gICAgICB0aGlzLnVwZGF0ZSh0aGlzLm9LZXlQYWQpO1xuICAgICAgdGhpcy51cGRhdGUoaW5uZXJIYXNoKTtcbiAgICAgIFNoYTI1Ni5wcm90b3R5cGUuZmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGV4cG9ydHMgPSBjcmVhdGVNZXRob2QoKTtcbiAgZXhwb3J0cy5zaGEyNTYgPSBleHBvcnRzO1xuICBleHBvcnRzLnNoYTIyNCA9IGNyZWF0ZU1ldGhvZCh0cnVlKTtcbiAgZXhwb3J0cy5zaGEyNTYuaG1hYyA9IGNyZWF0ZUhtYWNNZXRob2QoKTtcbiAgZXhwb3J0cy5zaGEyMjQuaG1hYyA9IGNyZWF0ZUhtYWNNZXRob2QodHJ1ZSk7XG5cbiAgaWYgKENPTU1PTl9KUykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiAgfSBlbHNlIHtcbiAgICByb290LnNoYTI1NiA9IGV4cG9ydHMuc2hhMjU2O1xuICAgIHJvb3Quc2hhMjI0ID0gZXhwb3J0cy5zaGEyMjQ7XG4gICAgaWYgKEFNRCkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3477\n")}},__webpack_module_cache__={};function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](F,F.exports,__webpack_require__),F.exports}__webpack_require__.amdO={},__webpack_require__.d=(Q,U)=>{for(var F in U)__webpack_require__.o(U,F)&&!__webpack_require__.o(Q,F)&&Object.defineProperty(Q,F,{enumerable:!0,get:U[F]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(Q){if("object"==typeof window)return window}}(),__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U),__webpack_require__.r=Q=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},__webpack_require__(6953);var __webpack_exports__=__webpack_require__(9262)})();
